import{a as be,u as pe,b as he,j as e}from"./state-vendor-__gb9IU9.js";import{u as fe,r as c,L as Q}from"./react-vendor-QYi6USC3.js";import{u as ye,a as Y}from"./index-CFqXVpuW.js";import{P as J,X as y,Y as G,h as je,C as g,ak as b,w as j,x as U,D as ve,aA as Ne,au as H,at as _e,i as we,a4 as X}from"./ui-vendor-CuJPReAW.js";const ke=async p=>(await Y.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories",{params:{is_active:!0},headers:{Authorization:`Bearer ${p}`}})).data,Ce=async(p,f)=>(await Y.post("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products",f,{headers:{Authorization:`Bearer ${p}`,"Content-Type":"application/json"}})).data,Ie=()=>{var R,z;const p=fe(),f=be(),h=ye(s=>s.authentication_state.auth_token),[r,o]=c.useState({category_id:"",sku:"",product_name:"",description:null,key_features:null,specifications:null,price_per_unit:0,unit_of_measure:"",bulk_pricing:null,cost_price:null,stock_quantity:0,low_stock_threshold:10,expected_restock_date:null,images:null,primary_image_url:null,status:"active",is_featured:!1,tags:null,brand:null,dimensions:null,weight:null,material:null,compliance_certifications:null,warranty_information:null,minimum_order_quantity:1,maximum_order_quantity:null,available_delivery_methods:null,handling_time_days:1,searchable:!0,customer_type_availability:"all"}),[u,v]=c.useState([]),[l,N]=c.useState({}),[Z,_]=c.useState(!1),[ee,$]=c.useState(!1),[i,se]=c.useState({basic:!1,details:!1,pricing:!1,inventory:!1,images:!1,additional:!0,sales:!0,visibility:!0}),[w,D]=c.useState(""),[k,O]=c.useState(""),[C,T]=c.useState(""),[S,E]=c.useState(""),[P,B]=c.useState(""),[A,K]=c.useState(""),{data:re=[],isLoading:te}=pe({queryKey:["categories","active"],queryFn:()=>ke(h),enabled:!!h,staleTime:10*60*1e3,retry:1}),q=he({mutationFn:s=>Ce(h,s),onSuccess:()=>{f.invalidateQueries({queryKey:["supplier-products"]}),localStorage.removeItem("product_draft"),p("/supplier/products")},onError:s=>{var t,a;((a=(t=s.response)==null?void 0:t.data)==null?void 0:a.error)==="ValidationError"&&N(s.response.data.details||{})}});c.useEffect(()=>{const s=localStorage.getItem("product_draft");if(s)try{const t=JSON.parse(s);o(t.product_form),v(t.uploaded_image_urls||[]),_(!0)}catch(t){console.error("Failed to load draft:",t)}},[]),c.useEffect(()=>{const s=setInterval(()=>{(r.product_name||r.sku)&&(localStorage.setItem("product_draft",JSON.stringify({product_form:r,uploaded_image_urls:u})),_(!0),setTimeout(()=>_(!1),2e3))},3e4);return()=>clearInterval(s)},[r,u]);const d=(s,t)=>{o(a=>({...a,[s]:t})),l[s]&&N(a=>{const n={...a};return delete n[s],n})},m=(s,t)=>{const a=t===""?0:parseFloat(t);d(s,isNaN(a)?0:a)},ae=s=>{const t=s.target.files;!t||t.length===0||Array.from(t).forEach(a=>{const n=new FileReader;n.onloadend=()=>{const W=n.result;v(ge=>{const I=[...ge,W];return r.primary_image_url?o(F=>({...F,images:I})):o(F=>({...F,primary_image_url:W,images:I})),I})},n.readAsDataURL(a)})},le=s=>{v(t=>{const a=t.filter(n=>n!==s);return o(n=>({...n,images:a.length>0?a:null,primary_image_url:n.primary_image_url===s?a.length>0?a[0]:null:n.primary_image_url})),a})},ie=s=>{o(t=>({...t,primary_image_url:s}))},L=()=>{w.trim()&&(o(s=>({...s,key_features:[...s.key_features||[],w.trim()]})),D(""))},ne=s=>{o(t=>({...t,key_features:t.key_features?t.key_features.filter((a,n)=>n!==s):null}))},M=()=>{k.trim()&&(o(s=>({...s,tags:[...s.tags||[],k.trim()]})),O(""))},oe=s=>{o(t=>({...t,tags:t.tags?t.tags.filter((a,n)=>n!==s):null}))},V=()=>{C.trim()&&S.trim()&&(o(s=>({...s,specifications:{...s.specifications,[C.trim()]:S.trim()}})),T(""),E(""))},ce=s=>{o(t=>{const a={...t.specifications};return delete a[s],{...t,specifications:Object.keys(a).length>0?a:null}})},de=()=>{P.trim()&&A&&(o(s=>({...s,bulk_pricing:{...s.bulk_pricing,[P.trim()]:parseFloat(A)}})),B(""),K(""))},ue=s=>{o(t=>{const a={...t.bulk_pricing};return delete a[s],{...t,bulk_pricing:Object.keys(a).length>0?a:null}})},me=()=>{const s={};return r.category_id||(s.category_id="Category is required"),r.sku||(s.sku="SKU is required"),r.product_name||(s.product_name="Product name is required"),(!r.price_per_unit||r.price_per_unit<=0)&&(s.price_per_unit="Valid price is required"),r.unit_of_measure||(s.unit_of_measure="Unit of measure is required"),N(s),Object.keys(s).length===0},xe=async s=>{if(s.preventDefault(),!me()){window.scrollTo({top:0,behavior:"smooth"});return}const t={category_id:r.category_id,sku:r.sku,product_name:r.product_name,description:r.description,key_features:r.key_features,specifications:r.specifications,price_per_unit:r.price_per_unit,unit_of_measure:r.unit_of_measure,bulk_pricing:r.bulk_pricing,stock_quantity:r.stock_quantity,low_stock_threshold:r.low_stock_threshold,images:u.length>0?u:null,primary_image_url:r.primary_image_url,brand:r.brand,minimum_order_quantity:r.minimum_order_quantity,handling_time_days:r.handling_time_days};q.mutate(t)},x=s=>{se(t=>({...t,[s]:!t[s]}))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(J,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Product"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create a comprehensive product listing for your catalog"})]})]}),e.jsx(Q,{to:"/supplier/products",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:e.jsx(y,{className:"w-6 h-6"})})]}),Z&&e.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-3 flex items-center space-x-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Draft saved automatically"})]}),Object.keys(l).length>0&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(je,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-red-800",children:"Please fix the following errors:"}),e.jsx("ul",{className:"mt-2 text-sm text-red-700 space-y-1 list-disc list-inside",children:Object.entries(l).map(([s,t])=>e.jsx("li",{children:t},s))})]})]})})]}),e.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-blue-100 hover:to-indigo-100 transition-colors",onClick:()=>x("basic"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(J,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Required"})]}),i.basic?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.basic&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Category *"}),te?e.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded-lg"}):e.jsxs("select",{value:r.category_id,onChange:s=>d("category_id",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${l.category_id?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`,children:[e.jsx("option",{value:"",children:"Select a category"}),re.map(s=>e.jsx("option",{value:s.category_id,children:s.category_name},s.category_id))]}),l.category_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.category_id})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"SKU *"}),e.jsx("input",{type:"text",value:r.sku,onChange:s=>d("sku",s.target.value),placeholder:"e.g., LUM-2X4-8-SPF",className:`w-full px-4 py-3 rounded-lg border-2 ${l.sku?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`}),l.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.sku})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Brand"}),e.jsx("input",{type:"text",value:r.brand||"",onChange:s=>d("brand",s.target.value||null),placeholder:"e.g., DeWalt, Milwaukee",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{type:"text",value:r.product_name,onChange:s=>d("product_name",s.target.value),placeholder:"e.g., 2x4x8 SPF Lumber",className:`w-full px-4 py-3 rounded-lg border-2 ${l.product_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`}),l.product_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.product_name})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-purple-100 hover:to-pink-100 transition-colors",onClick:()=>x("details"),children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Details"}),i.details?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.details&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description||"",onChange:s=>d("description",s.target.value||null),rows:6,placeholder:"Detailed product description...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Key Features"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:w,onChange:s=>D(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),L()),placeholder:"Add a key feature...",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:e.jsx(j,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(R=r.key_features)==null?void 0:R.map((s,t)=>e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-3 py-2 flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-blue-900",children:s}),e.jsx("button",{type:"button",onClick:()=>ne(t),className:"text-blue-600 hover:text-blue-800",children:e.jsx(y,{className:"w-4 h-4"})})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Specifications"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:C,onChange:s=>T(s.target.value),placeholder:"Spec name (e.g., Material)",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("input",{type:"text",value:S,onChange:s=>E(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),V()),placeholder:"Value (e.g., Steel)",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("button",{type:"button",onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:e.jsx(j,{className:"w-5 h-5"})})]}),r.specifications&&Object.keys(r.specifications).length>0&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:Object.entries(r.specifications).map(([s,t])=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[s,":"]}),e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:String(t)})]}),e.jsx("button",{type:"button",onClick:()=>ce(s),className:"text-red-600 hover:text-red-800",children:e.jsx(U,{className:"w-4 h-4"})})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:k,onChange:s=>O(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),M()),placeholder:"Add a tag...",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:e.jsx(j,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(z=r.tags)==null?void 0:z.map((s,t)=>e.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg px-3 py-1 flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["#",s]}),e.jsx("button",{type:"button",onClick:()=>oe(t),className:"text-gray-500 hover:text-gray-700",children:e.jsx(y,{className:"w-3 h-3"})})]},t))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-green-100 hover:to-emerald-100 transition-colors",onClick:()=>x("pricing"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ve,{className:"w-5 h-5 text-green-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pricing Information"}),e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Required"})]}),i.pricing?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.pricing&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price per Unit *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:r.price_per_unit||"",onChange:s=>m("price_per_unit",s.target.value),placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${l.price_per_unit?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`})]}),l.price_per_unit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.price_per_unit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Unit of Measure *"}),e.jsx("input",{type:"text",value:r.unit_of_measure,onChange:s=>d("unit_of_measure",s.target.value),placeholder:"e.g., piece, bag, box",className:`w-full px-4 py-3 rounded-lg border-2 ${l.unit_of_measure?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`}),l.unit_of_measure&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.unit_of_measure})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cost Price (Your Cost)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:r.cost_price||"",onChange:s=>m("cost_price",s.target.value),placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional - for profit margin tracking"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bulk Pricing Tiers"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Offer discounts for larger quantities"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:P,onChange:s=>B(s.target.value),placeholder:"Tier (e.g., 10+, 50+)",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:A,onChange:s=>K(s.target.value),placeholder:"Price",className:"w-full pl-8 pr-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsx("button",{type:"button",onClick:de,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:e.jsx(j,{className:"w-5 h-5"})})]}),r.bulk_pricing&&Object.keys(r.bulk_pricing).length>0&&e.jsx("div",{className:"bg-green-50 rounded-lg p-4 space-y-2",children:Object.entries(r.bulk_pricing).map(([s,t])=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-green-200 last:border-0",children:[e.jsxs("span",{className:"text-sm font-medium text-green-900",children:[s," units"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-green-700",children:["$",t.toFixed(2)]}),e.jsx("button",{type:"button",onClick:()=>ue(s),className:"text-red-600 hover:text-red-800",children:e.jsx(U,{className:"w-4 h-4"})})]})]},s))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-amber-100 hover:to-orange-100 transition-colors",onClick:()=>x("inventory"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-amber-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Inventory Management"})]}),i.inventory?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.inventory&&e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Quantity"}),e.jsx("input",{type:"number",min:"0",value:r.stock_quantity||"",onChange:s=>m("stock_quantity",s.target.value),placeholder:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Low Stock Alert"}),e.jsx("input",{type:"number",min:"0",value:r.low_stock_threshold||"",onChange:s=>m("low_stock_threshold",s.target.value),placeholder:"10",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Alert when stock falls below this"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Handling Time (Days)"}),e.jsx("input",{type:"number",min:"1",value:r.handling_time_days||"",onChange:s=>m("handling_time_days",s.target.value),placeholder:"1",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-indigo-100 hover:to-purple-100 transition-colors",onClick:()=>x("images"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(H,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Images"})]}),i.images?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.images&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload Product Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[e.jsx(_e,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("span",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Click to upload"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:ae,className:"hidden"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, WEBP up to 5MB each"})]})]}),u.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Uploaded Images (",u.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map((s,t)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Product ${t+1}`,className:`w-full h-32 object-cover rounded-lg border-2 ${r.primary_image_url===s?"border-blue-500 ring-4 ring-blue-100":"border-gray-200"}`}),r.primary_image_url===s&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-md font-medium",children:"Primary"}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-opacity rounded-lg flex items-center justify-center space-x-2 opacity-0 group-hover:opacity-100",children:[r.primary_image_url!==s&&e.jsx("button",{type:"button",onClick:()=>ie(s),className:"bg-white text-gray-900 px-3 py-1 rounded-md text-xs font-medium hover:bg-gray-100 transition-colors",children:"Set Primary"}),e.jsx("button",{type:"button",onClick:()=>le(s),className:"bg-red-600 text-white p-2 rounded-md hover:bg-red-700 transition-colors",children:e.jsx(U,{className:"w-4 h-4"})})]})]},t))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-gray-100 hover:to-slate-100 transition-colors",onClick:()=>x("additional"),children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Additional Details"}),i.additional?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.additional&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Weight (lbs)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:r.weight||"",onChange:s=>m("weight",s.target.value),placeholder:"0.00",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Material"}),e.jsx("input",{type:"text",value:r.material||"",onChange:s=>d("material",s.target.value||null),placeholder:"e.g., Steel, Wood, Concrete",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Warranty Information"}),e.jsx("textarea",{value:r.warranty_information||"",onChange:s=>d("warranty_information",s.target.value||null),rows:3,placeholder:"Warranty details...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-teal-100 hover:to-cyan-100 transition-colors",onClick:()=>x("sales"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(we,{className:"w-5 h-5 text-teal-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sales Settings"})]}),i.sales?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.sales&&e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Minimum Order Quantity"}),e.jsx("input",{type:"number",min:"1",value:r.minimum_order_quantity||"",onChange:s=>m("minimum_order_quantity",s.target.value),placeholder:"1",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Maximum Order Quantity"}),e.jsx("input",{type:"number",min:"1",value:r.maximum_order_quantity||"",onChange:s=>m("maximum_order_quantity",s.target.value),placeholder:"No limit",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-rose-100 hover:to-pink-100 transition-colors",onClick:()=>x("visibility"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(X,{className:"w-5 h-5 text-rose-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Visibility & Status"})]}),i.visibility?e.jsx(g,{className:"w-5 h-5 text-gray-600"}):e.jsx(b,{className:"w-5 h-5 text-gray-600"})]}),!i.visibility&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Status"}),e.jsxs("select",{value:r.status,onChange:s=>d("status",s.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Available For"}),e.jsxs("select",{value:r.customer_type_availability,onChange:s=>d("customer_type_availability",s.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"all",children:"All Customers"}),e.jsx("option",{value:"retail",children:"Retail Only"}),e.jsx("option",{value:"trade",children:"Trade Only"})]})]})]}),e.jsxs("div",{className:"space-y-4 bg-gray-50 rounded-lg p-4",children:[e.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:"Featured Product"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured sections"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:r.is_featured,onChange:s=>d("is_featured",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:"Searchable"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Include in search results"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:r.searchable,onChange:s=>d("searchable",s.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx(Q,{to:"/supplier/products",className:"w-full sm:w-auto px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200 text-center",children:"Cancel"}),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full sm:w-auto space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{type:"button",onClick:()=>$(!0),className:"w-full sm:w-auto px-6 py-3 bg-purple-100 text-purple-700 rounded-lg font-medium hover:bg-purple-200 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(X,{className:"w-5 h-5"}),e.jsx("span",{children:"Preview"})]}),e.jsx("button",{type:"submit",disabled:q.isPending,className:"w-full sm:w-auto px-8 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:q.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Publishing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-5 h-5"}),e.jsx("span",{children:"Publish Product"})]})})]})]})})]}),ee&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Product Preview"}),e.jsx("button",{onClick:()=>$(!1),className:"text-gray-600 hover:text-gray-900",children:e.jsx(y,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[r.primary_image_url?e.jsx("img",{src:r.primary_image_url,alt:r.product_name,className:"w-full h-96 object-cover rounded-lg border-2 border-gray-200"}):e.jsx("div",{className:"w-full h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(H,{className:"w-16 h-16 text-gray-400"})}),u.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:u.slice(0,4).map((s,t)=>e.jsx("img",{src:s,alt:`Thumbnail ${t+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200"},t))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.product_name||"Product Name"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SKU: ",r.sku||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-600",children:["$",Number(r.price_per_unit||0).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["per ",r.unit_of_measure||"unit"]})]}),r.bulk_pricing&&Object.keys(r.bulk_pricing).length>0&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-semibold text-green-900 mb-2",children:"Volume Pricing"}),Object.entries(r.bulk_pricing).map(([s,t])=>e.jsxs("div",{className:"text-xs text-green-700 flex justify-between",children:[e.jsx("span",{children:s}),e.jsxs("span",{className:"font-medium",children:["$",t.toFixed(2),"/unit"]})]},s))]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Stock"}),e.jsxs("p",{className:"text-sm text-gray-700",children:[r.stock_quantity," units available"]})]}),r.key_features&&r.key_features.length>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Key Features"}),e.jsx("ul",{className:"space-y-1",children:r.key_features.map((s,t)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"â€¢"}),s]},t))})]}),r.description&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:r.description})]})]})]})})]})})]})})})};export{Ie as default};
