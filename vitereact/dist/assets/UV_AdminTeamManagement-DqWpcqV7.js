import{a as re,u as L,b as P,j as e}from"./state-vendor-__gb9IU9.js";import{e as ie,r as u}from"./react-vendor-QYi6USC3.js";import{u as Q,a as R}from"./index-CWN4_r_N.js";import{an as le,aY as ne,E,j as q,aS as V,i as de,f as z,S as ce,a0 as oe,h as M,ah as me,a4 as xe,x as ue,N as he,X as I}from"./ui-vendor-CuJPReAW.js";const T="https://urls-washer-articles-luke.trycloudflare.com",pe=async(m,i)=>{const h={user_type:"admin"};i&&(h.role_filter=i);const{data:n}=await R.get(`${T}/api/admin/users`,{params:h,headers:{Authorization:`Bearer ${m}`}}),c=n.users.map(a=>{var j,g;return{user_id:a.user_id,email:a.email,first_name:a.first_name,last_name:a.last_name,role:((j=a.admin)==null?void 0:j.role)||"support_admin",permissions:((g=a.admin)==null?void 0:g.permissions)||{},is_active:a.status==="active",last_login_date:a.last_login_date,created_at:a.created_at}}),l={};return c.forEach(a=>{l[a.role]=(l[a.role]||0)+1}),{admin_users:c,total_count:n.total||c.length,active_count:c.filter(a=>a.is_active).length,role_distribution:l}},ge=async()=>[{role_name:"super_admin",display_name:"Super Administrator",permissions:["*"],is_custom:!1},{role_name:"support_admin",display_name:"Support Administrator",permissions:["users.view","users.edit","orders.view","disputes.manage","support.manage"],is_custom:!1},{role_name:"finance_admin",display_name:"Finance Administrator",permissions:["financials.view","financials.edit","payouts.manage","orders.view"],is_custom:!1},{role_name:"content_admin",display_name:"Content Administrator",permissions:["content.moderate","products.view","reviews.moderate","suppliers.view"],is_custom:!1}],be=async(m,i)=>[{log_id:"1",admin_id:"admin_001",admin_name:"John Admin",action_type:"user_update",action_description:"Updated user permissions",affected_entity_type:"user",affected_entity_id:"user_123",timestamp:new Date().toISOString(),ip_address:"192.168.1.1"}],ye=async(m,i)=>{const h=Math.random().toString(36).slice(-12),n={email:i.email,password:h,user_type:"admin",first_name:i.first_name,last_name:i.last_name,status:i.is_active?"active":"inactive"},{data:c}=await R.post(`${T}/api/admin/users`,n,{headers:{Authorization:`Bearer ${m}`}});return c},K=async(m,i,h)=>{const{data:n}=await R.patch(`${T}/api/admin/users/${i}`,h,{headers:{Authorization:`Bearer ${m}`}});return n},we=()=>{const m=re(),[i,h]=ie(),n=Q(s=>s.authentication_state.auth_token),c=Q(s=>s.authentication_state.current_user),[l,a]=u.useState("team"),[j,g]=u.useState(!1),[B,v]=u.useState(!1),[O,N]=u.useState(!1),[w,Y]=u.useState(""),[$,_]=u.useState(null),A=i.get("role_filter")||void 0,D=i.get("activity_date_range")||"last_7_days",[r,x]=u.useState({user_id:null,email:"",first_name:"",last_name:"",role:"support_admin",permissions:{},is_active:!0,requires_password_change:!0}),[o,y]=u.useState({}),{data:d,isLoading:J,error:X}=L({queryKey:["admin-users",A],queryFn:()=>pe(n,A),enabled:!!n&&l==="team",staleTime:6e4}),{data:f,isLoading:G}=L({queryKey:["admin-roles"],queryFn:ge,enabled:l==="roles",staleTime:3e5}),{data:k,isLoading:H}=L({queryKey:["admin-activity-logs",D],queryFn:()=>be(n,{date_from:D==="last_7_days"?new Date(Date.now()-7*24*60*60*1e3).toISOString():void 0}),enabled:!!n&&l==="activity",staleTime:3e4}),C=P({mutationFn:s=>ye(n,s),onSuccess:()=>{m.invalidateQueries({queryKey:["admin-users"]}),g(!1),b(),alert("Admin user created successfully. Temporary password sent to email.")},onError:s=>{var t,p;alert(((p=(t=s.response)==null?void 0:t.data)==null?void 0:p.message)||"Failed to create admin user")}}),S=P({mutationFn:({userId:s,updates:t})=>K(n,s,t),onSuccess:()=>{m.invalidateQueries({queryKey:["admin-users"]}),v(!1),b()},onError:s=>{var t,p;alert(((p=(t=s.response)==null?void 0:t.data)==null?void 0:p.message)||"Failed to update permissions")}}),F=P({mutationFn:s=>K(n,s,{status:"inactive"}),onSuccess:()=>{m.invalidateQueries({queryKey:["admin-users"]}),N(!1),_(null)},onError:s=>{var t,p;alert(((p=(t=s.response)==null?void 0:t.data)==null?void 0:p.message)||"Failed to deactivate admin user")}}),W=()=>{const s={};if(r.email||(s.email="Email is required"),r.first_name||(s.first_name="First name is required"),r.last_name||(s.last_name="Last name is required"),r.role||(s.role="Role is required"),Object.keys(s).length>0){y(s);return}C.mutate(r)},Z=s=>{x({user_id:s.user_id,email:s.email,first_name:s.first_name,last_name:s.last_name,role:s.role,permissions:s.permissions,is_active:s.is_active,requires_password_change:!1}),v(!0)},ee=()=>{r.user_id&&S.mutate({userId:r.user_id,updates:{status:r.is_active?"active":"inactive"}})},se=s=>{if(s===(c==null?void 0:c.user_id)){alert("You cannot deactivate your own account");return}_(s),N(!0)},te=()=>{$&&F.mutate($)},b=()=>{x({user_id:null,email:"",first_name:"",last_name:"",role:"support_admin",permissions:{},is_active:!0,requires_password_change:!0}),y({})},ae=s=>{s?i.set("role_filter",s):i.delete("role_filter"),h(i)},U=u.useMemo(()=>d!=null&&d.admin_users?d.admin_users.filter(s=>{const t=w.toLowerCase();return s.email.toLowerCase().includes(t)||s.first_name.toLowerCase().includes(t)||s.last_name.toLowerCase().includes(t)}):[],[d,w]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Team Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage administrative users, roles, permissions, and monitor team activity"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>alert("Export feature would generate PDF report"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Export Report"]}),e.jsxs("button",{onClick:()=>{b(),g(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Add New Admin"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsxs("button",{onClick:()=>a("team"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${l==="team"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(E,{className:"w-4 h-4 inline-block mr-2"}),"Team Members"]}),e.jsxs("button",{onClick:()=>a("roles"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${l==="roles"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(q,{className:"w-4 h-4 inline-block mr-2"}),"Roles & Permissions"]}),e.jsxs("button",{onClick:()=>a("activity"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${l==="activity"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(V,{className:"w-4 h-4 inline-block mr-2"}),"Activity Logs"]}),e.jsxs("button",{onClick:()=>a("security"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${l==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(de,{className:"w-4 h-4 inline-block mr-2"}),"Security Settings"]})]})})}),l==="team"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Admins"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(d==null?void 0:d.total_count)||0})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(E,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Admins"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:(d==null?void 0:d.active_count)||0})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(z,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Roles"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(f==null?void 0:f.length)||4})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(q,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search admin users by name or email...",value:w,onChange:s=>Y(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:A||"",onChange:s=>ae(s.target.value||null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"support_admin",children:"Support Admin"}),e.jsx("option",{value:"finance_admin",children:"Finance Admin"}),e.jsx("option",{value:"content_admin",children:"Content Admin"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:J?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading admin users..."})]}):X?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(M,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600",children:"Failed to load admin users"})]}):U.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(E,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No admin users found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-blue-600 font-semibold text-sm",children:[s.first_name.charAt(0),s.last_name.charAt(0)]})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[s.first_name," ",s.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.role==="super_admin"?"bg-purple-100 text-purple-800":s.role==="support_admin"?"bg-blue-100 text-blue-800":s.role==="finance_admin"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.role.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.is_active?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.last_login_date?new Date(s.last_login_date).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>Z(s),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded transition-colors",title:"Edit Permissions",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>alert(`View activity for ${s.first_name}`),className:"text-gray-600 hover:text-gray-900 p-2 hover:bg-gray-50 rounded transition-colors",title:"View Activity",children:e.jsx(xe,{className:"w-4 h-4"})}),s.user_id!==(c==null?void 0:c.user_id)&&e.jsx("button",{onClick:()=>se(s.user_id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded transition-colors",title:"Deactivate User",children:e.jsx(ue,{className:"w-4 h-4"})})]})})]},s.user_id))})]})})})]}),l==="roles"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Role Definitions"}),G?e.jsx("div",{className:"py-12 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f==null?void 0:f.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.display_name}),e.jsx(q,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Permissions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.permissions.map(t=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:t},t))})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(d==null?void 0:d.role_distribution[s.role_name])||0," admin(s) with this role"]})]},s.role_name))})]})}),l==="activity"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Administrative Activity Logs"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_90_days",children:"Last 90 Days"}),e.jsx("option",{value:"all_time",children:"All Time"})]})]}),H?e.jsx("div",{className:"py-12 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):k&&k.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(s.timestamp).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.admin_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:s.action_type})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:s.action_description})]},s.log_id))})]})}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(V,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No activity logs found"})]})]})}),l==="security"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Policies"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Password Policy"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Minimum Password Length"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Require minimum characters for passwords"})]}),e.jsx("input",{type:"number",min:"8",max:"32",defaultValue:"12",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password Expiration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Days before password must be changed"})]}),e.jsx("input",{type:"number",min:"30",max:"365",defaultValue:"90",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Require Special Characters"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enforce special character requirement"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Session Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Session Timeout"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Minutes of inactivity before auto-logout"})]}),e.jsx("input",{type:"number",min:"5",max:"120",defaultValue:"30",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Concurrent Session Limit"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Maximum simultaneous logins per admin"})]}),e.jsx("input",{type:"number",min:"1",max:"10",defaultValue:"3",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enforce 2FA for All Admins"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for all administrative accounts"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enforce 2FA for Super Admins"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mandatory 2FA for super administrator role"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,disabled:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded opacity-50 cursor-not-allowed"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx("button",{onClick:()=>alert("Security settings would be saved"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Save Security Settings"})})]})]})})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Admin User"}),e.jsx("button",{onClick:()=>{g(!1),b()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(I,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{id:"email",type:"email",value:r.email,onChange:s=>{x(t=>({...t,email:s.target.value})),y(t=>({...t,email:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.email?"border-red-300":"border-gray-300"}`,placeholder:"admin@buildeasy.com"}),o.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{id:"first_name",type:"text",value:r.first_name,onChange:s=>{x(t=>({...t,first_name:s.target.value})),y(t=>({...t,first_name:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.first_name?"border-red-300":"border-gray-300"}`}),o.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{id:"last_name",type:"text",value:r.last_name,onChange:s=>{x(t=>({...t,last_name:s.target.value})),y(t=>({...t,last_name:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.last_name?"border-red-300":"border-gray-300"}`}),o.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.last_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Role *"}),e.jsxs("select",{id:"role",value:r.role,onChange:s=>{x(t=>({...t,role:s.target.value})),y(t=>({...t,role:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${o.role?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select a role"}),e.jsx("option",{value:"support_admin",children:"Support Administrator"}),e.jsx("option",{value:"finance_admin",children:"Finance Administrator"}),e.jsx("option",{value:"content_admin",children:"Content Administrator"}),e.jsx("option",{value:"super_admin",children:"Super Administrator"})]}),o.role&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.role}),r.role==="super_admin"&&e.jsx("div",{className:"mt-2 p-3 bg-amber-50 border border-amber-200 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(M,{className:"w-5 h-5 text-amber-500 mr-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Super Administrator role grants full platform access. Use with caution."})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:r.is_active,onChange:s=>x(t=>({...t,is_active:s.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Active (user can log in immediately)"})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Note:"})," A temporary password will be generated and sent to the admin's email. They will be required to change it on first login."]})})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{g(!1),b()},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:W,disabled:C.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:C.isPending?"Creating...":"Create Admin User"})]})]})}),B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Admin Permissions"}),e.jsx("button",{onClick:()=>{v(!1),b()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(I,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"User:"})," ",r.first_name," ",r.last_name]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Role"}),e.jsxs("select",{value:r.role,onChange:s=>x(t=>({...t,role:s.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"support_admin",children:"Support Administrator"}),e.jsx("option",{value:"finance_admin",children:"Finance Administrator"}),e.jsx("option",{value:"content_admin",children:"Content Administrator"}),e.jsx("option",{value:"super_admin",children:"Super Administrator"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{id:"edit_is_active",type:"checkbox",checked:r.is_active,onChange:s=>x(t=>({...t,is_active:s.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"edit_is_active",className:"text-sm font-medium text-gray-700",children:"Account is active"})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{v(!1),b()},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:ee,disabled:S.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:S.isPending?"Saving...":"Save Changes"})]})]})}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 mx-auto mb-4",children:e.jsx(M,{className:"w-6 h-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Deactivate Admin User"}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Are you sure you want to deactivate this admin user? They will lose access to the admin panel immediately."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{N(!1),_(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:te,disabled:F.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?"Deactivating...":"Deactivate User"})]})]})})})]})};export{we as default};
