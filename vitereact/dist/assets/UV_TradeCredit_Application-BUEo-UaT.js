import{u as V,b as A,j as e}from"./state-vendor-__gb9IU9.js";import{u as W,r as m}from"./react-vendor-QYi6USC3.js";import{u as B,a as k}from"./index-CWN4_r_N.js";import{f as F,h as T,as as R,U as H,D as P,ax as E,F as K,at as Q}from"./ui-vendor-CuJPReAW.js";const Z=async l=>{try{return(await k.get("https://urls-washer-articles-luke.trycloudflare.com/api/trade-credit/applications/me",{headers:{Authorization:`Bearer ${l}`}})).data.existing_application||null}catch{return null}},ee=async(l,c,u)=>{const i=new FormData;i.append("file",l),i.append("document_type",c),i.append("application_context","trade_credit_application");const p=await k.post("https://urls-washer-articles-luke.trycloudflare.com/api/uploads/trade-credit-documents",i,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"multipart/form-data"}});return{document_type:c,file_name:l.name,file_url:p.data.file_url,upload_date:new Date().toISOString()}},se=async(l,c,u,i,p)=>(await k.post("https://urls-washer-articles-luke.trycloudflare.com/api/trade-credit/applications",{customer_id:i,business_name:l.business_name,business_registration_number:l.business_registration_number,business_type:l.business_type,annual_revenue:l.annual_revenue,years_in_business:l.years_in_business,requested_credit_limit:l.requested_credit_limit,primary_contact_name:l.primary_contact_name,primary_contact_email:l.primary_contact_email,primary_contact_phone:l.primary_contact_phone,business_address:l.business_address,tax_identification_number:l.tax_identification_number,bank_name:l.bank_name,bank_account_type:l.bank_account_type,verification_documents:c,trade_references:l.trade_references,credit_check_consent:u},{headers:{Authorization:`Bearer ${p}`}})).data,ie=()=>{const l=W(),c=B(s=>s.authentication_state.customer_profile),u=B(s=>s.authentication_state.auth_token),[i,p]=m.useState(1),[,w]=m.useState(null),[j,U]=m.useState(!1),[C,$]=m.useState(null),[n,h]=m.useState({business_name:"",business_registration_number:"",business_type:"",annual_revenue:0,years_in_business:0,requested_credit_limit:0,primary_contact_name:"",primary_contact_email:"",primary_contact_phone:"",business_address:"",tax_identification_number:"",bank_name:"",bank_account_type:"",trade_references:[]}),[f,I]=m.useState([]),[t,g]=m.useState({}),[L,N]=m.useState({}),{data:_}=V({queryKey:["existing-trade-credit-application"],queryFn:()=>Z(u||""),enabled:!!u,staleTime:0,retry:!1});m.useEffect(()=>{_&&(w(_.application_id),h(_.application_data),(_.status==="pending"||_.status==="under_review")&&l("/trade-credit"))},[_,l]),m.useEffect(()=>{c&&c.account_type!=="trade"&&l("/dashboard"),(c==null?void 0:c.trade_credit_status)==="approved"&&l("/trade-credit")},[c,l]);const D=A({mutationFn:({file:s,documentType:r})=>ee(s,r,u||""),onMutate:({documentType:s})=>{N(r=>({...r,[s]:{progress:0,status:"uploading"}}))},onSuccess:(s,r)=>{I(a=>[...a,s]),N(a=>({...a,[r.documentType]:{progress:100,status:"success"}}))},onError:(s,r)=>{N(a=>({...a,[r.documentType]:{progress:0,status:"error"}}))}}),v=A({mutationFn:()=>se(n,f,j,(c==null?void 0:c.customer_id)||"",u||""),onSuccess:()=>{l("/trade-credit")},onError:s=>{var r,a;$(((a=(r=s.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to submit application. Please try again.")}}),d=m.useCallback((s,r)=>{h(a=>({...a,[s]:r})),t[s]&&g(a=>{const o={...a};return delete o[s],o})},[t]),S=()=>{h(s=>({...s,trade_references:[...s.trade_references,{company_name:"",contact_name:"",phone_number:"",relationship_years:0}]}))},y=(s,r,a)=>{h(o=>({...o,trade_references:o.trade_references.map((x,b)=>b===s?{...x,[r]:a}:x)}))},X=s=>{h(r=>({...r,trade_references:r.trade_references.filter((a,o)=>o!==s)}))},M=async(s,r)=>{var x;const a=(x=s.target.files)==null?void 0:x[0];if(!a)return;if(a.size>5*1024*1024){g(b=>({...b,[r]:"File size must be less than 5MB"}));return}if(!["application/pdf","image/jpeg","image/png"].includes(a.type)){g(b=>({...b,[r]:"Only PDF, JPG, and PNG files are allowed"}));return}try{await D.mutateAsync({file:a,documentType:r})}catch(b){console.error("Upload error:",b)}},q=()=>{const s={};if(i===1&&(n.business_name.trim()||(s.business_name="Business name is required"),n.business_registration_number.trim()||(s.business_registration_number="Registration number is required"),n.business_type||(s.business_type="Business type is required"),n.years_in_business<1&&(s.years_in_business="Years in business must be at least 1"),n.annual_revenue<=0&&(s.annual_revenue="Annual revenue is required"),n.requested_credit_limit<=0&&(s.requested_credit_limit="Requested credit limit is required")),i===2&&(n.primary_contact_name.trim()||(s.primary_contact_name="Contact name is required"),n.primary_contact_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.primary_contact_email)||(s.primary_contact_email="Invalid email format"):s.primary_contact_email="Contact email is required",n.primary_contact_phone.trim()||(s.primary_contact_phone="Contact phone is required"),n.business_address.trim()||(s.business_address="Business address is required"),n.tax_identification_number.trim()||(s.tax_identification_number="Tax ID is required")),i===3&&(n.bank_name.trim()||(s.bank_name="Bank name is required"),n.bank_account_type||(s.bank_account_type="Account type is required"),n.trade_references.length<2&&(s.trade_references="At least 2 trade references are required"),n.trade_references.forEach((r,a)=>{r.company_name.trim()||(s[`ref_${a}_company`]="Company name is required"),r.contact_name.trim()||(s[`ref_${a}_contact`]="Contact name is required"),r.phone_number.trim()||(s[`ref_${a}_phone`]="Phone number is required"),r.relationship_years<1&&(s[`ref_${a}_years`]="Years must be at least 1")})),i===4){const r=["business_registration","tax_id","bank_statement","financial_statements"],a=f.map(o=>o.document_type);r.forEach(o=>{a.includes(o)||(s[o]="This document is required")}),j||(s.credit_check_consent="You must consent to credit check")}return g(s),Object.keys(s).length===0},Y=()=>{q()&&i<4&&(p(s=>s+1),window.scrollTo({top:0,behavior:"smooth"}))},z=()=>{i>1&&(p(s=>s-1),window.scrollTo({top:0,behavior:"smooth"}))},G=async s=>{s.preventDefault(),q()&&($(null),await v.mutateAsync())},J=[{type:"business_registration",label:"Business Registration Certificate",icon:R},{type:"tax_id",label:"Tax Identification Document",icon:K},{type:"bank_statement",label:"Recent Bank Statement (Last 3 months)",icon:P},{type:"financial_statements",label:"Financial Statements (Last year)",icon:E}],O=s=>f.some(r=>r.document_type===s);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 py-8 lg:py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"Apply for Trade Credit"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Complete this application to access net payment terms and flexible credit lines"})]}),e.jsxs("div",{className:"mb-8 lg:mb-12",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all ${i>s?"bg-green-600 border-green-600":i===s?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:i>s?e.jsx(F,{className:"w-5 h-5 text-white"}):e.jsx("span",{className:`text-sm font-semibold ${i===s?"text-white":"text-gray-400"}`,children:s})}),s<4&&e.jsx("div",{className:`flex-1 h-1 mx-2 ${i>s?"bg-green-600":"bg-gray-200"}`})]},s))}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsx("span",{className:`text-xs font-medium ${i===1?"text-blue-600":"text-gray-500"}`,children:"Business Info"}),e.jsx("span",{className:`text-xs font-medium ${i===2?"text-blue-600":"text-gray-500"}`,children:"Contact Details"}),e.jsx("span",{className:`text-xs font-medium ${i===3?"text-blue-600":"text-gray-500"}`,children:"Banking & Refs"}),e.jsx("span",{className:`text-xs font-medium ${i===4?"text-blue-600":"text-gray-500"}`,children:"Documents"})]})]}),C&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(T,{className:"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Application Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:C})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("form",{onSubmit:G,children:[i===1&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(R,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Information"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Legal Business Name *"}),e.jsx("input",{type:"text",id:"business_name",value:n.business_name,onChange:s=>d("business_name",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.business_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., Acme Construction LLC"}),t.business_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.business_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_registration_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Registration Number *"}),e.jsx("input",{type:"text",id:"business_registration_number",value:n.business_registration_number,onChange:s=>d("business_registration_number",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.business_registration_number?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., 123456789"}),t.business_registration_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.business_registration_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsxs("select",{id:"business_type",value:n.business_type,onChange:s=>d("business_type",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.business_type?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,children:[e.jsx("option",{value:"",children:"Select business type"}),e.jsx("option",{value:"Corporation",children:"Corporation"}),e.jsx("option",{value:"LLC",children:"LLC"}),e.jsx("option",{value:"Partnership",children:"Partnership"}),e.jsx("option",{value:"Sole Proprietorship",children:"Sole Proprietorship"})]}),t.business_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.business_type})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"years_in_business",className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Business *"}),e.jsx("input",{type:"number",id:"years_in_business",min:"1",value:n.years_in_business||"",onChange:s=>d("years_in_business",Number(s.target.value)),className:`w-full px-4 py-3 rounded-lg border-2 ${t.years_in_business?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., 5"}),t.years_in_business&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.years_in_business})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"annual_revenue",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Revenue (USD) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"annual_revenue",min:"0",step:"1000",value:n.annual_revenue||"",onChange:s=>d("annual_revenue",Number(s.target.value)),className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${t.annual_revenue?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"500000"})]}),t.annual_revenue&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.annual_revenue})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"requested_credit_limit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested Credit Limit (USD) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"requested_credit_limit",min:"0",step:"1000",value:n.requested_credit_limit||"",onChange:s=>d("requested_credit_limit",Number(s.target.value)),className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${t.requested_credit_limit?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"50000"})]}),t.requested_credit_limit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.requested_credit_limit}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Typical approval ranges: $10,000 - $500,000 based on financials"})]})]})]}),i===2&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(H,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Information"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary_contact_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Contact Name *"}),e.jsx("input",{type:"text",id:"primary_contact_name",value:n.primary_contact_name,onChange:s=>d("primary_contact_name",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.primary_contact_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"John Smith"}),t.primary_contact_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.primary_contact_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary_contact_email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),e.jsx("input",{type:"email",id:"primary_contact_email",value:n.primary_contact_email,onChange:s=>d("primary_contact_email",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.primary_contact_email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"john@acmeconstruction.com"}),t.primary_contact_email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.primary_contact_email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary_contact_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),e.jsx("input",{type:"tel",id:"primary_contact_phone",value:n.primary_contact_phone,onChange:s=>d("primary_contact_phone",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.primary_contact_phone?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"(555) 123-4567"}),t.primary_contact_phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.primary_contact_phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address *"}),e.jsx("textarea",{id:"business_address",rows:3,value:n.business_address,onChange:s=>d("business_address",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.business_address?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"123 Main Street, Suite 100, Austin, TX 78701"}),t.business_address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.business_address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_identification_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Identification Number (EIN/SSN) *"}),e.jsx("input",{type:"text",id:"tax_identification_number",value:n.tax_identification_number,onChange:s=>d("tax_identification_number",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.tax_identification_number?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"XX-XXXXXXX"}),t.tax_identification_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.tax_identification_number})]})]})]}),i===3&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(P,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Banking & Trade References"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Bank Account Information"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name *"}),e.jsx("input",{type:"text",id:"bank_name",value:n.bank_name,onChange:s=>d("bank_name",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.bank_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., Chase Bank"}),t.bank_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.bank_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_account_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type *"}),e.jsxs("select",{id:"bank_account_type",value:n.bank_account_type,onChange:s=>d("bank_account_type",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${t.bank_account_type?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,children:[e.jsx("option",{value:"",children:"Select account type"}),e.jsx("option",{value:"checking",children:"Business Checking"}),e.jsx("option",{value:"savings",children:"Business Savings"})]}),t.bank_account_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.bank_account_type})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Trade References (Minimum 2)"}),e.jsx("button",{type:"button",onClick:S,className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"+ Add Reference"})]}),t.trade_references&&e.jsx("p",{className:"text-sm text-red-600",children:t.trade_references}),n.trade_references.map((s,r)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700",children:["Reference ",r+1]}),e.jsx("button",{type:"button",onClick:()=>X(r),className:"text-sm text-red-600 hover:text-red-700 transition-colors",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),e.jsx("input",{type:"text",value:s.company_name,onChange:a=>y(r,"company_name",a.target.value),className:`w-full px-3 py-2 rounded-lg border-2 ${t[`ref_${r}_company`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"ABC Supply Co"}),t[`ref_${r}_company`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:t[`ref_${r}_company`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),e.jsx("input",{type:"text",value:s.contact_name,onChange:a=>y(r,"contact_name",a.target.value),className:`w-full px-3 py-2 rounded-lg border-2 ${t[`ref_${r}_contact`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"Jane Doe"}),t[`ref_${r}_contact`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:t[`ref_${r}_contact`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:s.phone_number,onChange:a=>y(r,"phone_number",a.target.value),className:`w-full px-3 py-2 rounded-lg border-2 ${t[`ref_${r}_phone`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"(555) 123-4567"}),t[`ref_${r}_phone`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:t[`ref_${r}_phone`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years of Relationship *"}),e.jsx("input",{type:"number",min:"1",value:s.relationship_years||"",onChange:a=>y(r,"relationship_years",Number(a.target.value)),className:`w-full px-3 py-2 rounded-lg border-2 ${t[`ref_${r}_years`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"3"}),t[`ref_${r}_years`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:t[`ref_${r}_years`]})]})]})]},r)),n.trade_references.length===0&&e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:"No trade references added yet"}),e.jsx("button",{type:"button",onClick:S,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Add Your First Reference"})]})]})]})]}),i===4&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(E,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Required Documents"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Upload the following documents to verify your business and financial information. All documents must be in PDF, JPG, or PNG format and under 5MB."}),e.jsx("div",{className:"space-y-4",children:J.map(s=>{const r=O(s.type),a=L[s.type],o=s.icon;return e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${r?"border-green-300 bg-green-50":t[s.type]?"border-red-300 bg-red-50":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start flex-1",children:[e.jsx(o,{className:`w-5 h-5 mt-0.5 mr-3 flex-shrink-0 ${r?"text-green-600":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:s.label}),r&&e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(F,{className:"w-4 h-4 mr-1"}),"Uploaded successfully"]}),t[s.type]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:t[s.type]}),(a==null?void 0:a.status)==="uploading"&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${a.progress}%`}})}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Uploading..."})]})]})]}),!r&&e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:x=>M(x,s.type),className:"hidden",disabled:(a==null?void 0:a.status)==="uploading"}),e.jsxs("div",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-sm font-medium",children:[e.jsx(Q,{className:"w-4 h-4 inline mr-2"}),"Upload"]})]})]})},s.type)})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:s=>{U(s.target.checked),t.credit_check_consent&&g(r=>{const a={...r};return delete a.credit_check_consent,a})},className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 leading-relaxed",children:"I authorize BuildEasy to conduct a credit check and verify the financial information provided. I understand this is necessary for processing my trade credit application. *"})]}),t.credit_check_consent&&e.jsx("p",{className:"mt-2 text-sm text-red-600 ml-8",children:t.credit_check_consent})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Business Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:n.business_name||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Business Type"}),e.jsx("p",{className:"font-medium text-gray-900",children:n.business_type||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Annual Revenue"}),e.jsxs("p",{className:"font-medium text-gray-900",children:["$",n.annual_revenue.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Requested Credit Limit"}),e.jsxs("p",{className:"font-medium text-gray-900",children:["$",n.requested_credit_limit.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Years in Business"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[n.years_in_business," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Trade References"}),e.jsx("p",{className:"font-medium text-gray-900",children:n.trade_references.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Documents Uploaded"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[f.length," / 4"]})]})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 lg:px-8 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[i>1?e.jsx("button",{type:"button",onClick:z,className:"px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium",children:"Previous"}):e.jsx("div",{}),i<4?e.jsx("button",{type:"button",onClick:Y,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium shadow-lg hover:shadow-xl",children:"Next Step"}):e.jsx("button",{type:"submit",disabled:v.isPending,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:v.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Application..."]}):"Submit Application"})]})]})}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(T,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Application Review Process"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1 leading-relaxed",children:"Your application will be reviewed within 2-3 business days. We may contact you for additional information. You'll receive email and in-app notifications about your application status."})]})]})})]})})})};export{ie as default};
