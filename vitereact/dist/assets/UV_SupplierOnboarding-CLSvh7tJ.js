import{a as J,u as Z,b as O,j as e}from"./state-vendor-__gb9IU9.js";import{u as ee,r as u}from"./react-vendor-QYi6USC3.js";import{u as S,a as F}from"./index-CWN4_r_N.js";import{at as P,a3 as se,a4 as te,X as re,f as D,W as ae,K as ne,P as le,al as oe,F as E,as as M}from"./ui-vendor-CuJPReAW.js";const B="https://urls-washer-articles-luke.trycloudflare.com",q=c=>({headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}}),ie=async c=>{const{data:y}=await F.get(`${B}/suppliers/me`,q(c));return y},ce=async({token:c,updates:y})=>{const{data:x}=await F.patch(`${B}/suppliers/me`,y,q(c));return x},de=async({token:c,product:y})=>{const{data:x}=await F.post(`${B}/suppliers/me/products`,y,q(c));return x},be=()=>{const c=ee(),y=J(),x=S(s=>s.authentication_state.auth_token),v=S(s=>s.authentication_state.authentication_status.is_authenticated),w=S(s=>s.authentication_state.authentication_status.user_type),[n,f]=u.useState(1),[A,R]=u.useState(0),[r,l]=u.useState({}),[k,U]=u.useState(!1),[a,d]=u.useState({supplier_id:null,user_id:null,business_name:"",business_registration_number:"",business_type:"",business_description:"",logo_url:null,cover_photo_url:null,verification_status:"pending",operating_hours:null,service_areas:null,return_policy:null,shipping_policy:null,minimum_order_value:null,payout_frequency:"monthly",commission_rate:0,subscription_plan:"basic",onboarding_completed:!1}),[$,I]=u.useState({business_registration:null,tax_id:null,proof_of_address:null,business_license:null,insurance_certificate:null}),[m,N]=u.useState({account_holder_name:"",account_number:"",routing_number:"",bank_name:""}),[j,L]=u.useState([]),[i,p]=u.useState({category_id:"",sku:"",product_name:"",description:"",price_per_unit:0,unit_of_measure:"",stock_quantity:0});u.useEffect(()=>{(!v||w!=="supplier")&&c("/login")},[v,w,c]);const{data:b,isLoading:T}=Z({queryKey:["currentSupplier",x],queryFn:()=>ie(x),enabled:!!x&&v&&w==="supplier",retry:1,staleTime:6e4});u.useEffect(()=>{if(b){if(b.onboarding_completed){c("/supplier/dashboard");return}d(t=>({...t,...b}));let s=1;b.business_name&&b.business_description&&(s=2),b.logo_url&&(s=3),b.operating_hours&&(s=4),f(s)}},[b,c]);const h=O({mutationFn:s=>ce({token:x,updates:s}),onSuccess:s=>{y.invalidateQueries({queryKey:["currentSupplier"]}),d(t=>({...t,...s}))},onError:s=>{console.error("Failed to update supplier:",s),l(t=>{var o,g;return{...t,api:((g=(o=s.response)==null?void 0:o.data)==null?void 0:g.message)||"Failed to update profile. Please try again."}})}}),C=O({mutationFn:s=>de({token:x,product:s}),onSuccess:()=>{p({category_id:"",sku:"",product_name:"",description:"",price_per_unit:0,unit_of_measure:"",stock_quantity:0})},onError:s=>{console.error("Failed to create product:",s),l(t=>{var o,g;return{...t,product:((g=(o=s.response)==null?void 0:o.data)==null?void 0:g.message)||"Failed to create product. Please try again."}})}});u.useEffect(()=>{const t=n/7*100;R(Math.round(t))},[n]);const V=()=>{const s={};return(!a.business_name||a.business_name.trim().length<1)&&(s.business_name="Business name is required"),(!a.business_description||a.business_description.trim().length<200)&&(s.business_description="Business description must be at least 200 characters"),a.business_type||(s.business_type="Business type is required"),l(s),Object.keys(s).length===0},z=()=>{const s={};return m.account_holder_name||(s.account_holder_name="Account holder name is required"),m.account_number||(s.account_number="Account number is required"),(!m.routing_number||m.routing_number.length!==9)&&(s.routing_number="Valid 9-digit routing number is required"),m.bank_name||(s.bank_name="Bank name is required"),l(s),Object.keys(s).length===0},H=()=>!0,K=async()=>{l({});let s=!0;if(n===1&&(s=V()),n===5&&(s=z()),n===6&&(s=H()),!!s)try{n===1?await h.mutateAsync({business_name:a.business_name,business_description:a.business_description,business_type:a.business_type}):n===2?await h.mutateAsync({logo_url:a.logo_url,cover_photo_url:a.cover_photo_url}):n===3&&await h.mutateAsync({operating_hours:a.operating_hours,service_areas:a.service_areas,return_policy:a.return_policy,shipping_policy:a.shipping_policy,minimum_order_value:a.minimum_order_value}),f(t=>Math.min(t+1,7))}catch(t){console.error("Failed to save step:",t)}},W=()=>{f(s=>Math.max(s-1,1)),l({})},Q=async()=>{try{await h.mutateAsync({onboarding_completed:!0}),c("/supplier/dashboard")}catch(s){console.error("Failed to complete onboarding:",s),l({complete:"Failed to complete onboarding. Please try again."})}},G=async()=>{const s={};if(i.category_id||(s.category_id="Category is required"),i.sku||(s.sku="SKU is required"),i.product_name||(s.product_name="Product name is required"),i.price_per_unit<=0&&(s.price_per_unit="Price must be greater than 0"),i.unit_of_measure||(s.unit_of_measure="Unit of measure is required"),Object.keys(s).length>0){l(s);return}try{await C.mutateAsync(i),L(t=>[...t,i]),l({})}catch(t){console.error("Failed to add product:",t)}},Y=s=>({1:"Business Profile",2:"Logo & Branding",3:"Operating Details",4:"Verification Documents",5:"Bank Account Setup",6:"Initial Product Catalog",7:"Review & Complete"})[s]||"",_=s=>{const o={1:M,2:P,3:E,4:E,5:oe,6:le,7:D}[s]||M;return e.jsx(o,{className:"w-6 h-6"})};return T?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your profile..."})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supplier Onboarding"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Set up your shop to start selling on BuildEasy"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[A,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${A}%`}})}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:[1,2,3,4,5,6,7].map(s=>e.jsxs("div",{className:`flex items-center ${s===n?"text-blue-600 font-semibold":s<n?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s===n?"bg-blue-600 text-white":s<n?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:s<n?"âœ“":s}),s<7&&e.jsx("div",{className:`w-12 h-1 mx-2 ${s<n?"bg-green-600":"bg-gray-200"}`})]},s))}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",n," of 7: ",e.jsx("span",{className:"font-semibold",children:Y(n)})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[n===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_(1),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Profile"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"business_name",value:a.business_name,onChange:s=>{d(t=>({...t,business_name:s.target.value})),l(t=>({...t,business_name:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${r.business_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., Acme Building Supply Co."}),r.business_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.business_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"business_type",value:a.business_type,onChange:s=>{d(t=>({...t,business_type:s.target.value})),l(t=>({...t,business_type:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${r.business_type?"border-red-500":"border-gray-200 focus:border-blue-500"}`,children:[e.jsx("option",{value:"",children:"Select business type"}),e.jsx("option",{value:"Corporation",children:"Corporation"}),e.jsx("option",{value:"LLC",children:"LLC"}),e.jsx("option",{value:"Partnership",children:"Partnership"}),e.jsx("option",{value:"Sole Proprietorship",children:"Sole Proprietorship"})]}),r.business_type&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.business_type})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_description",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Description ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-gray-500 font-normal ml-2",children:["(",a.business_description.length,"/2000 characters, min 200)"]})]}),e.jsx("textarea",{id:"business_description",rows:6,value:a.business_description,onChange:s=>{d(t=>({...t,business_description:s.target.value})),l(t=>({...t,business_description:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${r.business_description?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Describe your business, what you specialize in, your service area, and what makes you unique..."}),r.business_description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.business_description}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Tell buyers about your business, your experience, and what sets you apart."})]})]}),n===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_(2),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Logo & Branding"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Optional:"})," Add your logo and cover photo now, or skip and add them later from your settings."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Logo (Optional)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:a.logo_url?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:a.logo_url,alt:"Business logo",className:"w-32 h-32 object-cover rounded-full mx-auto border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>d(s=>({...s,logo_url:null})),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove Logo"})]}):e.jsxs("div",{children:[e.jsx(P,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Upload your business logo"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Square format recommended, max 2MB"}),e.jsx("button",{type:"button",onClick:()=>{d(s=>({...s,logo_url:"https://via.placeholder.com/200"}))},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Photo (Optional)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:a.cover_photo_url?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:a.cover_photo_url,alt:"Cover photo",className:"w-full h-48 object-cover rounded-lg shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>d(s=>({...s,cover_photo_url:null})),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove Cover Photo"})]}):e.jsxs("div",{children:[e.jsx(P,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Upload a cover photo for your shop"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Wide format (1200x300 recommended), max 5MB"}),e.jsx("button",{type:"button",onClick:()=>{d(s=>({...s,cover_photo_url:"https://via.placeholder.com/1200x300"}))},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})})]})]}),n===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_(3),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Operating Details"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"return_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Policy (Optional)"}),e.jsx("textarea",{id:"return_policy",rows:4,value:a.return_policy||"",onChange:s=>d(t=>({...t,return_policy:s.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",placeholder:"Describe your return policy, e.g., 'Returns accepted within 30 days with receipt...'"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"shipping_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Policy (Optional)"}),e.jsx("textarea",{id:"shipping_policy",rows:4,value:a.shipping_policy||"",onChange:s=>d(t=>({...t,shipping_policy:s.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",placeholder:"Describe your shipping policy, e.g., 'Free delivery on orders over $500...'"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"minimum_order_value",className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Value (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-3 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"minimum_order_value",min:"0",step:"0.01",value:a.minimum_order_value||"",onChange:s=>d(t=>({...t,minimum_order_value:s.target.value?parseFloat(s.target.value):null})),className:"w-full pl-8 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",placeholder:"0.00"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Set a minimum order value if required for your business"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"payout_frequency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Payout Frequency"}),e.jsxs("select",{id:"payout_frequency",value:a.payout_frequency,onChange:s=>d(t=>({...t,payout_frequency:s.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"bi-weekly",children:"Bi-weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"How often you'd like to receive payouts for completed orders"})]})]}),n===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_(4),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verification Documents"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-yellow-800 text-sm",children:[e.jsx("strong",{children:"Required for verification:"})," Upload your business registration and tax documents. These will be reviewed by our team within 2-3 business days."]})}),["business_registration","tax_id","proof_of_address","business_license","insurance_certificate"].map(s=>{const t={business_registration:"Business Registration Document",tax_id:"Tax ID / EIN Document",proof_of_address:"Proof of Business Address",business_license:"Business License",insurance_certificate:"Insurance Certificate"},o=["business_registration","tax_id"].includes(s);return e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[t[s]," ",o&&e.jsx("span",{className:"text-red-500",children:"*"})]}),$[s]?e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"âœ“ Uploaded"}):e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not uploaded"})]}),e.jsx("button",{type:"button",onClick:()=>{I(g=>({...g,[s]:`https://example.com/docs/${s}_${Date.now()}.pdf`}))},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:$[s]?"Replace":"Upload"})]})},s)}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Note:"})," Accepted formats: PDF, JPG, PNG. Max file size: 10MB per document."]})})]}),n===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_(5),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-green-800 text-sm",children:[e.jsx("strong",{children:"Secure:"})," Your bank information is encrypted and stored securely. This is required to receive payouts for your sales."]})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"account_holder_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Account Holder Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"account_holder_name",value:m.account_holder_name,onChange:s=>{N(t=>({...t,account_holder_name:s.target.value})),l(t=>({...t,account_holder_name:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${r.account_holder_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Full name on bank account"}),r.account_holder_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.account_holder_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bank_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"bank_name",value:m.bank_name,onChange:s=>{N(t=>({...t,bank_name:s.target.value})),l(t=>({...t,bank_name:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${r.bank_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., Chase Bank, Bank of America"}),r.bank_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.bank_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"routing_number",className:"block text-sm font-medium text-gray-700 mb-2",children:["Routing Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"routing_number",maxLength:9,value:m.routing_number,onChange:s=>{const t=s.target.value.replace(/\D/g,"");N(o=>({...o,routing_number:t})),l(o=>({...o,routing_number:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${r.routing_number?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"9-digit routing number"}),r.routing_number&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.routing_number})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-700 mb-2",children:["Account Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:k?"text":"password",id:"account_number",value:m.account_number,onChange:s=>{N(t=>({...t,account_number:s.target.value})),l(t=>({...t,account_number:""}))},className:`w-full px-4 py-3 pr-12 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${r.account_number?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Bank account number"}),e.jsx("button",{type:"button",onClick:()=>U(!k),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:k?e.jsx(se,{className:"w-5 h-5"}):e.jsx(te,{className:"w-5 h-5"})})]}),r.account_number&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:r.account_number})]})]}),n===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_(6),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Initial Product Catalog"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Get started:"})," Add a few products to get your catalog started. You can add more products later from your dashboard."]})}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Add a Product"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"product_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"product_name",value:i.product_name,onChange:s=>{p(t=>({...t,product_name:s.target.value})),l(t=>({...t,product_name:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${r.product_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., 2x4x8 SPF Lumber"}),r.product_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.product_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"sku",value:i.sku,onChange:s=>{p(t=>({...t,sku:s.target.value.toUpperCase()})),l(t=>({...t,sku:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${r.sku?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., LUM-2X4-8-SPF"}),r.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.sku})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category_id",value:i.category_id,onChange:s=>{p(t=>({...t,category_id:s.target.value})),l(t=>({...t,category_id:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${r.category_id?"border-red-500":"border-gray-200 focus:border-blue-500"}`,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"cat_001",children:"Concrete & Cement"}),e.jsx("option",{value:"cat_002",children:"Lumber & Wood"}),e.jsx("option",{value:"cat_003",children:"Steel & Metal"}),e.jsx("option",{value:"cat_004",children:"Bricks & Blocks"}),e.jsx("option",{value:"cat_005",children:"Roofing Materials"})]}),r.category_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{id:"description",rows:3,value:i.description,onChange:s=>p(t=>({...t,description:s.target.value})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500",placeholder:"Product description..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price_per_unit",className:"block text-sm font-medium text-gray-700 mb-2",children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"price_per_unit",min:"0",step:"0.01",value:i.price_per_unit||"",onChange:s=>{p(t=>({...t,price_per_unit:parseFloat(s.target.value)||0})),l(t=>({...t,price_per_unit:""}))},className:`w-full pl-8 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${r.price_per_unit?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"0.00"})]}),r.price_per_unit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.price_per_unit})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"unit_of_measure",className:"block text-sm font-medium text-gray-700 mb-2",children:["Unit ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"unit_of_measure",value:i.unit_of_measure,onChange:s=>{p(t=>({...t,unit_of_measure:s.target.value})),l(t=>({...t,unit_of_measure:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${r.unit_of_measure?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., piece, bag, yard"}),r.unit_of_measure&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.unit_of_measure})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"stock_quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),e.jsx("input",{type:"number",id:"stock_quantity",min:"0",value:i.stock_quantity,onChange:s=>p(t=>({...t,stock_quantity:parseInt(s.target.value)||0})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500",placeholder:"0"})]})]}),e.jsx("button",{type:"button",onClick:G,disabled:C.isPending,className:"w-full bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:C.isPending?"Adding Product...":"+ Add Product"}),r.product&&e.jsx("p",{className:"text-sm text-red-600",children:r.product})]}),j.length>0&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:["Products Added (",j.length,")"]}),e.jsx("div",{className:"space-y-3",children:j.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.product_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",s.sku," â€¢ $",Number(s.price_per_unit||0).toFixed(2),"/",s.unit_of_measure," â€¢ Stock: ",s.stock_quantity]})]}),e.jsx("button",{type:"button",onClick:()=>L(o=>o.filter((g,X)=>X!==t)),className:"text-red-600 hover:text-red-700",children:e.jsx(re,{className:"w-5 h-5"})})]},t))})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700",children:"You can add more products later from your dashboard. Having at least one product helps you get started!"})})]}),n===7&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_(7),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review & Complete"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-900 font-semibold",children:"Almost there!"}),e.jsx("p",{className:"text-green-800 text-sm mt-1",children:"Review your information below and complete your onboarding to start selling."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Business Profile"}),e.jsx("button",{type:"button",onClick:()=>f(1),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Business Name:"})," ",e.jsx("span",{className:"font-medium",children:a.business_name})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Business Type:"})," ",e.jsx("span",{className:"font-medium",children:a.business_type})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Description:"})," ",e.jsxs("span",{className:"font-medium",children:[a.business_description.substring(0,100),"..."]})]})]})]}),(a.logo_url||a.cover_photo_url)&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Logo & Branding"}),e.jsx("button",{type:"button",onClick:()=>f(2),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[a.logo_url&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Logo"}),e.jsx("img",{src:a.logo_url,alt:"Logo",className:"w-16 h-16 rounded-lg object-cover border-2 border-gray-200"})]}),a.cover_photo_url&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cover Photo"}),e.jsx("img",{src:a.cover_photo_url,alt:"Cover",className:"w-32 h-16 rounded-lg object-cover border-2 border-gray-200"})]})]})]}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Bank Account"}),e.jsx("button",{type:"button",onClick:()=>f(5),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Account Holder:"})," ",e.jsx("span",{className:"font-medium",children:m.account_holder_name||"Not set"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Bank:"})," ",e.jsx("span",{className:"font-medium",children:m.bank_name||"Not set"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Payout Frequency:"})," ",e.jsx("span",{className:"font-medium capitalize",children:a.payout_frequency})]})]})]}),j.length>0&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Initial Catalog"}),e.jsx("button",{type:"button",onClick:()=>f(6),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[j.length," product",j.length!==1?"s":""," added"]})]})]}),e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-6 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms_acceptance",className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",required:!0}),e.jsxs("label",{htmlFor:"terms_acceptance",className:"text-sm text-gray-700",children:["I agree to the ",e.jsx("a",{href:"/terms",target:"_blank",className:"text-blue-600 hover:underline",children:"Supplier Agreement"}),", ",e.jsx("a",{href:"/terms",target:"_blank",className:"text-blue-600 hover:underline",children:"Terms of Service"}),", and ",e.jsx("a",{href:"/privacy",target:"_blank",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]})}),e.jsx("button",{type:"button",onClick:Q,disabled:h.isPending,className:"w-full bg-green-600 text-white px-6 py-4 rounded-lg hover:bg-green-700 transition-colors text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:h.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Completing Setup..."]}):"ðŸŽ‰ Complete Onboarding & Start Selling"}),r.complete&&e.jsx("p",{className:"text-sm text-red-600 text-center",children:r.complete})]}),r.api&&e.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 text-sm",children:r.api})})]}),n<7&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{type:"button",onClick:W,disabled:n===1,className:"flex items-center space-x-2 px-6 py-3 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"Previous"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{console.log("Progress saved")},className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Save & Continue Later"})}),e.jsxs("button",{type:"button",onClick:K,disabled:h.isPending,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{children:h.isPending?"Saving...":"Save & Continue"}),e.jsx(ne,{className:"w-5 h-5"})]})]})})]})})})};export{be as default};
