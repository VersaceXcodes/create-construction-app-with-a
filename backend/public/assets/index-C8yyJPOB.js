var Vj=t=>{throw TypeError(t)};var Yp=(t,s,r)=>s.has(t)||Vj("Cannot "+r);var ee=(t,s,r)=>(Yp(t,s,"read from private field"),r?r.call(t):s.get(t)),Ae=(t,s,r)=>s.has(t)?Vj("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(t):s.set(t,r),Ne=(t,s,r,a)=>(Yp(t,s,"write to private field"),a?a.call(t,r):s.set(t,r),r),ze=(t,s,r)=>(Yp(t,s,"access private method"),r);var Ru=(t,s,r,a)=>({set _(n){Ne(t,s,n,r)},get _(){return ee(t,s,a)}});function oO(t,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in t)){const i=Object.getOwnPropertyDescriptor(a,n);i&&Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E4={exports:{}},wx={},M4={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.element"),cO=Symbol.for("react.portal"),dO=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),mO=Symbol.for("react.profiler"),hO=Symbol.for("react.provider"),xO=Symbol.for("react.context"),pO=Symbol.for("react.forward_ref"),gO=Symbol.for("react.suspense"),fO=Symbol.for("react.memo"),yO=Symbol.for("react.lazy"),Hj=Symbol.iterator;function bO(t){return t===null||typeof t!="object"?null:(t=Hj&&t[Hj]||t["@@iterator"],typeof t=="function"?t:null)}var F4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R4=Object.assign,L4={};function Uo(t,s,r){this.props=t,this.context=s,this.refs=L4,this.updater=r||F4}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function D4(){}D4.prototype=Uo.prototype;function hb(t,s,r){this.props=t,this.context=s,this.refs=L4,this.updater=r||F4}var xb=hb.prototype=new D4;xb.constructor=hb;R4(xb,Uo.prototype);xb.isPureReactComponent=!0;var Kj=Array.isArray,I4=Object.prototype.hasOwnProperty,pb={current:null},B4={key:!0,ref:!0,__self:!0,__source:!0};function q4(t,s,r){var a,n={},i=null,l=null;if(s!=null)for(a in s.ref!==void 0&&(l=s.ref),s.key!==void 0&&(i=""+s.key),s)I4.call(s,a)&&!B4.hasOwnProperty(a)&&(n[a]=s[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(t&&t.defaultProps)for(a in o=t.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:yu,type:t,key:i,ref:l,props:n,_owner:pb.current}}function vO(t,s){return{$$typeof:yu,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function gb(t){return typeof t=="object"&&t!==null&&t.$$typeof===yu}function jO(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return s[r]})}var Gj=/\/+/g;function Qp(t,s){return typeof t=="object"&&t!==null&&t.key!=null?jO(""+t.key):s.toString(36)}function _m(t,s,r,a,n){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case yu:case cO:l=!0}}if(l)return l=t,n=n(l),t=a===""?"."+Qp(l,0):a,Kj(n)?(r="",t!=null&&(r=t.replace(Gj,"$&/")+"/"),_m(n,s,r,"",function(d){return d})):n!=null&&(gb(n)&&(n=vO(n,r+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(Gj,"$&/")+"/")+t)),s.push(n)),1;if(l=0,a=a===""?".":a+":",Kj(t))for(var o=0;o<t.length;o++){i=t[o];var c=a+Qp(i,o);l+=_m(i,s,r,c,n)}else if(c=bO(t),typeof c=="function")for(t=c.call(t),o=0;!(i=t.next()).done;)i=i.value,c=a+Qp(i,o++),l+=_m(i,s,r,c,n);else if(i==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return l}function Du(t,s,r){if(t==null)return t;var a=[],n=0;return _m(t,a,"","",function(i){return s.call(r,i,n++)}),a}function NO(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var qs={current:null},km={transition:null},wO={ReactCurrentDispatcher:qs,ReactCurrentBatchConfig:km,ReactCurrentOwner:pb};function z4(){throw Error("act(...) is not supported in production builds of React.")}He.Children={map:Du,forEach:function(t,s,r){Du(t,function(){s.apply(this,arguments)},r)},count:function(t){var s=0;return Du(t,function(){s++}),s},toArray:function(t){return Du(t,function(s){return s})||[]},only:function(t){if(!gb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};He.Component=Uo;He.Fragment=dO;He.Profiler=mO;He.PureComponent=hb;He.StrictMode=uO;He.Suspense=gO;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wO;He.act=z4;He.cloneElement=function(t,s,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=R4({},t.props),n=t.key,i=t.ref,l=t._owner;if(s!=null){if(s.ref!==void 0&&(i=s.ref,l=pb.current),s.key!==void 0&&(n=""+s.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in s)I4.call(s,c)&&!B4.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:yu,type:t.type,key:n,ref:i,props:a,_owner:l}};He.createContext=function(t){return t={$$typeof:xO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hO,_context:t},t.Consumer=t};He.createElement=q4;He.createFactory=function(t){var s=q4.bind(null,t);return s.type=t,s};He.createRef=function(){return{current:null}};He.forwardRef=function(t){return{$$typeof:pO,render:t}};He.isValidElement=gb;He.lazy=function(t){return{$$typeof:yO,_payload:{_status:-1,_result:t},_init:NO}};He.memo=function(t,s){return{$$typeof:fO,type:t,compare:s===void 0?null:s}};He.startTransition=function(t){var s=km.transition;km.transition={};try{t()}finally{km.transition=s}};He.unstable_act=z4;He.useCallback=function(t,s){return qs.current.useCallback(t,s)};He.useContext=function(t){return qs.current.useContext(t)};He.useDebugValue=function(){};He.useDeferredValue=function(t){return qs.current.useDeferredValue(t)};He.useEffect=function(t,s){return qs.current.useEffect(t,s)};He.useId=function(){return qs.current.useId()};He.useImperativeHandle=function(t,s,r){return qs.current.useImperativeHandle(t,s,r)};He.useInsertionEffect=function(t,s){return qs.current.useInsertionEffect(t,s)};He.useLayoutEffect=function(t,s){return qs.current.useLayoutEffect(t,s)};He.useMemo=function(t,s){return qs.current.useMemo(t,s)};He.useReducer=function(t,s,r){return qs.current.useReducer(t,s,r)};He.useRef=function(t){return qs.current.useRef(t)};He.useState=function(t){return qs.current.useState(t)};He.useSyncExternalStore=function(t,s,r){return qs.current.useSyncExternalStore(t,s,r)};He.useTransition=function(){return qs.current.useTransition()};He.version="18.3.1";M4.exports=He;var k=M4.exports;const X=ot(k),_O=oO({__proto__:null,default:X},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kO=k,SO=Symbol.for("react.element"),CO=Symbol.for("react.fragment"),PO=Object.prototype.hasOwnProperty,AO=kO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OO={key:!0,ref:!0,__self:!0,__source:!0};function U4(t,s,r){var a,n={},i=null,l=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(l=s.ref);for(a in s)PO.call(s,a)&&!OO.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:SO,type:t,key:i,ref:l,props:n,_owner:AO.current}}wx.Fragment=CO;wx.jsx=U4;wx.jsxs=U4;E4.exports=wx;var e=E4.exports,W4={exports:{}},hr={},V4={exports:{}},H4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(b,L){var v=b.length;b.push(L);e:for(;0<v;){var D=v-1>>>1,U=b[D];if(0<n(U,L))b[D]=L,b[v]=U,v=D;else break e}}function r(b){return b.length===0?null:b[0]}function a(b){if(b.length===0)return null;var L=b[0],v=b.pop();if(v!==L){b[0]=v;e:for(var D=0,U=b.length,q=U>>>1;D<q;){var B=2*(D+1)-1,W=b[B],I=B+1,Q=b[I];if(0>n(W,v))I<U&&0>n(Q,W)?(b[D]=Q,b[I]=v,D=I):(b[D]=W,b[B]=v,D=B);else if(I<U&&0>n(Q,v))b[D]=Q,b[I]=v,D=I;else break e}}return L}function n(b,L){var v=b.sortIndex-L.sortIndex;return v!==0?v:b.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],m=1,u=null,x=3,h=!1,f=!1,p=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var L=r(d);L!==null;){if(L.callback===null)a(d);else if(L.startTime<=b)a(d),L.sortIndex=L.expirationTime,s(c,L);else break;L=r(d)}}function S(b){if(p=!1,g(b),!f)if(r(c)!==null)f=!0,z(w);else{var L=r(d);L!==null&&O(S,L.startTime-b)}}function w(b,L){f=!1,p&&(p=!1,y($),$=-1),h=!0;var v=x;try{for(g(L),u=r(c);u!==null&&(!(u.expirationTime>L)||b&&!R());){var D=u.callback;if(typeof D=="function"){u.callback=null,x=u.priorityLevel;var U=D(u.expirationTime<=L);L=t.unstable_now(),typeof U=="function"?u.callback=U:u===r(c)&&a(c),g(L)}else a(c);u=r(c)}if(u!==null)var q=!0;else{var B=r(d);B!==null&&O(S,B.startTime-L),q=!1}return q}finally{u=null,x=v,h=!1}}var C=!1,_=null,$=-1,F=5,T=-1;function R(){return!(t.unstable_now()-T<F)}function A(){if(_!==null){var b=t.unstable_now();T=b;var L=!0;try{L=_(!0,b)}finally{L?M():(C=!1,_=null)}}else C=!1}var M;if(typeof j=="function")M=function(){j(A)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,E=P.port2;P.port1.onmessage=A,M=function(){E.postMessage(null)}}else M=function(){N(A,0)};function z(b){_=b,C||(C=!0,M())}function O(b,L){$=N(function(){b(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,z(w))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(b){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var v=x;x=L;try{return b()}finally{x=v}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,L){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var v=x;x=b;try{return L()}finally{x=v}},t.unstable_scheduleCallback=function(b,L,v){var D=t.unstable_now();switch(typeof v=="object"&&v!==null?(v=v.delay,v=typeof v=="number"&&0<v?D+v:D):v=D,b){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=v+U,b={id:m++,callback:L,priorityLevel:b,startTime:v,expirationTime:U,sortIndex:-1},v>D?(b.sortIndex=v,s(d,b),r(c)===null&&b===r(d)&&(p?(y($),$=-1):p=!0,O(S,v-D))):(b.sortIndex=U,s(c,b),f||h||(f=!0,z(w))),b},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(b){var L=x;return function(){var v=x;x=L;try{return b.apply(this,arguments)}finally{x=v}}}})(H4);V4.exports=H4;var $O=V4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO=k,mr=$O;function ge(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K4=new Set,ld={};function rl(t,s){no(t,s),no(t+"Capture",s)}function no(t,s){for(ld[t]=s,t=0;t<s.length;t++)K4.add(s[t])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mg=Object.prototype.hasOwnProperty,EO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yj={},Qj={};function MO(t){return mg.call(Qj,t)?!0:mg.call(Yj,t)?!1:EO.test(t)?Qj[t]=!0:(Yj[t]=!0,!1)}function FO(t,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RO(t,s,r,a){if(s===null||typeof s>"u"||FO(t,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function zs(t,s,r,a,n,i,l){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=s,this.sanitizeURL=i,this.removeEmptyString=l}var ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ps[t]=new zs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];ps[s]=new zs(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ps[t]=new zs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ps[t]=new zs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ps[t]=new zs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ps[t]=new zs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ps[t]=new zs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ps[t]=new zs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ps[t]=new zs(t,5,!1,t.toLowerCase(),null,!1,!1)});var fb=/[\-:]([a-z])/g;function yb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(fb,yb);ps[s]=new zs(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(fb,yb);ps[s]=new zs(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(fb,yb);ps[s]=new zs(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ps[t]=new zs(t,1,!1,t.toLowerCase(),null,!1,!1)});ps.xlinkHref=new zs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ps[t]=new zs(t,1,!1,t.toLowerCase(),null,!0,!0)});function bb(t,s,r,a){var n=ps.hasOwnProperty(s)?ps[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(RO(s,r,n,a)&&(r=null),a||n===null?MO(s)&&(r===null?t.removeAttribute(s):t.setAttribute(s,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?t.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?t.setAttributeNS(a,s,r):t.setAttribute(s,r))))}var tn=TO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),yl=Symbol.for("react.portal"),bl=Symbol.for("react.fragment"),vb=Symbol.for("react.strict_mode"),hg=Symbol.for("react.profiler"),G4=Symbol.for("react.provider"),Y4=Symbol.for("react.context"),jb=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),pg=Symbol.for("react.suspense_list"),Nb=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Q4=Symbol.for("react.offscreen"),Xj=Symbol.iterator;function pc(t){return t===null||typeof t!="object"?null:(t=Xj&&t[Xj]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,Xp;function Dc(t){if(Xp===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Xp=s&&s[1]||""}return`
`+Xp+t}var Zp=!1;function Jp(t,s){if(!t||Zp)return"";Zp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var a=d}Reflect.construct(t,[],s)}else{try{s.call()}catch(d){a=d}t.call(s.prototype)}else{try{throw Error()}catch(d){a=d}t()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),i=a.stack.split(`
`),l=n.length-1,o=i.length-1;1<=l&&0<=o&&n[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(n[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||n[l]!==i[o]){var c=`
`+n[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=o);break}}}finally{Zp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Dc(t):""}function LO(t){switch(t.tag){case 5:return Dc(t.type);case 16:return Dc("Lazy");case 13:return Dc("Suspense");case 19:return Dc("SuspenseList");case 0:case 2:case 15:return t=Jp(t.type,!1),t;case 11:return t=Jp(t.type.render,!1),t;case 1:return t=Jp(t.type,!0),t;default:return""}}function gg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bl:return"Fragment";case yl:return"Portal";case hg:return"Profiler";case vb:return"StrictMode";case xg:return"Suspense";case pg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y4:return(t.displayName||"Context")+".Consumer";case G4:return(t._context.displayName||"Context")+".Provider";case jb:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Nb:return s=t.displayName||null,s!==null?s:gg(t.type)||"Memo";case xn:s=t._payload,t=t._init;try{return gg(t(s))}catch{}}return null}function DO(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gg(s);case 8:return s===vb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function X4(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function IO(t){var s=X4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,i=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(l){a=""+l,i.call(this,l)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Bu(t){t._valueTracker||(t._valueTracker=IO(t))}function Z4(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return t&&(a=X4(t)?t.checked?"true":"false":t.value),t=a,t!==r?(s.setValue(t),!0):!1}function Vm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fg(t,s){var r=s.checked;return Ct({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Zj(t,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=Kn(s.value!=null?s.value:r),t._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function J4(t,s){s=s.checked,s!=null&&bb(t,"checked",s,!1)}function yg(t,s){J4(t,s);var r=Kn(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?bg(t,s.type,r):s.hasOwnProperty("defaultValue")&&bg(t,s.type,Kn(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Jj(t,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,r||s===t.value||(t.value=s),t.defaultValue=s}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function bg(t,s,r){(s!=="number"||Vm(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ic=Array.isArray;function Ll(t,s,r,a){if(t=t.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=s.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&a&&(t[r].defaultSelected=!0)}else{for(r=""+Kn(r),s=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,a&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function vg(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(ge(91));return Ct({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function eN(t,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(ge(92));if(Ic(r)){if(1<r.length)throw Error(ge(93));r=r[0]}s=r}s==null&&(s=""),r=s}t._wrapperState={initialValue:Kn(r)}}function e3(t,s){var r=Kn(s.value),a=Kn(s.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),s.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),a!=null&&(t.defaultValue=""+a)}function tN(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function t3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jg(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?t3(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qu,s3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return t(s,r,a,n)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(qu=qu||document.createElement("div"),qu.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=qu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function od(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BO=["Webkit","ms","Moz","O"];Object.keys(Vc).forEach(function(t){BO.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Vc[s]=Vc[t]})});function r3(t,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||Vc.hasOwnProperty(t)&&Vc[t]?(""+s).trim():s+"px"}function a3(t,s){t=t.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=r3(r,s[r],a);r==="float"&&(r="cssFloat"),a?t.setProperty(r,n):t[r]=n}}var qO=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(t,s){if(s){if(qO[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(ge(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(ge(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(ge(61))}if(s.style!=null&&typeof s.style!="object")throw Error(ge(62))}}function wg(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=null;function wb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kg=null,Dl=null,Il=null;function sN(t){if(t=ju(t)){if(typeof kg!="function")throw Error(ge(280));var s=t.stateNode;s&&(s=Px(s),kg(t.stateNode,t.type,s))}}function n3(t){Dl?Il?Il.push(t):Il=[t]:Dl=t}function i3(){if(Dl){var t=Dl,s=Il;if(Il=Dl=null,sN(t),s)for(t=0;t<s.length;t++)sN(s[t])}}function l3(t,s){return t(s)}function o3(){}var e0=!1;function c3(t,s,r){if(e0)return t(s,r);e0=!0;try{return l3(t,s,r)}finally{e0=!1,(Dl!==null||Il!==null)&&(o3(),i3())}}function cd(t,s){var r=t.stateNode;if(r===null)return null;var a=Px(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ge(231,s,typeof r));return r}var Sg=!1;if(Va)try{var gc={};Object.defineProperty(gc,"passive",{get:function(){Sg=!0}}),window.addEventListener("test",gc,gc),window.removeEventListener("test",gc,gc)}catch{Sg=!1}function zO(t,s,r,a,n,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(m){this.onError(m)}}var Hc=!1,Hm=null,Km=!1,Cg=null,UO={onError:function(t){Hc=!0,Hm=t}};function WO(t,s,r,a,n,i,l,o,c){Hc=!1,Hm=null,zO.apply(UO,arguments)}function VO(t,s,r,a,n,i,l,o,c){if(WO.apply(this,arguments),Hc){if(Hc){var d=Hm;Hc=!1,Hm=null}else throw Error(ge(198));Km||(Km=!0,Cg=d)}}function al(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function d3(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function rN(t){if(al(t)!==t)throw Error(ge(188))}function HO(t){var s=t.alternate;if(!s){if(s=al(t),s===null)throw Error(ge(188));return s!==t?null:t}for(var r=t,a=s;;){var n=r.return;if(n===null)break;var i=n.alternate;if(i===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===r)return rN(n),t;if(i===a)return rN(n),s;i=i.sibling}throw Error(ge(188))}if(r.return!==a.return)r=n,a=i;else{for(var l=!1,o=n.child;o;){if(o===r){l=!0,r=n,a=i;break}if(o===a){l=!0,a=n,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,a=n;break}if(o===a){l=!0,a=i,r=n;break}o=o.sibling}if(!l)throw Error(ge(189))}}if(r.alternate!==a)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?t:s}function u3(t){return t=HO(t),t!==null?m3(t):null}function m3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=m3(t);if(s!==null)return s;t=t.sibling}return null}var h3=mr.unstable_scheduleCallback,aN=mr.unstable_cancelCallback,KO=mr.unstable_shouldYield,GO=mr.unstable_requestPaint,Mt=mr.unstable_now,YO=mr.unstable_getCurrentPriorityLevel,_b=mr.unstable_ImmediatePriority,x3=mr.unstable_UserBlockingPriority,Gm=mr.unstable_NormalPriority,QO=mr.unstable_LowPriority,p3=mr.unstable_IdlePriority,_x=null,ua=null;function XO(t){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(_x,t,void 0,(t.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:e$,ZO=Math.log,JO=Math.LN2;function e$(t){return t>>>=0,t===0?32:31-(ZO(t)/JO|0)|0}var zu=64,Uu=4194304;function Bc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ym(t,s){var r=t.pendingLanes;if(r===0)return 0;var a=0,n=t.suspendedLanes,i=t.pingedLanes,l=r&268435455;if(l!==0){var o=l&~n;o!==0?a=Bc(o):(i&=l,i!==0&&(a=Bc(i)))}else l=r&~n,l!==0?a=Bc(l):i!==0&&(a=Bc(i));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,i=s&-s,n>=i||n===16&&(i&4194240)!==0))return s;if(a&4&&(a|=r&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)r=31-Yr(s),n=1<<r,a|=t[r],s&=~n;return a}function t$(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s$(t,s){for(var r=t.suspendedLanes,a=t.pingedLanes,n=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Yr(i),o=1<<l,c=n[l];c===-1?(!(o&r)||o&a)&&(n[l]=t$(o,s)):c<=s&&(t.expiredLanes|=o),i&=~o}}function Pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g3(){var t=zu;return zu<<=1,!(zu&4194240)&&(zu=64),t}function t0(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function bu(t,s,r){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Yr(s),t[s]=r}function r$(t,s){var r=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-Yr(r),i=1<<n;s[n]=0,a[n]=-1,t[n]=-1,r&=~i}}function kb(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var a=31-Yr(r),n=1<<a;n&s|t[a]&s&&(t[a]|=s),r&=~n}}var lt=0;function f3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y3,Sb,b3,v3,j3,Ag=!1,Wu=[],Mn=null,Fn=null,Rn=null,dd=new Map,ud=new Map,fn=[],a$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nN(t,s){switch(t){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":dd.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(s.pointerId)}}function fc(t,s,r,a,n,i){return t===null||t.nativeEvent!==i?(t={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[n]},s!==null&&(s=ju(s),s!==null&&Sb(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function n$(t,s,r,a,n){switch(s){case"focusin":return Mn=fc(Mn,t,s,r,a,n),!0;case"dragenter":return Fn=fc(Fn,t,s,r,a,n),!0;case"mouseover":return Rn=fc(Rn,t,s,r,a,n),!0;case"pointerover":var i=n.pointerId;return dd.set(i,fc(dd.get(i)||null,t,s,r,a,n)),!0;case"gotpointercapture":return i=n.pointerId,ud.set(i,fc(ud.get(i)||null,t,s,r,a,n)),!0}return!1}function N3(t){var s=yi(t.target);if(s!==null){var r=al(s);if(r!==null){if(s=r.tag,s===13){if(s=d3(r),s!==null){t.blockedOn=s,j3(t.priority,function(){b3(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sm(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Og(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var a=new r.constructor(r.type,r);_g=a,r.target.dispatchEvent(a),_g=null}else return s=ju(r),s!==null&&Sb(s),t.blockedOn=r,!1;s.shift()}return!0}function iN(t,s,r){Sm(t)&&r.delete(s)}function i$(){Ag=!1,Mn!==null&&Sm(Mn)&&(Mn=null),Fn!==null&&Sm(Fn)&&(Fn=null),Rn!==null&&Sm(Rn)&&(Rn=null),dd.forEach(iN),ud.forEach(iN)}function yc(t,s){t.blockedOn===s&&(t.blockedOn=null,Ag||(Ag=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,i$)))}function md(t){function s(n){return yc(n,t)}if(0<Wu.length){yc(Wu[0],t);for(var r=1;r<Wu.length;r++){var a=Wu[r];a.blockedOn===t&&(a.blockedOn=null)}}for(Mn!==null&&yc(Mn,t),Fn!==null&&yc(Fn,t),Rn!==null&&yc(Rn,t),dd.forEach(s),ud.forEach(s),r=0;r<fn.length;r++)a=fn[r],a.blockedOn===t&&(a.blockedOn=null);for(;0<fn.length&&(r=fn[0],r.blockedOn===null);)N3(r),r.blockedOn===null&&fn.shift()}var Bl=tn.ReactCurrentBatchConfig,Qm=!0;function l$(t,s,r,a){var n=lt,i=Bl.transition;Bl.transition=null;try{lt=1,Cb(t,s,r,a)}finally{lt=n,Bl.transition=i}}function o$(t,s,r,a){var n=lt,i=Bl.transition;Bl.transition=null;try{lt=4,Cb(t,s,r,a)}finally{lt=n,Bl.transition=i}}function Cb(t,s,r,a){if(Qm){var n=Og(t,s,r,a);if(n===null)u0(t,s,a,Xm,r),nN(t,a);else if(n$(n,t,s,r,a))a.stopPropagation();else if(nN(t,a),s&4&&-1<a$.indexOf(t)){for(;n!==null;){var i=ju(n);if(i!==null&&y3(i),i=Og(t,s,r,a),i===null&&u0(t,s,a,Xm,r),i===n)break;n=i}n!==null&&a.stopPropagation()}else u0(t,s,a,null,r)}}var Xm=null;function Og(t,s,r,a){if(Xm=null,t=wb(a),t=yi(t),t!==null)if(s=al(t),s===null)t=null;else if(r=s.tag,r===13){if(t=d3(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Xm=t,null}function w3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YO()){case _b:return 1;case x3:return 4;case Gm:case QO:return 16;case p3:return 536870912;default:return 16}default:return 16}}var An=null,Pb=null,Cm=null;function _3(){if(Cm)return Cm;var t,s=Pb,r=s.length,a,n="value"in An?An.value:An.textContent,i=n.length;for(t=0;t<r&&s[t]===n[t];t++);var l=r-t;for(a=1;a<=l&&s[r-a]===n[i-a];a++);return Cm=n.slice(t,1<a?1-a:void 0)}function Pm(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Vu(){return!0}function lN(){return!1}function xr(t){function s(r,a,n,i,l){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vu:lN,this.isPropagationStopped=lN,this}return Ct(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),s}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ab=xr(Wo),vu=Ct({},Wo,{view:0,detail:0}),c$=xr(vu),s0,r0,bc,kx=Ct({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ob,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bc&&(bc&&t.type==="mousemove"?(s0=t.screenX-bc.screenX,r0=t.screenY-bc.screenY):r0=s0=0,bc=t),s0)},movementY:function(t){return"movementY"in t?t.movementY:r0}}),oN=xr(kx),d$=Ct({},kx,{dataTransfer:0}),u$=xr(d$),m$=Ct({},vu,{relatedTarget:0}),a0=xr(m$),h$=Ct({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),x$=xr(h$),p$=Ct({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g$=xr(p$),f$=Ct({},Wo,{data:0}),cN=xr(f$),y$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j$(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=v$[t])?!!s[t]:!1}function Ob(){return j$}var N$=Ct({},vu,{key:function(t){if(t.key){var s=y$[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Pm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ob,charCode:function(t){return t.type==="keypress"?Pm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),w$=xr(N$),_$=Ct({},kx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dN=xr(_$),k$=Ct({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ob}),S$=xr(k$),C$=Ct({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),P$=xr(C$),A$=Ct({},kx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O$=xr(A$),$$=[9,13,27,32],$b=Va&&"CompositionEvent"in window,Kc=null;Va&&"documentMode"in document&&(Kc=document.documentMode);var T$=Va&&"TextEvent"in window&&!Kc,k3=Va&&(!$b||Kc&&8<Kc&&11>=Kc),uN=" ",mN=!1;function S3(t,s){switch(t){case"keyup":return $$.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vl=!1;function E$(t,s){switch(t){case"compositionend":return C3(s);case"keypress":return s.which!==32?null:(mN=!0,uN);case"textInput":return t=s.data,t===uN&&mN?null:t;default:return null}}function M$(t,s){if(vl)return t==="compositionend"||!$b&&S3(t,s)?(t=_3(),Cm=Pb=An=null,vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return k3&&s.locale!=="ko"?null:s.data;default:return null}}var F$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hN(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!F$[t.type]:s==="textarea"}function P3(t,s,r,a){n3(a),s=Zm(s,"onChange"),0<s.length&&(r=new Ab("onChange","change",null,r,a),t.push({event:r,listeners:s}))}var Gc=null,hd=null;function R$(t){I3(t,0)}function Sx(t){var s=wl(t);if(Z4(s))return t}function L$(t,s){if(t==="change")return s}var A3=!1;if(Va){var n0;if(Va){var i0="oninput"in document;if(!i0){var xN=document.createElement("div");xN.setAttribute("oninput","return;"),i0=typeof xN.oninput=="function"}n0=i0}else n0=!1;A3=n0&&(!document.documentMode||9<document.documentMode)}function pN(){Gc&&(Gc.detachEvent("onpropertychange",O3),hd=Gc=null)}function O3(t){if(t.propertyName==="value"&&Sx(hd)){var s=[];P3(s,hd,t,wb(t)),c3(R$,s)}}function D$(t,s,r){t==="focusin"?(pN(),Gc=s,hd=r,Gc.attachEvent("onpropertychange",O3)):t==="focusout"&&pN()}function I$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sx(hd)}function B$(t,s){if(t==="click")return Sx(s)}function q$(t,s){if(t==="input"||t==="change")return Sx(s)}function z$(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Zr=typeof Object.is=="function"?Object.is:z$;function xd(t,s){if(Zr(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!mg.call(s,n)||!Zr(t[n],s[n]))return!1}return!0}function gN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fN(t,s){var r=gN(t);t=0;for(var a;r;){if(r.nodeType===3){if(a=t+r.textContent.length,t<=s&&a>=s)return{node:r,offset:s-t};t=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gN(r)}}function $3(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?$3(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function T3(){for(var t=window,s=Vm();s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Vm(t.document)}return s}function Tb(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function U$(t){var s=T3(),r=t.focusedElem,a=t.selectionRange;if(s!==r&&r&&r.ownerDocument&&$3(r.ownerDocument.documentElement,r)){if(a!==null&&Tb(r)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(t,r.value.length);else if(t=(s=r.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,i=Math.min(a.start,n);a=a.end===void 0?i:Math.min(a.end,n),!t.extend&&i>a&&(n=a,a=i,i=n),n=fN(r,i);var l=fN(r,a);n&&l&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),t.removeAllRanges(),i>a?(t.addRange(s),t.extend(l.node,l.offset)):(s.setEnd(l.node,l.offset),t.addRange(s)))}}for(s=[],t=r;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)t=s[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W$=Va&&"documentMode"in document&&11>=document.documentMode,jl=null,$g=null,Yc=null,Tg=!1;function yN(t,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tg||jl==null||jl!==Vm(a)||(a=jl,"selectionStart"in a&&Tb(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Yc&&xd(Yc,a)||(Yc=a,a=Zm($g,"onSelect"),0<a.length&&(s=new Ab("onSelect","select",null,s,r),t.push({event:s,listeners:a}),s.target=jl)))}function Hu(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Nl={animationend:Hu("Animation","AnimationEnd"),animationiteration:Hu("Animation","AnimationIteration"),animationstart:Hu("Animation","AnimationStart"),transitionend:Hu("Transition","TransitionEnd")},l0={},E3={};Va&&(E3=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function Cx(t){if(l0[t])return l0[t];if(!Nl[t])return t;var s=Nl[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in E3)return l0[t]=s[r];return t}var M3=Cx("animationend"),F3=Cx("animationiteration"),R3=Cx("animationstart"),L3=Cx("transitionend"),D3=new Map,bN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,s){D3.set(t,s),rl(s,[t])}for(var o0=0;o0<bN.length;o0++){var c0=bN[o0],V$=c0.toLowerCase(),H$=c0[0].toUpperCase()+c0.slice(1);Xn(V$,"on"+H$)}Xn(M3,"onAnimationEnd");Xn(F3,"onAnimationIteration");Xn(R3,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(L3,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K$=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function vN(t,s,r){var a=t.type||"unknown-event";t.currentTarget=r,VO(a,s,void 0,t),t.currentTarget=null}function I3(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var a=t[r],n=a.event;a=a.listeners;e:{var i=void 0;if(s)for(var l=a.length-1;0<=l;l--){var o=a[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&n.isPropagationStopped())break e;vN(n,o,d),i=c}else for(l=0;l<a.length;l++){if(o=a[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&n.isPropagationStopped())break e;vN(n,o,d),i=c}}}if(Km)throw t=Cg,Km=!1,Cg=null,t}function yt(t,s){var r=s[Lg];r===void 0&&(r=s[Lg]=new Set);var a=t+"__bubble";r.has(a)||(B3(s,t,2,!1),r.add(a))}function d0(t,s,r){var a=0;s&&(a|=4),B3(r,t,a,s)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[Ku]){t[Ku]=!0,K4.forEach(function(r){r!=="selectionchange"&&(K$.has(r)||d0(r,!1,t),d0(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ku]||(s[Ku]=!0,d0("selectionchange",!1,s))}}function B3(t,s,r,a){switch(w3(s)){case 1:var n=l$;break;case 4:n=o$;break;default:n=Cb}r=n.bind(null,s,r,t),n=void 0,!Sg||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?t.addEventListener(s,r,{capture:!0,passive:n}):t.addEventListener(s,r,!0):n!==void 0?t.addEventListener(s,r,{passive:n}):t.addEventListener(s,r,!1)}function u0(t,s,r,a,n){var i=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(l===4)for(l=a.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;l=l.return}for(;o!==null;){if(l=yi(o),l===null)return;if(c=l.tag,c===5||c===6){a=i=l;continue e}o=o.parentNode}}a=a.return}c3(function(){var d=i,m=wb(r),u=[];e:{var x=D3.get(t);if(x!==void 0){var h=Ab,f=t;switch(t){case"keypress":if(Pm(r)===0)break e;case"keydown":case"keyup":h=w$;break;case"focusin":f="focus",h=a0;break;case"focusout":f="blur",h=a0;break;case"beforeblur":case"afterblur":h=a0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=oN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=u$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=S$;break;case M3:case F3:case R3:h=x$;break;case L3:h=P$;break;case"scroll":h=c$;break;case"wheel":h=O$;break;case"copy":case"cut":case"paste":h=g$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dN}var p=(s&4)!==0,N=!p&&t==="scroll",y=p?x!==null?x+"Capture":null:x;p=[];for(var j=d,g;j!==null;){g=j;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,y!==null&&(S=cd(j,y),S!=null&&p.push(gd(j,S,g)))),N)break;j=j.return}0<p.length&&(x=new h(x,f,null,r,m),u.push({event:x,listeners:p}))}}if(!(s&7)){e:{if(x=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",x&&r!==_g&&(f=r.relatedTarget||r.fromElement)&&(yi(f)||f[Ha]))break e;if((h||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,h?(f=r.relatedTarget||r.toElement,h=d,f=f?yi(f):null,f!==null&&(N=al(f),f!==N||f.tag!==5&&f.tag!==6)&&(f=null)):(h=null,f=d),h!==f)){if(p=oN,S="onMouseLeave",y="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(p=dN,S="onPointerLeave",y="onPointerEnter",j="pointer"),N=h==null?x:wl(h),g=f==null?x:wl(f),x=new p(S,j+"leave",h,r,m),x.target=N,x.relatedTarget=g,S=null,yi(m)===d&&(p=new p(y,j+"enter",f,r,m),p.target=g,p.relatedTarget=N,S=p),N=S,h&&f)t:{for(p=h,y=f,j=0,g=p;g;g=ml(g))j++;for(g=0,S=y;S;S=ml(S))g++;for(;0<j-g;)p=ml(p),j--;for(;0<g-j;)y=ml(y),g--;for(;j--;){if(p===y||y!==null&&p===y.alternate)break t;p=ml(p),y=ml(y)}p=null}else p=null;h!==null&&jN(u,x,h,p,!1),f!==null&&N!==null&&jN(u,N,f,p,!0)}}e:{if(x=d?wl(d):window,h=x.nodeName&&x.nodeName.toLowerCase(),h==="select"||h==="input"&&x.type==="file")var w=L$;else if(hN(x))if(A3)w=q$;else{w=I$;var C=D$}else(h=x.nodeName)&&h.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(w=B$);if(w&&(w=w(t,d))){P3(u,w,r,m);break e}C&&C(t,x,d),t==="focusout"&&(C=x._wrapperState)&&C.controlled&&x.type==="number"&&bg(x,"number",x.value)}switch(C=d?wl(d):window,t){case"focusin":(hN(C)||C.contentEditable==="true")&&(jl=C,$g=d,Yc=null);break;case"focusout":Yc=$g=jl=null;break;case"mousedown":Tg=!0;break;case"contextmenu":case"mouseup":case"dragend":Tg=!1,yN(u,r,m);break;case"selectionchange":if(W$)break;case"keydown":case"keyup":yN(u,r,m)}var _;if($b)e:{switch(t){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else vl?S3(t,r)&&($="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(k3&&r.locale!=="ko"&&(vl||$!=="onCompositionStart"?$==="onCompositionEnd"&&vl&&(_=_3()):(An=m,Pb="value"in An?An.value:An.textContent,vl=!0)),C=Zm(d,$),0<C.length&&($=new cN($,t,null,r,m),u.push({event:$,listeners:C}),_?$.data=_:(_=C3(r),_!==null&&($.data=_)))),(_=T$?E$(t,r):M$(t,r))&&(d=Zm(d,"onBeforeInput"),0<d.length&&(m=new cN("onBeforeInput","beforeinput",null,r,m),u.push({event:m,listeners:d}),m.data=_))}I3(u,s)})}function gd(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Zm(t,s){for(var r=s+"Capture",a=[];t!==null;){var n=t,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=cd(t,r),i!=null&&a.unshift(gd(t,i,n)),i=cd(t,s),i!=null&&a.push(gd(t,i,n))),t=t.return}return a}function ml(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jN(t,s,r,a,n){for(var i=s._reactName,l=[];r!==null&&r!==a;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=cd(r,i),c!=null&&l.unshift(gd(r,c,o))):n||(c=cd(r,i),c!=null&&l.push(gd(r,c,o)))),r=r.return}l.length!==0&&t.push({event:s,listeners:l})}var G$=/\r\n?/g,Y$=/\u0000|\uFFFD/g;function NN(t){return(typeof t=="string"?t:""+t).replace(G$,`
`).replace(Y$,"")}function Gu(t,s,r){if(s=NN(s),NN(t)!==s&&r)throw Error(ge(425))}function Jm(){}var Eg=null,Mg=null;function Fg(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,Q$=typeof clearTimeout=="function"?clearTimeout:void 0,wN=typeof Promise=="function"?Promise:void 0,X$=typeof queueMicrotask=="function"?queueMicrotask:typeof wN<"u"?function(t){return wN.resolve(null).then(t).catch(Z$)}:Rg;function Z$(t){setTimeout(function(){throw t})}function m0(t,s){var r=s,a=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){t.removeChild(n),md(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);md(s)}function Ln(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function _N(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),la="__reactFiber$"+Vo,fd="__reactProps$"+Vo,Ha="__reactContainer$"+Vo,Lg="__reactEvents$"+Vo,J$="__reactListeners$"+Vo,eT="__reactHandles$"+Vo;function yi(t){var s=t[la];if(s)return s;for(var r=t.parentNode;r;){if(s=r[Ha]||r[la]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=_N(t);t!==null;){if(r=t[la])return r;t=_N(t)}return s}t=r,r=t.parentNode}return null}function ju(t){return t=t[la]||t[Ha],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ge(33))}function Px(t){return t[fd]||null}var Dg=[],_l=-1;function Zn(t){return{current:t}}function jt(t){0>_l||(t.current=Dg[_l],Dg[_l]=null,_l--)}function pt(t,s){_l++,Dg[_l]=t.current,t.current=s}var Gn={},As=Zn(Gn),Qs=Zn(!1),Ui=Gn;function io(t,s){var r=t.type.contextTypes;if(!r)return Gn;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in r)n[i]=s[i];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=n),n}function Xs(t){return t=t.childContextTypes,t!=null}function eh(){jt(Qs),jt(As)}function kN(t,s,r){if(As.current!==Gn)throw Error(ge(168));pt(As,s),pt(Qs,r)}function q3(t,s,r){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(ge(108,DO(t)||"Unknown",n));return Ct({},r,a)}function th(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gn,Ui=As.current,pt(As,t),pt(Qs,Qs.current),!0}function SN(t,s,r){var a=t.stateNode;if(!a)throw Error(ge(169));r?(t=q3(t,s,Ui),a.__reactInternalMemoizedMergedChildContext=t,jt(Qs),jt(As),pt(As,t)):jt(Qs),pt(Qs,r)}var Pa=null,Ax=!1,h0=!1;function z3(t){Pa===null?Pa=[t]:Pa.push(t)}function tT(t){Ax=!0,z3(t)}function Jn(){if(!h0&&Pa!==null){h0=!0;var t=0,s=lt;try{var r=Pa;for(lt=1;t<r.length;t++){var a=r[t];do a=a(!0);while(a!==null)}Pa=null,Ax=!1}catch(n){throw Pa!==null&&(Pa=Pa.slice(t+1)),h3(_b,Jn),n}finally{lt=s,h0=!1}}return null}var kl=[],Sl=0,sh=null,rh=0,vr=[],jr=0,Wi=null,Ma=1,Fa="";function ui(t,s){kl[Sl++]=rh,kl[Sl++]=sh,sh=t,rh=s}function U3(t,s,r){vr[jr++]=Ma,vr[jr++]=Fa,vr[jr++]=Wi,Wi=t;var a=Ma;t=Fa;var n=32-Yr(a)-1;a&=~(1<<n),r+=1;var i=32-Yr(s)+n;if(30<i){var l=n-n%5;i=(a&(1<<l)-1).toString(32),a>>=l,n-=l,Ma=1<<32-Yr(s)+n|r<<n|a,Fa=i+t}else Ma=1<<i|r<<n|a,Fa=t}function Eb(t){t.return!==null&&(ui(t,1),U3(t,1,0))}function Mb(t){for(;t===sh;)sh=kl[--Sl],kl[Sl]=null,rh=kl[--Sl],kl[Sl]=null;for(;t===Wi;)Wi=vr[--jr],vr[jr]=null,Fa=vr[--jr],vr[jr]=null,Ma=vr[--jr],vr[jr]=null}var or=null,lr=null,Nt=!1,Kr=null;function W3(t,s){var r=_r(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=t,s=t.deletions,s===null?(t.deletions=[r],t.flags|=16):s.push(r)}function CN(t,s){switch(t.tag){case 5:var r=t.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,or=t,lr=Ln(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,or=t,lr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Wi!==null?{id:Ma,overflow:Fa}:null,t.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=_r(18,null,null,0),r.stateNode=s,r.return=t,t.child=r,or=t,lr=null,!0):!1;default:return!1}}function Ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bg(t){if(Nt){var s=lr;if(s){var r=s;if(!CN(t,s)){if(Ig(t))throw Error(ge(418));s=Ln(r.nextSibling);var a=or;s&&CN(t,s)?W3(a,r):(t.flags=t.flags&-4097|2,Nt=!1,or=t)}}else{if(Ig(t))throw Error(ge(418));t.flags=t.flags&-4097|2,Nt=!1,or=t}}}function PN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;or=t}function Yu(t){if(t!==or)return!1;if(!Nt)return PN(t),Nt=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Fg(t.type,t.memoizedProps)),s&&(s=lr)){if(Ig(t))throw V3(),Error(ge(418));for(;s;)W3(t,s),s=Ln(s.nextSibling)}if(PN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ge(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(s===0){lr=Ln(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}t=t.nextSibling}lr=null}}else lr=or?Ln(t.stateNode.nextSibling):null;return!0}function V3(){for(var t=lr;t;)t=Ln(t.nextSibling)}function lo(){lr=or=null,Nt=!1}function Fb(t){Kr===null?Kr=[t]:Kr.push(t)}var sT=tn.ReactCurrentBatchConfig;function vc(t,s,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var a=r.stateNode}if(!a)throw Error(ge(147,t));var n=a,i=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===i?s.ref:(s=function(l){var o=n.refs;l===null?delete o[i]:o[i]=l},s._stringRef=i,s)}if(typeof t!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,t))}return t}function Qu(t,s){throw t=Object.prototype.toString.call(s),Error(ge(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function AN(t){var s=t._init;return s(t._payload)}function H3(t){function s(y,j){if(t){var g=y.deletions;g===null?(y.deletions=[j],y.flags|=16):g.push(j)}}function r(y,j){if(!t)return null;for(;j!==null;)s(y,j),j=j.sibling;return null}function a(y,j){for(y=new Map;j!==null;)j.key!==null?y.set(j.key,j):y.set(j.index,j),j=j.sibling;return y}function n(y,j){return y=qn(y,j),y.index=0,y.sibling=null,y}function i(y,j,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<j?(y.flags|=2,j):g):(y.flags|=2,j)):(y.flags|=1048576,j)}function l(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,j,g,S){return j===null||j.tag!==6?(j=v0(g,y.mode,S),j.return=y,j):(j=n(j,g),j.return=y,j)}function c(y,j,g,S){var w=g.type;return w===bl?m(y,j,g.props.children,S,g.key):j!==null&&(j.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xn&&AN(w)===j.type)?(S=n(j,g.props),S.ref=vc(y,j,g),S.return=y,S):(S=Fm(g.type,g.key,g.props,null,y.mode,S),S.ref=vc(y,j,g),S.return=y,S)}function d(y,j,g,S){return j===null||j.tag!==4||j.stateNode.containerInfo!==g.containerInfo||j.stateNode.implementation!==g.implementation?(j=j0(g,y.mode,S),j.return=y,j):(j=n(j,g.children||[]),j.return=y,j)}function m(y,j,g,S,w){return j===null||j.tag!==7?(j=Di(g,y.mode,S,w),j.return=y,j):(j=n(j,g),j.return=y,j)}function u(y,j,g){if(typeof j=="string"&&j!==""||typeof j=="number")return j=v0(""+j,y.mode,g),j.return=y,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Iu:return g=Fm(j.type,j.key,j.props,null,y.mode,g),g.ref=vc(y,null,j),g.return=y,g;case yl:return j=j0(j,y.mode,g),j.return=y,j;case xn:var S=j._init;return u(y,S(j._payload),g)}if(Ic(j)||pc(j))return j=Di(j,y.mode,g,null),j.return=y,j;Qu(y,j)}return null}function x(y,j,g,S){var w=j!==null?j.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return w!==null?null:o(y,j,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Iu:return g.key===w?c(y,j,g,S):null;case yl:return g.key===w?d(y,j,g,S):null;case xn:return w=g._init,x(y,j,w(g._payload),S)}if(Ic(g)||pc(g))return w!==null?null:m(y,j,g,S,null);Qu(y,g)}return null}function h(y,j,g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(g)||null,o(j,y,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Iu:return y=y.get(S.key===null?g:S.key)||null,c(j,y,S,w);case yl:return y=y.get(S.key===null?g:S.key)||null,d(j,y,S,w);case xn:var C=S._init;return h(y,j,g,C(S._payload),w)}if(Ic(S)||pc(S))return y=y.get(g)||null,m(j,y,S,w,null);Qu(j,S)}return null}function f(y,j,g,S){for(var w=null,C=null,_=j,$=j=0,F=null;_!==null&&$<g.length;$++){_.index>$?(F=_,_=null):F=_.sibling;var T=x(y,_,g[$],S);if(T===null){_===null&&(_=F);break}t&&_&&T.alternate===null&&s(y,_),j=i(T,j,$),C===null?w=T:C.sibling=T,C=T,_=F}if($===g.length)return r(y,_),Nt&&ui(y,$),w;if(_===null){for(;$<g.length;$++)_=u(y,g[$],S),_!==null&&(j=i(_,j,$),C===null?w=_:C.sibling=_,C=_);return Nt&&ui(y,$),w}for(_=a(y,_);$<g.length;$++)F=h(_,y,$,g[$],S),F!==null&&(t&&F.alternate!==null&&_.delete(F.key===null?$:F.key),j=i(F,j,$),C===null?w=F:C.sibling=F,C=F);return t&&_.forEach(function(R){return s(y,R)}),Nt&&ui(y,$),w}function p(y,j,g,S){var w=pc(g);if(typeof w!="function")throw Error(ge(150));if(g=w.call(g),g==null)throw Error(ge(151));for(var C=w=null,_=j,$=j=0,F=null,T=g.next();_!==null&&!T.done;$++,T=g.next()){_.index>$?(F=_,_=null):F=_.sibling;var R=x(y,_,T.value,S);if(R===null){_===null&&(_=F);break}t&&_&&R.alternate===null&&s(y,_),j=i(R,j,$),C===null?w=R:C.sibling=R,C=R,_=F}if(T.done)return r(y,_),Nt&&ui(y,$),w;if(_===null){for(;!T.done;$++,T=g.next())T=u(y,T.value,S),T!==null&&(j=i(T,j,$),C===null?w=T:C.sibling=T,C=T);return Nt&&ui(y,$),w}for(_=a(y,_);!T.done;$++,T=g.next())T=h(_,y,$,T.value,S),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?$:T.key),j=i(T,j,$),C===null?w=T:C.sibling=T,C=T);return t&&_.forEach(function(A){return s(y,A)}),Nt&&ui(y,$),w}function N(y,j,g,S){if(typeof g=="object"&&g!==null&&g.type===bl&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Iu:e:{for(var w=g.key,C=j;C!==null;){if(C.key===w){if(w=g.type,w===bl){if(C.tag===7){r(y,C.sibling),j=n(C,g.props.children),j.return=y,y=j;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===xn&&AN(w)===C.type){r(y,C.sibling),j=n(C,g.props),j.ref=vc(y,C,g),j.return=y,y=j;break e}r(y,C);break}else s(y,C);C=C.sibling}g.type===bl?(j=Di(g.props.children,y.mode,S,g.key),j.return=y,y=j):(S=Fm(g.type,g.key,g.props,null,y.mode,S),S.ref=vc(y,j,g),S.return=y,y=S)}return l(y);case yl:e:{for(C=g.key;j!==null;){if(j.key===C)if(j.tag===4&&j.stateNode.containerInfo===g.containerInfo&&j.stateNode.implementation===g.implementation){r(y,j.sibling),j=n(j,g.children||[]),j.return=y,y=j;break e}else{r(y,j);break}else s(y,j);j=j.sibling}j=j0(g,y.mode,S),j.return=y,y=j}return l(y);case xn:return C=g._init,N(y,j,C(g._payload),S)}if(Ic(g))return f(y,j,g,S);if(pc(g))return p(y,j,g,S);Qu(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,j!==null&&j.tag===6?(r(y,j.sibling),j=n(j,g),j.return=y,y=j):(r(y,j),j=v0(g,y.mode,S),j.return=y,y=j),l(y)):r(y,j)}return N}var oo=H3(!0),K3=H3(!1),ah=Zn(null),nh=null,Cl=null,Rb=null;function Lb(){Rb=Cl=nh=null}function Db(t){var s=ah.current;jt(ah),t._currentValue=s}function qg(t,s,r){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===r)break;t=t.return}}function ql(t,s){nh=t,Rb=Cl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(Gs=!0),t.firstContext=null)}function Pr(t){var s=t._currentValue;if(Rb!==t)if(t={context:t,memoizedValue:s,next:null},Cl===null){if(nh===null)throw Error(ge(308));Cl=t,nh.dependencies={lanes:0,firstContext:t}}else Cl=Cl.next=t;return s}var bi=null;function Ib(t){bi===null?bi=[t]:bi.push(t)}function G3(t,s,r,a){var n=s.interleaved;return n===null?(r.next=r,Ib(s)):(r.next=n.next,n.next=r),s.interleaved=r,Ka(t,a)}function Ka(t,s){t.lanes|=s;var r=t.alternate;for(r!==null&&(r.lanes|=s),r=t,t=t.return;t!==null;)t.childLanes|=s,r=t.alternate,r!==null&&(r.childLanes|=s),r=t,t=t.return;return r.tag===3?r.stateNode:null}var pn=!1;function Bb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y3(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ba(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Dn(t,s,r){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,et&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,Ka(t,r)}return n=a.interleaved,n===null?(s.next=s,Ib(a)):(s.next=n.next,n.next=s),a.interleaved=s,Ka(t,r)}function Am(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,kb(t,r)}}function ON(t,s){var r=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?n=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?n=i=s:i=i.next=s}else n=i=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:a.shared,effects:a.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}function ih(t,s,r,a){var n=t.updateQueue;pn=!1;var i=n.firstBaseUpdate,l=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==l&&(o===null?m.firstBaseUpdate=d:o.next=d,m.lastBaseUpdate=c))}if(i!==null){var u=n.baseState;l=0,m=d=c=null,o=i;do{var x=o.lane,h=o.eventTime;if((a&x)===x){m!==null&&(m=m.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=t,p=o;switch(x=s,h=r,p.tag){case 1:if(f=p.payload,typeof f=="function"){u=f.call(h,u,x);break e}u=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=p.payload,x=typeof f=="function"?f.call(h,u,x):f,x==null)break e;u=Ct({},u,x);break e;case 2:pn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,x=n.effects,x===null?n.effects=[o]:x.push(o))}else h={eventTime:h,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(d=m=h,c=u):m=m.next=h,l|=x;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;x=o,o=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(m===null&&(c=u),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=m,s=n.shared.interleaved,s!==null){n=s;do l|=n.lane,n=n.next;while(n!==s)}else i===null&&(n.shared.lanes=0);Hi|=l,t.lanes=l,t.memoizedState=u}}function $N(t,s,r){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(ge(191,n));n.call(a)}}}var Nu={},ma=Zn(Nu),yd=Zn(Nu),bd=Zn(Nu);function vi(t){if(t===Nu)throw Error(ge(174));return t}function qb(t,s){switch(pt(bd,s),pt(yd,t),pt(ma,Nu),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:jg(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=jg(s,t)}jt(ma),pt(ma,s)}function co(){jt(ma),jt(yd),jt(bd)}function Q3(t){vi(bd.current);var s=vi(ma.current),r=jg(s,t.type);s!==r&&(pt(yd,t),pt(ma,r))}function zb(t){yd.current===t&&(jt(ma),jt(yd))}var kt=Zn(0);function lh(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var x0=[];function Ub(){for(var t=0;t<x0.length;t++)x0[t]._workInProgressVersionPrimary=null;x0.length=0}var Om=tn.ReactCurrentDispatcher,p0=tn.ReactCurrentBatchConfig,Vi=0,St=null,Wt=null,ss=null,oh=!1,Qc=!1,vd=0,rT=0;function bs(){throw Error(ge(321))}function Wb(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Zr(t[r],s[r]))return!1;return!0}function Vb(t,s,r,a,n,i){if(Vi=i,St=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Om.current=t===null||t.memoizedState===null?lT:oT,t=r(a,n),Qc){i=0;do{if(Qc=!1,vd=0,25<=i)throw Error(ge(301));i+=1,ss=Wt=null,s.updateQueue=null,Om.current=cT,t=r(a,n)}while(Qc)}if(Om.current=ch,s=Wt!==null&&Wt.next!==null,Vi=0,ss=Wt=St=null,oh=!1,s)throw Error(ge(300));return t}function Hb(){var t=vd!==0;return vd=0,t}function ra(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ss===null?St.memoizedState=ss=t:ss=ss.next=t,ss}function Ar(){if(Wt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var s=ss===null?St.memoizedState:ss.next;if(s!==null)ss=s,Wt=t;else{if(t===null)throw Error(ge(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},ss===null?St.memoizedState=ss=t:ss=ss.next=t}return ss}function jd(t,s){return typeof s=="function"?s(t):s}function g0(t){var s=Ar(),r=s.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var a=Wt,n=a.baseQueue,i=r.pending;if(i!==null){if(n!==null){var l=n.next;n.next=i.next,i.next=l}a.baseQueue=n=i,r.pending=null}if(n!==null){i=n.next,a=a.baseState;var o=l=null,c=null,d=i;do{var m=d.lane;if((Vi&m)===m)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:t(a,d.action);else{var u={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=u,l=a):c=c.next=u,St.lanes|=m,Hi|=m}d=d.next}while(d!==null&&d!==i);c===null?l=a:c.next=o,Zr(a,s.memoizedState)||(Gs=!0),s.memoizedState=a,s.baseState=l,s.baseQueue=c,r.lastRenderedState=a}if(t=r.interleaved,t!==null){n=t;do i=n.lane,St.lanes|=i,Hi|=i,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function f0(t){var s=Ar(),r=s.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=t;var a=r.dispatch,n=r.pending,i=s.memoizedState;if(n!==null){r.pending=null;var l=n=n.next;do i=t(i,l.action),l=l.next;while(l!==n);Zr(i,s.memoizedState)||(Gs=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),r.lastRenderedState=i}return[i,a]}function X3(){}function Z3(t,s){var r=St,a=Ar(),n=s(),i=!Zr(a.memoizedState,n);if(i&&(a.memoizedState=n,Gs=!0),a=a.queue,Kb(t5.bind(null,r,a,t),[t]),a.getSnapshot!==s||i||ss!==null&&ss.memoizedState.tag&1){if(r.flags|=2048,Nd(9,e5.bind(null,r,a,n,s),void 0,null),ns===null)throw Error(ge(349));Vi&30||J3(r,s,n)}return n}function J3(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function e5(t,s,r,a){s.value=r,s.getSnapshot=a,s5(s)&&r5(t)}function t5(t,s,r){return r(function(){s5(s)&&r5(t)})}function s5(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Zr(t,r)}catch{return!0}}function r5(t){var s=Ka(t,1);s!==null&&Qr(s,t,1,-1)}function TN(t){var s=ra();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jd,lastRenderedState:t},s.queue=t,t=t.dispatch=iT.bind(null,St,t),[s.memoizedState,t]}function Nd(t,s,r,a){return t={tag:t,create:s,destroy:r,deps:a,next:null},s=St.updateQueue,s===null?(s={lastEffect:null,stores:null},St.updateQueue=s,s.lastEffect=t.next=t):(r=s.lastEffect,r===null?s.lastEffect=t.next=t:(a=r.next,r.next=t,t.next=a,s.lastEffect=t)),t}function a5(){return Ar().memoizedState}function $m(t,s,r,a){var n=ra();St.flags|=t,n.memoizedState=Nd(1|s,r,void 0,a===void 0?null:a)}function Ox(t,s,r,a){var n=Ar();a=a===void 0?null:a;var i=void 0;if(Wt!==null){var l=Wt.memoizedState;if(i=l.destroy,a!==null&&Wb(a,l.deps)){n.memoizedState=Nd(s,r,i,a);return}}St.flags|=t,n.memoizedState=Nd(1|s,r,i,a)}function EN(t,s){return $m(8390656,8,t,s)}function Kb(t,s){return Ox(2048,8,t,s)}function n5(t,s){return Ox(4,2,t,s)}function i5(t,s){return Ox(4,4,t,s)}function l5(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function o5(t,s,r){return r=r!=null?r.concat([t]):null,Ox(4,4,l5.bind(null,s,t),r)}function Gb(){}function c5(t,s){var r=Ar();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Wb(s,a[1])?a[0]:(r.memoizedState=[t,s],t)}function d5(t,s){var r=Ar();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Wb(s,a[1])?a[0]:(t=t(),r.memoizedState=[t,s],t)}function u5(t,s,r){return Vi&21?(Zr(r,s)||(r=g3(),St.lanes|=r,Hi|=r,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,Gs=!0),t.memoizedState=r)}function aT(t,s){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var a=p0.transition;p0.transition={};try{t(!1),s()}finally{lt=r,p0.transition=a}}function m5(){return Ar().memoizedState}function nT(t,s,r){var a=Bn(t);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},h5(t))x5(s,r);else if(r=G3(t,s,r,a),r!==null){var n=Is();Qr(r,t,a,n),p5(r,s,a)}}function iT(t,s,r){var a=Bn(t),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(h5(t))x5(s,n);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var l=s.lastRenderedState,o=i(l,r);if(n.hasEagerState=!0,n.eagerState=o,Zr(o,l)){var c=s.interleaved;c===null?(n.next=n,Ib(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=G3(t,s,n,a),r!==null&&(n=Is(),Qr(r,t,a,n),p5(r,s,a))}}function h5(t){var s=t.alternate;return t===St||s!==null&&s===St}function x5(t,s){Qc=oh=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function p5(t,s,r){if(r&4194240){var a=s.lanes;a&=t.pendingLanes,r|=a,s.lanes=r,kb(t,r)}}var ch={readContext:Pr,useCallback:bs,useContext:bs,useEffect:bs,useImperativeHandle:bs,useInsertionEffect:bs,useLayoutEffect:bs,useMemo:bs,useReducer:bs,useRef:bs,useState:bs,useDebugValue:bs,useDeferredValue:bs,useTransition:bs,useMutableSource:bs,useSyncExternalStore:bs,useId:bs,unstable_isNewReconciler:!1},lT={readContext:Pr,useCallback:function(t,s){return ra().memoizedState=[t,s===void 0?null:s],t},useContext:Pr,useEffect:EN,useImperativeHandle:function(t,s,r){return r=r!=null?r.concat([t]):null,$m(4194308,4,l5.bind(null,s,t),r)},useLayoutEffect:function(t,s){return $m(4194308,4,t,s)},useInsertionEffect:function(t,s){return $m(4,2,t,s)},useMemo:function(t,s){var r=ra();return s=s===void 0?null:s,t=t(),r.memoizedState=[t,s],t},useReducer:function(t,s,r){var a=ra();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=nT.bind(null,St,t),[a.memoizedState,t]},useRef:function(t){var s=ra();return t={current:t},s.memoizedState=t},useState:TN,useDebugValue:Gb,useDeferredValue:function(t){return ra().memoizedState=t},useTransition:function(){var t=TN(!1),s=t[0];return t=aT.bind(null,t[1]),ra().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,r){var a=St,n=ra();if(Nt){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=s(),ns===null)throw Error(ge(349));Vi&30||J3(a,s,r)}n.memoizedState=r;var i={value:r,getSnapshot:s};return n.queue=i,EN(t5.bind(null,a,i,t),[t]),a.flags|=2048,Nd(9,e5.bind(null,a,i,r,s),void 0,null),r},useId:function(){var t=ra(),s=ns.identifierPrefix;if(Nt){var r=Fa,a=Ma;r=(a&~(1<<32-Yr(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=vd++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=rT++,s=":"+s+"r"+r.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},oT={readContext:Pr,useCallback:c5,useContext:Pr,useEffect:Kb,useImperativeHandle:o5,useInsertionEffect:n5,useLayoutEffect:i5,useMemo:d5,useReducer:g0,useRef:a5,useState:function(){return g0(jd)},useDebugValue:Gb,useDeferredValue:function(t){var s=Ar();return u5(s,Wt.memoizedState,t)},useTransition:function(){var t=g0(jd)[0],s=Ar().memoizedState;return[t,s]},useMutableSource:X3,useSyncExternalStore:Z3,useId:m5,unstable_isNewReconciler:!1},cT={readContext:Pr,useCallback:c5,useContext:Pr,useEffect:Kb,useImperativeHandle:o5,useInsertionEffect:n5,useLayoutEffect:i5,useMemo:d5,useReducer:f0,useRef:a5,useState:function(){return f0(jd)},useDebugValue:Gb,useDeferredValue:function(t){var s=Ar();return Wt===null?s.memoizedState=t:u5(s,Wt.memoizedState,t)},useTransition:function(){var t=f0(jd)[0],s=Ar().memoizedState;return[t,s]},useMutableSource:X3,useSyncExternalStore:Z3,useId:m5,unstable_isNewReconciler:!1};function Ir(t,s){if(t&&t.defaultProps){s=Ct({},s),t=t.defaultProps;for(var r in t)s[r]===void 0&&(s[r]=t[r]);return s}return s}function zg(t,s,r,a){s=t.memoizedState,r=r(a,s),r=r==null?s:Ct({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $x={isMounted:function(t){return(t=t._reactInternals)?al(t)===t:!1},enqueueSetState:function(t,s,r){t=t._reactInternals;var a=Is(),n=Bn(t),i=Ba(a,n);i.payload=s,r!=null&&(i.callback=r),s=Dn(t,i,n),s!==null&&(Qr(s,t,n,a),Am(s,t,n))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var a=Is(),n=Bn(t),i=Ba(a,n);i.tag=1,i.payload=s,r!=null&&(i.callback=r),s=Dn(t,i,n),s!==null&&(Qr(s,t,n,a),Am(s,t,n))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=Is(),a=Bn(t),n=Ba(r,a);n.tag=2,s!=null&&(n.callback=s),s=Dn(t,n,a),s!==null&&(Qr(s,t,a,r),Am(s,t,a))}};function MN(t,s,r,a,n,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,i,l):s.prototype&&s.prototype.isPureReactComponent?!xd(r,a)||!xd(n,i):!0}function g5(t,s,r){var a=!1,n=Gn,i=s.contextType;return typeof i=="object"&&i!==null?i=Pr(i):(n=Xs(s)?Ui:As.current,a=s.contextTypes,i=(a=a!=null)?io(t,n):Gn),s=new s(r,i),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$x,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=i),s}function FN(t,s,r,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==t&&$x.enqueueReplaceState(s,s.state,null)}function Ug(t,s,r,a){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},Bb(t);var i=s.contextType;typeof i=="object"&&i!==null?n.context=Pr(i):(i=Xs(s)?Ui:As.current,n.context=io(t,i)),n.state=t.memoizedState,i=s.getDerivedStateFromProps,typeof i=="function"&&(zg(t,s,i,r),n.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&$x.enqueueReplaceState(n,n.state,null),ih(t,r,n,a),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function uo(t,s){try{var r="",a=s;do r+=LO(a),a=a.return;while(a);var n=r}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:s,stack:n,digest:null}}function y0(t,s,r){return{value:t,source:null,stack:r??null,digest:s??null}}function Wg(t,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var dT=typeof WeakMap=="function"?WeakMap:Map;function f5(t,s,r){r=Ba(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){uh||(uh=!0,ef=a),Wg(t,s)},r}function y5(t,s,r){r=Ba(-1,r),r.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){Wg(t,s)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Wg(t,s),typeof a!="function"&&(In===null?In=new Set([this]):In.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})}),r}function RN(t,s,r){var a=t.pingCache;if(a===null){a=t.pingCache=new dT;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),t=_T.bind(null,t,s,r),s.then(t,t))}function LN(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function DN(t,s,r,a,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===s?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ba(-1,1),s.tag=2,Dn(r,s,1))),r.lanes|=1),t)}var uT=tn.ReactCurrentOwner,Gs=!1;function Es(t,s,r,a){s.child=t===null?K3(s,null,r,a):oo(s,t.child,r,a)}function IN(t,s,r,a,n){r=r.render;var i=s.ref;return ql(s,n),a=Vb(t,s,r,a,i,n),r=Hb(),t!==null&&!Gs?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Ga(t,s,n)):(Nt&&r&&Eb(s),s.flags|=1,Es(t,s,a,n),s.child)}function BN(t,s,r,a,n){if(t===null){var i=r.type;return typeof i=="function"&&!sv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=i,b5(t,s,i,a,n)):(t=Fm(r.type,null,a,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(i=t.child,!(t.lanes&n)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:xd,r(l,a)&&t.ref===s.ref)return Ga(t,s,n)}return s.flags|=1,t=qn(i,a),t.ref=s.ref,t.return=s,s.child=t}function b5(t,s,r,a,n){if(t!==null){var i=t.memoizedProps;if(xd(i,a)&&t.ref===s.ref)if(Gs=!1,s.pendingProps=a=i,(t.lanes&n)!==0)t.flags&131072&&(Gs=!0);else return s.lanes=t.lanes,Ga(t,s,n)}return Vg(t,s,r,a,n)}function v5(t,s,r){var a=s.pendingProps,n=a.children,i=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Al,ar),ar|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,pt(Al,ar),ar|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,pt(Al,ar),ar|=a}else i!==null?(a=i.baseLanes|r,s.memoizedState=null):a=r,pt(Al,ar),ar|=a;return Es(t,s,n,r),s.child}function j5(t,s){var r=s.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Vg(t,s,r,a,n){var i=Xs(r)?Ui:As.current;return i=io(s,i),ql(s,n),r=Vb(t,s,r,a,i,n),a=Hb(),t!==null&&!Gs?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~n,Ga(t,s,n)):(Nt&&a&&Eb(s),s.flags|=1,Es(t,s,r,n),s.child)}function qN(t,s,r,a,n){if(Xs(r)){var i=!0;th(s)}else i=!1;if(ql(s,n),s.stateNode===null)Tm(t,s),g5(s,r,a),Ug(s,r,a,n),a=!0;else if(t===null){var l=s.stateNode,o=s.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=Pr(d):(d=Xs(r)?Ui:As.current,d=io(s,d));var m=r.getDerivedStateFromProps,u=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";u||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==a||c!==d)&&FN(s,l,a,d),pn=!1;var x=s.memoizedState;l.state=x,ih(s,a,l,n),c=s.memoizedState,o!==a||x!==c||Qs.current||pn?(typeof m=="function"&&(zg(s,r,m,a),c=s.memoizedState),(o=pn||MN(s,r,o,a,x,c,d))?(u||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(s.flags|=4194308)):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),l.props=a,l.state=c,l.context=d,a=o):(typeof l.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{l=s.stateNode,Y3(t,s),o=s.memoizedProps,d=s.type===s.elementType?o:Ir(s.type,o),l.props=d,u=s.pendingProps,x=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Pr(c):(c=Xs(r)?Ui:As.current,c=io(s,c));var h=r.getDerivedStateFromProps;(m=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==u||x!==c)&&FN(s,l,a,c),pn=!1,x=s.memoizedState,l.state=x,ih(s,a,l,n);var f=s.memoizedState;o!==u||x!==f||Qs.current||pn?(typeof h=="function"&&(zg(s,r,h,a),f=s.memoizedState),(d=pn||MN(s,r,d,a,x,f,c)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,f,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,f,c)),typeof l.componentDidUpdate=="function"&&(s.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=f),l.props=a,l.state=f,l.context=c,a=d):(typeof l.componentDidUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&x===t.memoizedState||(s.flags|=1024),a=!1)}return Hg(t,s,r,a,i,n)}function Hg(t,s,r,a,n,i){j5(t,s);var l=(s.flags&128)!==0;if(!a&&!l)return n&&SN(s,r,!1),Ga(t,s,i);a=s.stateNode,uT.current=s;var o=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&l?(s.child=oo(s,t.child,null,i),s.child=oo(s,null,o,i)):Es(t,s,o,i),s.memoizedState=a.state,n&&SN(s,r,!0),s.child}function N5(t){var s=t.stateNode;s.pendingContext?kN(t,s.pendingContext,s.pendingContext!==s.context):s.context&&kN(t,s.context,!1),qb(t,s.containerInfo)}function zN(t,s,r,a,n){return lo(),Fb(n),s.flags|=256,Es(t,s,r,a),s.child}var Kg={dehydrated:null,treeContext:null,retryLane:0};function Gg(t){return{baseLanes:t,cachePool:null,transitions:null}}function w5(t,s,r){var a=s.pendingProps,n=kt.current,i=!1,l=(s.flags&128)!==0,o;if((o=l)||(o=t!==null&&t.memoizedState===null?!1:(n&2)!==0),o?(i=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),pt(kt,n&1),t===null)return Bg(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(l=a.children,t=a.fallback,i?(a=s.mode,i=s.child,l={mode:"hidden",children:l},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Mx(l,a,0,null),t=Di(t,a,r,null),i.return=s,t.return=s,i.sibling=t,s.child=i,s.child.memoizedState=Gg(r),s.memoizedState=Kg,t):Yb(s,l));if(n=t.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return mT(t,s,l,a,o,n,r);if(i){i=a.fallback,l=s.mode,n=t.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(l&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=qn(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?i=qn(o,i):(i=Di(i,l,r,null),i.flags|=2),i.return=s,a.return=s,a.sibling=i,s.child=a,a=i,i=s.child,l=t.child.memoizedState,l=l===null?Gg(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~r,s.memoizedState=Kg,a}return i=t.child,t=i.sibling,a=qn(i,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,t!==null&&(r=s.deletions,r===null?(s.deletions=[t],s.flags|=16):r.push(t)),s.child=a,s.memoizedState=null,a}function Yb(t,s){return s=Mx({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function Xu(t,s,r,a){return a!==null&&Fb(a),oo(s,t.child,null,r),t=Yb(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function mT(t,s,r,a,n,i,l){if(r)return s.flags&256?(s.flags&=-257,a=y0(Error(ge(422))),Xu(t,s,l,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(i=a.fallback,n=s.mode,a=Mx({mode:"visible",children:a.children},n,0,null),i=Di(i,n,l,null),i.flags|=2,a.return=s,i.return=s,a.sibling=i,s.child=a,s.mode&1&&oo(s,t.child,null,l),s.child.memoizedState=Gg(l),s.memoizedState=Kg,i);if(!(s.mode&1))return Xu(t,s,l,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,i=Error(ge(419)),a=y0(i,a,void 0),Xu(t,s,l,a)}if(o=(l&t.childLanes)!==0,Gs||o){if(a=ns,a!==null){switch(l&-l){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|l)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Ka(t,n),Qr(a,t,n,-1))}return tv(),a=y0(Error(ge(421))),Xu(t,s,l,a)}return n.data==="$?"?(s.flags|=128,s.child=t.child,s=kT.bind(null,t),n._reactRetry=s,null):(t=i.treeContext,lr=Ln(n.nextSibling),or=s,Nt=!0,Kr=null,t!==null&&(vr[jr++]=Ma,vr[jr++]=Fa,vr[jr++]=Wi,Ma=t.id,Fa=t.overflow,Wi=s),s=Yb(s,a.children),s.flags|=4096,s)}function UN(t,s,r){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),qg(t.return,s,r)}function b0(t,s,r,a,n){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=n)}function _5(t,s,r){var a=s.pendingProps,n=a.revealOrder,i=a.tail;if(Es(t,s,a.children,r),a=kt.current,a&2)a=a&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UN(t,r,s);else if(t.tag===19)UN(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(pt(kt,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)t=r.alternate,t!==null&&lh(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),b0(s,!1,n,r,i);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&lh(t)===null){s.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}b0(s,!0,r,null,i);break;case"together":b0(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tm(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function Ga(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),Hi|=s.lanes,!(r&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(ge(153));if(s.child!==null){for(t=s.child,r=qn(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=qn(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function hT(t,s,r){switch(s.tag){case 3:N5(s),lo();break;case 5:Q3(s);break;case 1:Xs(s.type)&&th(s);break;case 4:qb(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;pt(ah,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(pt(kt,kt.current&1),s.flags|=128,null):r&s.child.childLanes?w5(t,s,r):(pt(kt,kt.current&1),t=Ga(t,s,r),t!==null?t.sibling:null);pt(kt,kt.current&1);break;case 19:if(a=(r&s.childLanes)!==0,t.flags&128){if(a)return _5(t,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),pt(kt,kt.current),a)break;return null;case 22:case 23:return s.lanes=0,v5(t,s,r)}return Ga(t,s,r)}var k5,Yg,S5,C5;k5=function(t,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yg=function(){};S5=function(t,s,r,a){var n=t.memoizedProps;if(n!==a){t=s.stateNode,vi(ma.current);var i=null;switch(r){case"input":n=fg(t,n),a=fg(t,a),i=[];break;case"select":n=Ct({},n,{value:void 0}),a=Ct({},a,{value:void 0}),i=[];break;case"textarea":n=vg(t,n),a=vg(t,a),i=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Jm)}Ng(r,a);var l;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ld.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ld.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&yt("scroll",t),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(s.updateQueue=d)&&(s.flags|=4)}};C5=function(t,s,r,a){r!==a&&(s.flags|=4)};function jc(t,s){if(!Nt)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function vs(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,a=0;if(s)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=a,t.childLanes=r,s}function xT(t,s,r){var a=s.pendingProps;switch(Mb(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(s),null;case 1:return Xs(s.type)&&eh(),vs(s),null;case 3:return a=s.stateNode,co(),jt(Qs),jt(As),Ub(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yu(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Kr!==null&&(rf(Kr),Kr=null))),Yg(t,s),vs(s),null;case 5:zb(s);var n=vi(bd.current);if(r=s.type,t!==null&&s.stateNode!=null)S5(t,s,r,a,n),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(ge(166));return vs(s),null}if(t=vi(ma.current),Yu(s)){a=s.stateNode,r=s.type;var i=s.memoizedProps;switch(a[la]=s,a[fd]=i,t=(s.mode&1)!==0,r){case"dialog":yt("cancel",a),yt("close",a);break;case"iframe":case"object":case"embed":yt("load",a);break;case"video":case"audio":for(n=0;n<qc.length;n++)yt(qc[n],a);break;case"source":yt("error",a);break;case"img":case"image":case"link":yt("error",a),yt("load",a);break;case"details":yt("toggle",a);break;case"input":Zj(a,i),yt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},yt("invalid",a);break;case"textarea":eN(a,i),yt("invalid",a)}Ng(r,i),n=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?a.textContent!==o&&(i.suppressHydrationWarning!==!0&&Gu(a.textContent,o,t),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Gu(a.textContent,o,t),n=["children",""+o]):ld.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&yt("scroll",a)}switch(r){case"input":Bu(a),Jj(a,i,!0);break;case"textarea":Bu(a),tN(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Jm)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{l=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t3(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=l.createElement(r,{is:a.is}):(t=l.createElement(r),r==="select"&&(l=t,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):t=l.createElementNS(t,r),t[la]=s,t[fd]=a,k5(t,s,!1,!1),s.stateNode=t;e:{switch(l=wg(r,a),r){case"dialog":yt("cancel",t),yt("close",t),n=a;break;case"iframe":case"object":case"embed":yt("load",t),n=a;break;case"video":case"audio":for(n=0;n<qc.length;n++)yt(qc[n],t);n=a;break;case"source":yt("error",t),n=a;break;case"img":case"image":case"link":yt("error",t),yt("load",t),n=a;break;case"details":yt("toggle",t),n=a;break;case"input":Zj(t,a),n=fg(t,a),yt("invalid",t);break;case"option":n=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},n=Ct({},a,{value:void 0}),yt("invalid",t);break;case"textarea":eN(t,a),n=vg(t,a),yt("invalid",t);break;default:n=a}Ng(r,n),o=n;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?a3(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s3(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&od(t,c):typeof c=="number"&&od(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ld.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yt("scroll",t):c!=null&&bb(t,i,c,l))}switch(r){case"input":Bu(t),Jj(t,a,!1);break;case"textarea":Bu(t),tN(t);break;case"option":a.value!=null&&t.setAttribute("value",""+Kn(a.value));break;case"select":t.multiple=!!a.multiple,i=a.value,i!=null?Ll(t,!!a.multiple,i,!1):a.defaultValue!=null&&Ll(t,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Jm)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return vs(s),null;case 6:if(t&&s.stateNode!=null)C5(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(ge(166));if(r=vi(bd.current),vi(ma.current),Yu(s)){if(a=s.stateNode,r=s.memoizedProps,a[la]=s,(i=a.nodeValue!==r)&&(t=or,t!==null))switch(t.tag){case 3:Gu(a.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Gu(a.nodeValue,r,(t.mode&1)!==0)}i&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[la]=s,s.stateNode=a}return vs(s),null;case 13:if(jt(kt),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Nt&&lr!==null&&s.mode&1&&!(s.flags&128))V3(),lo(),s.flags|=98560,i=!1;else if(i=Yu(s),a!==null&&a.dehydrated!==null){if(t===null){if(!i)throw Error(ge(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[la]=s}else lo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;vs(s),i=!1}else Kr!==null&&(rf(Kr),Kr=null),i=!0;if(!i)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(t===null||kt.current&1?Yt===0&&(Yt=3):tv())),s.updateQueue!==null&&(s.flags|=4),vs(s),null);case 4:return co(),Yg(t,s),t===null&&pd(s.stateNode.containerInfo),vs(s),null;case 10:return Db(s.type._context),vs(s),null;case 17:return Xs(s.type)&&eh(),vs(s),null;case 19:if(jt(kt),i=s.memoizedState,i===null)return vs(s),null;if(a=(s.flags&128)!==0,l=i.rendering,l===null)if(a)jc(i,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(l=lh(t),l!==null){for(s.flags|=128,jc(i,!1),a=l.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)i=r,t=a,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pt(kt,kt.current&1|2),s.child}t=t.sibling}i.tail!==null&&Mt()>mo&&(s.flags|=128,a=!0,jc(i,!1),s.lanes=4194304)}else{if(!a)if(t=lh(l),t!==null){if(s.flags|=128,a=!0,r=t.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),jc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Nt)return vs(s),null}else 2*Mt()-i.renderingStartTime>mo&&r!==1073741824&&(s.flags|=128,a=!0,jc(i,!1),s.lanes=4194304);i.isBackwards?(l.sibling=s.child,s.child=l):(r=i.last,r!==null?r.sibling=l:s.child=l,i.last=l)}return i.tail!==null?(s=i.tail,i.rendering=s,i.tail=s.sibling,i.renderingStartTime=Mt(),s.sibling=null,r=kt.current,pt(kt,a?r&1|2:r&1),s):(vs(s),null);case 22:case 23:return ev(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?ar&1073741824&&(vs(s),s.subtreeFlags&6&&(s.flags|=8192)):vs(s),null;case 24:return null;case 25:return null}throw Error(ge(156,s.tag))}function pT(t,s){switch(Mb(s),s.tag){case 1:return Xs(s.type)&&eh(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return co(),jt(Qs),jt(As),Ub(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return zb(s),null;case 13:if(jt(kt),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(ge(340));lo()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return jt(kt),null;case 4:return co(),null;case 10:return Db(s.type._context),null;case 22:case 23:return ev(),null;case 24:return null;default:return null}}var Zu=!1,_s=!1,gT=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Pl(t,s){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){At(t,s,a)}else r.current=null}function Qg(t,s,r){try{r()}catch(a){At(t,s,a)}}var WN=!1;function fT(t,s){if(Eg=Qm,t=T3(),Tb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,m=0,u=t,x=null;t:for(;;){for(var h;u!==r||n!==0&&u.nodeType!==3||(o=l+n),u!==i||a!==0&&u.nodeType!==3||(c=l+a),u.nodeType===3&&(l+=u.nodeValue.length),(h=u.firstChild)!==null;)x=u,u=h;for(;;){if(u===t)break t;if(x===r&&++d===n&&(o=l),x===i&&++m===a&&(c=l),(h=u.nextSibling)!==null)break;u=x,x=u.parentNode}u=h}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mg={focusedElem:t,selectionRange:r},Qm=!1,_e=s;_e!==null;)if(s=_e,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,_e=t;else for(;_e!==null;){s=_e;try{var f=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var p=f.memoizedProps,N=f.memoizedState,y=s.stateNode,j=y.getSnapshotBeforeUpdate(s.elementType===s.type?p:Ir(s.type,p),N);y.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var g=s.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(S){At(s,s.return,S)}if(t=s.sibling,t!==null){t.return=s.return,_e=t;break}_e=s.return}return f=WN,WN=!1,f}function Xc(t,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&t)===t){var i=n.destroy;n.destroy=void 0,i!==void 0&&Qg(s,r,i)}n=n.next}while(n!==a)}}function Tx(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function Xg(t){var s=t.ref;if(s!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof s=="function"?s(t):s.current=t}}function P5(t){var s=t.alternate;s!==null&&(t.alternate=null,P5(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[la],delete s[fd],delete s[Lg],delete s[J$],delete s[eT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function A5(t){return t.tag===5||t.tag===3||t.tag===4}function VN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zg(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(t,s):r.insertBefore(t,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(t,r)):(s=r,s.appendChild(t)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=Jm));else if(a!==4&&(t=t.child,t!==null))for(Zg(t,s,r),t=t.sibling;t!==null;)Zg(t,s,r),t=t.sibling}function Jg(t,s,r){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(Jg(t,s,r),t=t.sibling;t!==null;)Jg(t,s,r),t=t.sibling}var cs=null,Ur=!1;function dn(t,s,r){for(r=r.child;r!==null;)O5(t,s,r),r=r.sibling}function O5(t,s,r){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(_x,r)}catch{}switch(r.tag){case 5:_s||Pl(r,s);case 6:var a=cs,n=Ur;cs=null,dn(t,s,r),cs=a,Ur=n,cs!==null&&(Ur?(t=cs,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):cs.removeChild(r.stateNode));break;case 18:cs!==null&&(Ur?(t=cs,r=r.stateNode,t.nodeType===8?m0(t.parentNode,r):t.nodeType===1&&m0(t,r),md(t)):m0(cs,r.stateNode));break;case 4:a=cs,n=Ur,cs=r.stateNode.containerInfo,Ur=!0,dn(t,s,r),cs=a,Ur=n;break;case 0:case 11:case 14:case 15:if(!_s&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var i=n,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Qg(r,s,l),n=n.next}while(n!==a)}dn(t,s,r);break;case 1:if(!_s&&(Pl(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){At(r,s,o)}dn(t,s,r);break;case 21:dn(t,s,r);break;case 22:r.mode&1?(_s=(a=_s)||r.memoizedState!==null,dn(t,s,r),_s=a):dn(t,s,r);break;default:dn(t,s,r)}}function HN(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new gT),s.forEach(function(a){var n=ST.bind(null,t,a);r.has(a)||(r.add(a),a.then(n,n))})}}function Lr(t,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var i=t,l=s,o=l;e:for(;o!==null;){switch(o.tag){case 5:cs=o.stateNode,Ur=!1;break e;case 3:cs=o.stateNode.containerInfo,Ur=!0;break e;case 4:cs=o.stateNode.containerInfo,Ur=!0;break e}o=o.return}if(cs===null)throw Error(ge(160));O5(i,l,n),cs=null,Ur=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){At(n,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)$5(s,t),s=s.sibling}function $5(t,s){var r=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lr(s,t),ta(t),a&4){try{Xc(3,t,t.return),Tx(3,t)}catch(p){At(t,t.return,p)}try{Xc(5,t,t.return)}catch(p){At(t,t.return,p)}}break;case 1:Lr(s,t),ta(t),a&512&&r!==null&&Pl(r,r.return);break;case 5:if(Lr(s,t),ta(t),a&512&&r!==null&&Pl(r,r.return),t.flags&32){var n=t.stateNode;try{od(n,"")}catch(p){At(t,t.return,p)}}if(a&4&&(n=t.stateNode,n!=null)){var i=t.memoizedProps,l=r!==null?r.memoizedProps:i,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&J4(n,i),wg(o,l);var d=wg(o,i);for(l=0;l<c.length;l+=2){var m=c[l],u=c[l+1];m==="style"?a3(n,u):m==="dangerouslySetInnerHTML"?s3(n,u):m==="children"?od(n,u):bb(n,m,u,d)}switch(o){case"input":yg(n,i);break;case"textarea":e3(n,i);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Ll(n,!!i.multiple,h,!1):x!==!!i.multiple&&(i.defaultValue!=null?Ll(n,!!i.multiple,i.defaultValue,!0):Ll(n,!!i.multiple,i.multiple?[]:"",!1))}n[fd]=i}catch(p){At(t,t.return,p)}}break;case 6:if(Lr(s,t),ta(t),a&4){if(t.stateNode===null)throw Error(ge(162));n=t.stateNode,i=t.memoizedProps;try{n.nodeValue=i}catch(p){At(t,t.return,p)}}break;case 3:if(Lr(s,t),ta(t),a&4&&r!==null&&r.memoizedState.isDehydrated)try{md(s.containerInfo)}catch(p){At(t,t.return,p)}break;case 4:Lr(s,t),ta(t);break;case 13:Lr(s,t),ta(t),n=t.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Zb=Mt())),a&4&&HN(t);break;case 22:if(m=r!==null&&r.memoizedState!==null,t.mode&1?(_s=(d=_s)||m,Lr(s,t),_s=d):Lr(s,t),ta(t),a&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!m&&t.mode&1)for(_e=t,m=t.child;m!==null;){for(u=_e=m;_e!==null;){switch(x=_e,h=x.child,x.tag){case 0:case 11:case 14:case 15:Xc(4,x,x.return);break;case 1:Pl(x,x.return);var f=x.stateNode;if(typeof f.componentWillUnmount=="function"){a=x,r=x.return;try{s=a,f.props=s.memoizedProps,f.state=s.memoizedState,f.componentWillUnmount()}catch(p){At(a,r,p)}}break;case 5:Pl(x,x.return);break;case 22:if(x.memoizedState!==null){GN(u);continue}}h!==null?(h.return=x,_e=h):GN(u)}m=m.sibling}e:for(m=null,u=t;;){if(u.tag===5){if(m===null){m=u;try{n=u.stateNode,d?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=u.stateNode,c=u.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=r3("display",l))}catch(p){At(t,t.return,p)}}}else if(u.tag===6){if(m===null)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(p){At(t,t.return,p)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Lr(s,t),ta(t),a&4&&HN(t);break;case 21:break;default:Lr(s,t),ta(t)}}function ta(t){var s=t.flags;if(s&2){try{e:{for(var r=t.return;r!==null;){if(A5(r)){var a=r;break e}r=r.return}throw Error(ge(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(od(n,""),a.flags&=-33);var i=VN(t);Jg(t,i,n);break;case 3:case 4:var l=a.stateNode.containerInfo,o=VN(t);Zg(t,o,l);break;default:throw Error(ge(161))}}catch(c){At(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function yT(t,s,r){_e=t,T5(t)}function T5(t,s,r){for(var a=(t.mode&1)!==0;_e!==null;){var n=_e,i=n.child;if(n.tag===22&&a){var l=n.memoizedState!==null||Zu;if(!l){var o=n.alternate,c=o!==null&&o.memoizedState!==null||_s;o=Zu;var d=_s;if(Zu=l,(_s=c)&&!d)for(_e=n;_e!==null;)l=_e,c=l.child,l.tag===22&&l.memoizedState!==null?YN(n):c!==null?(c.return=l,_e=c):YN(n);for(;i!==null;)_e=i,T5(i),i=i.sibling;_e=n,Zu=o,_s=d}KN(t)}else n.subtreeFlags&8772&&i!==null?(i.return=n,_e=i):KN(t)}}function KN(t){for(;_e!==null;){var s=_e;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:_s||Tx(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!_s)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:Ir(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=s.updateQueue;i!==null&&$N(s,i,a);break;case 3:var l=s.updateQueue;if(l!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}$N(s,l,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var u=m.dehydrated;u!==null&&md(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}_s||s.flags&512&&Xg(s)}catch(x){At(s,s.return,x)}}if(s===t){_e=null;break}if(r=s.sibling,r!==null){r.return=s.return,_e=r;break}_e=s.return}}function GN(t){for(;_e!==null;){var s=_e;if(s===t){_e=null;break}var r=s.sibling;if(r!==null){r.return=s.return,_e=r;break}_e=s.return}}function YN(t){for(;_e!==null;){var s=_e;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Tx(4,s)}catch(c){At(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){At(s,n,c)}}var i=s.return;try{Xg(s)}catch(c){At(s,i,c)}break;case 5:var l=s.return;try{Xg(s)}catch(c){At(s,l,c)}}}catch(c){At(s,s.return,c)}if(s===t){_e=null;break}var o=s.sibling;if(o!==null){o.return=s.return,_e=o;break}_e=s.return}}var bT=Math.ceil,dh=tn.ReactCurrentDispatcher,Qb=tn.ReactCurrentOwner,Sr=tn.ReactCurrentBatchConfig,et=0,ns=null,It=null,us=0,ar=0,Al=Zn(0),Yt=0,wd=null,Hi=0,Ex=0,Xb=0,Zc=null,Hs=null,Zb=0,mo=1/0,Sa=null,uh=!1,ef=null,In=null,Ju=!1,On=null,mh=0,Jc=0,tf=null,Em=-1,Mm=0;function Is(){return et&6?Mt():Em!==-1?Em:Em=Mt()}function Bn(t){return t.mode&1?et&2&&us!==0?us&-us:sT.transition!==null?(Mm===0&&(Mm=g3()),Mm):(t=lt,t!==0||(t=window.event,t=t===void 0?16:w3(t.type)),t):1}function Qr(t,s,r,a){if(50<Jc)throw Jc=0,tf=null,Error(ge(185));bu(t,r,a),(!(et&2)||t!==ns)&&(t===ns&&(!(et&2)&&(Ex|=r),Yt===4&&yn(t,us)),Zs(t,a),r===1&&et===0&&!(s.mode&1)&&(mo=Mt()+500,Ax&&Jn()))}function Zs(t,s){var r=t.callbackNode;s$(t,s);var a=Ym(t,t===ns?us:0);if(a===0)r!==null&&aN(r),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(r!=null&&aN(r),s===1)t.tag===0?tT(QN.bind(null,t)):z3(QN.bind(null,t)),X$(function(){!(et&6)&&Jn()}),r=null;else{switch(f3(a)){case 1:r=_b;break;case 4:r=x3;break;case 16:r=Gm;break;case 536870912:r=p3;break;default:r=Gm}r=B5(r,E5.bind(null,t))}t.callbackPriority=s,t.callbackNode=r}}function E5(t,s){if(Em=-1,Mm=0,et&6)throw Error(ge(327));var r=t.callbackNode;if(zl()&&t.callbackNode!==r)return null;var a=Ym(t,t===ns?us:0);if(a===0)return null;if(a&30||a&t.expiredLanes||s)s=hh(t,a);else{s=a;var n=et;et|=2;var i=F5();(ns!==t||us!==s)&&(Sa=null,mo=Mt()+500,Li(t,s));do try{NT();break}catch(o){M5(t,o)}while(!0);Lb(),dh.current=i,et=n,It!==null?s=0:(ns=null,us=0,s=Yt)}if(s!==0){if(s===2&&(n=Pg(t),n!==0&&(a=n,s=sf(t,n))),s===1)throw r=wd,Li(t,0),yn(t,a),Zs(t,Mt()),r;if(s===6)yn(t,a);else{if(n=t.current.alternate,!(a&30)&&!vT(n)&&(s=hh(t,a),s===2&&(i=Pg(t),i!==0&&(a=i,s=sf(t,i))),s===1))throw r=wd,Li(t,0),yn(t,a),Zs(t,Mt()),r;switch(t.finishedWork=n,t.finishedLanes=a,s){case 0:case 1:throw Error(ge(345));case 2:mi(t,Hs,Sa);break;case 3:if(yn(t,a),(a&130023424)===a&&(s=Zb+500-Mt(),10<s)){if(Ym(t,0)!==0)break;if(n=t.suspendedLanes,(n&a)!==a){Is(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=Rg(mi.bind(null,t,Hs,Sa),s);break}mi(t,Hs,Sa);break;case 4:if(yn(t,a),(a&4194240)===a)break;for(s=t.eventTimes,n=-1;0<a;){var l=31-Yr(a);i=1<<l,l=s[l],l>n&&(n=l),a&=~i}if(a=n,a=Mt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*bT(a/1960))-a,10<a){t.timeoutHandle=Rg(mi.bind(null,t,Hs,Sa),a);break}mi(t,Hs,Sa);break;case 5:mi(t,Hs,Sa);break;default:throw Error(ge(329))}}}return Zs(t,Mt()),t.callbackNode===r?E5.bind(null,t):null}function sf(t,s){var r=Zc;return t.current.memoizedState.isDehydrated&&(Li(t,s).flags|=256),t=hh(t,s),t!==2&&(s=Hs,Hs=r,s!==null&&rf(s)),t}function rf(t){Hs===null?Hs=t:Hs.push.apply(Hs,t)}function vT(t){for(var s=t;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],i=n.getSnapshot;n=n.value;try{if(!Zr(i(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yn(t,s){for(s&=~Xb,s&=~Ex,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var r=31-Yr(s),a=1<<r;t[r]=-1,s&=~a}}function QN(t){if(et&6)throw Error(ge(327));zl();var s=Ym(t,0);if(!(s&1))return Zs(t,Mt()),null;var r=hh(t,s);if(t.tag!==0&&r===2){var a=Pg(t);a!==0&&(s=a,r=sf(t,a))}if(r===1)throw r=wd,Li(t,0),yn(t,s),Zs(t,Mt()),r;if(r===6)throw Error(ge(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,mi(t,Hs,Sa),Zs(t,Mt()),null}function Jb(t,s){var r=et;et|=1;try{return t(s)}finally{et=r,et===0&&(mo=Mt()+500,Ax&&Jn())}}function Ki(t){On!==null&&On.tag===0&&!(et&6)&&zl();var s=et;et|=1;var r=Sr.transition,a=lt;try{if(Sr.transition=null,lt=1,t)return t()}finally{lt=a,Sr.transition=r,et=s,!(et&6)&&Jn()}}function ev(){ar=Al.current,jt(Al)}function Li(t,s){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Q$(r)),It!==null)for(r=It.return;r!==null;){var a=r;switch(Mb(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&eh();break;case 3:co(),jt(Qs),jt(As),Ub();break;case 5:zb(a);break;case 4:co();break;case 13:jt(kt);break;case 19:jt(kt);break;case 10:Db(a.type._context);break;case 22:case 23:ev()}r=r.return}if(ns=t,It=t=qn(t.current,null),us=ar=s,Yt=0,wd=null,Xb=Ex=Hi=0,Hs=Zc=null,bi!==null){for(s=0;s<bi.length;s++)if(r=bi[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,i=r.pending;if(i!==null){var l=i.next;i.next=n,a.next=l}r.pending=a}bi=null}return t}function M5(t,s){do{var r=It;try{if(Lb(),Om.current=ch,oh){for(var a=St.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}oh=!1}if(Vi=0,ss=Wt=St=null,Qc=!1,vd=0,Qb.current=null,r===null||r.return===null){Yt=1,wd=s,It=null;break}e:{var i=t,l=r.return,o=r,c=s;if(s=us,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,m=o,u=m.tag;if(!(m.mode&1)&&(u===0||u===11||u===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var h=LN(l);if(h!==null){h.flags&=-257,DN(h,l,o,i,s),h.mode&1&&RN(i,d,s),s=h,c=d;var f=s.updateQueue;if(f===null){var p=new Set;p.add(c),s.updateQueue=p}else f.add(c);break e}else{if(!(s&1)){RN(i,d,s),tv();break e}c=Error(ge(426))}}else if(Nt&&o.mode&1){var N=LN(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),DN(N,l,o,i,s),Fb(uo(c,o));break e}}i=c=uo(c,o),Yt!==4&&(Yt=2),Zc===null?Zc=[i]:Zc.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,s&=-s,i.lanes|=s;var y=f5(i,c,s);ON(i,y);break e;case 1:o=c;var j=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof j.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(In===null||!In.has(g)))){i.flags|=65536,s&=-s,i.lanes|=s;var S=y5(i,o,s);ON(i,S);break e}}i=i.return}while(i!==null)}L5(r)}catch(w){s=w,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function F5(){var t=dh.current;return dh.current=ch,t===null?ch:t}function tv(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),ns===null||!(Hi&268435455)&&!(Ex&268435455)||yn(ns,us)}function hh(t,s){var r=et;et|=2;var a=F5();(ns!==t||us!==s)&&(Sa=null,Li(t,s));do try{jT();break}catch(n){M5(t,n)}while(!0);if(Lb(),et=r,dh.current=a,It!==null)throw Error(ge(261));return ns=null,us=0,Yt}function jT(){for(;It!==null;)R5(It)}function NT(){for(;It!==null&&!KO();)R5(It)}function R5(t){var s=I5(t.alternate,t,ar);t.memoizedProps=t.pendingProps,s===null?L5(t):It=s,Qb.current=null}function L5(t){var s=t;do{var r=s.alternate;if(t=s.return,s.flags&32768){if(r=pT(r,s),r!==null){r.flags&=32767,It=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,It=null;return}}else if(r=xT(r,s,ar),r!==null){It=r;return}if(s=s.sibling,s!==null){It=s;return}It=s=t}while(s!==null);Yt===0&&(Yt=5)}function mi(t,s,r){var a=lt,n=Sr.transition;try{Sr.transition=null,lt=1,wT(t,s,r,a)}finally{Sr.transition=n,lt=a}return null}function wT(t,s,r,a){do zl();while(On!==null);if(et&6)throw Error(ge(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ge(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(r$(t,i),t===ns&&(It=ns=null,us=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ju||(Ju=!0,B5(Gm,function(){return zl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Sr.transition,Sr.transition=null;var l=lt;lt=1;var o=et;et|=4,Qb.current=null,fT(t,r),$5(r,t),U$(Mg),Qm=!!Eg,Mg=Eg=null,t.current=r,yT(r),GO(),et=o,lt=l,Sr.transition=i}else t.current=r;if(Ju&&(Ju=!1,On=t,mh=n),i=t.pendingLanes,i===0&&(In=null),XO(r.stateNode),Zs(t,Mt()),s!==null)for(a=t.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(uh)throw uh=!1,t=ef,ef=null,t;return mh&1&&t.tag!==0&&zl(),i=t.pendingLanes,i&1?t===tf?Jc++:(Jc=0,tf=t):Jc=0,Jn(),null}function zl(){if(On!==null){var t=f3(mh),s=Sr.transition,r=lt;try{if(Sr.transition=null,lt=16>t?16:t,On===null)var a=!1;else{if(t=On,On=null,mh=0,et&6)throw Error(ge(331));var n=et;for(et|=4,_e=t.current;_e!==null;){var i=_e,l=i.child;if(_e.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(_e=d;_e!==null;){var m=_e;switch(m.tag){case 0:case 11:case 15:Xc(8,m,i)}var u=m.child;if(u!==null)u.return=m,_e=u;else for(;_e!==null;){m=_e;var x=m.sibling,h=m.return;if(P5(m),m===d){_e=null;break}if(x!==null){x.return=h,_e=x;break}_e=h}}}var f=i.alternate;if(f!==null){var p=f.child;if(p!==null){f.child=null;do{var N=p.sibling;p.sibling=null,p=N}while(p!==null)}}_e=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,_e=l;else e:for(;_e!==null;){if(i=_e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,_e=y;break e}_e=i.return}}var j=t.current;for(_e=j;_e!==null;){l=_e;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,_e=g;else e:for(l=j;_e!==null;){if(o=_e,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tx(9,o)}}catch(w){At(o,o.return,w)}if(o===l){_e=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,_e=S;break e}_e=o.return}}if(et=n,Jn(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(_x,t)}catch{}a=!0}return a}finally{lt=r,Sr.transition=s}}return!1}function XN(t,s,r){s=uo(r,s),s=f5(t,s,1),t=Dn(t,s,1),s=Is(),t!==null&&(bu(t,1,s),Zs(t,s))}function At(t,s,r){if(t.tag===3)XN(t,t,r);else for(;s!==null;){if(s.tag===3){XN(s,t,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(In===null||!In.has(a))){t=uo(r,t),t=y5(s,t,1),s=Dn(s,t,1),t=Is(),s!==null&&(bu(s,1,t),Zs(s,t));break}}s=s.return}}function _T(t,s,r){var a=t.pingCache;a!==null&&a.delete(s),s=Is(),t.pingedLanes|=t.suspendedLanes&r,ns===t&&(us&r)===r&&(Yt===4||Yt===3&&(us&130023424)===us&&500>Mt()-Zb?Li(t,0):Xb|=r),Zs(t,s)}function D5(t,s){s===0&&(t.mode&1?(s=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):s=1);var r=Is();t=Ka(t,s),t!==null&&(bu(t,s,r),Zs(t,r))}function kT(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),D5(t,r)}function ST(t,s){var r=0;switch(t.tag){case 13:var a=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(ge(314))}a!==null&&a.delete(s),D5(t,r)}var I5;I5=function(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps||Qs.current)Gs=!0;else{if(!(t.lanes&r)&&!(s.flags&128))return Gs=!1,hT(t,s,r);Gs=!!(t.flags&131072)}else Gs=!1,Nt&&s.flags&1048576&&U3(s,rh,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Tm(t,s),t=s.pendingProps;var n=io(s,As.current);ql(s,r),n=Vb(null,s,a,t,n,r);var i=Hb();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Xs(a)?(i=!0,th(s)):i=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Bb(s),n.updater=$x,s.stateNode=n,n._reactInternals=s,Ug(s,a,t,r),s=Hg(null,s,a,!0,i,r)):(s.tag=0,Nt&&i&&Eb(s),Es(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Tm(t,s),t=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=PT(a),t=Ir(a,t),n){case 0:s=Vg(null,s,a,t,r);break e;case 1:s=qN(null,s,a,t,r);break e;case 11:s=IN(null,s,a,t,r);break e;case 14:s=BN(null,s,a,Ir(a.type,t),r);break e}throw Error(ge(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ir(a,n),Vg(t,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ir(a,n),qN(t,s,a,n,r);case 3:e:{if(N5(s),t===null)throw Error(ge(387));a=s.pendingProps,i=s.memoizedState,n=i.element,Y3(t,s),ih(s,a,null,r);var l=s.memoizedState;if(a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){n=uo(Error(ge(423)),s),s=zN(t,s,a,r,n);break e}else if(a!==n){n=uo(Error(ge(424)),s),s=zN(t,s,a,r,n);break e}else for(lr=Ln(s.stateNode.containerInfo.firstChild),or=s,Nt=!0,Kr=null,r=K3(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(lo(),a===n){s=Ga(t,s,r);break e}Es(t,s,a,r)}s=s.child}return s;case 5:return Q3(s),t===null&&Bg(s),a=s.type,n=s.pendingProps,i=t!==null?t.memoizedProps:null,l=n.children,Fg(a,n)?l=null:i!==null&&Fg(a,i)&&(s.flags|=32),j5(t,s),Es(t,s,l,r),s.child;case 6:return t===null&&Bg(s),null;case 13:return w5(t,s,r);case 4:return qb(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=oo(s,null,a,r):Es(t,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ir(a,n),IN(t,s,a,n,r);case 7:return Es(t,s,s.pendingProps,r),s.child;case 8:return Es(t,s,s.pendingProps.children,r),s.child;case 12:return Es(t,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,i=s.memoizedProps,l=n.value,pt(ah,a._currentValue),a._currentValue=l,i!==null)if(Zr(i.value,l)){if(i.children===n.children&&!Qs.current){s=Ga(t,s,r);break e}}else for(i=s.child,i!==null&&(i.return=s);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(i.tag===1){c=Ba(-1,r&-r),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?c.next=c:(c.next=m.next,m.next=c),d.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),qg(i.return,r,s),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===s.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(ge(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),qg(l,r,s),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===s){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Es(t,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,ql(s,r),n=Pr(n),a=a(n),s.flags|=1,Es(t,s,a,r),s.child;case 14:return a=s.type,n=Ir(a,s.pendingProps),n=Ir(a.type,n),BN(t,s,a,n,r);case 15:return b5(t,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Ir(a,n),Tm(t,s),s.tag=1,Xs(a)?(t=!0,th(s)):t=!1,ql(s,r),g5(s,a,n),Ug(s,a,n,r),Hg(null,s,a,!0,t,r);case 19:return _5(t,s,r);case 22:return v5(t,s,r)}throw Error(ge(156,s.tag))};function B5(t,s){return h3(t,s)}function CT(t,s,r,a){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,s,r,a){return new CT(t,s,r,a)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PT(t){if(typeof t=="function")return sv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jb)return 11;if(t===Nb)return 14}return 2}function qn(t,s){var r=t.alternate;return r===null?(r=_r(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fm(t,s,r,a,n,i){var l=2;if(a=t,typeof t=="function")sv(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case bl:return Di(r.children,n,i,s);case vb:l=8,n|=8;break;case hg:return t=_r(12,r,s,n|2),t.elementType=hg,t.lanes=i,t;case xg:return t=_r(13,r,s,n),t.elementType=xg,t.lanes=i,t;case pg:return t=_r(19,r,s,n),t.elementType=pg,t.lanes=i,t;case Q4:return Mx(r,n,i,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G4:l=10;break e;case Y4:l=9;break e;case jb:l=11;break e;case Nb:l=14;break e;case xn:l=16,a=null;break e}throw Error(ge(130,t==null?t:typeof t,""))}return s=_r(l,r,s,n),s.elementType=t,s.type=a,s.lanes=i,s}function Di(t,s,r,a){return t=_r(7,t,a,s),t.lanes=r,t}function Mx(t,s,r,a){return t=_r(22,t,a,s),t.elementType=Q4,t.lanes=r,t.stateNode={isHidden:!1},t}function v0(t,s,r){return t=_r(6,t,null,s),t.lanes=r,t}function j0(t,s,r){return s=_r(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function AT(t,s,r,a,n){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t0(0),this.expirationTimes=t0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t0(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function rv(t,s,r,a,n,i,l,o,c){return t=new AT(t,s,r,o,c),s===1?(s=1,i===!0&&(s|=8)):s=0,i=_r(3,null,null,s),t.current=i,i.stateNode=t,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bb(i),t}function OT(t,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:a==null?null:""+a,children:t,containerInfo:s,implementation:r}}function q5(t){if(!t)return Gn;t=t._reactInternals;e:{if(al(t)!==t||t.tag!==1)throw Error(ge(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Xs(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(ge(171))}if(t.tag===1){var r=t.type;if(Xs(r))return q3(t,r,s)}return s}function z5(t,s,r,a,n,i,l,o,c){return t=rv(r,a,!0,t,n,i,l,o,c),t.context=q5(null),r=t.current,a=Is(),n=Bn(r),i=Ba(a,n),i.callback=s??null,Dn(r,i,n),t.current.lanes=n,bu(t,n,a),Zs(t,a),t}function Fx(t,s,r,a){var n=s.current,i=Is(),l=Bn(n);return r=q5(r),s.context===null?s.context=r:s.pendingContext=r,s=Ba(i,l),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=Dn(n,s,l),t!==null&&(Qr(t,n,l,i),Am(t,n,l)),l}function xh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ZN(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function av(t,s){ZN(t,s),(t=t.alternate)&&ZN(t,s)}function $T(){return null}var U5=typeof reportError=="function"?reportError:function(t){console.error(t)};function nv(t){this._internalRoot=t}Rx.prototype.render=nv.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(ge(409));Fx(t,s,null,null)};Rx.prototype.unmount=nv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Ki(function(){Fx(null,t,null,null)}),s[Ha]=null}};function Rx(t){this._internalRoot=t}Rx.prototype.unstable_scheduleHydration=function(t){if(t){var s=v3();t={blockedOn:null,target:t,priority:s};for(var r=0;r<fn.length&&s!==0&&s<fn[r].priority;r++);fn.splice(r,0,t),r===0&&N3(t)}};function iv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JN(){}function TT(t,s,r,a,n){if(n){if(typeof a=="function"){var i=a;a=function(){var d=xh(l);i.call(d)}}var l=z5(s,a,t,0,null,!1,!1,"",JN);return t._reactRootContainer=l,t[Ha]=l.current,pd(t.nodeType===8?t.parentNode:t),Ki(),l}for(;n=t.lastChild;)t.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=xh(c);o.call(d)}}var c=rv(t,0,!1,null,null,!1,!1,"",JN);return t._reactRootContainer=c,t[Ha]=c.current,pd(t.nodeType===8?t.parentNode:t),Ki(function(){Fx(s,c,r,a)}),c}function Dx(t,s,r,a,n){var i=r._reactRootContainer;if(i){var l=i;if(typeof n=="function"){var o=n;n=function(){var c=xh(l);o.call(c)}}Fx(s,l,t,n)}else l=TT(r,s,t,n,a);return xh(l)}y3=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var r=Bc(s.pendingLanes);r!==0&&(kb(s,r|1),Zs(s,Mt()),!(et&6)&&(mo=Mt()+500,Jn()))}break;case 13:Ki(function(){var a=Ka(t,1);if(a!==null){var n=Is();Qr(a,t,1,n)}}),av(t,1)}};Sb=function(t){if(t.tag===13){var s=Ka(t,134217728);if(s!==null){var r=Is();Qr(s,t,134217728,r)}av(t,134217728)}};b3=function(t){if(t.tag===13){var s=Bn(t),r=Ka(t,s);if(r!==null){var a=Is();Qr(r,t,s,a)}av(t,s)}};v3=function(){return lt};j3=function(t,s){var r=lt;try{return lt=t,s()}finally{lt=r}};kg=function(t,s,r){switch(s){case"input":if(yg(t,r),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==t&&a.form===t.form){var n=Px(a);if(!n)throw Error(ge(90));Z4(a),yg(a,n)}}}break;case"textarea":e3(t,r);break;case"select":s=r.value,s!=null&&Ll(t,!!r.multiple,s,!1)}};l3=Jb;o3=Ki;var ET={usingClientEntryPoint:!1,Events:[ju,wl,Px,n3,i3,Jb]},Nc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MT={bundleType:Nc.bundleType,version:Nc.version,rendererPackageName:Nc.rendererPackageName,rendererConfig:Nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u3(t),t===null?null:t.stateNode},findFiberByHostInstance:Nc.findFiberByHostInstance||$T,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var em=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!em.isDisabled&&em.supportsFiber)try{_x=em.inject(MT),ua=em}catch{}}hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ET;hr.createPortal=function(t,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iv(s))throw Error(ge(200));return OT(t,s,null,r)};hr.createRoot=function(t,s){if(!iv(t))throw Error(ge(299));var r=!1,a="",n=U5;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=rv(t,1,!1,null,null,r,!1,a,n),t[Ha]=s.current,pd(t.nodeType===8?t.parentNode:t),new nv(s)};hr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(ge(188)):(t=Object.keys(t).join(","),Error(ge(268,t)));return t=u3(s),t=t===null?null:t.stateNode,t};hr.flushSync=function(t){return Ki(t)};hr.hydrate=function(t,s,r){if(!Lx(s))throw Error(ge(200));return Dx(null,t,s,!0,r)};hr.hydrateRoot=function(t,s,r){if(!iv(t))throw Error(ge(405));var a=r!=null&&r.hydratedSources||null,n=!1,i="",l=U5;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),s=z5(s,null,t,1,r??null,n,!1,i,l),t[Ha]=s.current,pd(t),a)for(t=0;t<a.length;t++)r=a[t],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new Rx(s)};hr.render=function(t,s,r){if(!Lx(s))throw Error(ge(200));return Dx(null,t,s,!1,r)};hr.unmountComponentAtNode=function(t){if(!Lx(t))throw Error(ge(40));return t._reactRootContainer?(Ki(function(){Dx(null,null,t,!1,function(){t._reactRootContainer=null,t[Ha]=null})}),!0):!1};hr.unstable_batchedUpdates=Jb;hr.unstable_renderSubtreeIntoContainer=function(t,s,r,a){if(!Lx(r))throw Error(ge(200));if(t==null||t._reactInternals===void 0)throw Error(ge(38));return Dx(t,s,r,!1,a)};hr.version="18.3.1-next-f1338f8080-20240426";function W5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W5)}catch(t){console.error(t)}}W5(),W4.exports=hr;var FT=W4.exports,V5,ew=FT;V5=ew.createRoot,ew.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_d.apply(this,arguments)}var $n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($n||($n={}));const tw="popstate";function RT(t){t===void 0&&(t={});function s(a,n){let{pathname:i,search:l,hash:o}=a.location;return af("",{pathname:i,search:l,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:ph(n)}return DT(s,r,null,t)}function Rt(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function lv(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function LT(){return Math.random().toString(36).substr(2,8)}function sw(t,s){return{usr:t.state,key:t.key,idx:s}}function af(t,s,r,a){return r===void 0&&(r=null),_d({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Ho(s):s,{state:r,key:s&&s.key||a||LT()})}function ph(t){let{pathname:s="/",search:r="",hash:a=""}=t;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ho(t){let s={};if(t){let r=t.indexOf("#");r>=0&&(s.hash=t.substr(r),t=t.substr(0,r));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function DT(t,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=$n.Pop,c=null,d=m();d==null&&(d=0,l.replaceState(_d({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function u(){o=$n.Pop;let N=m(),y=N==null?null:N-d;d=N,c&&c({action:o,location:p.location,delta:y})}function x(N,y){o=$n.Push;let j=af(p.location,N,y);d=m()+1;let g=sw(j,d),S=p.createHref(j);try{l.pushState(g,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(S)}i&&c&&c({action:o,location:p.location,delta:1})}function h(N,y){o=$n.Replace;let j=af(p.location,N,y);d=m();let g=sw(j,d),S=p.createHref(j);l.replaceState(g,"",S),i&&c&&c({action:o,location:p.location,delta:0})}function f(N){let y=n.location.origin!=="null"?n.location.origin:n.location.href,j=typeof N=="string"?N:ph(N);return j=j.replace(/ $/,"%20"),Rt(y,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,y)}let p={get action(){return o},get location(){return t(n,l)},listen(N){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(tw,u),c=N,()=>{n.removeEventListener(tw,u),c=null}},createHref(N){return s(n,N)},createURL:f,encodeLocation(N){let y=f(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:h,go(N){return l.go(N)}};return p}var rw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rw||(rw={}));function IT(t,s,r){return r===void 0&&(r="/"),BT(t,s,r)}function BT(t,s,r,a){let n=typeof s=="string"?Ho(s):s,i=ov(n.pathname||"/",r);if(i==null)return null;let l=H5(t);qT(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=JT(i);o=QT(l[c],d)}return o}function H5(t,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Rt(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=zn([a,c.relativePath]),m=r.concat(c);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),H5(i.children,s,m,d)),!(i.path==null&&!i.index)&&s.push({path:d,score:GT(d,i.index),routesMeta:m})};return t.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))n(i,l);else for(let c of K5(i.path))n(i,l,c)}),s}function K5(t){let s=t.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),i=r.replace(/\?$/,"");if(a.length===0)return n?[i,""]:[i];let l=K5(a.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),n&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function qT(t){t.sort((s,r)=>s.score!==r.score?r.score-s.score:YT(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const zT=/^:[\w-]+$/,UT=3,WT=2,VT=1,HT=10,KT=-2,aw=t=>t==="*";function GT(t,s){let r=t.split("/"),a=r.length;return r.some(aw)&&(a+=KT),s&&(a+=WT),r.filter(n=>!aw(n)).reduce((n,i)=>n+(zT.test(i)?UT:i===""?VT:HT),a)}function YT(t,s){return t.length===s.length&&t.slice(0,-1).every((a,n)=>a===s[n])?t[t.length-1]-s[s.length-1]:0}function QT(t,s,r){let{routesMeta:a}=t,n={},i="/",l=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,m=i==="/"?s:s.slice(i.length)||"/",u=XT({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},m),x=c.route;if(!u)return null;Object.assign(n,u.params),l.push({params:n,pathname:zn([i,u.pathname]),pathnameBase:aE(zn([i,u.pathnameBase])),route:x}),u.pathnameBase!=="/"&&(i=zn([i,u.pathnameBase]))}return l}function XT(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=ZT(t.path,t.caseSensitive,t.end),n=s.match(r);if(!n)return null;let i=n[0],l=i.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,m,u)=>{let{paramName:x,isOptional:h}=m;if(x==="*"){let p=o[u]||"";l=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const f=o[u];return h&&!f?d[x]=void 0:d[x]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:t}}function ZT(t,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),lv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function JT(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return lv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function ov(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}const eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tE=t=>eE.test(t);function sE(t,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof t=="string"?Ho(t):t,i;if(r)if(tE(r))i=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),lv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?i=nw(r.substring(1),"/"):i=nw(r,s)}else i=s;return{pathname:i,search:nE(a),hash:iE(n)}}function nw(t,s){let r=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function N0(t,s,r,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rE(t){return t.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function cv(t,s){let r=rE(t);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function dv(t,s,r,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=Ho(t):(n=_d({},t),Rt(!n.pathname||!n.pathname.includes("?"),N0("?","pathname","search",n)),Rt(!n.pathname||!n.pathname.includes("#"),N0("#","pathname","hash",n)),Rt(!n.search||!n.search.includes("#"),N0("#","search","hash",n)));let i=t===""||n.pathname==="",l=i?"/":n.pathname,o;if(l==null)o=r;else{let u=s.length-1;if(!a&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),u-=1;n.pathname=x.join("/")}o=u>=0?s[u]:"/"}let c=sE(n,o),d=l&&l!=="/"&&l.endsWith("/"),m=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||m)&&(c.pathname+="/"),c}const zn=t=>t.join("/").replace(/\/\/+/g,"/"),aE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G5=["post","put","patch","delete"];new Set(G5);const oE=["get",...G5];new Set(oE);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},kd.apply(this,arguments)}const uv=k.createContext(null),cE=k.createContext(null),ei=k.createContext(null),Ix=k.createContext(null),sn=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Y5=k.createContext(null);function dE(t,s){let{relative:r}=s===void 0?{}:s;Ko()||Rt(!1);let{basename:a,navigator:n}=k.useContext(ei),{hash:i,pathname:l,search:o}=X5(t,{relative:r}),c=l;return a!=="/"&&(c=l==="/"?a:zn([a,l])),n.createHref({pathname:c,search:o,hash:i})}function Ko(){return k.useContext(Ix)!=null}function rn(){return Ko()||Rt(!1),k.useContext(Ix).location}function Q5(t){k.useContext(ei).static||k.useLayoutEffect(t)}function Xe(){let{isDataRoute:t}=k.useContext(sn);return t?wE():uE()}function uE(){Ko()||Rt(!1);let t=k.useContext(uv),{basename:s,future:r,navigator:a}=k.useContext(ei),{matches:n}=k.useContext(sn),{pathname:i}=rn(),l=JSON.stringify(cv(n,r.v7_relativeSplatPath)),o=k.useRef(!1);return Q5(()=>{o.current=!0}),k.useCallback(function(d,m){if(m===void 0&&(m={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let u=dv(d,JSON.parse(l),i,m.relative==="path");t==null&&s!=="/"&&(u.pathname=u.pathname==="/"?s:zn([s,u.pathname])),(m.replace?a.replace:a.push)(u,m.state,m)},[s,a,l,i,t])}function an(){let{matches:t}=k.useContext(sn),s=t[t.length-1];return s?s.params:{}}function X5(t,s){let{relative:r}=s===void 0?{}:s,{future:a}=k.useContext(ei),{matches:n}=k.useContext(sn),{pathname:i}=rn(),l=JSON.stringify(cv(n,a.v7_relativeSplatPath));return k.useMemo(()=>dv(t,JSON.parse(l),i,r==="path"),[t,l,i,r])}function mE(t,s){return hE(t,s)}function hE(t,s,r,a){Ko()||Rt(!1);let{navigator:n}=k.useContext(ei),{matches:i}=k.useContext(sn),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=rn(),m;if(s){var u;let N=typeof s=="string"?Ho(s):s;c==="/"||(u=N.pathname)!=null&&u.startsWith(c)||Rt(!1),m=N}else m=d;let x=m.pathname||"/",h=x;if(c!=="/"){let N=c.replace(/^\//,"").split("/");h="/"+x.replace(/^\//,"").split("/").slice(N.length).join("/")}let f=IT(t,{pathname:h}),p=yE(f&&f.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:zn([c,n.encodeLocation?n.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:zn([c,n.encodeLocation?n.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r,a);return s&&p?k.createElement(Ix.Provider,{value:{location:kd({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:$n.Pop}},p):p}function xE(){let t=NE(),s=lE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},s),r?k.createElement("pre",{style:n},r):null,null)}const pE=k.createElement(xE,null);class gE extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?k.createElement(sn.Provider,{value:this.props.routeContext},k.createElement(Y5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fE(t){let{routeContext:s,match:r,children:a}=t,n=k.useContext(uv);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(sn.Provider,{value:s},a)}function yE(t,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=a)!=null&&i.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let m=l.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);m>=0||Rt(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let m=0;m<l.length;m++){let u=l[m];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=m),u.route.id){let{loaderData:x,errors:h}=r,f=u.route.loader&&x[u.route.id]===void 0&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((m,u,x)=>{let h,f=!1,p=null,N=null;r&&(h=o&&u.route.id?o[u.route.id]:void 0,p=u.route.errorElement||pE,c&&(d<0&&x===0?(_E("route-fallback"),f=!0,N=null):d===x&&(f=!0,N=u.route.hydrateFallbackElement||null)));let y=s.concat(l.slice(0,x+1)),j=()=>{let g;return h?g=p:f?g=N:u.route.Component?g=k.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=m,k.createElement(fE,{match:u,routeContext:{outlet:m,matches:y,isDataRoute:r!=null},children:g})};return r&&(u.route.ErrorBoundary||u.route.errorElement||x===0)?k.createElement(gE,{location:r.location,revalidation:r.revalidation,component:p,error:h,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):j()},null)}var Z5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Z5||{}),J5=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(J5||{});function bE(t){let s=k.useContext(uv);return s||Rt(!1),s}function vE(t){let s=k.useContext(cE);return s||Rt(!1),s}function jE(t){let s=k.useContext(sn);return s||Rt(!1),s}function ek(t){let s=jE(),r=s.matches[s.matches.length-1];return r.route.id||Rt(!1),r.route.id}function NE(){var t;let s=k.useContext(Y5),r=vE(),a=ek();return s!==void 0?s:(t=r.errors)==null?void 0:t[a]}function wE(){let{router:t}=bE(Z5.UseNavigateStable),s=ek(J5.UseNavigateStable),r=k.useRef(!1);return Q5(()=>{r.current=!0}),k.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,kd({fromRouteId:s},i)))},[t,s])}const iw={};function _E(t,s,r){iw[t]||(iw[t]=!0)}function kE(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function fl(t){let{to:s,replace:r,state:a,relative:n}=t;Ko()||Rt(!1);let{future:i,static:l}=k.useContext(ei),{matches:o}=k.useContext(sn),{pathname:c}=rn(),d=Xe(),m=dv(s,cv(o,i.v7_relativeSplatPath),c,n==="path"),u=JSON.stringify(m);return k.useEffect(()=>d(JSON.parse(u),{replace:r,state:a,relative:n}),[d,u,n,r,a]),null}function we(t){Rt(!1)}function SE(t){let{basename:s="/",children:r=null,location:a,navigationType:n=$n.Pop,navigator:i,static:l=!1,future:o}=t;Ko()&&Rt(!1);let c=s.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:i,static:l,future:kd({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof a=="string"&&(a=Ho(a));let{pathname:m="/",search:u="",hash:x="",state:h=null,key:f="default"}=a,p=k.useMemo(()=>{let N=ov(m,c);return N==null?null:{location:{pathname:N,search:u,hash:x,state:h,key:f},navigationType:n}},[c,m,u,x,h,f,n]);return p==null?null:k.createElement(ei.Provider,{value:d},k.createElement(Ix.Provider,{children:r,value:p}))}function CE(t){let{children:s,location:r}=t;return mE(nf(s),r)}new Promise(()=>{});function nf(t,s){s===void 0&&(s=[]);let r=[];return k.Children.forEach(t,(a,n)=>{if(!k.isValidElement(a))return;let i=[...s,n];if(a.type===k.Fragment){r.push.apply(r,nf(a.props.children,i));return}a.type!==we&&Rt(!1),!a.props.index||!a.props.children||Rt(!1);let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=nf(a.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},lf.apply(this,arguments)}function PE(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function AE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OE(t,s){return t.button===0&&(!s||s==="_self")&&!AE(t)}function of(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,r)=>{let a=t[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function $E(t,s){let r=of(t);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(i=>{r.append(n,i)})}),r}const TE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EE="6";try{window.__reactRouterVersion=EE}catch{}const ME="startTransition",lw=_O[ME];function FE(t){let{basename:s,children:r,future:a,window:n}=t,i=k.useRef();i.current==null&&(i.current=RT({window:n,v5Compat:!0}));let l=i.current,[o,c]=k.useState({action:l.action,location:l.location}),{v7_startTransition:d}=a||{},m=k.useCallback(u=>{d&&lw?lw(()=>c(u)):c(u)},[c,d]);return k.useLayoutEffect(()=>l.listen(m),[l,m]),k.useEffect(()=>kE(a),[a]),k.createElement(SE,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:l,future:a})}const RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=k.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:m,viewTransition:u}=s,x=PE(s,TE),{basename:h}=k.useContext(ei),f,p=!1;if(typeof d=="string"&&LE.test(d)&&(f=d,RE))try{let g=new URL(window.location.href),S=d.startsWith("//")?new URL(g.protocol+d):new URL(d),w=ov(S.pathname,h);S.origin===g.origin&&w!=null?d=w+S.search+S.hash:p=!0}catch{}let N=dE(d,{relative:n}),y=DE(d,{replace:l,state:o,target:c,preventScrollReset:m,relative:n,viewTransition:u});function j(g){a&&a(g),g.defaultPrevented||y(g)}return k.createElement("a",lf({},x,{href:f||N,onClick:p||i?a:j,ref:r,target:c}))});var ow;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ow||(ow={}));var cw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cw||(cw={}));function DE(t,s){let{target:r,replace:a,state:n,preventScrollReset:i,relative:l,viewTransition:o}=s===void 0?{}:s,c=Xe(),d=rn(),m=X5(t,{relative:l});return k.useCallback(u=>{if(OE(u,r)){u.preventDefault();let x=a!==void 0?a:ph(d)===ph(m);c(t,{replace:x,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,m,a,n,r,t,i,l,o])}function Ie(t){let s=k.useRef(of(t)),r=k.useRef(!1),a=rn(),n=k.useMemo(()=>$E(a.search,r.current?null:s.current),[a.search]),i=Xe(),l=k.useCallback((o,c)=>{const d=of(typeof o=="function"?o(n):o);r.current=!0,i("?"+d,c)},[i,n]);return[n,l]}var Go=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IE={setTimeout:(t,s)=>setTimeout(t,s),clearTimeout:t=>clearTimeout(t),setInterval:(t,s)=>setInterval(t,s),clearInterval:t=>clearInterval(t)},vn,mb,N4,BE=(N4=class{constructor(){Ae(this,vn,IE);Ae(this,mb,!1)}setTimeoutProvider(t){Ne(this,vn,t)}setTimeout(t,s){return ee(this,vn).setTimeout(t,s)}clearTimeout(t){ee(this,vn).clearTimeout(t)}setInterval(t,s){return ee(this,vn).setInterval(t,s)}clearInterval(t){ee(this,vn).clearInterval(t)}},vn=new WeakMap,mb=new WeakMap,N4),ji=new BE;function qE(t){setTimeout(t,0)}var Gi=typeof window>"u"||"Deno"in globalThis;function Ms(){}function zE(t,s){return typeof t=="function"?t(s):t}function cf(t){return typeof t=="number"&&t>=0&&t!==1/0}function tk(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Un(t,s){return typeof t=="function"?t(s):t}function br(t,s){return typeof t=="function"?t(s):t}function dw(t,s){const{type:r="all",exact:a,fetchStatus:n,predicate:i,queryKey:l,stale:o}=t;if(l){if(a){if(s.queryHash!==mv(l,s.options))return!1}else if(!Sd(s.queryKey,l))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||n&&n!==s.state.fetchStatus||i&&!i(s))}function uw(t,s){const{exact:r,status:a,predicate:n,mutationKey:i}=t;if(i){if(!s.options.mutationKey)return!1;if(r){if(Yi(s.options.mutationKey)!==Yi(i))return!1}else if(!Sd(s.options.mutationKey,i))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function mv(t,s){return((s==null?void 0:s.queryKeyHashFn)||Yi)(t)}function Yi(t){return JSON.stringify(t,(s,r)=>df(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function Sd(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?Object.keys(s).every(r=>Sd(t[r],s[r])):!1}var UE=Object.prototype.hasOwnProperty;function sk(t,s){if(t===s)return t;const r=mw(t)&&mw(s);if(!r&&!(df(t)&&df(s)))return s;const n=(r?t:Object.keys(t)).length,i=r?s:Object.keys(s),l=i.length,o=r?new Array(l):{};let c=0;for(let d=0;d<l;d++){const m=r?d:i[d],u=t[m],x=s[m];if(u===x){o[m]=u,(r?d<n:UE.call(t,m))&&c++;continue}if(u===null||x===null||typeof u!="object"||typeof x!="object"){o[m]=x;continue}const h=sk(u,x);o[m]=h,h===u&&c++}return n===l&&c===n?t:o}function gh(t,s){if(!s||Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}function mw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function df(t){if(!hw(t))return!1;const s=t.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!hw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hw(t){return Object.prototype.toString.call(t)==="[object Object]"}function WE(t){return new Promise(s=>{ji.setTimeout(s,t)})}function uf(t,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,s):r.structuralSharing!==!1?sk(t,s):s}function VE(t,s,r=0){const a=[...t,s];return r&&a.length>r?a.slice(1):a}function HE(t,s,r=0){const a=[s,...t];return r&&a.length>r?a.slice(0,-1):a}var hv=Symbol();function rk(t,s){return!t.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!t.queryFn||t.queryFn===hv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function ak(t,s){return typeof t=="function"?t(...s):!!t}var Pi,jn,Kl,w4,KE=(w4=class extends Go{constructor(){super();Ae(this,Pi);Ae(this,jn);Ae(this,Kl);Ne(this,Kl,s=>{if(!Gi&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ee(this,jn)||this.setEventListener(ee(this,Kl))}onUnsubscribe(){var s;this.hasListeners()||((s=ee(this,jn))==null||s.call(this),Ne(this,jn,void 0))}setEventListener(s){var r;Ne(this,Kl,s),(r=ee(this,jn))==null||r.call(this),Ne(this,jn,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){ee(this,Pi)!==s&&(Ne(this,Pi,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof ee(this,Pi)=="boolean"?ee(this,Pi):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Pi=new WeakMap,jn=new WeakMap,Kl=new WeakMap,w4),xv=new KE;function mf(){let t,s;const r=new Promise((n,i)=>{t=n,s=i});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),t(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}var GE=qE;function YE(){let t=[],s=0,r=o=>{o()},a=o=>{o()},n=GE;const i=o=>{s?t.push(o):n(()=>{r(o)})},l=()=>{const o=t;t=[],o.length&&n(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{n=o}}}var Vt=YE(),Gl,Nn,Yl,_4,QE=(_4=class extends Go{constructor(){super();Ae(this,Gl,!0);Ae(this,Nn);Ae(this,Yl);Ne(this,Yl,s=>{if(!Gi&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){ee(this,Nn)||this.setEventListener(ee(this,Yl))}onUnsubscribe(){var s;this.hasListeners()||((s=ee(this,Nn))==null||s.call(this),Ne(this,Nn,void 0))}setEventListener(s){var r;Ne(this,Yl,s),(r=ee(this,Nn))==null||r.call(this),Ne(this,Nn,s(this.setOnline.bind(this)))}setOnline(s){ee(this,Gl)!==s&&(Ne(this,Gl,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return ee(this,Gl)}},Gl=new WeakMap,Nn=new WeakMap,Yl=new WeakMap,_4),fh=new QE;function XE(t){return Math.min(1e3*2**t,3e4)}function nk(t){return(t??"online")==="online"?fh.isOnline():!0}var hf=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ik(t){let s=!1,r=0,a;const n=mf(),i=()=>n.status!=="pending",l=p=>{var N;if(!i()){const y=new hf(p);x(y),(N=t.onCancel)==null||N.call(t,y)}},o=()=>{s=!0},c=()=>{s=!1},d=()=>xv.isFocused()&&(t.networkMode==="always"||fh.isOnline())&&t.canRun(),m=()=>nk(t.networkMode)&&t.canRun(),u=p=>{i()||(a==null||a(),n.resolve(p))},x=p=>{i()||(a==null||a(),n.reject(p))},h=()=>new Promise(p=>{var N;a=y=>{(i()||d())&&p(y)},(N=t.onPause)==null||N.call(t)}).then(()=>{var p;a=void 0,i()||(p=t.onContinue)==null||p.call(t)}),f=()=>{if(i())return;let p;const N=r===0?t.initialPromise:void 0;try{p=N??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(u).catch(y=>{var C;if(i())return;const j=t.retry??(Gi?0:3),g=t.retryDelay??XE,S=typeof g=="function"?g(r,y):g,w=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,y);if(s||!w){x(y);return}r++,(C=t.onFail)==null||C.call(t,r,y),WE(S).then(()=>d()?void 0:h()).then(()=>{s?x(y):f()})})};return{promise:n,status:()=>n.status,cancel:l,continue:()=>(a==null||a(),n),cancelRetry:o,continueRetry:c,canStart:m,start:()=>(m()?f():h().then(f),n)}}var Ai,k4,lk=(k4=class{constructor(){Ae(this,Ai)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cf(this.gcTime)&&Ne(this,Ai,ji.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Gi?1/0:5*60*1e3))}clearGcTimeout(){ee(this,Ai)&&(ji.clearTimeout(ee(this,Ai)),Ne(this,Ai,void 0))}},Ai=new WeakMap,k4),Oi,Ql,yr,$i,es,hu,Ti,qr,_a,S4,ZE=(S4=class extends lk{constructor(s){super();Ae(this,qr);Ae(this,Oi);Ae(this,Ql);Ae(this,yr);Ae(this,$i);Ae(this,es);Ae(this,hu);Ae(this,Ti);Ne(this,Ti,!1),Ne(this,hu,s.defaultOptions),this.setOptions(s.options),this.observers=[],Ne(this,$i,s.client),Ne(this,yr,ee(this,$i).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Ne(this,Oi,pw(this.options)),this.state=s.state??ee(this,Oi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=ee(this,es))==null?void 0:s.promise}setOptions(s){if(this.options={...ee(this,hu),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=pw(this.options);r.data!==void 0&&(this.setState(xw(r.data,r.dataUpdatedAt)),Ne(this,Oi,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ee(this,yr).remove(this)}setData(s,r){const a=uf(this.state.data,s,this.options);return ze(this,qr,_a).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){ze(this,qr,_a).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,n;const r=(a=ee(this,es))==null?void 0:a.promise;return(n=ee(this,es))==null||n.cancel(s),r?r.then(Ms).catch(Ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ee(this,Oi))}isActive(){return this.observers.some(s=>br(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Un(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!tk(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=ee(this,es))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=ee(this,es))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),ee(this,yr).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(ee(this,es)&&(ee(this,Ti)?ee(this,es).cancel({revert:!0}):ee(this,es).cancelRetry()),this.scheduleGc()),ee(this,yr).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ze(this,qr,_a).call(this,{type:"invalidate"})}async fetch(s,r){var c,d,m,u,x,h,f,p,N,y,j,g;if(this.state.fetchStatus!=="idle"&&((c=ee(this,es))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ee(this,es))return ee(this,es).continueRetry(),ee(this,es).promise}if(s&&this.setOptions(s),!this.options.queryFn){const S=this.observers.find(w=>w.options.queryFn);S&&this.setOptions(S.options)}const a=new AbortController,n=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Ne(this,Ti,!0),a.signal)})},i=()=>{const S=rk(this.options,r),C=(()=>{const _={client:ee(this,$i),queryKey:this.queryKey,meta:this.meta};return n(_),_})();return Ne(this,Ti,!1),this.options.persister?this.options.persister(S,C,this):S(C)},o=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ee(this,$i),state:this.state,fetchFn:i};return n(S),S})();(d=this.options.behavior)==null||d.onFetch(o,this),Ne(this,Ql,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=o.fetchOptions)==null?void 0:m.meta))&&ze(this,qr,_a).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta}),Ne(this,es,ik({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:S=>{S instanceof hf&&S.revert&&this.setState({...ee(this,Ql),fetchStatus:"idle"}),a.abort()},onFail:(S,w)=>{ze(this,qr,_a).call(this,{type:"failed",failureCount:S,error:w})},onPause:()=>{ze(this,qr,_a).call(this,{type:"pause"})},onContinue:()=>{ze(this,qr,_a).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const S=await ee(this,es).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(h=(x=ee(this,yr).config).onSuccess)==null||h.call(x,S,this),(p=(f=ee(this,yr).config).onSettled)==null||p.call(f,S,this.state.error,this),S}catch(S){if(S instanceof hf){if(S.silent)return ee(this,es).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw ze(this,qr,_a).call(this,{type:"error",error:S}),(y=(N=ee(this,yr).config).onError)==null||y.call(N,S,this),(g=(j=ee(this,yr).config).onSettled)==null||g.call(j,this.state.data,S,this),S}finally{this.scheduleGc()}}},Oi=new WeakMap,Ql=new WeakMap,yr=new WeakMap,$i=new WeakMap,es=new WeakMap,hu=new WeakMap,Ti=new WeakMap,qr=new WeakSet,_a=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...ok(a.data,this.options),fetchMeta:s.meta??null};case"success":const n={...a,...xw(s.data,s.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ne(this,Ql,s.manual?n:void 0),n;case"error":const i=s.error;return{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),Vt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),ee(this,yr).notify({query:this,type:"updated",action:s})})},S4);function ok(t,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nk(s.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xw(t,s){return{data:t,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function pw(t){const s=typeof t.initialData=="function"?t.initialData():t.initialData,r=s!==void 0,a=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ws,Ge,xu,$s,Ei,Xl,Aa,wn,pu,Zl,Jl,Mi,Fi,_n,eo,at,zc,xf,pf,gf,ff,yf,bf,vf,ck,C4,JE=(C4=class extends Go{constructor(s,r){super();Ae(this,at);Ae(this,Ws);Ae(this,Ge);Ae(this,xu);Ae(this,$s);Ae(this,Ei);Ae(this,Xl);Ae(this,Aa);Ae(this,wn);Ae(this,pu);Ae(this,Zl);Ae(this,Jl);Ae(this,Mi);Ae(this,Fi);Ae(this,_n);Ae(this,eo,new Set);this.options=r,Ne(this,Ws,s),Ne(this,wn,null),Ne(this,Aa,mf()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ee(this,Ge).addObserver(this),gw(ee(this,Ge),this.options)?ze(this,at,zc).call(this):this.updateResult(),ze(this,at,ff).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jf(ee(this,Ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jf(ee(this,Ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ze(this,at,yf).call(this),ze(this,at,bf).call(this),ee(this,Ge).removeObserver(this)}setOptions(s){const r=this.options,a=ee(this,Ge);if(this.options=ee(this,Ws).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof br(this.options.enabled,ee(this,Ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ze(this,at,vf).call(this),ee(this,Ge).setOptions(this.options),r._defaulted&&!gh(this.options,r)&&ee(this,Ws).getQueryCache().notify({type:"observerOptionsUpdated",query:ee(this,Ge),observer:this});const n=this.hasListeners();n&&fw(ee(this,Ge),a,this.options,r)&&ze(this,at,zc).call(this),this.updateResult(),n&&(ee(this,Ge)!==a||br(this.options.enabled,ee(this,Ge))!==br(r.enabled,ee(this,Ge))||Un(this.options.staleTime,ee(this,Ge))!==Un(r.staleTime,ee(this,Ge)))&&ze(this,at,xf).call(this);const i=ze(this,at,pf).call(this);n&&(ee(this,Ge)!==a||br(this.options.enabled,ee(this,Ge))!==br(r.enabled,ee(this,Ge))||i!==ee(this,_n))&&ze(this,at,gf).call(this,i)}getOptimisticResult(s){const r=ee(this,Ws).getQueryCache().build(ee(this,Ws),s),a=this.createResult(r,s);return t7(this,a)&&(Ne(this,$s,a),Ne(this,Xl,this.options),Ne(this,Ei,ee(this,Ge).state)),a}getCurrentResult(){return ee(this,$s)}trackResult(s,r){return new Proxy(s,{get:(a,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&ee(this,Aa).status==="pending"&&ee(this,Aa).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,n))})}trackProp(s){ee(this,eo).add(s)}getCurrentQuery(){return ee(this,Ge)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=ee(this,Ws).defaultQueryOptions(s),a=ee(this,Ws).getQueryCache().build(ee(this,Ws),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(s){return ze(this,at,zc).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),ee(this,$s)))}createResult(s,r){var F;const a=ee(this,Ge),n=this.options,i=ee(this,$s),l=ee(this,Ei),o=ee(this,Xl),d=s!==a?s.state:ee(this,xu),{state:m}=s;let u={...m},x=!1,h;if(r._optimisticResults){const T=this.hasListeners(),R=!T&&gw(s,r),A=T&&fw(s,a,r,n);(R||A)&&(u={...u,...ok(m.data,s.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:f,errorUpdatedAt:p,status:N}=u;h=u.data;let y=!1;if(r.placeholderData!==void 0&&h===void 0&&N==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(T=i.data,y=!0):T=typeof r.placeholderData=="function"?r.placeholderData((F=ee(this,Jl))==null?void 0:F.state.data,ee(this,Jl)):r.placeholderData,T!==void 0&&(N="success",h=uf(i==null?void 0:i.data,T,r),x=!0)}if(r.select&&h!==void 0&&!y)if(i&&h===(l==null?void 0:l.data)&&r.select===ee(this,pu))h=ee(this,Zl);else try{Ne(this,pu,r.select),h=r.select(h),h=uf(i==null?void 0:i.data,h,r),Ne(this,Zl,h),Ne(this,wn,null)}catch(T){Ne(this,wn,T)}ee(this,wn)&&(f=ee(this,wn),h=ee(this,Zl),p=Date.now(),N="error");const j=u.fetchStatus==="fetching",g=N==="pending",S=N==="error",w=g&&j,C=h!==void 0,$={status:N,fetchStatus:u.fetchStatus,isPending:g,isSuccess:N==="success",isError:S,isInitialLoading:w,isLoading:w,data:h,dataUpdatedAt:u.dataUpdatedAt,error:f,errorUpdatedAt:p,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!g,isLoadingError:S&&!C,isPaused:u.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:S&&C,isStale:pv(s,r),refetch:this.refetch,promise:ee(this,Aa),isEnabled:br(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const T=M=>{$.status==="error"?M.reject($.error):$.data!==void 0&&M.resolve($.data)},R=()=>{const M=Ne(this,Aa,$.promise=mf());T(M)},A=ee(this,Aa);switch(A.status){case"pending":s.queryHash===a.queryHash&&T(A);break;case"fulfilled":($.status==="error"||$.data!==A.value)&&R();break;case"rejected":($.status!=="error"||$.error!==A.reason)&&R();break}}return $}updateResult(){const s=ee(this,$s),r=this.createResult(ee(this,Ge),this.options);if(Ne(this,Ei,ee(this,Ge).state),Ne(this,Xl,this.options),ee(this,Ei).data!==void 0&&Ne(this,Jl,ee(this,Ge)),gh(r,s))return;Ne(this,$s,r);const a=()=>{if(!s)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!ee(this,eo).size)return!0;const l=new Set(i??ee(this,eo));return this.options.throwOnError&&l.add("error"),Object.keys(ee(this,$s)).some(o=>{const c=o;return ee(this,$s)[c]!==s[c]&&l.has(c)})};ze(this,at,ck).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ze(this,at,ff).call(this)}},Ws=new WeakMap,Ge=new WeakMap,xu=new WeakMap,$s=new WeakMap,Ei=new WeakMap,Xl=new WeakMap,Aa=new WeakMap,wn=new WeakMap,pu=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,Mi=new WeakMap,Fi=new WeakMap,_n=new WeakMap,eo=new WeakMap,at=new WeakSet,zc=function(s){ze(this,at,vf).call(this);let r=ee(this,Ge).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(Ms)),r},xf=function(){ze(this,at,yf).call(this);const s=Un(this.options.staleTime,ee(this,Ge));if(Gi||ee(this,$s).isStale||!cf(s))return;const a=tk(ee(this,$s).dataUpdatedAt,s)+1;Ne(this,Mi,ji.setTimeout(()=>{ee(this,$s).isStale||this.updateResult()},a))},pf=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ee(this,Ge)):this.options.refetchInterval)??!1},gf=function(s){ze(this,at,bf).call(this),Ne(this,_n,s),!(Gi||br(this.options.enabled,ee(this,Ge))===!1||!cf(ee(this,_n))||ee(this,_n)===0)&&Ne(this,Fi,ji.setInterval(()=>{(this.options.refetchIntervalInBackground||xv.isFocused())&&ze(this,at,zc).call(this)},ee(this,_n)))},ff=function(){ze(this,at,xf).call(this),ze(this,at,gf).call(this,ze(this,at,pf).call(this))},yf=function(){ee(this,Mi)&&(ji.clearTimeout(ee(this,Mi)),Ne(this,Mi,void 0))},bf=function(){ee(this,Fi)&&(ji.clearInterval(ee(this,Fi)),Ne(this,Fi,void 0))},vf=function(){const s=ee(this,Ws).getQueryCache().build(ee(this,Ws),this.options);if(s===ee(this,Ge))return;const r=ee(this,Ge);Ne(this,Ge,s),Ne(this,xu,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},ck=function(s){Vt.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(ee(this,$s))}),ee(this,Ws).getQueryCache().notify({query:ee(this,Ge),type:"observerResultsUpdated"})})},C4);function e7(t,s){return br(s.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&s.retryOnMount===!1)}function gw(t,s){return e7(t,s)||t.state.data!==void 0&&jf(t,s,s.refetchOnMount)}function jf(t,s,r){if(br(s.enabled,t)!==!1&&Un(s.staleTime,t)!=="static"){const a=typeof r=="function"?r(t):r;return a==="always"||a!==!1&&pv(t,s)}return!1}function fw(t,s,r,a){return(t!==s||br(a.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&pv(t,r)}function pv(t,s){return br(s.enabled,t)!==!1&&t.isStaleByTime(Un(s.staleTime,t))}function t7(t,s){return!gh(t.getCurrentResult(),s)}function yw(t){return{onFetch:(s,r)=>{var m,u,x,h,f;const a=s.options,n=(x=(u=(m=s.fetchOptions)==null?void 0:m.meta)==null?void 0:u.fetchMore)==null?void 0:x.direction,i=((h=s.state.data)==null?void 0:h.pages)||[],l=((f=s.state.data)==null?void 0:f.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const N=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(s.signal.aborted?p=!0:s.signal.addEventListener("abort",()=>{p=!0}),s.signal)})},y=rk(s.options,s.fetchOptions),j=async(g,S,w)=>{if(p)return Promise.reject();if(S==null&&g.pages.length)return Promise.resolve(g);const _=(()=>{const R={client:s.client,queryKey:s.queryKey,pageParam:S,direction:w?"backward":"forward",meta:s.options.meta};return N(R),R})(),$=await y(_),{maxPages:F}=s.options,T=w?HE:VE;return{pages:T(g.pages,$,F),pageParams:T(g.pageParams,S,F)}};if(n&&i.length){const g=n==="backward",S=g?s7:bw,w={pages:i,pageParams:l},C=S(a,w);o=await j(w,C,g)}else{const g=t??i.length;do{const S=c===0?l[0]??a.initialPageParam:bw(a,o);if(c>0&&S==null)break;o=await j(o,S),c++}while(c<g)}return o};s.options.persister?s.fetchFn=()=>{var p,N;return(N=(p=s.options).persister)==null?void 0:N.call(p,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function bw(t,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?t.getNextPageParam(s[a],s,r[a],r):void 0}function s7(t,{pages:s,pageParams:r}){var a;return s.length>0?(a=t.getPreviousPageParam)==null?void 0:a.call(t,s[0],s,r[0],r):void 0}var gu,aa,Ts,Ri,na,mn,P4,r7=(P4=class extends lk{constructor(s){super();Ae(this,na);Ae(this,gu);Ae(this,aa);Ae(this,Ts);Ae(this,Ri);Ne(this,gu,s.client),this.mutationId=s.mutationId,Ne(this,Ts,s.mutationCache),Ne(this,aa,[]),this.state=s.state||dk(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){ee(this,aa).includes(s)||(ee(this,aa).push(s),this.clearGcTimeout(),ee(this,Ts).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Ne(this,aa,ee(this,aa).filter(r=>r!==s)),this.scheduleGc(),ee(this,Ts).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){ee(this,aa).length||(this.state.status==="pending"?this.scheduleGc():ee(this,Ts).remove(this))}continue(){var s;return((s=ee(this,Ri))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,o,c,d,m,u,x,h,f,p,N,y,j,g,S,w,C,_,$,F;const r=()=>{ze(this,na,mn).call(this,{type:"continue"})},a={client:ee(this,gu),meta:this.options.meta,mutationKey:this.options.mutationKey};Ne(this,Ri,ik({fn:()=>this.options.mutationFn?this.options.mutationFn(s,a):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{ze(this,na,mn).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{ze(this,na,mn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ee(this,Ts).canRun(this)}));const n=this.state.status==="pending",i=!ee(this,Ri).canStart();try{if(n)r();else{ze(this,na,mn).call(this,{type:"pending",variables:s,isPaused:i}),await((o=(l=ee(this,Ts).config).onMutate)==null?void 0:o.call(l,s,this,a));const R=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,s,a));R!==this.state.context&&ze(this,na,mn).call(this,{type:"pending",context:R,variables:s,isPaused:i})}const T=await ee(this,Ri).start();return await((u=(m=ee(this,Ts).config).onSuccess)==null?void 0:u.call(m,T,s,this.state.context,this,a)),await((h=(x=this.options).onSuccess)==null?void 0:h.call(x,T,s,this.state.context,a)),await((p=(f=ee(this,Ts).config).onSettled)==null?void 0:p.call(f,T,null,this.state.variables,this.state.context,this,a)),await((y=(N=this.options).onSettled)==null?void 0:y.call(N,T,null,s,this.state.context,a)),ze(this,na,mn).call(this,{type:"success",data:T}),T}catch(T){try{throw await((g=(j=ee(this,Ts).config).onError)==null?void 0:g.call(j,T,s,this.state.context,this,a)),await((w=(S=this.options).onError)==null?void 0:w.call(S,T,s,this.state.context,a)),await((_=(C=ee(this,Ts).config).onSettled)==null?void 0:_.call(C,void 0,T,this.state.variables,this.state.context,this,a)),await((F=($=this.options).onSettled)==null?void 0:F.call($,void 0,T,s,this.state.context,a)),T}finally{ze(this,na,mn).call(this,{type:"error",error:T})}}finally{ee(this,Ts).runNext(this)}}},gu=new WeakMap,aa=new WeakMap,Ts=new WeakMap,Ri=new WeakMap,na=new WeakSet,mn=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Vt.batch(()=>{ee(this,aa).forEach(a=>{a.onMutationUpdate(s)}),ee(this,Ts).notify({mutation:this,type:"updated",action:s})})},P4);function dk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Oa,zr,fu,A4,a7=(A4=class extends Go{constructor(s={}){super();Ae(this,Oa);Ae(this,zr);Ae(this,fu);this.config=s,Ne(this,Oa,new Set),Ne(this,zr,new Map),Ne(this,fu,0)}build(s,r,a){const n=new r7({client:s,mutationCache:this,mutationId:++Ru(this,fu)._,options:s.defaultMutationOptions(r),state:a});return this.add(n),n}add(s){ee(this,Oa).add(s);const r=tm(s);if(typeof r=="string"){const a=ee(this,zr).get(r);a?a.push(s):ee(this,zr).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(ee(this,Oa).delete(s)){const r=tm(s);if(typeof r=="string"){const a=ee(this,zr).get(r);if(a)if(a.length>1){const n=a.indexOf(s);n!==-1&&a.splice(n,1)}else a[0]===s&&ee(this,zr).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=tm(s);if(typeof r=="string"){const a=ee(this,zr).get(r),n=a==null?void 0:a.find(i=>i.state.status==="pending");return!n||n===s}else return!0}runNext(s){var a;const r=tm(s);if(typeof r=="string"){const n=(a=ee(this,zr).get(r))==null?void 0:a.find(i=>i!==s&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Vt.batch(()=>{ee(this,Oa).forEach(s=>{this.notify({type:"removed",mutation:s})}),ee(this,Oa).clear(),ee(this,zr).clear()})}getAll(){return Array.from(ee(this,Oa))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>uw(r,a))}findAll(s={}){return this.getAll().filter(r=>uw(s,r))}notify(s){Vt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return Vt.batch(()=>Promise.all(s.map(r=>r.continue().catch(Ms))))}},Oa=new WeakMap,zr=new WeakMap,fu=new WeakMap,A4);function tm(t){var s;return(s=t.options.scope)==null?void 0:s.id}var $a,kn,Vs,Ta,Wa,Rm,Nf,O4,n7=(O4=class extends Go{constructor(r,a){super();Ae(this,Wa);Ae(this,$a);Ae(this,kn);Ae(this,Vs);Ae(this,Ta);Ne(this,$a,r),this.setOptions(a),this.bindMethods(),ze(this,Wa,Rm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const a=this.options;this.options=ee(this,$a).defaultMutationOptions(r),gh(this.options,a)||ee(this,$a).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ee(this,Vs),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Yi(a.mutationKey)!==Yi(this.options.mutationKey)?this.reset():((n=ee(this,Vs))==null?void 0:n.state.status)==="pending"&&ee(this,Vs).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=ee(this,Vs))==null||r.removeObserver(this)}onMutationUpdate(r){ze(this,Wa,Rm).call(this),ze(this,Wa,Nf).call(this,r)}getCurrentResult(){return ee(this,kn)}reset(){var r;(r=ee(this,Vs))==null||r.removeObserver(this),Ne(this,Vs,void 0),ze(this,Wa,Rm).call(this),ze(this,Wa,Nf).call(this)}mutate(r,a){var n;return Ne(this,Ta,a),(n=ee(this,Vs))==null||n.removeObserver(this),Ne(this,Vs,ee(this,$a).getMutationCache().build(ee(this,$a),this.options)),ee(this,Vs).addObserver(this),ee(this,Vs).execute(r)}},$a=new WeakMap,kn=new WeakMap,Vs=new WeakMap,Ta=new WeakMap,Wa=new WeakSet,Rm=function(){var a;const r=((a=ee(this,Vs))==null?void 0:a.state)??dk();Ne(this,kn,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Nf=function(r){Vt.batch(()=>{var a,n,i,l,o,c,d,m;if(ee(this,Ta)&&this.hasListeners()){const u=ee(this,kn).variables,x=ee(this,kn).context,h={client:ee(this,$a),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((n=(a=ee(this,Ta)).onSuccess)==null||n.call(a,r.data,u,x,h),(l=(i=ee(this,Ta)).onSettled)==null||l.call(i,r.data,null,u,x,h)):(r==null?void 0:r.type)==="error"&&((c=(o=ee(this,Ta)).onError)==null||c.call(o,r.error,u,x,h),(m=(d=ee(this,Ta)).onSettled)==null||m.call(d,void 0,r.error,u,x,h))}this.listeners.forEach(u=>{u(ee(this,kn))})})},O4),ia,$4,i7=($4=class extends Go{constructor(s={}){super();Ae(this,ia);this.config=s,Ne(this,ia,new Map)}build(s,r,a){const n=r.queryKey,i=r.queryHash??mv(n,r);let l=this.get(i);return l||(l=new ZE({client:s,queryKey:n,queryHash:i,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(n)}),this.add(l)),l}add(s){ee(this,ia).has(s.queryHash)||(ee(this,ia).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=ee(this,ia).get(s.queryHash);r&&(s.destroy(),r===s&&ee(this,ia).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){Vt.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return ee(this,ia).get(s)}getAll(){return[...ee(this,ia).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>dw(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>dw(s,a)):r}notify(s){Vt.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},ia=new WeakMap,$4),Pt,Sn,Cn,to,so,Pn,ro,ao,T4,l7=(T4=class{constructor(t={}){Ae(this,Pt);Ae(this,Sn);Ae(this,Cn);Ae(this,to);Ae(this,so);Ae(this,Pn);Ae(this,ro);Ae(this,ao);Ne(this,Pt,t.queryCache||new i7),Ne(this,Sn,t.mutationCache||new a7),Ne(this,Cn,t.defaultOptions||{}),Ne(this,to,new Map),Ne(this,so,new Map),Ne(this,Pn,0)}mount(){Ru(this,Pn)._++,ee(this,Pn)===1&&(Ne(this,ro,xv.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,Pt).onFocus())})),Ne(this,ao,fh.subscribe(async t=>{t&&(await this.resumePausedMutations(),ee(this,Pt).onOnline())})))}unmount(){var t,s;Ru(this,Pn)._--,ee(this,Pn)===0&&((t=ee(this,ro))==null||t.call(this),Ne(this,ro,void 0),(s=ee(this,ao))==null||s.call(this),Ne(this,ao,void 0))}isFetching(t){return ee(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ee(this,Sn).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=ee(this,Pt).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const s=this.defaultQueryOptions(t),r=ee(this,Pt).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Un(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(t){return ee(this,Pt).findAll(t).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(t,s,r){const a=this.defaultQueryOptions({queryKey:t}),n=ee(this,Pt).get(a.queryHash),i=n==null?void 0:n.state.data,l=zE(s,i);if(l!==void 0)return ee(this,Pt).build(this,a).setData(l,{...r,manual:!0})}setQueriesData(t,s,r){return Vt.batch(()=>ee(this,Pt).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(t){var r;const s=this.defaultQueryOptions({queryKey:t});return(r=ee(this,Pt).get(s.queryHash))==null?void 0:r.state}removeQueries(t){const s=ee(this,Pt);Vt.batch(()=>{s.findAll(t).forEach(r=>{s.remove(r)})})}resetQueries(t,s){const r=ee(this,Pt);return Vt.batch(()=>(r.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},s)))}cancelQueries(t,s={}){const r={revert:!0,...s},a=Vt.batch(()=>ee(this,Pt).findAll(t).map(n=>n.cancel(r)));return Promise.all(a).then(Ms).catch(Ms)}invalidateQueries(t,s={}){return Vt.batch(()=>(ee(this,Pt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},s)))}refetchQueries(t,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=Vt.batch(()=>ee(this,Pt).findAll(t).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ms)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(Ms)}fetchQuery(t){const s=this.defaultQueryOptions(t);s.retry===void 0&&(s.retry=!1);const r=ee(this,Pt).build(this,s);return r.isStaleByTime(Un(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ms).catch(Ms)}fetchInfiniteQuery(t){return t.behavior=yw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ms).catch(Ms)}ensureInfiniteQueryData(t){return t.behavior=yw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return fh.isOnline()?ee(this,Sn).resumePausedMutations():Promise.resolve()}getQueryCache(){return ee(this,Pt)}getMutationCache(){return ee(this,Sn)}getDefaultOptions(){return ee(this,Cn)}setDefaultOptions(t){Ne(this,Cn,t)}setQueryDefaults(t,s){ee(this,to).set(Yi(t),{queryKey:t,defaultOptions:s})}getQueryDefaults(t){const s=[...ee(this,to).values()],r={};return s.forEach(a=>{Sd(t,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(t,s){ee(this,so).set(Yi(t),{mutationKey:t,defaultOptions:s})}getMutationDefaults(t){const s=[...ee(this,so).values()],r={};return s.forEach(a=>{Sd(t,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const s={...ee(this,Cn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return s.queryHash||(s.queryHash=mv(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===hv&&(s.enabled=!1),s}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ee(this,Cn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ee(this,Pt).clear(),ee(this,Sn).clear()}},Pt=new WeakMap,Sn=new WeakMap,Cn=new WeakMap,to=new WeakMap,so=new WeakMap,Pn=new WeakMap,ro=new WeakMap,ao=new WeakMap,T4),uk=k.createContext(void 0),Fe=t=>{const s=k.useContext(uk);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},o7=({client:t,children:s})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(uk.Provider,{value:t,children:s})),mk=k.createContext(!1),c7=()=>k.useContext(mk);mk.Provider;function d7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var u7=k.createContext(d7()),m7=()=>k.useContext(u7),h7=(t,s)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(s.isReset()||(t.retryOnMount=!1))},x7=t=>{k.useEffect(()=>{t.clearReset()},[t])},p7=({result:t,errorResetBoundary:s,throwOnError:r,query:a,suspense:n})=>t.isError&&!s.isReset()&&!t.isFetching&&a&&(n&&t.data===void 0||ak(r,[t.error,a])),g7=t=>{if(t.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),a=t.staleTime;t.staleTime=typeof a=="function"?(...n)=>r(a(...n)):r(a),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},f7=(t,s)=>t.isLoading&&t.isFetching&&!s,y7=(t,s)=>(t==null?void 0:t.suspense)&&s.isPending,vw=(t,s,r)=>s.fetchOptimistic(t).catch(()=>{r.clearReset()});function b7(t,s,r){var u,x,h,f,p;const a=c7(),n=m7(),i=Fe(),l=i.defaultQueryOptions(t);(x=(u=i.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||x.call(u,l),l._optimisticResults=a?"isRestoring":"optimistic",g7(l),h7(l,n),x7(n);const o=!i.getQueryCache().get(l.queryHash),[c]=k.useState(()=>new s(i,l)),d=c.getOptimisticResult(l),m=!a&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(N=>{const y=m?c.subscribe(Vt.batchCalls(N)):Ms;return c.updateResult(),y},[c,m]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),k.useEffect(()=>{c.setOptions(l)},[l,c]),y7(l,d))throw vw(l,c,n);if(p7({result:d,errorResetBoundary:n,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((f=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,l,d),l.experimental_prefetchInRender&&!Gi&&f7(d,a)){const N=o?vw(l,c,n):(p=i.getQueryCache().get(l.queryHash))==null?void 0:p.promise;N==null||N.catch(Ms).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}function ie(t,s){return b7(t,JE)}function ue(t,s){const r=Fe(),[a]=k.useState(()=>new n7(r,t));k.useEffect(()=>{a.setOptions(t)},[a,t]);const n=k.useSyncExternalStore(k.useCallback(l=>a.subscribe(Vt.batchCalls(l)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=k.useCallback((l,o)=>{a.mutate(l,o).catch(Ms)},[a]);if(n.error&&ak(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}const jw=t=>{let s;const r=new Set,a=(d,m)=>{const u=typeof d=="function"?d(s):d;if(!Object.is(u,s)){const x=s;s=m??(typeof u!="object"||u===null)?u:Object.assign({},s,u),r.forEach(h=>h(s,x))}},n=()=>s,o={setState:a,getState:n,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=s=t(a,n,o);return o},v7=t=>t?jw(t):jw,j7=t=>t;function N7(t,s=j7){const r=X.useSyncExternalStore(t.subscribe,X.useCallback(()=>s(t.getState()),[t,s]),X.useCallback(()=>s(t.getInitialState()),[t,s]));return X.useDebugValue(r),r}const w7=t=>{const s=v7(t),r=a=>N7(s,a);return Object.assign(r,s),r},_7=t=>w7;function k7(t,s){let r;try{r=t()}catch{return}return{getItem:n=>{var i;const l=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(n))!=null?i:null;return o instanceof Promise?o.then(l):l(o)},setItem:(n,i)=>r.setItem(n,JSON.stringify(i,void 0)),removeItem:n=>r.removeItem(n)}}const wf=t=>s=>{try{const r=t(s);return r instanceof Promise?r:{then(a){return wf(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return wf(a)(r)}}}},S7=(t,s)=>(r,a,n)=>{let i={storage:k7(()=>localStorage),partialize:p=>p,version:0,merge:(p,N)=>({...N,...p}),...s},l=!1;const o=new Set,c=new Set;let d=i.storage;if(!d)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...p)},a,n);const m=()=>{const p=i.partialize({...a()});return d.setItem(i.name,{state:p,version:i.version})},u=n.setState;n.setState=(p,N)=>(u(p,N),m());const x=t((...p)=>(r(...p),m()),a,n);n.getInitialState=()=>x;let h;const f=()=>{var p,N;if(!d)return;l=!1,o.forEach(j=>{var g;return j((g=a())!=null?g:x)});const y=((N=i.onRehydrateStorage)==null?void 0:N.call(i,(p=a())!=null?p:x))||void 0;return wf(d.getItem.bind(d))(i.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==i.version){if(i.migrate){const g=i.migrate(j.state,j.version);return g instanceof Promise?g.then(S=>[!0,S]):[!0,g]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var g;const[S,w]=j;if(h=i.merge(w,(g=a())!=null?g:x),r(h,!0),S)return m()}).then(()=>{y==null||y(h,void 0),h=a(),l=!0,c.forEach(j=>j(h))}).catch(j=>{y==null||y(void 0,j)})};return n.persist={setOptions:p=>{i={...i,...p},p.storage&&(d=p.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:p=>(o.add(p),()=>{o.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},i.skipHydration||f(),h||x},C7=S7;function hk(t,s){return function(){return t.apply(s,arguments)}}const{toString:P7}=Object.prototype,{getPrototypeOf:gv}=Object,{iterator:Bx,toStringTag:xk}=Symbol,qx=(t=>s=>{const r=P7.call(s);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Jr=t=>(t=t.toLowerCase(),s=>qx(s)===t),zx=t=>s=>typeof s===t,{isArray:Yo}=Array,ho=zx("undefined");function wu(t){return t!==null&&!ho(t)&&t.constructor!==null&&!ho(t.constructor)&&Js(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pk=Jr("ArrayBuffer");function A7(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&pk(t.buffer),s}const O7=zx("string"),Js=zx("function"),gk=zx("number"),_u=t=>t!==null&&typeof t=="object",$7=t=>t===!0||t===!1,Lm=t=>{if(qx(t)!=="object")return!1;const s=gv(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(xk in t)&&!(Bx in t)},T7=t=>{if(!_u(t)||wu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},E7=Jr("Date"),M7=Jr("File"),F7=Jr("Blob"),R7=Jr("FileList"),L7=t=>_u(t)&&Js(t.pipe),D7=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||Js(t.append)&&((s=qx(t))==="formdata"||s==="object"&&Js(t.toString)&&t.toString()==="[object FormData]"))},I7=Jr("URLSearchParams"),[B7,q7,z7,U7]=["ReadableStream","Request","Response","Headers"].map(Jr),W7=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ku(t,s,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Yo(t))for(a=0,n=t.length;a<n;a++)s.call(null,t[a],a,t);else{if(wu(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(a=0;a<l;a++)o=i[a],s.call(null,t[o],o,t)}}function fk(t,s){if(wu(t))return null;s=s.toLowerCase();const r=Object.keys(t);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yk=t=>!ho(t)&&t!==Ni;function _f(){const{caseless:t,skipUndefined:s}=yk(this)&&this||{},r={},a=(n,i)=>{const l=t&&fk(r,i)||i;Lm(r[l])&&Lm(n)?r[l]=_f(r[l],n):Lm(n)?r[l]=_f({},n):Yo(n)?r[l]=n.slice():(!s||!ho(n))&&(r[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ku(arguments[n],a);return r}const V7=(t,s,r,{allOwnKeys:a}={})=>(ku(s,(n,i)=>{r&&Js(n)?t[i]=hk(n,r):t[i]=n},{allOwnKeys:a}),t),H7=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),K7=(t,s,r,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),r&&Object.assign(t.prototype,r)},G7=(t,s,r,a)=>{let n,i,l;const o={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,s))&&!o[l]&&(s[l]=t[l],o[l]=!0);t=r!==!1&&gv(t)}while(t&&(!r||r(t,s))&&t!==Object.prototype);return s},Y7=(t,s,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=s.length;const a=t.indexOf(s,r);return a!==-1&&a===r},Q7=t=>{if(!t)return null;if(Yo(t))return t;let s=t.length;if(!gk(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=t[s];return r},X7=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&gv(Uint8Array)),Z7=(t,s)=>{const a=(t&&t[Bx]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;s.call(t,i[0],i[1])}},J7=(t,s)=>{let r;const a=[];for(;(r=t.exec(s))!==null;)a.push(r);return a},e8=Jr("HTMLFormElement"),t8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),Nw=(({hasOwnProperty:t})=>(s,r)=>t.call(s,r))(Object.prototype),s8=Jr("RegExp"),bk=(t,s)=>{const r=Object.getOwnPropertyDescriptors(t),a={};ku(r,(n,i)=>{let l;(l=s(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},r8=t=>{bk(t,(s,r)=>{if(Js(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=t[r];if(Js(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},a8=(t,s)=>{const r={},a=n=>{n.forEach(i=>{r[i]=!0})};return Yo(t)?a(t):a(String(t).split(s)),r},n8=()=>{},i8=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function l8(t){return!!(t&&Js(t.append)&&t[xk]==="FormData"&&t[Bx])}const o8=t=>{const s=new Array(10),r=(a,n)=>{if(_u(a)){if(s.indexOf(a)>=0)return;if(wu(a))return a;if(!("toJSON"in a)){s[n]=a;const i=Yo(a)?[]:{};return ku(a,(l,o)=>{const c=r(l,n+1);!ho(c)&&(i[o]=c)}),s[n]=void 0,i}}return a};return r(t,0)},c8=Jr("AsyncFunction"),d8=t=>t&&(_u(t)||Js(t))&&Js(t.then)&&Js(t.catch),vk=((t,s)=>t?setImmediate:s?((r,a)=>(Ni.addEventListener("message",({source:n,data:i})=>{n===Ni&&i===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Ni.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Js(Ni.postMessage)),u8=typeof queueMicrotask<"u"?queueMicrotask.bind(Ni):typeof process<"u"&&process.nextTick||vk,m8=t=>t!=null&&Js(t[Bx]),le={isArray:Yo,isArrayBuffer:pk,isBuffer:wu,isFormData:D7,isArrayBufferView:A7,isString:O7,isNumber:gk,isBoolean:$7,isObject:_u,isPlainObject:Lm,isEmptyObject:T7,isReadableStream:B7,isRequest:q7,isResponse:z7,isHeaders:U7,isUndefined:ho,isDate:E7,isFile:M7,isBlob:F7,isRegExp:s8,isFunction:Js,isStream:L7,isURLSearchParams:I7,isTypedArray:X7,isFileList:R7,forEach:ku,merge:_f,extend:V7,trim:W7,stripBOM:H7,inherits:K7,toFlatObject:G7,kindOf:qx,kindOfTest:Jr,endsWith:Y7,toArray:Q7,forEachEntry:Z7,matchAll:J7,isHTMLForm:e8,hasOwnProperty:Nw,hasOwnProp:Nw,reduceDescriptors:bk,freezeMethods:r8,toObjectSet:a8,toCamelCase:t8,noop:n8,toFiniteNumber:i8,findKey:fk,global:Ni,isContextDefined:yk,isSpecCompliantForm:l8,toJSONObject:o8,isAsyncFn:c8,isThenable:d8,setImmediate:vk,asap:u8,isIterable:m8};function Le(t,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}le.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const jk=Le.prototype,Nk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Nk[t]={value:t}});Object.defineProperties(Le,Nk);Object.defineProperty(jk,"isAxiosError",{value:!0});Le.from=(t,s,r,a,n,i)=>{const l=Object.create(jk);le.toFlatObject(t,l,function(m){return m!==Error.prototype},d=>d!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=s==null&&t?t.code:s;return Le.call(l,o,c,r,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const h8=null;function kf(t){return le.isPlainObject(t)||le.isArray(t)}function wk(t){return le.endsWith(t,"[]")?t.slice(0,-2):t}function ww(t,s,r){return t?t.concat(s).map(function(n,i){return n=wk(n),!r&&i?"["+n+"]":n}).join(r?".":""):s}function x8(t){return le.isArray(t)&&!t.some(kf)}const p8=le.toFlatObject(le,{},null,function(s){return/^is[A-Z]/.test(s)});function Ux(t,s,r){if(!le.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,r=le.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,N){return!le.isUndefined(N[p])});const a=r.metaTokens,n=r.visitor||m,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(s);if(!le.isFunction(n))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(le.isDate(f))return f.toISOString();if(le.isBoolean(f))return f.toString();if(!c&&le.isBlob(f))throw new Le("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(f)||le.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function m(f,p,N){let y=f;if(f&&!N&&typeof f=="object"){if(le.endsWith(p,"{}"))p=a?p:p.slice(0,-2),f=JSON.stringify(f);else if(le.isArray(f)&&x8(f)||(le.isFileList(f)||le.endsWith(p,"[]"))&&(y=le.toArray(f)))return p=wk(p),y.forEach(function(g,S){!(le.isUndefined(g)||g===null)&&s.append(l===!0?ww([p],S,i):l===null?p:p+"[]",d(g))}),!1}return kf(f)?!0:(s.append(ww(N,p,i),d(f)),!1)}const u=[],x=Object.assign(p8,{defaultVisitor:m,convertValue:d,isVisitable:kf});function h(f,p){if(!le.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+p.join("."));u.push(f),le.forEach(f,function(y,j){(!(le.isUndefined(y)||y===null)&&n.call(s,y,le.isString(j)?j.trim():j,p,x))===!0&&h(y,p?p.concat(j):[j])}),u.pop()}}if(!le.isObject(t))throw new TypeError("data must be an object");return h(t),s}function _w(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function fv(t,s){this._pairs=[],t&&Ux(t,this,s)}const _k=fv.prototype;_k.append=function(s,r){this._pairs.push([s,r])};_k.toString=function(s){const r=s?function(a){return s.call(this,a,_w)}:_w;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function g8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kk(t,s,r){if(!s)return t;const a=r&&r.encode||g8;le.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let i;if(n?i=n(s,r):i=le.isURLSearchParams(s)?s.toString():new fv(s,r).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class kw{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){le.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Sk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f8=typeof URLSearchParams<"u"?URLSearchParams:fv,y8=typeof FormData<"u"?FormData:null,b8=typeof Blob<"u"?Blob:null,v8={isBrowser:!0,classes:{URLSearchParams:f8,FormData:y8,Blob:b8},protocols:["http","https","file","blob","url","data"]},yv=typeof window<"u"&&typeof document<"u",Sf=typeof navigator=="object"&&navigator||void 0,j8=yv&&(!Sf||["ReactNative","NativeScript","NS"].indexOf(Sf.product)<0),N8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",w8=yv&&window.location.href||"http://localhost",_8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yv,hasStandardBrowserEnv:j8,hasStandardBrowserWebWorkerEnv:N8,navigator:Sf,origin:w8},Symbol.toStringTag,{value:"Module"})),Ss={..._8,...v8};function k8(t,s){return Ux(t,new Ss.classes.URLSearchParams,{visitor:function(r,a,n,i){return Ss.isNode&&le.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function S8(t){return le.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function C8(t){const s={},r=Object.keys(t);let a;const n=r.length;let i;for(a=0;a<n;a++)i=r[a],s[i]=t[i];return s}function Ck(t){function s(r,a,n,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&le.isArray(n)?n.length:l,c?(le.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!le.isObject(n[l]))&&(n[l]=[]),s(r,a,n[l],i)&&le.isArray(n[l])&&(n[l]=C8(n[l])),!o)}if(le.isFormData(t)&&le.isFunction(t.entries)){const r={};return le.forEachEntry(t,(a,n)=>{s(S8(a),n,r,0)}),r}return null}function P8(t,s,r){if(le.isString(t))try{return(s||JSON.parse)(t),le.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}const Su={transitional:Sk,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,i=le.isObject(s);if(i&&le.isHTMLForm(s)&&(s=new FormData(s)),le.isFormData(s))return n?JSON.stringify(Ck(s)):s;if(le.isArrayBuffer(s)||le.isBuffer(s)||le.isStream(s)||le.isFile(s)||le.isBlob(s)||le.isReadableStream(s))return s;if(le.isArrayBufferView(s))return s.buffer;if(le.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return k8(s,this.formSerializer).toString();if((o=le.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ux(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return i||n?(r.setContentType("application/json",!1),P8(s)):s}],transformResponse:[function(s){const r=this.transitional||Su.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(le.isResponse(s)||le.isReadableStream(s))return s;if(s&&le.isString(s)&&(a&&!this.responseType||n)){const l=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?Le.from(o,Le.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ss.classes.FormData,Blob:Ss.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],t=>{Su.headers[t]={}});const A8=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O8=t=>{const s={};let r,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),r=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!r||s[r]&&A8[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},Sw=Symbol("internals");function wc(t){return t&&String(t).trim().toLowerCase()}function Dm(t){return t===!1||t==null?t:le.isArray(t)?t.map(Dm):String(t)}function $8(t){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(t);)s[a[1]]=a[2];return s}const T8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function w0(t,s,r,a,n){if(le.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!le.isString(s)){if(le.isString(a))return s.indexOf(a)!==-1;if(le.isRegExp(a))return a.test(s)}}function E8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function M8(t,s){const r=le.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(n,i,l){return this[a].call(this,s,n,i,l)},configurable:!0})})}let er=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function i(o,c,d){const m=wc(c);if(!m)throw new Error("header name must be a non-empty string");const u=le.findKey(n,m);(!u||n[u]===void 0||d===!0||d===void 0&&n[u]!==!1)&&(n[u||c]=Dm(o))}const l=(o,c)=>le.forEach(o,(d,m)=>i(d,m,c));if(le.isPlainObject(s)||s instanceof this.constructor)l(s,r);else if(le.isString(s)&&(s=s.trim())&&!T8(s))l(O8(s),r);else if(le.isObject(s)&&le.isIterable(s)){let o={},c,d;for(const m of s){if(!le.isArray(m))throw TypeError("Object iterator must return a key-value pair");o[d=m[0]]=(c=o[d])?le.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}l(o,r)}else s!=null&&i(r,s,a);return this}get(s,r){if(s=wc(s),s){const a=le.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return $8(n);if(le.isFunction(r))return r.call(this,n,a);if(le.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=wc(s),s){const a=le.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||w0(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function i(l){if(l=wc(l),l){const o=le.findKey(a,l);o&&(!r||w0(a,a[o],o,r))&&(delete a[o],n=!0)}}return le.isArray(s)?s.forEach(i):i(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const i=r[a];(!s||w0(this,this[i],i,s,!0))&&(delete this[i],n=!0)}return n}normalize(s){const r=this,a={};return le.forEach(this,(n,i)=>{const l=le.findKey(a,i);if(l){r[l]=Dm(n),delete r[i];return}const o=s?E8(i):String(i).trim();o!==i&&delete r[i],r[o]=Dm(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return le.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&le.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[Sw]=this[Sw]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=wc(l);a[o]||(M8(n,l),a[o]=!0)}return le.isArray(s)?s.forEach(i):i(s),this}};er.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);le.reduceDescriptors(er.prototype,({value:t},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[r]=a}}});le.freezeMethods(er);function _0(t,s){const r=this||Su,a=s||r,n=er.from(a.headers);let i=a.data;return le.forEach(t,function(o){i=o.call(r,i,n.normalize(),s?s.status:void 0)}),n.normalize(),i}function Pk(t){return!!(t&&t.__CANCEL__)}function Qo(t,s,r){Le.call(this,t??"canceled",Le.ERR_CANCELED,s,r),this.name="CanceledError"}le.inherits(Qo,Le,{__CANCEL__:!0});function Ak(t,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):s(new Le("Request failed with status code "+r.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function F8(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function R8(t,s){t=t||10;const r=new Array(t),a=new Array(t);let n=0,i=0,l;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),m=a[i];l||(l=d),r[n]=c,a[n]=d;let u=i,x=0;for(;u!==n;)x+=r[u++],u=u%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),d-l<s)return;const h=m&&d-m;return h?Math.round(x*1e3/h):void 0}}function L8(t,s){let r=0,a=1e3/s,n,i;const l=(d,m=Date.now())=>{r=m,n=null,i&&(clearTimeout(i),i=null),t(...d)};return[(...d)=>{const m=Date.now(),u=m-r;u>=a?l(d,m):(n=d,i||(i=setTimeout(()=>{i=null,l(n)},a-u)))},()=>n&&l(n)]}const yh=(t,s,r=3)=>{let a=0;const n=R8(50,250);return L8(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-a,d=n(c),m=l<=o;a=l;const u={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&m?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[s?"download":"upload"]:!0};t(u)},r)},Cw=(t,s)=>{const r=t!=null;return[a=>s[0]({lengthComputable:r,total:t,loaded:a}),s[1]]},Pw=t=>(...s)=>le.asap(()=>t(...s)),D8=Ss.hasStandardBrowserEnv?((t,s)=>r=>(r=new URL(r,Ss.origin),t.protocol===r.protocol&&t.host===r.host&&(s||t.port===r.port)))(new URL(Ss.origin),Ss.navigator&&/(msie|trident)/i.test(Ss.navigator.userAgent)):()=>!0,I8=Ss.hasStandardBrowserEnv?{write(t,s,r,a,n,i,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(s)}`];le.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),le.isString(a)&&o.push(`path=${a}`),le.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),le.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function B8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function q8(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Ok(t,s,r){let a=!B8(s);return t&&(a||r==!1)?q8(t,s):s}const Aw=t=>t instanceof er?{...t}:t;function Qi(t,s){s=s||{};const r={};function a(d,m,u,x){return le.isPlainObject(d)&&le.isPlainObject(m)?le.merge.call({caseless:x},d,m):le.isPlainObject(m)?le.merge({},m):le.isArray(m)?m.slice():m}function n(d,m,u,x){if(le.isUndefined(m)){if(!le.isUndefined(d))return a(void 0,d,u,x)}else return a(d,m,u,x)}function i(d,m){if(!le.isUndefined(m))return a(void 0,m)}function l(d,m){if(le.isUndefined(m)){if(!le.isUndefined(d))return a(void 0,d)}else return a(void 0,m)}function o(d,m,u){if(u in s)return a(d,m);if(u in t)return a(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,m,u)=>n(Aw(d),Aw(m),u,!0)};return le.forEach(Object.keys({...t,...s}),function(m){const u=c[m]||n,x=u(t[m],s[m],m);le.isUndefined(x)&&u!==o||(r[m]=x)}),r}const $k=t=>{const s=Qi({},t);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=s;if(s.headers=l=er.from(l),s.url=kk(Ok(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),le.isFormData(r)){if(Ss.hasStandardBrowserEnv||Ss.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(le.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([m,u])=>{d.includes(m.toLowerCase())&&l.set(m,u)})}}if(Ss.hasStandardBrowserEnv&&(a&&le.isFunction(a)&&(a=a(s)),a||a!==!1&&D8(s.url))){const c=n&&i&&I8.read(i);c&&l.set(n,c)}return s},z8=typeof XMLHttpRequest<"u",U8=z8&&function(t){return new Promise(function(r,a){const n=$k(t);let i=n.data;const l=er.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,m,u,x,h,f;function p(){h&&h(),f&&f(),n.cancelToken&&n.cancelToken.unsubscribe(m),n.signal&&n.signal.removeEventListener("abort",m)}let N=new XMLHttpRequest;N.open(n.method.toUpperCase(),n.url,!0),N.timeout=n.timeout;function y(){if(!N)return;const g=er.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),w={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:g,config:t,request:N};Ak(function(_){r(_),p()},function(_){a(_),p()},w),N=null}"onloadend"in N?N.onloadend=y:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(y)},N.onabort=function(){N&&(a(new Le("Request aborted",Le.ECONNABORTED,t,N)),N=null)},N.onerror=function(S){const w=S&&S.message?S.message:"Network Error",C=new Le(w,Le.ERR_NETWORK,t,N);C.event=S||null,a(C),N=null},N.ontimeout=function(){let S=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const w=n.transitional||Sk;n.timeoutErrorMessage&&(S=n.timeoutErrorMessage),a(new Le(S,w.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,N)),N=null},i===void 0&&l.setContentType(null),"setRequestHeader"in N&&le.forEach(l.toJSON(),function(S,w){N.setRequestHeader(w,S)}),le.isUndefined(n.withCredentials)||(N.withCredentials=!!n.withCredentials),o&&o!=="json"&&(N.responseType=n.responseType),d&&([x,f]=yh(d,!0),N.addEventListener("progress",x)),c&&N.upload&&([u,h]=yh(c),N.upload.addEventListener("progress",u),N.upload.addEventListener("loadend",h)),(n.cancelToken||n.signal)&&(m=g=>{N&&(a(!g||g.type?new Qo(null,t,N):g),N.abort(),N=null)},n.cancelToken&&n.cancelToken.subscribe(m),n.signal&&(n.signal.aborted?m():n.signal.addEventListener("abort",m)));const j=F8(n.url);if(j&&Ss.protocols.indexOf(j)===-1){a(new Le("Unsupported protocol "+j+":",Le.ERR_BAD_REQUEST,t));return}N.send(i||null)})},W8=(t,s)=>{const{length:r}=t=t?t.filter(Boolean):[];if(s||r){let a=new AbortController,n;const i=function(d){if(!n){n=!0,o();const m=d instanceof Error?d:this.reason;a.abort(m instanceof Le?m:new Qo(m instanceof Error?m.message:m))}};let l=s&&setTimeout(()=>{l=null,i(new Le(`timeout ${s} of ms exceeded`,Le.ETIMEDOUT))},s);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),t=null)};t.forEach(d=>d.addEventListener("abort",i));const{signal:c}=a;return c.unsubscribe=()=>le.asap(o),c}},V8=function*(t,s){let r=t.byteLength;if(r<s){yield t;return}let a=0,n;for(;a<r;)n=a+s,yield t.slice(a,n),a=n},H8=async function*(t,s){for await(const r of K8(t))yield*V8(r,s)},K8=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},Ow=(t,s,r,a)=>{const n=H8(t,s);let i=0,l,o=c=>{l||(l=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:m}=await n.next();if(d){o(),c.close();return}let u=m.byteLength;if(r){let x=i+=u;r(x)}c.enqueue(new Uint8Array(m))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},$w=64*1024,{isFunction:sm}=le,G8=(({Request:t,Response:s})=>({Request:t,Response:s}))(le.global),{ReadableStream:Tw,TextEncoder:Ew}=le.global,Mw=(t,...s)=>{try{return!!t(...s)}catch{return!1}},Y8=t=>{t=le.merge.call({skipUndefined:!0},G8,t);const{fetch:s,Request:r,Response:a}=t,n=s?sm(s):typeof fetch=="function",i=sm(r),l=sm(a);if(!n)return!1;const o=n&&sm(Tw),c=n&&(typeof Ew=="function"?(f=>p=>f.encode(p))(new Ew):async f=>new Uint8Array(await new r(f).arrayBuffer())),d=i&&o&&Mw(()=>{let f=!1;const p=new r(Ss.origin,{body:new Tw,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!p}),m=l&&o&&Mw(()=>le.isReadableStream(new a("").body)),u={stream:m&&(f=>f.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!u[f]&&(u[f]=(p,N)=>{let y=p&&p[f];if(y)return y.call(p);throw new Le(`Response type '${f}' is not supported`,Le.ERR_NOT_SUPPORT,N)})});const x=async f=>{if(f==null)return 0;if(le.isBlob(f))return f.size;if(le.isSpecCompliantForm(f))return(await new r(Ss.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(le.isArrayBufferView(f)||le.isArrayBuffer(f))return f.byteLength;if(le.isURLSearchParams(f)&&(f=f+""),le.isString(f))return(await c(f)).byteLength},h=async(f,p)=>{const N=le.toFiniteNumber(f.getContentLength());return N??x(p)};return async f=>{let{url:p,method:N,data:y,signal:j,cancelToken:g,timeout:S,onDownloadProgress:w,onUploadProgress:C,responseType:_,headers:$,withCredentials:F="same-origin",fetchOptions:T}=$k(f),R=s||fetch;_=_?(_+"").toLowerCase():"text";let A=W8([j,g&&g.toAbortSignal()],S),M=null;const P=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let E;try{if(C&&d&&N!=="get"&&N!=="head"&&(E=await h($,y))!==0){let D=new r(p,{method:"POST",body:y,duplex:"half"}),U;if(le.isFormData(y)&&(U=D.headers.get("content-type"))&&$.setContentType(U),D.body){const[q,B]=Cw(E,yh(Pw(C)));y=Ow(D.body,$w,q,B)}}le.isString(F)||(F=F?"include":"omit");const z=i&&"credentials"in r.prototype,O={...T,signal:A,method:N.toUpperCase(),headers:$.normalize().toJSON(),body:y,duplex:"half",credentials:z?F:void 0};M=i&&new r(p,O);let b=await(i?R(M,T):R(p,O));const L=m&&(_==="stream"||_==="response");if(m&&(w||L&&P)){const D={};["status","statusText","headers"].forEach(W=>{D[W]=b[W]});const U=le.toFiniteNumber(b.headers.get("content-length")),[q,B]=w&&Cw(U,yh(Pw(w),!0))||[];b=new a(Ow(b.body,$w,q,()=>{B&&B(),P&&P()}),D)}_=_||"text";let v=await u[le.findKey(u,_)||"text"](b,f);return!L&&P&&P(),await new Promise((D,U)=>{Ak(D,U,{data:v,headers:er.from(b.headers),status:b.status,statusText:b.statusText,config:f,request:M})})}catch(z){throw P&&P(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,f,M),{cause:z.cause||z}):Le.from(z,z&&z.code,f,M)}}},Q8=new Map,Tk=t=>{let s=t&&t.env||{};const{fetch:r,Request:a,Response:n}=s,i=[a,n,r];let l=i.length,o=l,c,d,m=Q8;for(;o--;)c=i[o],d=m.get(c),d===void 0&&m.set(c,d=o?new Map:Y8(s)),m=d;return d};Tk();const bv={http:h8,xhr:U8,fetch:{get:Tk}};le.forEach(bv,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Fw=t=>`- ${t}`,X8=t=>le.isFunction(t)||t===null||t===!1;function Z8(t,s){t=le.isArray(t)?t:[t];const{length:r}=t;let a,n;const i={};for(let l=0;l<r;l++){a=t[l];let o;if(n=a,!X8(a)&&(n=bv[(o=String(a)).toLowerCase()],n===void 0))throw new Le(`Unknown adapter '${o}'`);if(n&&(le.isFunction(n)||(n=n.get(s))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?l.length>1?`since :
`+l.map(Fw).join(`
`):" "+Fw(l[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const Ek={getAdapter:Z8,adapters:bv};function k0(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Qo(null,t)}function Rw(t){return k0(t),t.headers=er.from(t.headers),t.data=_0.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ek.getAdapter(t.adapter||Su.adapter,t)(t).then(function(a){return k0(t),a.data=_0.call(t,t.transformResponse,a),a.headers=er.from(a.headers),a},function(a){return Pk(a)||(k0(t),a&&a.response&&(a.response.data=_0.call(t,t.transformResponse,a.response),a.response.headers=er.from(a.response.headers))),Promise.reject(a)})}const Mk="1.13.2",Wx={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Wx[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const Lw={};Wx.transitional=function(s,r,a){function n(i,l){return"[Axios v"+Mk+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(s===!1)throw new Le(n(l," has been removed"+(r?" in "+r:"")),Le.ERR_DEPRECATED);return r&&!Lw[l]&&(Lw[l]=!0,console.warn(n(l," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(i,l,o):!0}};Wx.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function J8(t,s,r){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=s[i];if(l){const o=t[i],c=o===void 0||l(o,i,t);if(c!==!0)throw new Le("option "+i+" must be "+c,Le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Le("Unknown option "+i,Le.ERR_BAD_OPTION)}}const Im={assertOptions:J8,validators:Wx},sa=Im.validators;let Ii=class{constructor(s){this.defaults=s||{},this.interceptors={request:new kw,response:new kw}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Qi(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:i}=r;a!==void 0&&Im.assertOptions(a,{silentJSONParsing:sa.transitional(sa.boolean),forcedJSONParsing:sa.transitional(sa.boolean),clarifyTimeoutError:sa.transitional(sa.boolean)},!1),n!=null&&(le.isFunction(n)?r.paramsSerializer={serialize:n}:Im.assertOptions(n,{encode:sa.function,serialize:sa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Im.assertOptions(r,{baseUrl:sa.spelling("baseURL"),withXsrfToken:sa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&le.merge(i.common,i[r.method]);i&&le.forEach(["delete","get","head","post","put","patch","common"],f=>{delete i[f]}),r.headers=er.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let m,u=0,x;if(!c){const f=[Rw.bind(this),void 0];for(f.unshift(...o),f.push(...d),x=f.length,m=Promise.resolve(r);u<x;)m=m.then(f[u++],f[u++]);return m}x=o.length;let h=r;for(;u<x;){const f=o[u++],p=o[u++];try{h=f(h)}catch(N){p.call(this,N);break}}try{m=Rw.call(this,h)}catch(f){return Promise.reject(f)}for(u=0,x=d.length;u<x;)m=m.then(d[u++],d[u++]);return m}getUri(s){s=Qi(this.defaults,s);const r=Ok(s.baseURL,s.url,s.allowAbsoluteUrls);return kk(r,s.params,s.paramsSerializer)}};le.forEach(["delete","get","head","options"],function(s){Ii.prototype[s]=function(r,a){return this.request(Qi(a||{},{method:s,url:r,data:(a||{}).data}))}});le.forEach(["post","put","patch"],function(s){function r(a){return function(i,l,o){return this.request(Qi(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ii.prototype[s]=r(),Ii.prototype[s+"Form"]=r(!0)});let eM=class Fk{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},s(function(i,l,o){a.reason||(a.reason=new Qo(i,l,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Fk(function(n){s=n}),cancel:s}}};function tM(t){return function(r){return t.apply(null,r)}}function sM(t){return le.isObject(t)&&t.isAxiosError===!0}const Cf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Cf).forEach(([t,s])=>{Cf[s]=t});function Rk(t){const s=new Ii(t),r=hk(Ii.prototype.request,s);return le.extend(r,Ii.prototype,s,{allOwnKeys:!0}),le.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return Rk(Qi(t,n))},r}const H=Rk(Su);H.Axios=Ii;H.CanceledError=Qo;H.CancelToken=eM;H.isCancel=Pk;H.VERSION=Mk;H.toFormData=Ux;H.AxiosError=Le;H.Cancel=H.CanceledError;H.all=function(s){return Promise.all(s)};H.spread=tM;H.isAxiosError=sM;H.mergeConfig=Qi;H.AxiosHeaders=er;H.formToJSON=t=>Ck(le.isHTMLForm(t)?new FormData(t):t);H.getAdapter=Ek.getAdapter;H.HttpStatusCode=Cf;H.default=H;const{Axios:hge,AxiosError:xge,CanceledError:pge,isCancel:gge,CancelToken:fge,VERSION:yge,all:bge,Cancel:vge,isAxiosError:jge,spread:Nge,toFormData:wge,AxiosHeaders:_ge,HttpStatusCode:kge,formToJSON:Sge,getAdapter:Cge,mergeConfig:Pge}=H,fa=Object.create(null);fa.open="0";fa.close="1";fa.ping="2";fa.pong="3";fa.message="4";fa.upgrade="5";fa.noop="6";const Bm=Object.create(null);Object.keys(fa).forEach(t=>{Bm[fa[t]]=t});const Pf={type:"error",data:"parser error"},Lk=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Dk=typeof ArrayBuffer=="function",Ik=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,vv=({type:t,data:s},r,a)=>Lk&&s instanceof Blob?r?a(s):Dw(s,a):Dk&&(s instanceof ArrayBuffer||Ik(s))?r?a(s):Dw(new Blob([s]),a):a(fa[t]+(s||"")),Dw=(t,s)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];s("b"+(a||""))},r.readAsDataURL(t)};function Iw(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let S0;function rM(t,s){if(Lk&&t.data instanceof Blob)return t.data.arrayBuffer().then(Iw).then(s);if(Dk&&(t.data instanceof ArrayBuffer||Ik(t.data)))return s(Iw(t.data));vv(t,!1,r=>{S0||(S0=new TextEncoder),s(S0.encode(r))})}const Bw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Uc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Bw.length;t++)Uc[Bw.charCodeAt(t)]=t;const aM=t=>{let s=t.length*.75,r=t.length,a,n=0,i,l,o,c;t[t.length-1]==="="&&(s--,t[t.length-2]==="="&&s--);const d=new ArrayBuffer(s),m=new Uint8Array(d);for(a=0;a<r;a+=4)i=Uc[t.charCodeAt(a)],l=Uc[t.charCodeAt(a+1)],o=Uc[t.charCodeAt(a+2)],c=Uc[t.charCodeAt(a+3)],m[n++]=i<<2|l>>4,m[n++]=(l&15)<<4|o>>2,m[n++]=(o&3)<<6|c&63;return d},nM=typeof ArrayBuffer=="function",jv=(t,s)=>{if(typeof t!="string")return{type:"message",data:Bk(t,s)};const r=t.charAt(0);return r==="b"?{type:"message",data:iM(t.substring(1),s)}:Bm[r]?t.length>1?{type:Bm[r],data:t.substring(1)}:{type:Bm[r]}:Pf},iM=(t,s)=>{if(nM){const r=aM(t);return Bk(r,s)}else return{base64:!0,data:t}},Bk=(t,s)=>{switch(s){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},qk="",lM=(t,s)=>{const r=t.length,a=new Array(r);let n=0;t.forEach((i,l)=>{vv(i,!1,o=>{a[l]=o,++n===r&&s(a.join(qk))})})},oM=(t,s)=>{const r=t.split(qk),a=[];for(let n=0;n<r.length;n++){const i=jv(r[n],s);if(a.push(i),i.type==="error")break}return a};function cM(){return new TransformStream({transform(t,s){rM(t,r=>{const a=r.length;let n;if(a<126)n=new Uint8Array(1),new DataView(n.buffer).setUint8(0,a);else if(a<65536){n=new Uint8Array(3);const i=new DataView(n.buffer);i.setUint8(0,126),i.setUint16(1,a)}else{n=new Uint8Array(9);const i=new DataView(n.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(a))}t.data&&typeof t.data!="string"&&(n[0]|=128),s.enqueue(n),s.enqueue(r)})}})}let C0;function rm(t){return t.reduce((s,r)=>s+r.length,0)}function am(t,s){if(t[0].length===s)return t.shift();const r=new Uint8Array(s);let a=0;for(let n=0;n<s;n++)r[n]=t[0][a++],a===t[0].length&&(t.shift(),a=0);return t.length&&a<t[0].length&&(t[0]=t[0].slice(a)),r}function dM(t,s){C0||(C0=new TextDecoder);const r=[];let a=0,n=-1,i=!1;return new TransformStream({transform(l,o){for(r.push(l);;){if(a===0){if(rm(r)<1)break;const c=am(r,1);i=(c[0]&128)===128,n=c[0]&127,n<126?a=3:n===126?a=1:a=2}else if(a===1){if(rm(r)<2)break;const c=am(r,2);n=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),a=3}else if(a===2){if(rm(r)<8)break;const c=am(r,8),d=new DataView(c.buffer,c.byteOffset,c.length),m=d.getUint32(0);if(m>Math.pow(2,21)-1){o.enqueue(Pf);break}n=m*Math.pow(2,32)+d.getUint32(4),a=3}else{if(rm(r)<n)break;const c=am(r,n);o.enqueue(jv(i?c:C0.decode(c),s)),a=0}if(n===0||n>t){o.enqueue(Pf);break}}}})}const zk=4;function Bt(t){if(t)return uM(t)}function uM(t){for(var s in Bt.prototype)t[s]=Bt.prototype[s];return t}Bt.prototype.on=Bt.prototype.addEventListener=function(t,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(s),this};Bt.prototype.once=function(t,s){function r(){this.off(t,r),s.apply(this,arguments)}return r.fn=s,this.on(t,r),this};Bt.prototype.off=Bt.prototype.removeListener=Bt.prototype.removeAllListeners=Bt.prototype.removeEventListener=function(t,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var a,n=0;n<r.length;n++)if(a=r[n],a===s||a.fn===s){r.splice(n,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Bt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),r=this._callbacks["$"+t],a=1;a<arguments.length;a++)s[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,n=r.length;a<n;++a)r[a].apply(this,s)}return this};Bt.prototype.emitReserved=Bt.prototype.emit;Bt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Bt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Vx=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,r)=>r(s,0),Nr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),mM="arraybuffer";function Uk(t,...s){return s.reduce((r,a)=>(t.hasOwnProperty(a)&&(r[a]=t[a]),r),{})}const hM=Nr.setTimeout,xM=Nr.clearTimeout;function Hx(t,s){s.useNativeTimers?(t.setTimeoutFn=hM.bind(Nr),t.clearTimeoutFn=xM.bind(Nr)):(t.setTimeoutFn=Nr.setTimeout.bind(Nr),t.clearTimeoutFn=Nr.clearTimeout.bind(Nr))}const pM=1.33;function gM(t){return typeof t=="string"?fM(t):Math.ceil((t.byteLength||t.size)*pM)}function fM(t){let s=0,r=0;for(let a=0,n=t.length;a<n;a++)s=t.charCodeAt(a),s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(a++,r+=4);return r}function Wk(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function yM(t){let s="";for(let r in t)t.hasOwnProperty(r)&&(s.length&&(s+="&"),s+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return s}function bM(t){let s={},r=t.split("&");for(let a=0,n=r.length;a<n;a++){let i=r[a].split("=");s[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return s}class vM extends Error{constructor(s,r,a){super(s),this.description=r,this.context=a,this.type="TransportError"}}class Nv extends Bt{constructor(s){super(),this.writable=!1,Hx(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,r,a){return super.emitReserved("error",new vM(s,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const r=jv(s,this.socket.binaryType);this.onPacket(r)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,r={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const r=yM(s);return r.length?"?"+r:""}}class jM extends Nv{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const r=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};oM(s,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,lM(s,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Wk()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(s,r)}}let Vk=!1;try{Vk=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const NM=Vk;function wM(){}class _M extends jM{constructor(s){if(super(s),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||a!==s.port}}doWrite(s,r){const a=this.request({method:"POST",data:s});a.on("success",r),a.on("error",(n,i)=>{this.onError("xhr post error",n,i)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=s}}class ha extends Bt{constructor(s,r,a){super(),this.createRequest=s,Hx(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var s;const r=Uk(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let n in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(n)&&a.setRequestHeader(n,this._opts.extraHeaders[n])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var n;a.readyState===3&&((n=this._opts.cookieJar)===null||n===void 0||n.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(n){this.setTimeoutFn(()=>{this._onError(n)},0);return}typeof document<"u"&&(this._index=ha.requestsCount++,ha.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=wM,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ha.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ha.requestsCount=0;ha.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",qw);else if(typeof addEventListener=="function"){const t="onpagehide"in Nr?"pagehide":"unload";addEventListener(t,qw,!1)}}function qw(){for(let t in ha.requests)ha.requests.hasOwnProperty(t)&&ha.requests[t].abort()}const kM=function(){const t=Hk({xdomain:!1});return t&&t.responseType!==null}();class SM extends _M{constructor(s){super(s);const r=s&&s.forceBase64;this.supportsBinary=kM&&!r}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new ha(Hk,this.uri(),s)}}function Hk(t){const s=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||NM))return new XMLHttpRequest}catch{}if(!s)try{return new Nr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Kk=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class CM extends Nv{get name(){return"websocket"}doOpen(){const s=this.uri(),r=this.opts.protocols,a=Kk?{}:Uk(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,r,a)}catch(n){return this.emitReserved("error",n)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const a=s[r],n=r===s.length-1;vv(a,this.supportsBinary,i=>{try{this.doWrite(a,i)}catch{}n&&Vx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Wk()),this.supportsBinary||(r.b64=1),this.createUri(s,r)}}const P0=Nr.WebSocket||Nr.MozWebSocket;class PM extends CM{createSocket(s,r,a){return Kk?new P0(s,r,a):r?new P0(s,r):new P0(s)}doWrite(s,r){this.ws.send(r)}}class AM extends Nv{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const r=dM(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=s.readable.pipeThrough(r).getReader(),n=cM();n.readable.pipeTo(s.writable),this._writer=n.writable.getWriter();const i=()=>{a.read().then(({done:o,value:c})=>{o||(this.onPacket(c),i())}).catch(o=>{})};i();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let r=0;r<s.length;r++){const a=s[r],n=r===s.length-1;this._writer.write(a).then(()=>{n&&Vx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const OM={websocket:PM,webtransport:AM,polling:SM},$M=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,TM=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Af(t){if(t.length>8e3)throw"URI too long";const s=t,r=t.indexOf("["),a=t.indexOf("]");r!=-1&&a!=-1&&(t=t.substring(0,r)+t.substring(r,a).replace(/:/g,";")+t.substring(a,t.length));let n=$M.exec(t||""),i={},l=14;for(;l--;)i[TM[l]]=n[l]||"";return r!=-1&&a!=-1&&(i.source=s,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=EM(i,i.path),i.queryKey=MM(i,i.query),i}function EM(t,s){const r=/\/{2,9}/g,a=s.replace(r,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&a.splice(0,1),s.slice(-1)=="/"&&a.splice(a.length-1,1),a}function MM(t,s){const r={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,n,i){n&&(r[n]=i)}),r}const Of=typeof addEventListener=="function"&&typeof removeEventListener=="function",qm=[];Of&&addEventListener("offline",()=>{qm.forEach(t=>t())},!1);class Wn extends Bt{constructor(s,r){if(super(),this.binaryType=mM,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(r=s,s=null),s){const a=Af(s);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=Af(r.host).host);Hx(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const n=a.prototype.name;this.transports.push(n),this._transportsByName[n]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=bM(this.opts.query)),Of&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},qm.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const r=Object.assign({},this.opts.query);r.EIO=zk,r.transport=s,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&Wn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(s);r.open(),this.setTransport(r)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Wn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=s.data,this._onError(r);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const n=this.writeBuffer[a].data;if(n&&(r+=gM(n)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,Vx(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,r,a){return this._sendPacket("message",s,r,a),this}send(s,r,a){return this._sendPacket("message",s,r,a),this}_sendPacket(s,r,a,n){if(typeof r=="function"&&(n=r,r=void 0),typeof a=="function"&&(n=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const i={type:s,data:r,options:a};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),s()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():s()}):this.upgrading?a():s()),this}_onError(s){if(Wn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Of&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=qm.indexOf(this._offlineEventListener);a!==-1&&qm.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,r),this.writeBuffer=[],this._prevBufferLen=0}}}Wn.protocol=zk;class FM extends Wn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let r=this.createTransport(s),a=!1;Wn.priorWebsocketSuccess=!1;const n=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",u=>{if(!a)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Wn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(m(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function i(){a||(a=!0,m(),r.close(),r=null)}const l=u=>{const x=new Error("probe error: "+u);x.transport=r.name,i(),this.emitReserved("upgradeError",x)};function o(){l("transport closed")}function c(){l("socket closed")}function d(u){r&&u.name!==r.name&&i()}const m=()=>{r.removeListener("open",n),r.removeListener("error",l),r.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};r.once("open",n),r.once("error",l),r.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const r=[];for(let a=0;a<s.length;a++)~this.transports.indexOf(s[a])&&r.push(s[a]);return r}}let RM=class extends FM{constructor(s,r={}){const a=typeof s=="object"?s:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(n=>OM[n]).filter(n=>!!n)),super(s,a)}};function LM(t,s="",r){let a=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),a=Af(t)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+s,a.href=a.protocol+"://"+i+(r&&r.port===a.port?"":":"+a.port),a}const DM=typeof ArrayBuffer=="function",IM=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Gk=Object.prototype.toString,BM=typeof Blob=="function"||typeof Blob<"u"&&Gk.call(Blob)==="[object BlobConstructor]",qM=typeof File=="function"||typeof File<"u"&&Gk.call(File)==="[object FileConstructor]";function wv(t){return DM&&(t instanceof ArrayBuffer||IM(t))||BM&&t instanceof Blob||qM&&t instanceof File}function zm(t,s){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,a=t.length;r<a;r++)if(zm(t[r]))return!0;return!1}if(wv(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return zm(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&zm(t[r]))return!0;return!1}function zM(t){const s=[],r=t.data,a=t;return a.data=$f(r,s),a.attachments=s.length,{packet:a,buffers:s}}function $f(t,s){if(!t)return t;if(wv(t)){const r={_placeholder:!0,num:s.length};return s.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let a=0;a<t.length;a++)r[a]=$f(t[a],s);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=$f(t[a],s));return r}return t}function UM(t,s){return t.data=Tf(t.data,s),delete t.attachments,t}function Tf(t,s){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<s.length)return s[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Tf(t[r],s);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Tf(t[r],s));return t}const WM=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],VM=5;var Ye;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ye||(Ye={}));class HM{constructor(s){this.replacer=s}encode(s){return(s.type===Ye.EVENT||s.type===Ye.ACK)&&zm(s)?this.encodeAsBinary({type:s.type===Ye.EVENT?Ye.BINARY_EVENT:Ye.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let r=""+s.type;return(s.type===Ye.BINARY_EVENT||s.type===Ye.BINARY_ACK)&&(r+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(r+=s.nsp+","),s.id!=null&&(r+=s.id),s.data!=null&&(r+=JSON.stringify(s.data,this.replacer)),r}encodeAsBinary(s){const r=zM(s),a=this.encodeAsString(r.packet),n=r.buffers;return n.unshift(a),n}}function zw(t){return Object.prototype.toString.call(t)==="[object Object]"}class _v extends Bt{constructor(s){super(),this.reviver=s}add(s){let r;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(s);const a=r.type===Ye.BINARY_EVENT;a||r.type===Ye.BINARY_ACK?(r.type=a?Ye.EVENT:Ye.ACK,this.reconstructor=new KM(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(wv(s)||s.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(s),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let r=0;const a={type:Number(s.charAt(0))};if(Ye[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===Ye.BINARY_EVENT||a.type===Ye.BINARY_ACK){const i=r+1;for(;s.charAt(++r)!=="-"&&r!=s.length;);const l=s.substring(i,r);if(l!=Number(l)||s.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(l)}if(s.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(s.charAt(r)===","||r===s.length););a.nsp=s.substring(i,r)}else a.nsp="/";const n=s.charAt(r+1);if(n!==""&&Number(n)==n){const i=r+1;for(;++r;){const l=s.charAt(r);if(l==null||Number(l)!=l){--r;break}if(r===s.length)break}a.id=Number(s.substring(i,r+1))}if(s.charAt(++r)){const i=this.tryParse(s.substr(r));if(_v.isPayloadValid(a.type,i))a.data=i;else throw new Error("invalid payload")}return a}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,r){switch(s){case Ye.CONNECT:return zw(r);case Ye.DISCONNECT:return r===void 0;case Ye.CONNECT_ERROR:return typeof r=="string"||zw(r);case Ye.EVENT:case Ye.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&WM.indexOf(r[0])===-1);case Ye.ACK:case Ye.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class KM{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const r=UM(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const GM=Object.freeze(Object.defineProperty({__proto__:null,Decoder:_v,Encoder:HM,get PacketType(){return Ye},protocol:VM},Symbol.toStringTag,{value:"Module"}));function Wr(t,s,r){return t.on(s,r),function(){t.off(s,r)}}const YM=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yk extends Bt{constructor(s,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Wr(s,"open",this.onopen.bind(this)),Wr(s,"packet",this.onpacket.bind(this)),Wr(s,"error",this.onerror.bind(this)),Wr(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...r){var a,n,i;if(YM.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(r.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const l={type:Ye.EVENT,data:r};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const m=this.ids++,u=r.pop();this._registerAckCallback(m,u),l.id=m}const o=(n=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||n===void 0?void 0:n.writable,c=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(s,r){var a;const n=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(n===void 0){this.acks[s]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===s&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},n),l=(...o)=>{this.io.clearTimeoutFn(i),r.apply(this,o)};l.withError=!0,this.acks[s]=l}emitWithAck(s,...r){return new Promise((a,n)=>{const i=(l,o)=>l?n(l):a(o);i.withError=!0,r.push(i),this.emit(s,...r)})}_addToQueue(s){let r;typeof s[s.length-1]=="function"&&(r=s.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((n,...i)=>a!==this._queue[0]?void 0:(n!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(n)):(this._queue.shift(),r&&r(null,...i)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!s||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:Ye.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(a=>String(a.id)===s)){const a=this.acks[s];delete this.acks[s],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case Ye.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ye.EVENT:case Ye.BINARY_EVENT:this.onevent(s);break;case Ye.ACK:case Ye.BINARY_ACK:this.onack(s);break;case Ye.DISCONNECT:this.ondisconnect();break;case Ye.CONNECT_ERROR:this.destroy();const a=new Error(s.data.message);a.data=s.data.data,this.emitReserved("connect_error",a);break}}onevent(s){const r=s.data||[];s.id!=null&&r.push(this.ack(s.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const r=this;let a=!1;return function(...n){a||(a=!0,r.packet({type:Ye.ACK,id:s,data:n}))}}onack(s){const r=this.acks[s.id];typeof r=="function"&&(delete this.acks[s.id],r.withError&&s.data.unshift(null),r.apply(this,s.data))}onconnect(s,r){this.id=s,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ye.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(s===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(s===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,s.data)}}}function Xo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Xo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),r=Math.floor(s*this.jitter*t);t=Math.floor(s*10)&1?t+r:t-r}return Math.min(t,this.max)|0};Xo.prototype.reset=function(){this.attempts=0};Xo.prototype.setMin=function(t){this.ms=t};Xo.prototype.setMax=function(t){this.max=t};Xo.prototype.setJitter=function(t){this.jitter=t};class Ef extends Bt{constructor(s,r){var a;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(r=s,s=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Hx(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Xo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=s;const n=r.parser||GM;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var r;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(r=this.backoff)===null||r===void 0||r.setMin(s),this)}randomizationFactor(s){var r;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(r=this.backoff)===null||r===void 0||r.setJitter(s),this)}reconnectionDelayMax(s){var r;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(r=this.backoff)===null||r===void 0||r.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new RM(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const n=Wr(r,"open",function(){a.onopen(),s&&s()}),i=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),s?s(o):this.maybeReconnectOnOpen()},l=Wr(r,"error",i);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{n(),i(new Error("timeout")),r.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(n),this.subs.push(l),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Wr(s,"ping",this.onping.bind(this)),Wr(s,"data",this.ondata.bind(this)),Wr(s,"error",this.onerror.bind(this)),Wr(s,"close",this.onclose.bind(this)),Wr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(r){this.onclose("parse error",r)}}ondecoded(s){Vx(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,r){let a=this.nsps[s];return a?this._autoConnect&&!a.active&&a.connect():(a=new Yk(this,s,r),this.nsps[s]=a),a}_destroy(s){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(s){const r=this.encoder.encode(s);for(let a=0;a<r.length;a++)this.engine.write(r[a],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(n=>{n?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",n)):s.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const _c={};function ed(t,s){typeof t=="object"&&(s=t,t=void 0),s=s||{};const r=LM(t,s.path||"/socket.io"),a=r.source,n=r.id,i=r.path,l=_c[n]&&i in _c[n].nsps,o=s.forceNew||s["force new connection"]||s.multiplex===!1||l;let c;return o?c=new Ef(a,s):(_c[n]||(_c[n]=new Ef(a,s)),c=_c[n]),r.query&&!s.query&&(s.query=r.queryKey),c.socket(r.path,s)}Object.assign(ed,{Manager:Ef,Socket:Yk,io:ed,connect:ed});const Qk="https://123create-construction-app-with-a.launchpulse.ai";H.defaults.baseURL=Qk;const ae=_7()(C7((t,s)=>({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null},error_message:null,customer_profile:null,supplier_profile:null,admin_profile:null},cart_state:{items:[],total_items:0,subtotal:0,is_loading:!1,last_updated:null},notification_state:{unread_count:0,notifications:[],is_loading:!1},search_state:{current_query:null,recent_searches:[],active_filters:{},comparison_products:[],is_loading:!1},chat_state:{active_session_id:null,is_open:!1,unread_messages:0,is_connected:!1},ui_state:{sidebar_collapsed:!1,active_modal:null,loading_states:{}},websocket_connection:null,login_user:async(r,a)=>{var n,i;t({authentication_state:{...s().authentication_state,authentication_status:{...s().authentication_state.authentication_status,is_loading:!0},error_message:null}});try{const l=await H.post("/api/auth/login",{email:r,password:a}),{token:o,user:c,customer:d,supplier:m,admin:u}=l.data;H.defaults.headers.common.Authorization=`Bearer ${o}`,t({authentication_state:{current_user:c,auth_token:o,authentication_status:{is_authenticated:!0,is_loading:!1,user_type:c.user_type},error_message:null,customer_profile:d||null,supplier_profile:m||null,admin_profile:u||null}}),s().connect_websocket(),c.user_type==="customer"&&s().fetch_cart(),s().fetch_notifications()}catch(l){throw t({authentication_state:{...s().authentication_state,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null},error_message:((i=(n=l.response)==null?void 0:n.data)==null?void 0:i.message)||"Login failed"}}),l}},logout_user:async()=>{const r=s().authentication_state.auth_token;try{r&&await H.post("/api/auth/logout")}catch(a){console.error("Logout error:",a)}finally{delete H.defaults.headers.common.Authorization,s().disconnect_websocket(),t({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null},error_message:null,customer_profile:null,supplier_profile:null,admin_profile:null},cart_state:{items:[],total_items:0,subtotal:0,is_loading:!1,last_updated:null},notification_state:{unread_count:0,notifications:[],is_loading:!1}})}},register_customer:async r=>{var a,n;t({authentication_state:{...s().authentication_state,authentication_status:{...s().authentication_state.authentication_status,is_loading:!0},error_message:null}});try{const i=await H.post("/api/auth/register/customer",r),{token:l,user:o,customer:c}=i.data;H.defaults.headers.common.Authorization=`Bearer ${l}`,t({authentication_state:{current_user:o,auth_token:l,authentication_status:{is_authenticated:!0,is_loading:!1,user_type:"customer"},error_message:null,customer_profile:c,supplier_profile:null,admin_profile:null}}),s().connect_websocket(),s().fetch_cart()}catch(i){throw t({authentication_state:{...s().authentication_state,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null},error_message:((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"Registration failed"}}),i}},register_supplier:async r=>{var a,n;t({authentication_state:{...s().authentication_state,authentication_status:{...s().authentication_state.authentication_status,is_loading:!0},error_message:null}});try{await H.post("/api/auth/register/supplier",r),t({authentication_state:{...s().authentication_state,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null},error_message:null}})}catch(i){throw t({authentication_state:{...s().authentication_state,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null},error_message:((n=(a=i.response)==null?void 0:a.data)==null?void 0:n.message)||"Registration failed"}}),i}},initialize_auth:async()=>{const r=s().authentication_state.auth_token;if(!r){t({authentication_state:{...s().authentication_state,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null}}});return}t({authentication_state:{...s().authentication_state,authentication_status:{...s().authentication_state.authentication_status,is_loading:!0}}});try{H.defaults.headers.common.Authorization=`Bearer ${r}`;const a=await H.get("/api/users/me");t({authentication_state:{...s().authentication_state,current_user:a.data,authentication_status:{is_authenticated:!0,is_loading:!1,user_type:a.data.user_type}}}),s().connect_websocket(),a.data.user_type==="customer"&&s().fetch_cart(),s().fetch_notifications()}catch{delete H.defaults.headers.common.Authorization,t({authentication_state:{current_user:null,auth_token:null,authentication_status:{is_authenticated:!1,is_loading:!1,user_type:null},error_message:null,customer_profile:null,supplier_profile:null,admin_profile:null}})}},clear_auth_error:()=>{t({authentication_state:{...s().authentication_state,error_message:null}})},fetch_cart:async()=>{const{is_authenticated:r,user_type:a}=s().authentication_state.authentication_status;if(!(!r||a!=="customer")){t({cart_state:{...s().cart_state,is_loading:!0}});try{const n=await H.get("/api/cart"),{items:i=[],subtotal:l=0}=n.data;t({cart_state:{items:i,total_items:i.reduce((o,c)=>o+c.quantity,0),subtotal:l,is_loading:!1,last_updated:new Date().toISOString()}})}catch(n){console.error("Fetch cart error:",n),t({cart_state:{...s().cart_state,is_loading:!1}})}}},add_to_cart:async(r,a)=>{try{await H.post("/api/cart/items",{product_id:r,quantity:a}),await s().fetch_cart()}catch(n){throw console.error("Add to cart error:",n),n}},update_cart_item:async(r,a)=>{try{await H.patch(`/api/cart/items/${r}`,{quantity:a}),await s().fetch_cart()}catch(n){throw console.error("Update cart item error:",n),n}},remove_from_cart:async r=>{try{await H.delete(`/api/cart/items/${r}`),await s().fetch_cart()}catch(a){throw console.error("Remove from cart error:",a),a}},clear_cart:async()=>{try{await H.delete("/api/cart"),t({cart_state:{items:[],total_items:0,subtotal:0,is_loading:!1,last_updated:new Date().toISOString()}})}catch(r){throw console.error("Clear cart error:",r),r}},fetch_notifications:async()=>{const{is_authenticated:r}=s().authentication_state.authentication_status;if(r){t({notification_state:{...s().notification_state,is_loading:!0}});try{const a=await H.get("/api/notifications",{params:{limit:20,offset:0}}),{notifications:n=[],unread_count:i=0}=a.data;t({notification_state:{notifications:n,unread_count:i,is_loading:!1}})}catch(a){console.error("Fetch notifications error:",a),t({notification_state:{...s().notification_state,is_loading:!1}})}}},mark_notification_read:async r=>{try{await H.patch(`/api/notifications/${r}/read`),await s().fetch_notifications()}catch(a){console.error("Mark notification read error:",a)}},mark_all_notifications_read:async()=>{try{await H.post("/api/notifications/read-all"),await s().fetch_notifications()}catch(r){console.error("Mark all notifications read error:",r)}},set_search_query:r=>{t({search_state:{...s().search_state,current_query:r}})},add_to_recent_searches:r=>{const a=s().search_state.recent_searches,n=[r,...a.filter(i=>i!==r)].slice(0,10);t({search_state:{...s().search_state,recent_searches:n}})},add_to_comparison:r=>{const a=s().search_state.comparison_products;a.length>=5||a.includes(r)||t({search_state:{...s().search_state,comparison_products:[...a,r]}})},remove_from_comparison:r=>{t({search_state:{...s().search_state,comparison_products:s().search_state.comparison_products.filter(a=>a!==r)}})},clear_comparison:()=>{t({search_state:{...s().search_state,comparison_products:[]}})},toggle_sidebar:()=>{t({ui_state:{...s().ui_state,sidebar_collapsed:!s().ui_state.sidebar_collapsed}})},open_modal:r=>{t({ui_state:{...s().ui_state,active_modal:r}})},close_modal:()=>{t({ui_state:{...s().ui_state,active_modal:null}})},set_loading_state:(r,a)=>{t({ui_state:{...s().ui_state,loading_states:{...s().ui_state.loading_states,[r]:a}}})},connect_websocket:()=>{const r=s().authentication_state.auth_token;if(!r||s().websocket_connection)return;const a=ed(Qk,{auth:{token:r},transports:["websocket","polling"]});a.on("connect",()=>{t({chat_state:{...s().chat_state,is_connected:!0}})}),a.on("disconnect",()=>{t({chat_state:{...s().chat_state,is_connected:!1}})}),a.on("order_status_changed",()=>{}),a.on("inventory_update",()=>{}),a.on("chat_message_received",()=>{t({chat_state:{...s().chat_state,unread_messages:s().chat_state.unread_messages+1}})}),t({websocket_connection:a})},disconnect_websocket:()=>{const r=s().websocket_connection;r&&(r.disconnect(),t({websocket_connection:null,chat_state:{active_session_id:null,is_open:!1,unread_messages:0,is_connected:!1}}))}}),{name:"app-storage",partialize:t=>({authentication_state:{...t.authentication_state,authentication_status:{...t.authentication_state.authentication_status,is_loading:!1}},search_state:{...t.search_state,is_loading:!1}})}));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xk=(...t)=>t.filter((s,r,a)=>!!s&&a.indexOf(s)===r).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=k.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},c)=>k.createElement("svg",{ref:c,...XM,width:s,height:s,stroke:t,strokeWidth:a?Number(r)*24/Number(s):r,className:Xk("lucide",n),...o},[...l.map(([d,m])=>k.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,s)=>{const r=k.forwardRef(({className:a,...n},i)=>k.createElement(ZM,{ref:i,iconNode:s,className:Xk(`lucide-${QM(t)}`,a),...n}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=de("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=de("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=de("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e9=de("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=de("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=de("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=de("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=de("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=de("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=de("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=de("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=de("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i9=de("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=de("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=de("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=de("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=de("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=de("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=de("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=de("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=de("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=de("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=de("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=de("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=de("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=de("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=de("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=de("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=de("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=de("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=de("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=de("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=de("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=de("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=de("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=de("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=de("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=de("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=de("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=de("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=de("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=de("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=de("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=de("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=de("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=de("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=de("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=de("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=de("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=de("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=de("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=de("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=de("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=de("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=de("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=de("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=de("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=de("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=de("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=de("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=de("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=de("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),lS="https://123create-construction-app-with-a.launchpulse.ai",$9=async()=>(await H.get(`${lS}/categories`,{params:{is_active:"true",limit:100,sort_by:"display_order",sort_order:"asc"}})).data,T9=async t=>{var r;return t.length<3?{products:[],suppliers:[],categories:[]}:{products:((r=(await H.get(`${lS}/products`,{params:{search_query:t,limit:5,status:"active"}})).data.products)==null?void 0:r.slice(0,5).map(a=>({product_id:a.product_id,product_name:a.product_name,price_per_unit:Number(a.price_per_unit||0),primary_image_url:a.primary_image_url,supplier_name:a.business_name||a.supplier_name||""})))||[],suppliers:[],categories:[]}},E9=()=>{const t=Xe(),s=rn(),[r,a]=k.useState(""),[n,i]=k.useState(!1),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,u]=k.useState({products:[],suppliers:[],categories:[]}),[x,h]=k.useState(!1),f=k.useRef(null),p=k.useRef(null),N=k.useRef(null),{data:y=[],isLoading:j}=ie({queryKey:["categories","active"],queryFn:$9,staleTime:30*60*1e3,refetchOnWindowFocus:!1,retry:1});k.useEffect(()=>{i(!1),o(!1),d(!1)},[s.pathname]),k.useEffect(()=>{const _=$=>{f.current&&!f.current.contains($.target)&&i(!1)};if(n)return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[n]),k.useEffect(()=>{const _=$=>{p.current&&!p.current.contains($.target)&&d(!1)};if(c)return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[c]);const g=k.useCallback(_=>{if(a(_),N.current&&clearTimeout(N.current),_.length<3){u({products:[],suppliers:[],categories:[]}),h(!1);return}h(!0),N.current=setTimeout(async()=>{try{const $=await T9(_);u($)}catch($){console.error("Error fetching search suggestions:",$),u({products:[],suppliers:[],categories:[]})}finally{h(!1)}},300)},[]);k.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]);const S=_=>{_.preventDefault(),r.trim()&&(t(`/products?search_query=${encodeURIComponent(r.trim())}`),d(!1),a(""))},w=_=>{t(`/products?category=${_}`),i(!1)},C=_=>{t(`/product/${_}`),d(!1),a("")};return k.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l]),e.jsxs(e.Fragment,{children:[e.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white shadow-md z-50",children:e.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs(G,{to:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"BE"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:"BuildEasy"})]}),e.jsxs("div",{className:"hidden md:block relative",ref:f,children:[e.jsxs("button",{onClick:()=>i(!n),className:"flex items-center space-x-1 px-4 py-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200","aria-label":"Browse categories","aria-expanded":n,children:[e.jsx("span",{className:"font-medium",children:"Categories"}),e.jsx(ds,{className:`w-4 h-4 transition-transform duration-200 ${n?"rotate-180":""}`})]}),n&&e.jsx("div",{className:"absolute left-0 mt-2 w-96 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4",children:"Browse by Category"}),j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):y.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.slice(0,12).map(_=>e.jsxs("button",{onClick:()=>w(_.category_slug),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-blue-50 transition-colors duration-200 text-left",children:[_.icon_url?e.jsx("img",{src:_.icon_url,alt:_.category_name,className:"w-8 h-8 object-contain"}):e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-xs font-medium",children:_.category_name.charAt(0)})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:_.category_name})]},_.category_id))}):e.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"No categories available"}),y.length>12&&e.jsx(G,{to:"/products",className:"block mt-4 text-center text-sm font-medium text-blue-600 hover:text-blue-700",onClick:()=>i(!1),children:"View All Categories "})]})})]})]}),e.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative",ref:p,children:[e.jsx("form",{onSubmit:S,className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:r,onChange:_=>g(_.target.value),onFocus:()=>d(!0),placeholder:"Search construction materials...",className:"block w-full pl-10 pr-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200"}),r&&e.jsx("button",{type:"button",onClick:()=>{a(""),u({products:[],suppliers:[],categories:[]})},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:e.jsx(be,{className:"h-4 w-4"})})]})}),c&&r.length>=3&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden max-h-96 overflow-y-auto z-50",children:x?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):m.products.length>0?e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-3",children:"Products"}),e.jsx("div",{className:"space-y-2",children:m.products.map(_=>e.jsxs("button",{onClick:()=>C(_.product_id),className:"w-full flex items-center space-x-3 p-2 rounded-lg hover:bg-blue-50 transition-colors duration-200 text-left",children:[_.primary_image_url?e.jsx("img",{src:_.primary_image_url,alt:_.product_name,className:"w-12 h-12 object-cover rounded-md"}):e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-md flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-xs",children:"No img"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_.product_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",_.price_per_unit.toFixed(2),_.supplier_name&&e.jsxs("span",{className:"ml-2",children:[" ",_.supplier_name]})]})]})]},_.product_id))})]}):r.length>=3?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"No products found"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Try different keywords"})]}):null})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(G,{to:"/help",className:"hidden lg:flex items-center text-gray-700 hover:text-blue-600 transition-colors duration-200","aria-label":"Help center",children:e.jsx(bh,{className:"w-5 h-5"})}),e.jsx(G,{to:"/login",className:"hidden sm:block px-4 py-2 text-gray-900 hover:text-blue-600 font-medium rounded-lg hover:bg-gray-100 transition-all duration-200",children:"Sign In"}),e.jsx(G,{to:"/register",className:"hidden sm:block px-6 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:"Sign Up Free"}),e.jsx("button",{onClick:()=>o(!l),className:"md:hidden p-2 text-gray-700 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200","aria-label":"Open menu",children:l?e.jsx(be,{className:"w-6 h-6"}):e.jsx(Kx,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"md:hidden pb-3",children:e.jsx("form",{onSubmit:S,children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:r,onChange:_=>g(_.target.value),onFocus:()=>d(!0),placeholder:"Search materials...",className:"block w-full pl-10 pr-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500 transition-all duration-200 text-sm"})]})})})]})}),l&&e.jsxs("div",{className:"fixed inset-0 z-40 md:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>o(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 w-full max-w-sm bg-white shadow-xl overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Menu"}),e.jsx("button",{onClick:()=>o(!1),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(be,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-gray-200",children:[e.jsx(G,{to:"/login",onClick:()=>o(!1),className:"block w-full px-4 py-3 text-center text-gray-900 bg-gray-100 hover:bg-gray-200 font-medium rounded-lg transition-colors duration-200",children:"Sign In"}),e.jsx(G,{to:"/register",onClick:()=>o(!1),className:"block w-full px-4 py-3 text-center text-white bg-blue-600 hover:bg-blue-700 font-medium rounded-lg shadow-lg transition-all duration-200",children:"Sign Up Free"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide mb-4",children:"Categories"}),j?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):y.length>0?e.jsxs("div",{className:"space-y-2",children:[y.slice(0,8).map(_=>e.jsxs("button",{onClick:()=>{w(_.category_slug),o(!1)},className:"w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-blue-50 transition-colors duration-200 text-left",children:[_.icon_url?e.jsx("img",{src:_.icon_url,alt:_.category_name,className:"w-6 h-6 object-contain"}):e.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-gray-600 text-xs",children:_.category_name.charAt(0)})}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.category_name})]},_.category_id)),y.length>8&&e.jsx(G,{to:"/products",onClick:()=>o(!1),className:"block mt-3 text-sm font-medium text-blue-600 hover:text-blue-700 text-center",children:"View All Categories "})]}):e.jsx("p",{className:"text-gray-500 text-sm py-4",children:"No categories available"})]}),e.jsx("div",{className:"pt-6 border-t border-gray-200",children:e.jsxs(G,{to:"/help",onClick:()=>o(!1),className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[e.jsx(bh,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Help Center"})]})})]})})]})]})};function M9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Gw=k.forwardRef(M9);function F9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const R9=k.forwardRef(F9);function L9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Yw=k.forwardRef(L9);function D9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Qw=k.forwardRef(D9);function I9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Xw=k.forwardRef(I9);function B9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Zw=k.forwardRef(B9);function q9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Jw=k.forwardRef(q9);function z9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const e_=k.forwardRef(z9);function U9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const W9=k.forwardRef(U9);function V9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const H9=k.forwardRef(V9);function K9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const t_=k.forwardRef(K9);function G9({title:t,titleId:s,...r},a){return k.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":s},r),t?k.createElement("title",{id:s},t):null,k.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Y9=k.forwardRef(G9),Q9=async t=>t?(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/cart",{headers:{Authorization:`Bearer ${t}`}})).data:{cart:null,items:[],subtotal:0,total_items:0},X9=async t=>t?(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/notifications",{params:{limit:10,is_read:!1},headers:{Authorization:`Bearer ${t}`}})).data:{notifications:[],total:0,unread_count:0},Z9=async(t,s)=>{await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/notifications/${s}/read`,{},{headers:{Authorization:`Bearer ${t}`}})},J9=async t=>{await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/auth/logout",{},{headers:{Authorization:`Bearer ${t}`}})},eF=()=>{const t=Xe(),s=Fe(),r=ae(v=>v.authentication_state.current_user),a=ae(v=>v.authentication_state.auth_token),n=ae(v=>v.authentication_state.customer_profile),i=ae(v=>v.authentication_state.authentication_status.is_authenticated),l=ae(v=>v.logout_user),[o,c]=k.useState(""),[d,m]=k.useState(!1),[u,x]=k.useState(!1),[h,f]=k.useState(!1),p=k.useRef(null),N=k.useRef(null),{data:y,isLoading:j}=ie({queryKey:["cart-summary"],queryFn:()=>Q9(a),enabled:i&&!!a,staleTime:3e4,refetchInterval:3e4,retry:1,select:v=>({total_items:v.total_items||0,is_loading:!1})}),{data:g,isLoading:S}=ie({queryKey:["notifications-summary"],queryFn:()=>X9(a),enabled:i&&!!a,staleTime:6e4,refetchInterval:6e4,retry:1,select:v=>({unread_count:v.unread_count||0,latest_notifications:v.notifications||[]})}),w=ue({mutationFn:v=>{if(!a)throw new Error("Not authenticated");return Z9(a,v)},onSuccess:()=>{s.invalidateQueries({queryKey:["notifications-summary"]})}}),C=ue({mutationFn:()=>{if(!a)throw new Error("Not authenticated");return J9(a)},onSuccess:()=>{l(),t("/")}}),_=v=>{v.preventDefault(),o.trim()&&(t(`/products?search_query=${encodeURIComponent(o.trim())}`),c(""))},$=v=>{w.mutate(v.notification_id),x(!1),v.action_url&&t(v.action_url)},F=()=>{f(!1),C.mutate()},T=()=>{x(!u),f(!1)},R=()=>{f(!h),x(!1)},A=()=>{m(!d)};k.useEffect(()=>{const v=D=>{p.current&&!p.current.contains(D.target)&&x(!1),N.current&&!N.current.contains(D.target)&&f(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),k.useEffect(()=>{m(!1)},[t]);const M=(y==null?void 0:y.total_items)||0,P=(g==null?void 0:g.unread_count)||0,E=(g==null?void 0:g.latest_notifications)||[],z=(r==null?void 0:r.first_name)||"Customer",O=(r==null?void 0:r.email)||"",b=r==null?void 0:r.profile_photo_url,L=(n==null?void 0:n.account_type)||"retail";return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white shadow-md",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs(G,{to:"/dashboard",className:"flex items-center space-x-2 transition-opacity hover:opacity-80",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"B"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:"BuildEasy"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[e.jsxs(G,{to:"/orders",className:"text-gray-700 hover:text-blue-600 font-medium text-sm transition-colors duration-200 flex items-center space-x-1",children:[e.jsx(Qw,{className:"w-5 h-5"}),e.jsx("span",{children:"Orders"})]}),e.jsxs(G,{to:"/projects",className:"text-gray-700 hover:text-blue-600 font-medium text-sm transition-colors duration-200 flex items-center space-x-1",children:[e.jsx(Zw,{className:"w-5 h-5"}),e.jsx("span",{children:"Projects"})]})]})]}),e.jsx("div",{className:"flex-1 max-w-2xl mx-4 hidden lg:block",children:e.jsxs("form",{onSubmit:_,className:"relative",children:[e.jsx("input",{type:"search",value:o,onChange:v=>c(v.target.value),placeholder:"Search construction materials...",className:"w-full px-4 py-2 pl-10 pr-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-sm"}),e.jsx("button",{type:"submit",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-blue-600 transition-colors","aria-label":"Search",children:e.jsx(Jw,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(G,{to:"/cart",className:"relative p-2 text-gray-700 hover:text-blue-600 transition-colors duration-200","aria-label":"Shopping cart",children:[e.jsx(W9,{className:"w-6 h-6"}),M>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:M>99?"99+":M}),j&&e.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3",children:e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"})})]}),e.jsxs("div",{className:"relative",ref:p,children:[e.jsxs("button",{onClick:T,className:"relative p-2 text-gray-700 hover:text-blue-600 transition-colors duration-200","aria-label":"Notifications","aria-expanded":u,children:[e.jsx(Yw,{className:"w-6 h-6"}),P>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:P>99?"99+":P})]}),u&&e.jsxs("div",{className:"absolute right-0 mt-2 w-96 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notifications"}),P>0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[P," unread"]})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:S?e.jsxs("div",{className:"px-4 py-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading notifications..."})]}):E.length===0?e.jsxs("div",{className:"px-4 py-8 text-center",children:[e.jsx(Yw,{className:"w-12 h-12 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No notifications yet"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:E.map(v=>e.jsx("button",{onClick:()=>$(v),className:"w-full px-4 py-3 hover:bg-blue-50 transition-colors duration-150 text-left",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`flex-shrink-0 w-2 h-2 rounded-full mt-2 ${v.is_read?"bg-transparent":"bg-blue-600"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`text-sm font-medium ${v.is_read?"text-gray-600":"text-gray-900"}`,children:v.title}),e.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:v.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(v.created_date).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]})]})},v.notification_id))})}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:e.jsx(G,{to:"/notifications",onClick:()=>x(!1),className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors block text-center",children:"View all notifications"})})]})]}),e.jsx(G,{to:"/help",className:"p-2 text-gray-700 hover:text-blue-600 transition-colors duration-200 hidden sm:block","aria-label":"Help center",children:e.jsx(e_,{className:"w-6 h-6"})}),e.jsxs("div",{className:"relative hidden sm:block",ref:N,children:[e.jsxs("button",{onClick:R,className:"flex items-center space-x-2 p-1 rounded-lg hover:bg-gray-100 transition-colors duration-200","aria-label":"Account menu","aria-expanded":h,children:[b?e.jsx("img",{src:b,alt:`${z}'s profile`,className:"w-8 h-8 rounded-full object-cover border-2 border-gray-200"}):e.jsx(t_,{className:"w-8 h-8 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 hidden lg:block",children:z})]}),h&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:z}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:O}),e.jsx("span",{className:`inline-block mt-2 px-2 py-1 text-xs font-medium rounded-full ${L==="trade"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:L==="trade"?"Trade Account":"Retail Account"})]}),e.jsxs("div",{className:"py-2",children:[e.jsxs(G,{to:"/account",onClick:()=>f(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150",children:[e.jsx(Xw,{className:"w-5 h-5"}),e.jsx("span",{children:"Account Settings"})]}),e.jsxs(G,{to:"/account/reviews",onClick:()=>f(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150",children:[e.jsx(H9,{className:"w-5 h-5"}),e.jsx("span",{children:"My Reviews"})]}),e.jsxs(G,{to:"/wishlist",onClick:()=>f(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.jsx("span",{children:"Saved Items"})]}),L==="trade"&&e.jsxs(G,{to:"/trade-credit",onClick:()=>f(!1),className:"flex items-center space-x-3 px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors duration-150",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),e.jsx("span",{children:"Trade Credit"})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("button",{onClick:F,disabled:C.isPending,className:"w-full flex items-center space-x-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-150 disabled:opacity-50",children:[e.jsx(Gw,{className:"w-5 h-5"}),e.jsx("span",{children:C.isPending?"Signing out...":"Sign Out"})]})]})]})]}),e.jsx("button",{onClick:A,className:"sm:hidden p-2 text-gray-700 hover:text-blue-600 transition-colors","aria-label":"Toggle menu",children:d?e.jsx(Y9,{className:"w-6 h-6"}):e.jsx(R9,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"lg:hidden pb-4",children:e.jsx("form",{onSubmit:_,children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"search",value:o,onChange:v=>c(v.target.value),placeholder:"Search construction materials...",className:"w-full px-4 py-2 pl-10 pr-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-sm"}),e.jsx("button",{type:"submit",className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-label":"Search",children:e.jsx(Jw,{className:"w-5 h-5"})})]})})})]}),d&&e.jsx("div",{className:"sm:hidden border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"px-4 py-4 space-y-2",children:[e.jsx("div",{className:"pb-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[b?e.jsx("img",{src:b,alt:`${z}'s profile`,className:"w-12 h-12 rounded-full object-cover border-2 border-gray-200"}):e.jsx(t_,{className:"w-12 h-12 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:z}),e.jsx("p",{className:"text-xs text-gray-500",children:O})]})]})}),e.jsxs(G,{to:"/orders",onClick:A,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[e.jsx(Qw,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Orders"})]}),e.jsxs(G,{to:"/projects",onClick:A,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[e.jsx(Zw,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Projects"})]}),e.jsxs(G,{to:"/wishlist",onClick:A,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Saved Items"})]}),e.jsxs(G,{to:"/help",onClick:A,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[e.jsx(e_,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Help Center"})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs(G,{to:"/account",onClick:A,className:"flex items-center space-x-3 px-3 py-2 rounded-lg text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors",children:[e.jsx(Xw,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Account Settings"})]}),e.jsxs("button",{onClick:F,disabled:C.isPending,className:"w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors disabled:opacity-50",children:[e.jsx(Gw,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:C.isPending?"Signing out...":"Sign Out"})]})]})})]})})},tF=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me",{headers:{Authorization:`Bearer ${t}`}})).data,sF=async t=>((await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/chat/conversations",{headers:{Authorization:`Bearer ${t}`},params:{conversation_type:"customer_supplier"}})).data||[]).reduce((a,n)=>a+(n.unread_count||0),0),rF=async t=>((await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products",{headers:{Authorization:`Bearer ${t}`},params:{limit:1e3}})).data.products||[]).filter(a=>a.stock_quantity<=a.low_stock_threshold).length,aF=async t=>{try{return await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products",{headers:{Authorization:`Bearer ${t}`},params:{status_filter:"pending",limit:1}}),0}catch{return 0}},nF=()=>{const t=Xe(),s=rn(),r=ae(T=>T.authentication_state.current_user),a=ae(T=>T.authentication_state.auth_token),n=ae(T=>T.authentication_state.supplier_profile),i=ae(T=>T.logout_user),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,u]=k.useState(""),{data:x}=ie({queryKey:["supplier-profile"],queryFn:()=>tF(a||""),enabled:!!a,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),{data:h=0}=ie({queryKey:["supplier-pending-orders-count"],queryFn:()=>aF(a||""),enabled:!!a,staleTime:30*1e3,refetchInterval:30*1e3,refetchOnWindowFocus:!1}),{data:f=0}=ie({queryKey:["supplier-unread-messages"],queryFn:()=>sF(a||""),enabled:!!a,staleTime:30*1e3,refetchInterval:30*1e3,refetchOnWindowFocus:!1}),{data:p=0}=ie({queryKey:["supplier-low-stock-count"],queryFn:()=>rF(a||""),enabled:!!a,staleTime:60*1e3,refetchInterval:60*1e3,refetchOnWindowFocus:!1}),N=k.useCallback(async()=>{await i(),t("/login")},[i,t]),y=k.useCallback(T=>{T.preventDefault(),m.trim()&&(t(`/supplier/products?search_query=${encodeURIComponent(m.trim())}`),u(""))},[m,t]),j=k.useCallback(()=>{o(T=>!T)},[]),g=k.useCallback(()=>{d(T=>!T)},[]);k.useEffect(()=>{d(!1),o(!1)},[s.pathname]),k.useEffect(()=>{const T=R=>{const A=R.target;!A.closest("#account-dropdown-button")&&!A.closest("#account-dropdown-menu")&&d(!1)};if(c)return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[c]);const S=(x==null?void 0:x.business_name)||(n==null?void 0:n.business_name)||"My Business",w=(x==null?void 0:x.logo_url)||(n==null?void 0:n.logo_url),C=(x==null?void 0:x.verification_status)||(n==null?void 0:n.verification_status)||"pending",_=(x==null?void 0:x.rating_average)||(n==null?void 0:n.rating_average)||0,$=[{label:"Dashboard",path:"/supplier/dashboard",icon:Ea},{label:"Products",path:"/supplier/products",icon:Se,badge:p>0?p:null},{label:"Inventory",path:"/supplier/inventory",icon:Se,badge:p},{label:"Orders",path:"/supplier/orders",icon:Je,badge:h},{label:"Analytics",path:"/supplier/analytics",icon:ya},{label:"Financials",path:"/supplier/financials",icon:Be}],F=T=>s.pathname===T||s.pathname.startsWith(T+"/");return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"fixed top-0 left-0 right-0 bg-white border-b border-gray-200 z-50 shadow-sm",children:[e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsx("button",{type:"button",onClick:j,className:"lg:hidden inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 transition-colors","aria-label":"Toggle mobile menu",children:l?e.jsx(be,{className:"h-6 w-6"}):e.jsx(Kx,{className:"h-6 w-6"})}),e.jsxs(G,{to:"/supplier/dashboard",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center group-hover:bg-blue-700 transition-colors",children:e.jsx(Ea,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:"BuildEasy"}),e.jsx("span",{className:"text-xs font-medium text-gray-500 hidden md:block",children:"Supplier"})]}),e.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:$.map(T=>{const R=T.icon,A=F(T.path);return e.jsxs(G,{to:T.path,className:`relative flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${A?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx("span",{children:T.label}),T.badge&&T.badge>0&&e.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center h-5 w-5 text-xs font-bold text-white bg-red-500 rounded-full",children:T.badge>99?"99+":T.badge})]},T.path)})})]}),e.jsx("div",{className:"hidden lg:flex flex-1 max-w-md mx-8",children:e.jsx("form",{onSubmit:y,className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:m,onChange:T=>u(T.target.value),placeholder:"Search your products...",className:"w-full px-4 py-2 pl-10 pr-4 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all","aria-label":"Search your products"}),e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(G,{to:"/supplier/messages",className:"relative p-2 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors","aria-label":`Messages ${f>0?`(${f} unread)`:""}`,children:[e.jsx(hs,{className:"h-5 w-5"}),f>0&&e.jsx("span",{className:"absolute -top-1 -right-1 flex items-center justify-center h-5 w-5 text-xs font-bold text-white bg-red-500 rounded-full",children:f>99?"99+":f})]}),e.jsx(G,{to:"/notifications",className:"relative p-2 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors","aria-label":"Notifications",children:e.jsx(Fs,{className:"h-5 w-5"})}),e.jsx(G,{to:"/help",className:"p-2 rounded-lg text-gray-700 hover:bg-gray-100 hover:text-gray-900 transition-colors","aria-label":"Help",children:e.jsx(bh,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{id:"account-dropdown-button",type:"button",onClick:g,className:"flex items-center space-x-3 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-haspopup":"true","aria-expanded":c,children:[w?e.jsx("img",{src:w,alt:S,className:"h-8 w-8 rounded-full object-cover"}):e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(Ea,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{className:"hidden md:flex flex-col items-start",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 max-w-[150px] truncate",children:S}),e.jsxs("div",{className:"flex items-center space-x-1",children:[C==="verified"&&e.jsx(fe,{className:"h-3 w-3 text-green-500"}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(De,{className:"h-3 w-3 text-yellow-500 mr-1"}),_.toFixed(1)]})]})]}),e.jsx(ds,{className:`h-4 w-4 text-gray-500 transition-transform hidden md:block ${c?"rotate-180":""}`})]}),c&&e.jsxs("div",{id:"account-dropdown-menu",className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",role:"menu","aria-orientation":"vertical",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:S}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[C==="verified"?e.jsxs("span",{className:"flex items-center text-xs text-green-600",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),"Verified"]}):e.jsxs("span",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),C==="pending"?"Pending Verification":"Not Verified"]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[e.jsx(De,{className:"h-3 w-3 text-yellow-500 mr-1"}),_.toFixed(1)," rating"]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r==null?void 0:r.email})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs(G,{to:"/supplier/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",role:"menuitem",children:[e.jsx(Ps,{className:"h-4 w-4 mr-3 text-gray-500"}),"Business Settings"]}),e.jsxs(G,{to:"/supplier/settings#team",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",role:"menuitem",children:[e.jsx(Ea,{className:"h-4 w-4 mr-3 text-gray-500"}),"Team Management"]}),e.jsxs(G,{to:"/supplier/analytics",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",role:"menuitem",children:[e.jsx(Ve,{className:"h-4 w-4 mr-3 text-gray-500"}),"Performance"]}),e.jsxs(G,{to:"/supplier/education",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",role:"menuitem",children:[e.jsx(bh,{className:"h-4 w-4 mr-3 text-gray-500"}),"Resources"]})]}),e.jsx("div",{className:"border-t border-gray-200 py-1",children:e.jsxs("button",{type:"button",onClick:N,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",role:"menuitem",children:[e.jsx("svg",{className:"h-4 w-4 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})})]})]})]})]})}),l&&e.jsx("div",{className:"lg:hidden border-t border-gray-200 bg-white",children:e.jsxs("div",{className:"px-4 py-4 space-y-2",children:[e.jsx("form",{onSubmit:y,className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:m,onChange:T=>u(T.target.value),placeholder:"Search your products...",className:"w-full px-4 py-2 pl-10 text-sm text-gray-900 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Search products"}),e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})}),$.map(T=>{const R=T.icon,A=F(T.path);return e.jsxs(G,{to:T.path,className:`flex items-center justify-between px-4 py-3 rounded-lg text-base font-medium transition-all ${A?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>o(!1),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{className:"h-5 w-5"}),e.jsx("span",{children:T.label})]}),T.badge&&T.badge>0&&e.jsx("span",{className:"flex items-center justify-center h-6 w-6 text-xs font-bold text-white bg-red-500 rounded-full",children:T.badge>99?"99+":T.badge})]},T.path)}),e.jsxs(G,{to:"/supplier/messages",className:`flex items-center justify-between px-4 py-3 rounded-lg text-base font-medium transition-all ${F("/supplier/messages")?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>o(!1),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(hs,{className:"h-5 w-5"}),e.jsx("span",{children:"Messages"})]}),f>0&&e.jsx("span",{className:"flex items-center justify-center h-6 w-6 text-xs font-bold text-white bg-red-500 rounded-full",children:f>99?"99+":f})]}),e.jsxs(G,{to:"/supplier/reviews",className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-base font-medium transition-all ${F("/supplier/reviews")?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>o(!1),children:[e.jsx(De,{className:"h-5 w-5"}),e.jsx("span",{children:"Reviews"})]}),e.jsxs(G,{to:"/supplier/settings",className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-base font-medium transition-all ${F("/supplier/settings")?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>o(!1),children:[e.jsx(Ps,{className:"h-5 w-5"}),e.jsx("span",{children:"Settings"})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2",children:[w?e.jsx("img",{src:w,alt:S,className:"h-10 w-10 rounded-full object-cover"}):e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-600 flex items-center justify-center",children:e.jsx(Ea,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:S}),e.jsx("p",{className:"text-xs text-gray-500",children:r==null?void 0:r.email})]})]}),e.jsxs("button",{type:"button",onClick:()=>{o(!1),N()},className:"w-full mt-2 flex items-center space-x-3 px-4 py-3 text-base font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{children:"Sign Out"})]})]})]})})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 z-40 lg:hidden",onClick:()=>o(!1),"aria-hidden":"true"})]})},iF=()=>{const t=Xe(),s=rn(),r=ae(g=>g.authentication_state.current_user),a=ae(g=>g.authentication_state.admin_profile),n=ae(g=>g.authentication_state.auth_token),i=ae(g=>g.logout_user),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,u]=k.useState(!1),x="https://123create-construction-app-with-a.launchpulse.ai",{data:h}=ie({queryKey:["admin-alerts"],queryFn:async()=>{const g=n?{Authorization:`Bearer ${n}`}:{};try{const[S,w,C]=await Promise.all([H.get(`${x}/admin/disputes?status=open&limit=1`,{headers:g}),H.get(`${x}/admin/supplier-applications?application_status=pending_review&limit=1`,{headers:g}),H.get(`${x}/admin/reviews/flagged`,{headers:g})]);return{disputes:Number(S.data.total||S.data.length||0),flagged_content:Number(C.data.length||0),supplier_applications:Number(w.data.length||0)}}catch(S){return console.error("Error fetching admin alerts:",S),{disputes:0,flagged_content:0,supplier_applications:0}}},enabled:!!n,refetchInterval:6e4,staleTime:6e4,retry:1}),{data:f}=ie({queryKey:["system-health"],queryFn:async()=>({status:"operational",uptime_percentage:99.9,api_response_time:120}),refetchInterval:3e4,staleTime:3e4,retry:0}),p=async()=>{try{await i(),t("/login")}catch(g){console.error("Logout error:",g)}};k.useEffect(()=>{const g=S=>{const w=S.target;w.closest(".account-dropdown")||d(!1),w.closest(".users-dropdown")||u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const N=((h==null?void 0:h.disputes)||0)+((h==null?void 0:h.flagged_content)||0)+((h==null?void 0:h.supplier_applications)||0),y=(f==null?void 0:f.status)==="operational"?"bg-green-500":(f==null?void 0:f.status)==="degraded"?"bg-yellow-500":"bg-red-500",j=g=>s.pathname===g;return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900 text-white shadow-lg border-b border-gray-700",children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-8",children:[e.jsxs(G,{to:"/admin",className:"flex items-center space-x-3 group",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-indigo-700 rounded-lg flex items-center justify-center shadow-lg group-hover:shadow-xl transition-shadow",children:e.jsx(xs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-bold text-white",children:"BuildEasy"}),e.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"Admin Panel"})]})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[e.jsxs(G,{to:"/admin",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(Vw,{className:"w-4 h-4"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs("div",{className:"relative users-dropdown",children:[e.jsxs("button",{onClick:()=>u(!m),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${s.pathname.includes("/admin/customers")||s.pathname.includes("/admin/suppliers")||s.pathname.includes("/admin/supplier-applications")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(Tt,{className:"w-4 h-4"}),e.jsx("span",{children:"Users"}),e.jsx(ds,{className:"w-3 h-3"})]}),((h==null?void 0:h.supplier_applications)||0)>0&&e.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-red-500 text-white text-[10px] font-bold rounded-full",children:h==null?void 0:h.supplier_applications}),m&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-56 bg-white rounded-lg shadow-xl border border-gray-200 py-2",children:[e.jsx(G,{to:"/admin/customers",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Customers"}),e.jsx(G,{to:"/admin/suppliers",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Suppliers"}),e.jsxs(G,{to:"/admin/supplier-applications",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:["Supplier Applications",((h==null?void 0:h.supplier_applications)||0)>0&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-red-500 text-white text-xs rounded-full",children:h==null?void 0:h.supplier_applications})]})]})]}),e.jsxs(G,{to:"/admin/orders",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin/orders")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsx("span",{children:"Orders"})]}),e.jsxs(G,{to:"/admin/disputes",className:`relative px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin/disputes")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(as,{className:"w-4 h-4"}),e.jsx("span",{children:"Disputes"}),((h==null?void 0:h.disputes)||0)>0&&e.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-red-500 text-white text-[10px] font-bold rounded-full",children:h==null?void 0:h.disputes})]}),e.jsxs(G,{to:"/admin/products",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin/products")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(vh,{className:"w-4 h-4"}),e.jsx("span",{children:"Products"})]}),e.jsxs(G,{to:"/admin/reviews",className:`relative px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin/reviews")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:"Reviews"}),((h==null?void 0:h.flagged_content)||0)>0&&e.jsx("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-red-500 text-white text-[10px] font-bold rounded-full",children:h==null?void 0:h.flagged_content})]}),e.jsxs(G,{to:"/admin/financials",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin/financials")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsx("span",{children:"Financials"})]}),e.jsxs(G,{to:"/admin/analytics",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin/analytics")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(ya,{className:"w-4 h-4"}),e.jsx("span",{children:"Analytics"})]}),e.jsxs(G,{to:"/admin/settings",className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center space-x-2 ${j("/admin/settings")?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(Ps,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"hidden lg:flex items-center space-x-2 px-3 py-1.5 bg-gray-800 rounded-lg",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${y} animate-pulse`}),e.jsx("span",{className:"text-xs text-gray-300 font-medium",children:(f==null?void 0:f.status)==="operational"?"Operational":(f==null?void 0:f.status)==="degraded"?"Degraded":"Down"})]}),e.jsxs("button",{className:"relative p-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-all",children:[e.jsx(Fs,{className:"w-5 h-5"}),N>0&&e.jsx("span",{className:"absolute -top-1 -right-1 px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full",children:N})]}),e.jsxs("div",{className:"relative account-dropdown",children:[e.jsxs("button",{onClick:()=>d(!c),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-gray-300 hover:bg-gray-800 hover:text-white transition-all",children:[e.jsx(Lf,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden lg:block text-sm font-medium",children:(r==null?void 0:r.email)||"Admin"}),e.jsx(ds,{className:"w-4 h-4"})]}),c&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-xl border border-gray-200 py-2",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:(a==null?void 0:a.role)||"Administrator"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r==null?void 0:r.email})]}),e.jsx(G,{to:"/admin/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>d(!1),children:"Profile Settings"}),e.jsx("button",{onClick:p,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:"Sign Out"})]})]}),e.jsx("button",{onClick:()=>o(!l),className:"lg:hidden p-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-all",children:l?e.jsx(be,{className:"w-6 h-6"}):e.jsx(Kx,{className:"w-6 h-6"})})]})]})}),l&&e.jsx("div",{className:"lg:hidden bg-gray-800 border-t border-gray-700",children:e.jsxs("div",{className:"px-4 py-3 space-y-2",children:[e.jsx(G,{to:"/admin",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Vw,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Dashboard"})]})}),e.jsx(G,{to:"/admin/customers",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Tt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Customers"})]})}),e.jsx(G,{to:"/admin/suppliers",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Tt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Suppliers"})]})}),e.jsxs(G,{to:"/admin/supplier-applications",className:"flex items-center justify-between px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Tt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Supplier Applications"})]}),((h==null?void 0:h.supplier_applications)||0)>0&&e.jsx("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full",children:h==null?void 0:h.supplier_applications})]}),e.jsx(G,{to:"/admin/orders",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Je,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Orders"})]})}),e.jsxs(G,{to:"/admin/disputes",className:"flex items-center justify-between px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(as,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Disputes"})]}),((h==null?void 0:h.disputes)||0)>0&&e.jsx("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full",children:h==null?void 0:h.disputes})]}),e.jsx(G,{to:"/admin/products",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(vh,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Products"})]})}),e.jsxs(G,{to:"/admin/reviews",className:"flex items-center justify-between px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Reviews"})]}),((h==null?void 0:h.flagged_content)||0)>0&&e.jsx("span",{className:"px-2 py-0.5 bg-red-500 text-white text-xs font-bold rounded-full",children:h==null?void 0:h.flagged_content})]}),e.jsx(G,{to:"/admin/financials",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Financials"})]})}),e.jsx(G,{to:"/admin/analytics",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ya,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Analytics"})]})}),e.jsx(G,{to:"/admin/settings",className:"block px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",onClick:()=>o(!1),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ps,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Settings"})]})}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-700 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"System Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${y}`}),e.jsx("span",{className:"text-xs text-gray-300",children:(f==null?void 0:f.status)==="operational"?"Operational":(f==null?void 0:f.status)==="degraded"?"Degraded":"Down"})]})]}),f&&e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[e.jsxs("p",{children:["Uptime: ",f.uptime_percentage,"%"]}),e.jsxs("p",{children:["Response: ",f.api_response_time,"ms"]})]})]}),e.jsxs("button",{onClick:p,className:"flex items-center space-x-3 w-full px-4 py-3 rounded-lg text-red-400 hover:bg-gray-700 hover:text-red-300 transition-colors",children:[e.jsx(f9,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})})]}),e.jsx("div",{className:"h-16"})]})},Av=()=>{const t=ae(x=>x.authentication_state.authentication_status.is_authenticated),s=ae(x=>x.authentication_state.authentication_status.user_type),[r,a]=k.useState(""),[n,i]=k.useState(!1),[l,o]=k.useState(null),[c,d]=k.useState(null),m=async x=>{if(x.preventDefault(),o(null),d(null),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){d("Please enter a valid email address");return}i(!0);try{await new Promise(f=>setTimeout(f,1e3)),o("Thank you for subscribing! Check your inbox for confirmation."),a("")}catch(f){d(f instanceof Error?f.message:"Failed to subscribe. Please try again.")}finally{i(!1)}},u=new Date().getFullYear();return e.jsx(e.Fragment,{children:e.jsxs("footer",{className:"bg-gray-900 border-t border-gray-800",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx(G,{to:"/",className:"inline-block",children:e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"BuildEasy"})}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Your trusted construction supply marketplace"}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(fe,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("span",{children:"100+ verified suppliers nationwide"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(fe,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("span",{children:"10,000+ construction products"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(fe,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("span",{children:"5,000+ orders delivered on time"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(Ra,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"1-800-BUILD-EZ"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),e.jsx("a",{href:"mailto:support@buildeasy.com",className:"hover:text-white transition-colors",children:"support@buildeasy.com"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(fs,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Nationwide Service"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider text-white mb-4",children:"For Buyers"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsx(G,{to:"/products",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Browse Products"})}),e.jsx("li",{children:e.jsx(G,{to:"/how-it-works",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"How It Works"})}),t&&s==="customer"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(G,{to:"/orders",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Track My Orders"})}),e.jsx("li",{children:e.jsx(G,{to:"/wishlist",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"My Wishlist"})}),e.jsx("li",{children:e.jsx(G,{to:"/projects",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"My Projects"})})]}),e.jsx("li",{children:e.jsx(G,{to:"/surplus",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Surplus Marketplace"})}),!t&&e.jsx("li",{children:e.jsx(G,{to:"/register/customer",className:"text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign Up Free "})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider text-white mb-4",children:"For Sellers"}),e.jsxs("ul",{className:"space-y-3",children:[!t||s!=="supplier"?e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(G,{to:"/register/supplier",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Become a Supplier"})}),e.jsx("li",{children:e.jsx(G,{to:"/how-it-works",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"How to Sell"})})]}):null,t&&s==="supplier"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(G,{to:"/supplier/dashboard",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Supplier Dashboard"})}),e.jsx("li",{children:e.jsx(G,{to:"/supplier/orders",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Manage Orders"})}),e.jsx("li",{children:e.jsx(G,{to:"/supplier/products",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Manage Products"})}),e.jsx("li",{children:e.jsx(G,{to:"/supplier/analytics",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Analytics"})})]}),e.jsx("li",{children:e.jsx(G,{to:"/supplier/education",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Growth Resources"})}),e.jsx("li",{children:e.jsx(G,{to:"/about",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Pricing & Plans"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wider text-white mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx("li",{children:e.jsx(G,{to:"/help",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Help Center"})}),e.jsx("li",{children:e.jsx(G,{to:"/contact",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(G,{to:"/support",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Customer Support"})}),e.jsx("li",{children:e.jsx(G,{to:"/about",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"About BuildEasy"})}),e.jsx("li",{children:e.jsx("a",{href:"#careers",className:"text-sm text-gray-300 hover:text-white transition-colors",children:"Careers"})})]})]})]}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-800",children:e.jsxs("div",{className:"max-w-md mx-auto lg:mx-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Stay Updated"}),e.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Get exclusive deals, new supplier alerts, and construction tips delivered to your inbox"}),e.jsxs("form",{onSubmit:m,className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("input",{type:"email",value:r,onChange:x=>{a(x.target.value),d(null)},placeholder:"Enter your email",disabled:n,className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Email address for newsletter"}),e.jsx("button",{type:"submit",disabled:n||!r,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Subscribing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Subscribe"]})})]}),l&&e.jsxs("div",{className:"flex items-start bg-green-900/30 border border-green-700 text-green-400 px-4 py-3 rounded-lg",children:[e.jsx(fe,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm",children:l})]}),c&&e.jsx("div",{className:"bg-red-900/30 border border-red-700 text-red-400 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:c})}),e.jsxs("p",{className:"text-xs text-gray-500",children:["By subscribing, you agree to our"," ",e.jsx(G,{to:"/privacy",className:"text-blue-400 hover:text-blue-300 underline",children:"Privacy Policy"}),". Unsubscribe anytime."]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-gray-400 mb-3",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://facebook.com/buildeasy",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Facebook",children:e.jsx(m9,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://twitter.com/buildeasy",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on Twitter",children:e.jsx(C9,{className:"h-5 w-5"})}),e.jsx("a",{href:"https://linkedin.com/company/buildeasy",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white transition-colors","aria-label":"Follow us on LinkedIn",children:e.jsx(g9,{className:"h-5 w-5"})})]})]})]})})]}),e.jsx("div",{className:"border-t border-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(Pd,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"SSL Secure"})]}),e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(xs,{className:"h-5 w-5 text-blue-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified Suppliers"})]}),e.jsxs("div",{className:"flex items-center text-gray-400",children:[e.jsx(Mf,{className:"h-5 w-5 text-yellow-500 mr-2"}),e.jsx("span",{className:"text-sm font-medium",children:"100% Satisfaction Guarantee"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 sm:gap-6 mb-4",children:[e.jsx(G,{to:"/terms",className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Terms of Service"}),e.jsx("span",{className:"text-gray-700",children:"|"}),e.jsx(G,{to:"/privacy",className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx("span",{className:"text-gray-700",children:"|"}),e.jsx("a",{href:"#cookie-policy",className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Cookie Policy"}),e.jsx("span",{className:"text-gray-700",children:"|"}),e.jsx("a",{href:"#accessibility",className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Accessibility"})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:[" ",u," BuildEasy. All rights reserved."]})})]})})]})})},lF=()=>{const t=ae(z=>z.authentication_state.auth_token),s=ae(z=>z.authentication_state.authentication_status.is_authenticated),r=ae(z=>z.authentication_state.authentication_status.user_type),a=ae(z=>z.fetch_cart),[n,i]=k.useState(!1),[l,o]=k.useState(""),[c,d]=k.useState(null),[m,u]=k.useState(null),[x,h]=k.useState(null),[f,p]=k.useState(null),[N,y]=k.useState(!1),j=Fe(),{data:g,isLoading:S}=ie({queryKey:["cart"],queryFn:async()=>{if(!t)throw new Error("Not authenticated");return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/cart",{headers:{Authorization:`Bearer ${t}`}})).data},enabled:!!t&&s&&r==="customer",staleTime:3e4,refetchOnWindowFocus:!1,retry:1,select:z=>({...z,subtotal:Number(z.subtotal||0),total_items:Number(z.total_items||0)})}),w=X.useMemo(()=>{if(!(g!=null&&g.items))return[];const z={};return g.items.forEach(O=>{const b=O.supplier_id;z[b]||(z[b]={supplier_id:b,supplier_name:O.business_name||"Unknown Supplier",supplier_logo:null,items:[],supplier_subtotal:0}),z[b].items.push({cart_item_id:O.cart_item_id,product_id:O.product_id,product_name:O.product_name,supplier_id:O.supplier_id,quantity:O.quantity,price_per_unit:Number(O.price_per_unit||0),primary_image_url:O.primary_image_url,stock_quantity:Number(O.stock_quantity||0)}),z[b].supplier_subtotal+=O.quantity*Number(O.price_per_unit||0)}),Object.values(z)},[g==null?void 0:g.items]),C=X.useMemo(()=>{const z=Number((g==null?void 0:g.subtotal)||0),O=0,b=0,L=Number((f==null?void 0:f.discount_amount)||0),v=z+O+b-L;return{subtotal_amount:z,delivery_fee_total:O,tax_amount:b,discount_amount:L,total_amount:v,total_items:Number((g==null?void 0:g.total_items)||0)}},[g,f]),_=ue({mutationFn:async({cart_item_id:z,quantity:O})=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/cart/items/${z}`,{quantity:O},{headers:{Authorization:`Bearer ${t}`}})).data,onMutate:async({cart_item_id:z})=>{d(z),u(null)},onSuccess:()=>{j.invalidateQueries({queryKey:["cart"]}),a&&a()},onError:z=>{var O,b;u(((b=(O=z.response)==null?void 0:O.data)==null?void 0:b.message)||"Failed to update quantity")},onSettled:()=>{d(null)}}),$=ue({mutationFn:async z=>{await H.delete(`https://123create-construction-app-with-a.launchpulse.ai/api/cart/items/${z}`,{headers:{Authorization:`Bearer ${t}`}})},onMutate:async z=>{d(z),u(null)},onSuccess:()=>{j.invalidateQueries({queryKey:["cart"]}),a&&a()},onError:z=>{var O,b;u(((b=(O=z.response)==null?void 0:O.data)==null?void 0:b.message)||"Failed to remove item")},onSettled:()=>{d(null)}}),F=ue({mutationFn:async z=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/promotions/validate",z,{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:z=>{z.valid&&z.promotion?(p({promotion_id:z.promotion.promotion_id,promo_code:z.promotion.promo_code,discount_amount:Number(z.discount_amount||0)}),o(""),h(null)):h(z.message||"Invalid promo code")},onError:z=>{var O,b;h(((b=(O=z.response)==null?void 0:O.data)==null?void 0:b.message)||"Failed to apply promo code")}}),T=(z,O,b)=>{O<1||O>b||_.mutate({cart_item_id:z,quantity:O})},R=z=>{$.mutate(z)},A=z=>{if(z.preventDefault(),h(null),!l.trim()){h("Please enter a promo code");return}F.mutate({promo_code:l.toUpperCase(),cart_total:C.subtotal_amount})},M=()=>{p(null)},P=()=>{i(!1),u(null),h(null)},E=z=>{z.target===z.currentTarget&&P()};return k.useEffect(()=>{const z=O=>{O.key==="Escape"&&n&&P()};return n&&(document.addEventListener("keydown",z),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",z),document.body.style.overflow="unset"}},[n]),k.useEffect(()=>{const z=()=>i(!0);return window.addEventListener("openMiniCart",z),()=>{window.removeEventListener("openMiniCart",z)}},[]),!s||r!=="customer"?null:e.jsx(e.Fragment,{children:n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 transition-opacity duration-300",onClick:E,"aria-label":"Close cart",children:e.jsxs("div",{className:"fixed top-0 right-0 h-full w-full lg:w-[400px] bg-white shadow-2xl transform transition-transform duration-300 ease-in-out flex flex-col",onClick:z=>z.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Je,{className:"h-6 w-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Shopping Cart"}),C.total_items>0&&e.jsxs("span",{className:"inline-flex items-center justify-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[C.total_items," ",C.total_items===1?"item":"items"]})]}),e.jsx("button",{onClick:P,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Close cart",children:e.jsx(be,{className:"h-6 w-6 text-gray-500"})})]}),m&&e.jsxs("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-red-700",children:m}),e.jsx("button",{onClick:()=>u(null),className:"text-xs text-red-600 hover:text-red-800 mt-1 underline",children:"Dismiss"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:S?e.jsx("div",{className:"space-y-6",children:[1,2,3].map(z=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-3"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"h-16 w-16 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]})]},z))}):!g||w.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Je,{className:"h-12 w-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Start adding products to get started!"}),e.jsx(G,{to:"/products",onClick:P,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Start Shopping"})]}):e.jsx("div",{className:"space-y-6",children:w.map(z=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 pb-2 border-b border-gray-200",children:[z.supplier_logo&&e.jsx("img",{src:z.supplier_logo,alt:z.supplier_name,className:"w-6 h-6 rounded-full object-cover"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:z.supplier_name}),e.jsx(G,{to:`/supplier/${z.supplier_id}`,onClick:P,className:"text-xs text-blue-600 hover:text-blue-700 ml-auto",children:"View Shop"})]}),e.jsx("div",{className:"space-y-3",children:z.items.map(O=>{const b=c===O.cart_item_id,L=O.stock_quantity<O.quantity;return e.jsxs("div",{className:"flex space-x-3 p-3 bg-gray-50 rounded-lg relative",children:[e.jsx(G,{to:`/product/${O.product_id}`,onClick:P,className:"flex-shrink-0",children:O.primary_image_url?e.jsx("img",{src:O.primary_image_url,alt:O.product_name,className:"w-16 h-16 object-cover rounded-lg hover:opacity-80 transition-opacity"}):e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(Je,{className:"h-6 w-6 text-gray-400"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(G,{to:`/product/${O.product_id}`,onClick:P,className:"block",children:e.jsx("h4",{className:"text-sm font-medium text-gray-900 hover:text-blue-600 transition-colors line-clamp-2",children:O.product_name})}),e.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",O.price_per_unit.toFixed(2)]}),e.jsx("span",{className:"text-xs text-gray-500",children:"per unit"})]}),L&&e.jsxs("div",{className:"mt-1 text-xs text-amber-600 font-medium",children:["Only ",O.stock_quantity," left in stock"]}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T(O.cart_item_id,O.quantity-1,O.stock_quantity),disabled:O.quantity<=1||b,className:"p-1 rounded-md border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Decrease quantity",children:e.jsx(Sv,{className:"h-4 w-4 text-gray-600"})}),e.jsx("input",{type:"number",value:O.quantity,onChange:v=>{const D=parseInt(v.target.value);isNaN(D)||T(O.cart_item_id,D,O.stock_quantity)},min:"1",max:O.stock_quantity,disabled:b,className:"w-12 text-center py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Quantity"}),e.jsx("button",{onClick:()=>T(O.cart_item_id,O.quantity+1,O.stock_quantity),disabled:O.quantity>=O.stock_quantity||b,className:"p-1 rounded-md border border-gray-300 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Increase quantity",children:e.jsx($t,{className:"h-4 w-4 text-gray-600"})}),e.jsx("div",{className:"flex-1"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",(O.quantity*O.price_per_unit).toFixed(2)]})]})]}),e.jsx("button",{onClick:()=>R(O.cart_item_id),disabled:b,className:"absolute top-3 right-3 p-1 rounded-md hover:bg-red-50 transition-colors disabled:opacity-50","aria-label":"Remove item",children:e.jsx(Xt,{className:"h-4 w-4 text-red-600"})}),b&&e.jsx("div",{className:"absolute inset-0 bg-white/60 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})]},O.cart_item_id)})})]},z.supplier_id))})}),g&&w.length>0&&e.jsxs("div",{className:"border-t border-gray-200 bg-white px-6 py-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>y(!N),className:"flex items-center space-x-2 text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[e.jsx(go,{className:"h-4 w-4"}),e.jsx("span",{children:"Have a promo code?"})]}),N&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("form",{onSubmit:A,className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:l,onChange:z=>{o(z.target.value.toUpperCase()),h(null)},placeholder:"Enter code",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{type:"submit",disabled:!l.trim()||F.isPending,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Apply"})]}),x&&e.jsx("p",{className:"text-xs text-red-600",children:x}),f&&e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(go,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:f.promo_code})]}),e.jsx("button",{onClick:M,className:"text-xs text-green-600 hover:text-green-700 underline",children:"Remove"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",C.subtotal_amount.toFixed(2)]})]}),f&&f.discount_amount>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-green-600",children:"Discount"}),e.jsxs("span",{className:"font-semibold text-green-600",children:["-$",f.discount_amount.toFixed(2)]})]}),e.jsx("p",{className:"text-xs text-gray-500 italic",children:"Taxes and delivery calculated at checkout"}),e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total"}),e.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["$",C.total_amount.toFixed(2)]})]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(G,{to:"/checkout",onClick:P,className:"block w-full py-3 px-6 bg-blue-600 text-white text-center font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:"Proceed to Checkout"}),e.jsx(G,{to:"/cart",onClick:P,className:"block w-full py-3 px-6 bg-gray-100 text-gray-900 text-center font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"View Full Cart"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 pt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"Secure Checkout"})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsxs("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),e.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})]}),e.jsx("span",{children:"100% Satisfaction"})]})]})]})]})})})},oS=()=>{const t=ae(J=>J.authentication_state.current_user),s=ae(J=>J.authentication_state.auth_token),r=ae(J=>J.authentication_state.authentication_status.is_authenticated),a=ae(J=>J.websocket_connection),n=Fe(),[i,l]=k.useState(null),[o,c]=k.useState(null),[d,m]=k.useState([]),[u,x]=k.useState(!1),[h,f]=k.useState(!1),[p,N]=k.useState(""),[y,j]=k.useState(!1),[g,S]=k.useState(null),[w,C]=k.useState("disconnected"),[_,$]=k.useState(0),[F]=k.useState(null),[T,R]=k.useState(!1),[A,M]=k.useState(null),P=k.useRef(null),E=k.useRef(null),z=k.useRef(null),O="https://123create-construction-app-with-a.launchpulse.ai",b=k.useCallback(()=>{var J;(J=P.current)==null||J.scrollIntoView({behavior:"smooth"})},[]);k.useEffect(()=>{u&&!h&&d.length>0&&b()},[d,u,h,b]),k.useEffect(()=>{if(!a||!i)return;C(a.connected?"connected":"connecting"),a.emit("join_conversation",{conversation_id:i});const J=ve=>{const Te={message_id:ve.message_id,sender_id:ve.sender_id,sender_type:ve.sender_type,sender_name:ve.sender_name,message_text:ve.message_text,attachments:ve.attachments,timestamp:ve.timestamp,is_read:ve.is_read};m(Ke=>[...Ke,Te]),ve.sender_id!==(t==null?void 0:t.user_id)&&(!u||h)&&$(Ke=>Ke+1),u&&!h&&a&&a.emit("mark_message_read",{message_id:ve.message_id})},oe=ve=>{ve.user_id!==(t==null?void 0:t.user_id)&&(ve.is_typing?S({user_id:ve.user_id,user_name:ve.user_name||"Agent"}):S(null))},je=ve=>{m(Te=>Te.map(Ke=>Ke.message_id===ve.message_id?{...Ke,is_read:!0}:Ke))};return a.on("chat_message_received",J),a.on("user_typing",oe),a.on("chat_message_read",je),a.on("connect",()=>{C("connected")}),a.on("disconnect",()=>{C("disconnected")}),()=>{a&&(a.off("chat_message_received",J),a.off("user_typing",oe),a.off("chat_message_read",je),a.emit("leave_conversation",{conversation_id:i}))}},[a,i,t,u,h]);const{data:L,isLoading:v}=ie({queryKey:["chat-messages",i],queryFn:async()=>!i||!s?[]:(await H.get(`${O}/chat/conversations/${i}/messages`,{headers:{Authorization:`Bearer ${s}`},params:{limit:50,offset:0}})).data,enabled:!!i&&!!s&&u,staleTime:6e4,refetchOnWindowFocus:!1});k.useEffect(()=>{L&&L.length>0&&m(L)},[L]);const D=ue({mutationFn:async J=>(await H.post(`${O}/chat/conversations`,J,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,onSuccess:J=>{l(J.conversation_id),c(J.conversation_type),R(!1),m([]),M(null),a&&a.emit("join_conversation",{conversation_id:J.conversation_id})},onError:J=>{console.error("Failed to start conversation:",J),M("Failed to start conversation. Please try again.")}}),U=ue({mutationFn:async J=>{if(!i)throw new Error("No active conversation");return(await H.post(`${O}/chat/conversations/${i}/messages`,J,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data},onMutate:async J=>{const oe={message_id:`temp-${Date.now()}`,sender_id:(t==null?void 0:t.user_id)||"",sender_type:(t==null?void 0:t.user_type)||"customer",sender_name:`${t==null?void 0:t.first_name} ${t==null?void 0:t.last_name}`,message_text:J.message_text,attachments:J.attachments||null,timestamp:new Date().toISOString(),is_read:!1};return m(je=>[...je,oe]),N(""),{optimisticMessage:oe}},onError:(J,oe,je)=>{je!=null&&je.optimisticMessage&&m(ve=>ve.filter(Te=>Te.message_id!==je.optimisticMessage.message_id)),console.error("Failed to send message:",J),M("Failed to send message. Please try again."),N(oe.message_text)},onSuccess:()=>{M(null),n.invalidateQueries({queryKey:["chat-messages",i]})}}),q=k.useCallback(()=>{x(!0),f(!1),i?_>0&&($(0),d.forEach(J=>{!J.is_read&&J.sender_id!==(t==null?void 0:t.user_id)&&a&&a.emit("mark_message_read",{message_id:J.message_id})})):R(!0),setTimeout(()=>{var J;return(J=E.current)==null?void 0:J.focus()},100)},[i,d,t,_,a]),B=k.useCallback(()=>{x(!1),f(!1),R(!1)},[]),W=k.useCallback(()=>{f(!0)},[]),I=k.useCallback(()=>{f(!1),_>0&&($(0),d.forEach(J=>{!J.is_read&&J.sender_id!==(t==null?void 0:t.user_id)&&a&&a.emit("mark_message_read",{message_id:J.message_id})}))},[_,d,t,a]),Q=k.useCallback(J=>{if(!r){M("Please sign in to start a conversation");return}D.mutate({conversation_type:J,related_entity_type:void 0,related_entity_id:void 0})},[r,D]),Z=k.useCallback(J=>{J==null||J.preventDefault();const oe=p.trim();!oe||!i||(a&&y&&(a.emit("user_stopped_typing",{conversation_id:i}),j(!1)),U.mutate({message_text:oe,attachments:void 0}))},[p,i,a,y,U]),Y=k.useCallback(J=>{const oe=J.target.value;N(oe),M(null),a&&i&&oe.trim()?(y||(j(!0),a.emit("user_typing",{conversation_id:i})),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{j(!1),a&&a.emit("user_stopped_typing",{conversation_id:i})},3e3)):!oe.trim()&&y&&(j(!1),a&&a.emit("user_stopped_typing",{conversation_id:i}))},[a,i,y]),K=k.useCallback(J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),Z())},[Z]),te=k.useCallback(()=>{M("File upload feature coming soon")},[]);k.useEffect(()=>()=>{z.current&&clearTimeout(z.current)},[]);const V=J=>{const oe=new Date(J),ve=new Date().getTime()-oe.getTime(),Te=Math.floor(ve/6e4);if(Te<1)return"Just now";if(Te<60)return`${Te} min ago`;const Ke=Math.floor(Te/60);return Ke<24?`${Ke} hour${Ke>1?"s":""} ago`:oe.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},se=J=>{const oe=J.split(" ");return oe.length>=2?`${oe[0][0]}${oe[1][0]}`.toUpperCase():J.substring(0,2).toUpperCase()};return r?e.jsxs(e.Fragment,{children:[!u&&e.jsxs("button",{onClick:q,className:"fixed bottom-6 right-6 z-50 w-16 h-16 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center group focus:outline-none focus:ring-4 focus:ring-blue-100","aria-label":"Open chat widget",children:[e.jsx(Cs,{className:"w-7 h-7"}),_>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center border-2 border-white",children:_>9?"9+":_}),_>0&&e.jsx("span",{className:"absolute inset-0 rounded-full bg-blue-600 animate-ping opacity-20"})]}),u&&e.jsxs("div",{className:`fixed z-50 shadow-2xl border border-gray-200 bg-white transition-all duration-300 ${h?"bottom-6 right-6 w-80 h-14":"bottom-6 right-6 w-full sm:w-96 h-[32rem] sm:h-[600px] max-h-[90vh]"} rounded-xl overflow-hidden flex flex-col sm:max-w-md`,children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:F?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[F.avatar_url?e.jsx("img",{src:F.avatar_url,alt:F.name,className:"w-10 h-10 rounded-full border-2 border-white"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500 border-2 border-white flex items-center justify-center",children:e.jsx(Bs,{className:"w-5 h-5 text-white"})}),e.jsx("span",{className:`absolute bottom-0 right-0 w-3 h-3 rounded-full border-2 border-white ${F.status==="online"?"bg-green-500":F.status==="away"?"bg-yellow-500":"bg-gray-400"}`})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm truncate",children:F.name}),e.jsx("p",{className:"text-xs text-blue-100 truncate",children:F.status==="online"?"Online now":F.status==="away"?"Away":"Offline"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(Cs,{className:"w-8 h-8 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Live Chat"}),e.jsx("p",{className:"text-xs text-blue-100",children:o==="customer_support"?"Support Team":o==="customer_supplier"?"Supplier Chat":"Chat Support"})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("span",{className:`w-2 h-2 rounded-full ${w==="connected"?"bg-green-400":w==="connecting"?"bg-yellow-400 animate-pulse":"bg-red-400"}`})}),!h&&e.jsx("button",{onClick:W,className:"p-1 hover:bg-blue-700 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Minimize chat",children:e.jsx(Sv,{className:"w-5 h-5"})}),e.jsx("button",{onClick:B,className:"p-1 hover:bg-blue-700 rounded transition-colors focus:outline-none focus:ring-2 focus:ring-white","aria-label":"Close chat",children:e.jsx(be,{className:"w-5 h-5"})})]})]}),h&&e.jsxs("button",{onClick:I,className:"flex-1 flex items-center justify-between px-4 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Click to restore chat"}),_>0&&e.jsx("span",{className:"bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:_})]}),!h&&e.jsxs(e.Fragment,{children:[T&&!i&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-6 bg-gray-50",children:[e.jsx(Cs,{className:"w-16 h-16 text-blue-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How can we help?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6 text-center",children:"Choose who you'd like to chat with"}),e.jsxs("div",{className:"space-y-3 w-full",children:[e.jsx("button",{onClick:()=>Q("customer_support"),disabled:D.isPending,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 hover:border-blue-500 rounded-lg text-left transition-all duration-200 group disabled:opacity-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx(Bs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Customer Support"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Get help with your order or account"})]})]})}),(t==null?void 0:t.user_type)==="customer"&&e.jsx("button",{onClick:()=>Q("customer_supplier"),disabled:D.isPending,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 hover:border-blue-500 rounded-lg text-left transition-all duration-200 group disabled:opacity-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center group-hover:bg-green-200 transition-colors",children:e.jsx(Cs,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Contact Supplier"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ask about products or orders"})]})]})})]}),D.isPending&&e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"Starting conversation..."})]}),i&&e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-4 space-y-4",children:v?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(Cs,{className:"w-12 h-12 text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No messages yet"}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[d.map(J=>{const oe=J.sender_id===(t==null?void 0:t.user_id),je=!oe;return e.jsxs("div",{className:`flex ${oe?"justify-end":"justify-start"} items-end space-x-2`,children:[je&&e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center text-xs font-semibold text-gray-700",children:se(J.sender_name)}),e.jsxs("div",{className:`max-w-[75%] ${oe?"order-first":""}`,children:[!oe&&e.jsx("p",{className:"text-xs text-gray-500 mb-1 ml-1",children:J.sender_name}),e.jsxs("div",{className:`px-4 py-2 rounded-lg ${oe?"bg-blue-600 text-white rounded-br-none":"bg-white border border-gray-200 text-gray-900 rounded-bl-none"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:J.message_text}),J.attachments&&J.attachments.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:J.attachments.map((ve,Te)=>e.jsxs("a",{href:ve,target:"_blank",rel:"noopener noreferrer",className:`flex items-center space-x-2 text-xs ${oe?"text-blue-100":"text-blue-600"} hover:underline`,children:[e.jsx(po,{className:"w-3 h-3"}),e.jsxs("span",{children:["Attachment ",Te+1]})]},Te))})]}),e.jsxs("div",{className:`flex items-center space-x-2 mt-1 ${oe?"justify-end":"justify-start"} ml-1`,children:[e.jsx("p",{className:"text-xs text-gray-400",children:V(J.timestamp)}),oe&&J.is_read&&e.jsx("span",{className:"text-xs text-gray-400",children:""})]})]})]},J.message_id)}),g&&e.jsxs("div",{className:"flex items-end space-x-2",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center text-xs font-semibold text-gray-700",children:se(g.user_name)}),e.jsx("div",{className:"bg-white border border-gray-200 px-4 py-2 rounded-lg rounded-bl-none",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("span",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),e.jsx("div",{ref:P})]})}),A&&e.jsx("div",{className:"px-4 py-2 bg-red-50 border-t border-red-200",children:e.jsx("p",{className:"text-xs text-red-700",children:A})}),w==="disconnected"&&i&&e.jsx("div",{className:"px-4 py-2 bg-yellow-50 border-t border-yellow-200",children:e.jsx("p",{className:"text-xs text-yellow-700",children:" Disconnected - Reconnecting..."})}),i&&e.jsxs("div",{className:"border-t border-gray-200 bg-white p-4",children:[e.jsxs("form",{onSubmit:Z,className:"flex items-end space-x-2",children:[e.jsx("button",{type:"button",onClick:te,className:"flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Attach file",title:"Attach file (coming soon)",children:e.jsx(po,{className:"w-5 h-5"})}),e.jsx("textarea",{ref:E,value:p,onChange:Y,onKeyPress:K,placeholder:"Type your message...",rows:1,className:"flex-1 resize-none px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 text-sm",style:{minHeight:"40px",maxHeight:"120px"}}),e.jsx("button",{type:"submit",disabled:!p.trim()||U.isPending,className:"flex-shrink-0 p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Send message",children:U.isPending?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Cv,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})]})]}):null},oF=async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/products",{params:{is_featured:"true",status:"active",limit:12,sort_by:"sales_count",sort_order:"desc"}})).data.products,cF=async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/categories",{params:{is_active:"true",limit:100,sort_by:"display_order",sort_order:"asc"}})).data,dF=async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/suppliers",{params:{verification_status:"verified",status:"active",limit:12,sort_by:"rating_average",sort_order:"desc"}})).data,uF=()=>{const t=Xe(),s=ae(N=>N.authentication_state.authentication_status.is_authenticated),r=ae(N=>N.authentication_state.authentication_status.user_type),a=ae(N=>N.authentication_state.authentication_status.is_loading);k.useEffect(()=>{!a&&s&&(r==="customer"?t("/dashboard",{replace:!0}):r==="supplier"?t("/supplier/dashboard",{replace:!0}):r==="admin"&&t("/admin",{replace:!0}))},[s,r,a,t]);const{data:n=[],isLoading:i,error:l}=ie({queryKey:["featured-products"],queryFn:oF,staleTime:5*60*1e3}),{data:o=[],isLoading:c,error:d}=ie({queryKey:["featured-categories"],queryFn:cF,staleTime:30*60*1e3}),{data:m,isLoading:u,error:x}=ie({queryKey:["featured-suppliers"],queryFn:dF,staleTime:10*60*1e3}),h=(m==null?void 0:m.suppliers)||[],p={total_suppliers:(m==null?void 0:m.total)||0,total_products:n.length>0?1e4:0,total_reviews:h.reduce((N,y)=>N+y.total_reviews,0)};return s&&!a?null:e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-indigo-50 overflow-hidden",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["Your Complete ",e.jsx("span",{className:"text-blue-600",children:"Construction Supply"})," Marketplace"]}),e.jsx("p",{className:"text-xl text-gray-600 leading-relaxed",children:"Order from 100+ verified suppliers. Compare prices instantly. Track every delivery in real-time."})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Real-time Inventory"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Transparent Pricing"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:"Verified Suppliers"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(G,{to:"/register",className:"inline-flex items-center justify-center px-8 py-4 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 hover:shadow-xl transition-all duration-200 transform hover:scale-105",children:["Sign Up Free",e.jsx(cr,{className:"ml-2 w-5 h-5"})]}),e.jsx(G,{to:"/products",className:"inline-flex items-center justify-center px-8 py-4 bg-white text-gray-900 font-semibold rounded-lg border-2 border-gray-300 hover:border-blue-500 hover:shadow-lg transition-all duration-200",children:"Browse Products"})]}),!a&&e.jsxs("div",{className:"flex flex-wrap gap-6 pt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(xs,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"font-medium",children:[p.total_suppliers,"+ Suppliers"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Se,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"font-medium",children:[p.total_products.toLocaleString(),"+ Products"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(De,{className:"w-5 h-5 text-blue-600"}),e.jsxs("span",{className:"font-medium",children:[p.total_reviews.toLocaleString(),"+ Reviews"]})]})]})]}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-indigo-600 rounded-3xl transform rotate-3 opacity-10"}),e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl p-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ut,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Search & Compare"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Find the best prices instantly"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Order Online"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Secure checkout in minutes"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Zt,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Track Delivery"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Real-time GPS tracking"})]})]})]})]})})]})})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"How BuildEasy Works"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Simple, transparent, and reliable construction supply ordering in 3 easy steps"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ut,{className:"w-10 h-10 text-blue-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full text-sm font-bold",children:"1"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Search & Compare"}),e.jsx("p",{className:"text-gray-600",children:"Browse thousands of construction materials from verified suppliers. Compare prices, stock levels, and delivery times in one place."})]})]}),e.jsx("div",{className:"hidden md:block absolute top-10 right-0 transform translate-x-1/2",children:e.jsx(Qe,{className:"w-8 h-8 text-gray-300"})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"w-10 h-10 text-green-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-green-600 text-white rounded-full text-sm font-bold",children:"2"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Order Online"}),e.jsx("p",{className:"text-gray-600",children:"Add items to cart, select your delivery window, and complete secure checkout. Get instant confirmation and order tracking."})]})]}),e.jsx("div",{className:"hidden md:block absolute top-10 right-0 transform translate-x-1/2",children:e.jsx(Qe,{className:"w-8 h-8 text-gray-300"})})]}),e.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Zt,{className:"w-10 h-10 text-purple-600"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 bg-purple-600 text-white rounded-full text-sm font-bold",children:"3"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Track & Receive"}),e.jsx("p",{className:"text-gray-600",children:"Get real-time delivery tracking with GPS. Know exactly when your materials will arrive at your job site."})]})]})]})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Shop by Category"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Browse our complete range of construction materials"})]}),c?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-6",children:[...Array(8)].map((N,y)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg animate-pulse",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full mx-auto mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto"})]},y))}):e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-6",children:o.slice(0,8).map(N=>e.jsx(G,{to:`/products?category=${N.category_id}`,className:"group bg-white rounded-xl p-6 shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 border border-gray-100",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx(Se,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center group-hover:text-blue-600 transition-colors",children:N.category_name})]})},N.category_id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(G,{to:"/products",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-semibold text-lg",children:["View All Categories",e.jsx(Qe,{className:"ml-2 w-5 h-5"})]})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Featured Products"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Top-rated materials from our verified suppliers"})]}),i?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((N,y)=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"})]})]},y))}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.slice(0,8).map(N=>e.jsxs(G,{to:`/product/${N.product_id}`,className:"group bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl hover:border-blue-300 transition-all duration-200",children:[e.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:N.primary_image_url?e.jsx("img",{src:N.primary_image_url,alt:N.product_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsx(Se,{className:"w-16 h-16 text-gray-400"})})}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2 group-hover:text-blue-600 transition-colors",children:N.product_name}),e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",Number(N.price_per_unit).toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["per ",N.unit_of_measure]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[N.stock_quantity>0?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"In Stock"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Out of Stock"}),N.rating_average&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(De,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:Number(N.rating_average).toFixed(1)})]})]}),N.business_name&&e.jsxs("p",{className:"text-sm text-gray-600 truncate",children:["by ",N.business_name]})]})]},N.product_id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(G,{to:"/products",className:"inline-flex items-center px-8 py-4 bg-gray-100 text-gray-900 font-semibold rounded-lg hover:bg-gray-200 transition-colors duration-200",children:["View All Products",e.jsx(Qe,{className:"ml-2 w-5 h-5"})]})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose BuildEasy?"}),e.jsx("p",{className:"text-xl text-gray-600",children:"The smarter way to source construction materials"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-lg flex items-center justify-center mb-6",children:e.jsx(nt,{className:"w-7 h-7 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Real-Time Inventory"}),e.jsx("p",{className:"text-gray-600",children:"See exact stock levels updated in real-time. No more calling suppliers or ordering unavailable items."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-lg flex items-center justify-center mb-6",children:e.jsx(Be,{className:"w-7 h-7 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Transparent Pricing"}),e.jsx("p",{className:"text-gray-600",children:"Compare prices across multiple suppliers instantly. Always know you're getting the best deal."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-purple-100 rounded-lg flex items-center justify-center mb-6",children:e.jsx(Zt,{className:"w-7 h-7 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Reliable Delivery"}),e.jsx("p",{className:"text-gray-600",children:"Schedule delivery windows that work for you. Track your order with live GPS updates."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-14 h-14 bg-yellow-100 rounded-lg flex items-center justify-center mb-6",children:e.jsx(xs,{className:"w-7 h-7 text-yellow-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Verified Suppliers"}),e.jsx("p",{className:"text-gray-600",children:"All suppliers are thoroughly vetted and verified. Read real reviews from contractors like you."})]})]})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Trusted Suppliers"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Verified construction supply businesses you can rely on"})]}),u?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((N,y)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full mx-auto mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mx-auto mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mx-auto"})]},y))}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:h.slice(0,8).map(N=>e.jsx(G,{to:`/supplier/${N.supplier_id}`,className:"group bg-white rounded-xl p-6 shadow-lg hover:shadow-2xl transition-all duration-200 border border-gray-100 hover:border-blue-300",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full overflow-hidden flex items-center justify-center",children:N.logo_url?e.jsx("img",{src:N.logo_url,alt:N.business_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-12 h-12 text-gray-400 flex items-center justify-center",children:e.jsx(xs,{className:"w-8 h-8"})})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:N.business_name}),e.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[[...Array(5)].map((y,j)=>e.jsx(De,{className:`w-4 h-4 ${j<Math.floor(N.rating_average)?"text-yellow-400 fill-current":"text-gray-300"}`},j)),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700",children:N.rating_average.toFixed(1)})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[N.total_reviews," reviews"]}),N.verification_status==="verified"&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Verified"]})]})]})},N.supplier_id))}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(G,{to:"/products",className:"inline-flex items-center px-8 py-4 bg-gray-100 text-gray-900 font-semibold rounded-lg hover:bg-gray-200 transition-colors duration-200",children:["Explore All Suppliers",e.jsx(Qe,{className:"ml-2 w-5 h-5"})]})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-r from-blue-600 to-indigo-700",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-5xl font-bold text-white mb-6 leading-tight",children:"Ready to Transform Your Supply Ordering?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of contractors saving time and money with BuildEasy"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(G,{to:"/register",className:"inline-flex items-center justify-center px-10 py-5 bg-white text-blue-600 font-bold rounded-lg shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-200 text-lg",children:["Get Started Free",e.jsx(cr,{className:"ml-3 w-6 h-6"})]}),e.jsx(G,{to:"/how-it-works",className:"inline-flex items-center justify-center px-10 py-5 bg-blue-500 text-white font-bold rounded-lg border-2 border-white hover:bg-blue-400 transition-all duration-200 text-lg",children:"Learn More"})]}),e.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-8 text-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"No credit card required"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Free to join"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Cancel anytime"})]})]})]})})]})},mF=async t=>{const s="https://123create-construction-app-with-a.launchpulse.ai/api",r=new URLSearchParams;return Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&t[n]!==""&&r.append(n,String(t[n]))}),(await H.get(`${s}/products?${r.toString()}`)).data},hF=async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories?is_active=true&limit=100")).data,xF=()=>{var L;const t=ae(v=>v.authentication_state.authentication_status.is_authenticated),s=ae(v=>v.search_state.comparison_products),r=ae(v=>v.add_to_comparison),a=ae(v=>v.remove_from_comparison),n=ae(v=>v.clear_comparison),[i,l]=Ie(),[o,c]=k.useState(!1),d=k.useMemo(()=>({search_query:i.get("search_query")||null,category:i.get("category")||null,price_min:i.get("price_min")?Number(i.get("price_min")):null,price_max:i.get("price_max")?Number(i.get("price_max")):null,in_stock_only:i.get("in_stock_only")==="true"?!0:null,supplier_rating_min:i.get("supplier_rating_min")?Number(i.get("supplier_rating_min")):null,brands:i.get("brands")?i.get("brands").split(","):null,deals_only:i.get("deals_only")==="true"?!0:null}),[i]),m=k.useMemo(()=>({sort_by:i.get("sort_by")||"created_at",sort_order:i.get("sort_order")||"desc"}),[i]),u=k.useMemo(()=>{const v=i.get("page");return v?Number(v):1},[i]),x=k.useMemo(()=>i.get("view_mode")||"grid",[i]),{data:h,isLoading:f,error:p}=ie({queryKey:["products",d,m,u],queryFn:()=>{var v;return mF({search_query:d.search_query,category:d.category,price_min:d.price_min,price_max:d.price_max,in_stock_only:d.in_stock_only===!0?"true":void 0,supplier_rating_min:d.supplier_rating_min,brands:(v=d.brands)==null?void 0:v.join(","),deals_only:d.deals_only===!0?"true":void 0,status:"active",limit:24,offset:(u-1)*24,sort_by:m.sort_by,sort_order:m.sort_order})},staleTime:3e4,placeholderData:v=>v}),{data:N=[],isLoading:y}=ie({queryKey:["categories"],queryFn:hF,staleTime:3e5}),j=k.useMemo(()=>{if(!(h!=null&&h.products))return[];const v=new Set;return h.products.forEach(D=>{D.brand&&v.add(D.brand)}),Array.from(v).sort()},[h]),g=k.useMemo(()=>h?Math.ceil(h.total/24):0,[h]),S=v=>{const D=new URLSearchParams(i);Object.keys(v).forEach(U=>{v[U]===null||v[U]===void 0||v[U]===""?D.delete(U):Array.isArray(v[U])?D.set(U,v[U].join(",")):D.set(U,String(v[U]))}),D.set("page","1"),l(D)},w=v=>{S({search_query:v})},C=v=>{S({category:v})},_=(v,D)=>{S({price_min:v,price_max:D})},$=v=>{S({in_stock_only:v?"true":null})},F=(v,D)=>{const U=d.brands||[],q=D?[...U,v]:U.filter(B=>B!==v);S({brands:q.length>0?q:null})},T=v=>{S({supplier_rating_min:v})},R=v=>{S({deals_only:v?"true":null})},A=v=>{const D=new URLSearchParams(i);D.set("sort_by",v);const U=v==="price_per_unit"?"asc":"desc";D.set("sort_order",U),l(D)},M=v=>{const D=new URLSearchParams(i);D.set("view_mode",v),l(D)},P=v=>{const D=new URLSearchParams(i);D.set("page",String(v)),l(D),window.scrollTo({top:0,behavior:"smooth"})},E=()=>{l(new URLSearchParams)},z=v=>{const D=new URLSearchParams(i);D.delete(v),D.set("page","1"),l(D)},O=(v,D)=>{if(D){if(s.length>=5){alert("You can compare up to 5 products");return}r(v)}else a(v)},b=k.useMemo(()=>{let v=0;return d.search_query&&v++,d.category&&v++,(d.price_min||d.price_max)&&v++,d.in_stock_only&&v++,d.supplier_rating_min&&v++,d.brands&&d.brands.length>0&&(v+=d.brands.length),d.deals_only&&v++,v},[d]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-30 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-4 top-1/2 -translate-y-1/2 size-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search construction materials...",value:d.search_query||"",onChange:v=>w(v.target.value),className:"w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),d.search_query&&e.jsx("button",{onClick:()=>w(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(be,{className:"size-5"})})]})}),e.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>M("grid"),className:`p-2 rounded transition-all ${x==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(jh,{className:"size-5"})}),e.jsx("button",{onClick:()=>M("list"),className:`p-2 rounded transition-all ${x==="list"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(Jk,{className:"size-5"})})]}),e.jsxs("select",{value:m.sort_by,onChange:v=>A(v.target.value),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"created_at",children:"Newest First"}),e.jsx("option",{value:"price_per_unit",children:"Price: Low to High"}),e.jsx("option",{value:"sales_count",children:"Most Popular"}),e.jsx("option",{value:"product_name",children:"Name: A to Z"})]})]}),e.jsxs("button",{onClick:()=>c(!0),className:"lg:hidden flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(rS,{className:"size-5"}),"Filters",b>0&&e.jsx("span",{className:"bg-white text-blue-600 px-2 py-0.5 rounded-full text-xs font-bold",children:b})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"hidden lg:block w-80 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden sticky top-24",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Filters"}),b>0&&e.jsx("button",{onClick:E,className:"text-white/90 hover:text-white text-sm font-medium underline",children:"Clear All"})]})}),b>0&&e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-blue-50",children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.search_query&&e.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:[e.jsxs("span",{children:['"',d.search_query,'"']}),e.jsx("button",{onClick:()=>z("search_query"),children:e.jsx(be,{className:"size-4"})})]}),d.category&&e.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:[e.jsx("span",{children:"Category"}),e.jsx("button",{onClick:()=>z("category"),children:e.jsx(be,{className:"size-4"})})]}),(d.price_min||d.price_max)&&e.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:[e.jsxs("span",{children:["$",d.price_min||0," - $",d.price_max||""]}),e.jsx("button",{onClick:()=>_(null,null),children:e.jsx(be,{className:"size-4"})})]}),d.in_stock_only&&e.jsxs("div",{className:"flex items-center gap-1 bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm",children:[e.jsx("span",{children:"In Stock"}),e.jsx("button",{onClick:()=>$(!1),children:e.jsx(be,{className:"size-4"})})]}),(L=d.brands)==null?void 0:L.map(v=>e.jsxs("div",{className:"flex items-center gap-1 bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm",children:[e.jsx("span",{children:v}),e.jsx("button",{onClick:()=>F(v,!1),children:e.jsx(be,{className:"size-4"})})]},v))]})}),e.jsxs("div",{className:"overflow-y-auto max-h-[calc(100vh-300px)]",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Category"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y?e.jsx("div",{className:"text-sm text-gray-500",children:"Loading categories..."}):N.map(v=>e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"category",checked:d.category===v.category_id,onChange:D=>C(D.target.checked?v.category_id:null),className:"size-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 group-hover:text-gray-900",children:v.category_name})]},v.category_id))}),d.category&&e.jsx("button",{onClick:()=>C(null),className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear category"})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Price Range"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:d.price_min||"",onChange:v=>_(v.target.value?Number(v.target.value):null,d.price_max),className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}),e.jsx("input",{type:"number",placeholder:"Max",value:d.price_max||"",onChange:v=>_(d.price_min,v.target.value?Number(v.target.value):null),className:"w-1/2 px-3 py-2 border border-gray-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:d.in_stock_only===!0,onChange:v=>$(v.target.checked),className:"size-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"In Stock Only"})]})}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Supplier Rating"}),e.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(v=>e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"rating",checked:d.supplier_rating_min===v,onChange:D=>T(D.target.checked?v:null),className:"size-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("span",{className:"ml-3 text-sm text-gray-700 group-hover:text-gray-900 flex items-center gap-1",children:[v,"+ ",e.jsx(De,{className:"size-4 fill-amber-400 text-amber-400"})]})]},v))}),d.supplier_rating_min&&e.jsx("button",{onClick:()=>T(null),className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear rating"})]}),j.length>0&&e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Brands"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:j.map(v=>{var D;return e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:((D=d.brands)==null?void 0:D.includes(v))||!1,onChange:U=>F(v,U.target.checked),className:"size-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 group-hover:text-gray-900",children:v})]},v)})})]}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:d.deals_only===!0,onChange:v=>R(v.target.checked),className:"size-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700 group-hover:text-gray-900",children:"On Sale Only"})]})})]})]})}),o&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:()=>c(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 w-full max-w-sm bg-white shadow-xl",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Filters"}),e.jsx("button",{onClick:()=>c(!1),className:"text-white hover:text-white/80",children:e.jsx(be,{className:"size-6"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>{E(),c(!1)},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:"Clear All Filters"})})}),e.jsx("div",{className:"border-t border-gray-200 px-6 py-4",children:e.jsxs("button",{onClick:()=>c(!1),className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:["View ",(h==null?void 0:h.total)??0," Results"]})})]})})]}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d.search_query?e.jsxs(e.Fragment,{children:['Results for "',d.search_query,'"']}):d.category?e.jsx(e.Fragment,{children:"Products"}):e.jsx(e.Fragment,{children:"All Products"})}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:h?`${h.total||0} products found`:"Loading..."})]}),e.jsx("div",{className:"flex lg:hidden items-center gap-2",children:e.jsxs("select",{value:m.sort_by,onChange:v=>A(v.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"created_at",children:"Newest"}),e.jsx("option",{value:"price_per_unit",children:"Price"}),e.jsx("option",{value:"sales_count",children:"Popular"})]})})]}),f&&e.jsx("div",{className:x==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:[...Array(6)].map((v,D)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-gray-200"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded"})]})]},D))}),!f&&h&&h.products.length>0&&e.jsx("div",{className:x==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:h.products.map(v=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200 group",children:[e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsxs("label",{className:"flex items-center gap-2 bg-white/90 backdrop-blur-sm px-3 py-1.5 rounded-full shadow-md cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s.includes(v.product_id),onChange:D=>O(v.product_id,D.target.checked),className:"size-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Compare"})]})}),e.jsxs(G,{to:`/product/${v.product_id}`,className:"block relative",children:[e.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:v.primary_image_url?e.jsx("img",{src:v.primary_image_url,alt:v.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx("span",{className:"text-sm",children:"No image"})})}),e.jsx("div",{className:"absolute top-3 left-3",children:v.stock_quantity>0?e.jsx("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"In Stock"}):e.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:"Out of Stock"})})]}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx(G,{to:`/product/${v.product_id}`,children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2 hover:text-blue-600 transition-colors",children:v.product_name})}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",v.price_per_unit.toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["per ",v.unit_of_measure]})]}),e.jsxs(G,{to:`/supplier/${v.supplier_id}`,className:"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600 transition-colors",children:[e.jsx("span",{children:v.business_name||"Supplier"}),v.rating_average&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(De,{className:"size-4 fill-amber-400 text-amber-400"}),e.jsx("span",{className:"font-medium",children:v.rating_average.toFixed(1)})]})]}),e.jsx("div",{className:"flex gap-2 pt-2",children:t?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-all font-medium flex items-center justify-center gap-2",children:[e.jsx(Je,{className:"size-5"}),"Add to Cart"]}),e.jsx("button",{className:"p-2 border-2 border-gray-200 rounded-lg hover:border-red-500 hover:text-red-500 transition-all",children:e.jsx(Cu,{className:"size-5"})})]}):e.jsx(G,{to:"/register",className:"flex-1 bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 transition-all font-medium text-center border-2 border-gray-300",children:"Sign up to purchase"})})]})]},v.product_id))}),!f&&h&&h.products.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ut,{className:"size-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters or search terms"}),b>0&&e.jsx("button",{onClick:E,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors",children:"Clear All Filters"})]})}),p&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[e.jsx("p",{className:"text-red-700 font-medium",children:"Failed to load products"}),e.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please try again later"})]}),!f&&h&&g>1&&e.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>P(u-1),disabled:u===1,className:"p-2 border-2 border-gray-200 rounded-lg hover:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(ms,{className:"size-5"})}),e.jsx("div",{className:"flex items-center gap-2",children:[...Array(Math.min(g,5))].map((v,D)=>{let U;return g<=5||u<=3?U=D+1:u>=g-2?U=g-4+D:U=u-2+D,e.jsx("button",{onClick:()=>P(U),className:`w-10 h-10 rounded-lg font-medium transition-all ${u===U?"bg-blue-600 text-white shadow-lg":"border-2 border-gray-200 text-gray-700 hover:border-blue-500"}`,children:U},U)})}),e.jsx("button",{onClick:()=>P(u+1),disabled:u===g,className:"p-2 border-2 border-gray-200 rounded-lg hover:border-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e.jsx(Qe,{className:"size-5"})})]})]})]})}),s.length>0&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-2xl z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"font-semibold text-gray-900",children:[s.length," products selected for comparison"]}),e.jsx("button",{onClick:n,className:"text-sm text-gray-600 hover:text-gray-900 underline",children:"Clear all"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx(G,{to:`/compare?products=${s.join(",")}`,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-all shadow-lg hover:shadow-xl",children:"Compare Now"})})]})})})]})})},pF=async t=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/products/${t}`)).data,gF=async t=>{const s=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/${t}`);return{supplier_id:s.data.supplier_id,business_name:s.data.business_name,logo_url:s.data.logo_url,rating_average:s.data.rating_average,total_reviews:s.data.total_reviews,verification_status:s.data.verification_status,member_since:s.data.member_since}},fF=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/reviews",{params:{product_id:t,status:"published",limit:50,sort_by:"helpful_votes",sort_order:"desc"}})).data,yF=()=>{var z,O;const{product_id:t}=an(),s=Xe(),[r,a]=k.useState(0),[n,i]=k.useState("description"),[l,o]=k.useState(!1),[c,d]=k.useState("purchase"),{data:m,isLoading:u,error:x}=ie({queryKey:["product",t],queryFn:()=>pF(t),enabled:!!t,staleTime:5*60*1e3,retry:1}),{data:h,isLoading:f}=ie({queryKey:["supplier",m==null?void 0:m.supplier_id],queryFn:()=>gF(m.supplier_id),enabled:!!(m!=null&&m.supplier_id),staleTime:10*60*1e3}),{data:p,isLoading:N}=ie({queryKey:["reviews",t],queryFn:()=>fF(t),enabled:!!t,staleTime:5*60*1e3}),y=(m==null?void 0:m.images)||(m!=null&&m.primary_image_url?[m.primary_image_url]:[]),j=y[r]||"/placeholder-product.jpg",g=((z=p==null?void 0:p.reviews)==null?void 0:z.slice(0,3))||[],S=((p==null?void 0:p.total)||0)>3,C=m?m.status==="out_of_stock"||m.stock_quantity===0?{status:"Out of Stock",color:"red",icon:be}:m.stock_quantity<=m.low_stock_threshold?{status:"Low Stock",color:"amber",icon:Se}:{status:"In Stock",color:"green",icon:Ce}:{status:"",color:"gray",icon:null},$=(()=>{if(!(p!=null&&p.reviews))return{5:0,4:0,3:0,2:0,1:0};const b={5:0,4:0,3:0,2:0,1:0};return p.reviews.forEach(L=>{const v=L.rating_overall;b[v]++}),b})(),F=b=>{d(b),o(!0)},T=()=>{s("/register/customer")},R=()=>{a(b=>b>0?b-1:y.length-1)},A=()=>{a(b=>b<y.length-1?b+1:0)},M=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(b),P=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),E=(b,L="md")=>{const v={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(D=>e.jsx(De,{className:`${v[L]} ${D<=b?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},D))})};return u?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-200 rounded-xl h-96 lg:h-[600px]"}),e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4].map(b=>e.jsx("div",{className:"bg-gray-200 rounded-lg h-20 w-20"},b))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded-lg w-3/4"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded-lg w-1/2"}),e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg w-1/3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})]})})})})}):x||!m?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-16",children:e.jsx("div",{className:"max-w-3xl mx-auto px-4 text-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx(Se,{className:"h-16 w-16 mx-auto"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Browse All Products"})]})})})}):e.jsxs(e.Fragment,{children:[l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 mb-4",children:e.jsx(xs,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:[c==="zoom"&&"Sign Up to Zoom Images",c==="contact"&&"Sign Up to Contact Supplier",c==="reviews"&&"Sign Up to Read All Reviews",c==="purchase"&&"Sign Up to Purchase"]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create a free account to unlock all features and start shopping."}),e.jsxs("div",{className:"space-y-3 mb-6 text-left",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:"See exact stock levels and availability"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Real-time delivery tracking"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Secure checkout and order history"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Contact suppliers directly"})]})]}),e.jsx("button",{onClick:T,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 mb-3 shadow-lg hover:shadow-xl",children:"Create Free Account"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:"Maybe later"})]})})}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("li",{children:e.jsx(G,{to:"/",className:"text-gray-500 hover:text-gray-700",children:"Home"})}),e.jsx("li",{className:"text-gray-400",children:"/"}),e.jsx("li",{children:e.jsx(G,{to:"/products",className:"text-gray-500 hover:text-gray-700",children:"Products"})}),e.jsx("li",{className:"text-gray-400",children:"/"}),e.jsx("li",{className:"text-gray-900 font-medium truncate",children:m.product_name})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"relative bg-gray-100 rounded-xl overflow-hidden mb-4 group",children:[e.jsx("img",{src:j,alt:m.product_name,className:"w-full h-auto object-contain",style:{maxHeight:"600px"}}),e.jsx("div",{className:"absolute inset-0 bg-transparent cursor-pointer group-hover:bg-black group-hover:bg-opacity-10 transition-all duration-200 flex items-center justify-center",onClick:()=>F("zoom"),title:"Sign up to zoom",children:e.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-white px-4 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[e.jsx(iS,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Sign up to zoom"})]})}),y.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:R,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full p-2 shadow-lg transition-all duration-200","aria-label":"Previous image",children:e.jsx(ms,{className:"h-6 w-6 text-gray-700"})}),e.jsx("button",{onClick:A,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white bg-opacity-80 hover:bg-opacity-100 rounded-full p-2 shadow-lg transition-all duration-200","aria-label":"Next image",children:e.jsx(Qe,{className:"h-6 w-6 text-gray-700"})})]})]}),y.length>1&&e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:y.slice(0,8).map((b,L)=>e.jsx("button",{onClick:()=>a(L),className:`flex-shrink-0 rounded-lg overflow-hidden border-2 transition-all duration-200 ${r===L?"border-blue-600 shadow-md":"border-gray-200 hover:border-gray-300"}`,children:e.jsx("img",{src:b,alt:`${m.product_name} view ${L+1}`,className:"h-20 w-20 object-cover"})},L))})]}),e.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-2 leading-tight",children:m.product_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",m.sku]})]}),e.jsxs("div",{className:"border-t border-b border-gray-200 py-6",children:[e.jsxs("div",{className:"flex items-baseline space-x-3",children:[e.jsx("span",{className:"text-4xl font-bold text-blue-600",children:M(m.price_per_unit)}),e.jsxs("span",{className:"text-lg text-gray-600",children:["per ",m.unit_of_measure]})]}),m.bulk_pricing&&Object.keys(m.bulk_pricing).length>0&&e.jsx("div",{className:"mt-3",children:e.jsxs("button",{onClick:()=>F("purchase"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-1",children:[e.jsx("span",{children:"Volume pricing available"}),e.jsx(Qe,{className:"h-4 w-4"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-lg bg-${C.color}-50 border border-${C.color}-200`,children:[C.icon&&e.jsx(C.icon,{className:`h-5 w-5 text-${C.color}-600`}),e.jsx("span",{className:`font-semibold text-${C.color}-700`,children:C.status})]}),e.jsx("button",{onClick:()=>F("purchase"),className:"text-sm text-gray-500 hover:text-gray-700",children:"Sign up to see exact quantity"})]}),h&&!f&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[h.logo_url?e.jsx("img",{src:h.logo_url,alt:h.business_name,className:"h-16 w-16 rounded-full object-cover border-2 border-white shadow-md"}):e.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:h.business_name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(G,{to:`/supplier/${h.supplier_id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors",children:h.business_name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[E(h.rating_average,"sm"),e.jsxs("span",{className:"text-sm text-gray-600",children:[h.rating_average.toFixed(1)," (",h.total_reviews," reviews)"]})]})]}),h.verification_status==="verified"&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(xs,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Verified"})]})]}),e.jsx("button",{onClick:()=>F("contact"),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 px-4 py-2 rounded-lg font-medium transition-all duration-200 border border-gray-300",children:"Sign Up to Contact Supplier"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border-2 border-blue-200",children:[e.jsx("button",{onClick:()=>F("purchase"),className:"w-full bg-blue-600 text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl mb-4",children:"Sign Up to Purchase"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[e.jsx(Ce,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"See exact stock levels"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[e.jsx(Ce,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"Real-time delivery tracking"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[e.jsx(Ce,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"Secure checkout"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(Zt,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Delivery Information"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Estimated delivery: ",e.jsx("span",{className:"font-medium text-gray-900",children:"2-5 business days"})]}),e.jsx("button",{onClick:()=>F("purchase"),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Sign up to see exact delivery windows "})]})]})]}),e.jsxs("div",{className:"mt-12 bg-white rounded-2xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px",children:["description","specifications","reviews"].map(b=>e.jsx("button",{onClick:()=>i(b),className:`flex-1 py-4 px-6 text-center font-medium capitalize transition-colors ${n===b?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900 hover:border-b-2 hover:border-gray-300"}`,children:b},b))})}),e.jsxs("div",{className:"p-6 lg:p-8",children:[n==="description"&&e.jsxs("div",{className:"space-y-6",children:[m.description&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:m.description})]}),m.key_features&&m.key_features.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Key Features"}),e.jsx("ul",{className:"space-y-2",children:m.key_features.map((b,L)=>e.jsxs("li",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:b})]},L))})]}),m.warranty_information&&e.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(xs,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Warranty"}),e.jsx("p",{className:"text-sm text-blue-800",children:m.warranty_information})]})]})})]}),n==="specifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Specifications"}),m.specifications&&Object.keys(m.specifications).length>0?e.jsx("table",{className:"w-full border border-gray-200 rounded-lg overflow-hidden",children:e.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(m.specifications).map(([b,L])=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900 capitalize bg-gray-50",children:b.replace(/_/g," ")}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:typeof L=="object"?JSON.stringify(L):String(L)})]},b))})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No specifications available"}),(m.brand||m.weight||m.dimensions)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[m.brand&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Brand"}),e.jsx("p",{className:"font-semibold text-gray-900",children:m.brand})]}),m.weight&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Weight"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[m.weight," lbs"]})]}),m.dimensions&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Dimensions"}),e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:JSON.stringify(m.dimensions)})]})]})]}),n==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[p&&e.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:((O=p.average_rating)==null?void 0:O.toFixed(1))||"0.0"}),E(p.average_rating||0,"lg"),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[p.total||0," reviews"]})]}),e.jsx("div",{className:"flex-1 space-y-2",children:[5,4,3,2,1].map(b=>{const L=$[b]||0,v=p.total>0?L/p.total*100:0;return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-600 w-12",children:[b," star"]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-yellow-400 h-full rounded-full transition-all duration-300",style:{width:`${v}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:L})]},b)})})]})}),N?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(b=>e.jsx("div",{className:"animate-pulse bg-gray-100 rounded-lg p-6 h-32"},b))}):g.length>0?e.jsxs("div",{className:"space-y-4",children:[g.map(b=>e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[E(b.rating_overall,"sm"),b.verified_purchase&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-green-100 text-green-800 text-xs font-medium",children:[e.jsx(Ce,{className:"h-3 w-3 mr-1"}),"Verified Purchase"]})]}),e.jsx("span",{className:"text-sm text-gray-500",children:P(b.review_date)})]}),b.review_text&&e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:b.review_text}),b.photos&&b.photos.length>0&&e.jsx("div",{className:"flex space-x-2 mt-4",children:b.photos.slice(0,3).map((L,v)=>e.jsx("img",{src:L,alt:`Review photo ${v+1}`,className:"h-20 w-20 object-cover rounded-lg border border-gray-200"},v))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[b.helpful_votes," people found this helpful"]})})]},b.review_id)),S&&e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"filter blur-sm pointer-events-none space-y-4 mb-4",children:[1,2].map(b=>e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-3",children:E(4,"sm")}),e.jsx("p",{className:"text-gray-700",children:"This is a placeholder for additional reviews that are gated for guests..."})]},b))}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gradient-to-t from-white via-white/95 to-transparent",children:e.jsxs("div",{className:"text-center bg-white rounded-xl shadow-2xl p-8 max-w-md border-2 border-blue-200",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:[p.total-3," More Reviews"]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Sign up to read all ",p.total," customer reviews"]}),e.jsx("button",{onClick:()=>F("reviews"),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl w-full",children:"Create Free Account"})]})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-500",children:"No reviews yet"}),e.jsx("button",{onClick:()=>F("purchase"),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Be the first to review (Sign up required)"})]})]})]})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.jsxs("div",{className:"text-center py-12 col-span-full",children:[e.jsx("p",{className:"text-gray-500",children:"Related products will appear here"}),e.jsx(G,{to:"/products",className:"inline-block mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Browse All Products "})]})})]})]})}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 shadow-lg z-40",children:e.jsxs("button",{onClick:()=>F("purchase"),className:"w-full bg-blue-600 text-white px-6 py-4 rounded-lg font-bold hover:bg-blue-700 transition-all duration-200 shadow-lg",children:["Sign Up to Purchase - ",M(m.price_per_unit)]})})]})},Qa="https://123create-construction-app-with-a.launchpulse.ai/api",bF=async(t,s)=>{const r={"Content-Type":"application/json"};return s&&(r.Authorization=`Bearer ${s}`),(await H.get(`${Qa}/products/${t}`,{headers:r})).data},vF=async(t,s)=>{const r={"Content-Type":"application/json"};return s&&(r.Authorization=`Bearer ${s}`),(await H.get(`${Qa}/suppliers/${t}`,{headers:r})).data},jF=async(t,s,r,a,n)=>{const i={product_id:t,status:"published",limit:10,offset:(s-1)*10,sort_by:n,sort_order:"desc"};return r&&(i.min_rating=r),a&&(i.verified_purchase=!0),(await H.get(`${Qa}/reviews`,{params:i})).data},NF=async(t,s)=>(await H.get(`${Qa}/wishlist`,{headers:{Authorization:`Bearer ${s}`}})).data.some(n=>n.product_id===t),wF=async(t,s,r)=>(await H.post(`${Qa}/cart/items`,{product_id:t,quantity:s},{headers:{Authorization:`Bearer ${r}`}})).data,_F=async(t,s,r)=>(await H.post(`${Qa}/wishlist`,{product_id:t,price_when_saved:s,price_drop_alert_enabled:!0,back_in_stock_alert_enabled:!0},{headers:{Authorization:`Bearer ${r}`}})).data,kF=async(t,s)=>(await H.delete(`${Qa}/wishlist/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data,SF=()=>{var Ke,ys;const{product_id:t}=an(),s=Fe(),r=ae(re=>re.authentication_state.auth_token),a=ae(re=>{var xe;return(xe=re.authentication_state.customer_profile)==null?void 0:xe.customer_id}),n=ae(re=>re.fetch_cart),i=ae(re=>re.cart_state.items),[l,o]=k.useState("description"),[c,d]=k.useState(0),[m,u]=k.useState(!1),[x,h]=k.useState(1),[f,p]=k.useState(1),[N,y]=k.useState({rating:null,verified_only:!1}),[j,g]=k.useState("review_date"),[S,w]=k.useState(!1),[C,_]=k.useState({rating_overall:0,rating_product:0,rating_service:0,rating_delivery:0,review_text:"",would_buy_again:"yes",is_anonymous:!1}),[$,F]=k.useState({stock_quantity:null,last_updated:null,websocket_connected:!1}),[T,R]=k.useState(null),{data:A,isLoading:M,error:P}=ie({queryKey:["product",t],queryFn:()=>bF(t,r),enabled:!!t,staleTime:2*60*1e3}),{data:E,isLoading:z}=ie({queryKey:["supplier",A==null?void 0:A.supplier_id],queryFn:()=>vF(A.supplier_id,r),enabled:!!(A!=null&&A.supplier_id),staleTime:5*60*1e3}),{data:O=!1,refetch:b}=ie({queryKey:["wishlist-status",t],queryFn:()=>NF(t,r),enabled:!!t&&!!r,staleTime:1*60*1e3}),{data:L,isLoading:v}=ie({queryKey:["reviews",t,f,N.rating,N.verified_only,j],queryFn:()=>jF(t,f,N.rating,N.verified_only,j),enabled:!!t&&l==="reviews",staleTime:2*60*1e3}),D=i.some(re=>re.product_id===t),U=((Ke=i.find(re=>re.product_id===t))==null?void 0:Ke.quantity)||0,q=ue({mutationFn:re=>wF(t,re,r),onSuccess:()=>{n(),s.invalidateQueries({queryKey:["cart"]}),alert("Added to cart successfully!")},onError:re=>{var xe,Ue;alert(((Ue=(xe=re.response)==null?void 0:xe.data)==null?void 0:Ue.message)||"Failed to add to cart")}}),B=ue({mutationFn:()=>_F(t,A.price_per_unit,r),onSuccess:()=>{b(),alert("Added to wishlist!")},onError:re=>{var xe,Ue;alert(((Ue=(xe=re.response)==null?void 0:xe.data)==null?void 0:Ue.message)||"Failed to add to wishlist")}}),W=ue({mutationFn:async()=>{const xe=(await H.get(`${Qa}/wishlist`,{headers:{Authorization:`Bearer ${r}`}})).data.find(Ue=>Ue.product_id===t);if(xe)return kF(xe.wishlist_item_id,r)},onSuccess:()=>{b(),alert("Removed from wishlist")}});ue({mutationFn:async re=>(await H.post(`${Qa}/reviews`,{order_id:re.order_id,customer_id:a,supplier_id:A.supplier_id,product_id:t,...C},{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:()=>{s.invalidateQueries({queryKey:["reviews",t]}),w(!1),_({rating_overall:0,rating_product:0,rating_service:0,rating_delivery:0,review_text:"",would_buy_again:"yes",is_anonymous:!1}),alert("Review submitted successfully!")}}),k.useEffect(()=>{if(!t||!r)return;const xe=ed("ws://localhost:3000",{auth:{token:r}});return xe.on("connect",()=>{F(Ue=>({...Ue,websocket_connected:!0})),xe.emit("subscribe_product",{product_id:t})}),xe.on("inventory_update",Ue=>{Ue.product_id===t&&F({stock_quantity:Ue.stock_quantity,last_updated:Ue.last_updated_timestamp,websocket_connected:!0})}),xe.on("disconnect",()=>{F(Ue=>({...Ue,websocket_connected:!1}))}),R(xe),()=>{xe.emit("unsubscribe_product",{product_id:t}),xe.disconnect()}},[t,r]);const I=()=>{if(!A)return;if(x<A.minimum_order_quantity){alert(`Minimum order quantity is ${A.minimum_order_quantity}`);return}const re=$.stock_quantity??A.stock_quantity;if(x>re){alert(`Only ${re} units available`);return}q.mutate(x)},Q=()=>{O?W.mutate():B.mutate()},Z=re=>{const xe=x+re;if(xe>=1){const Ue=(A==null?void 0:A.maximum_order_quantity)||($.stock_quantity??(A==null?void 0:A.stock_quantity))||999;h(Math.min(xe,Ue))}},Y=re=>{d(re)},K=()=>{u(!0)},te=()=>{u(!1)},V=()=>{A!=null&&A.images&&d(re=>re===0?A.images.length-1:re-1)},se=()=>{A!=null&&A.images&&d(re=>re===A.images.length-1?0:re+1)},J=$.stock_quantity??(A==null?void 0:A.stock_quantity)??0,oe=J===0?"out_of_stock":J<=((A==null?void 0:A.low_stock_threshold)||10)?"low_stock":"in_stock",je=()=>A!=null&&A.bulk_pricing?Object.entries(A.bulk_pricing).sort((xe,Ue)=>parseInt(xe[0])-parseInt(Ue[0])):null,ve=()=>{if(!A)return 0;const re=je();if(!re)return A.price_per_unit;for(let xe=re.length-1;xe>=0;xe--){const[Ue,Us]=re[xe];if(x>=parseInt(Ue))return Us}return A.price_per_unit};if(M)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading product details..."})]})})});if(P||!A)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-xl shadow-lg text-center",children:[e.jsx(he,{className:"mx-auto h-16 w-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're looking for doesn't exist or has been removed."}),e.jsx(G,{to:"/products",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Browse Products"})]})})});const Te=((ys=A.images)==null?void 0:ys[c])||A.primary_image_url;return e.jsxs(e.Fragment,{children:[m&&e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",children:[e.jsx("button",{onClick:te,className:"absolute top-4 right-4 text-white hover:text-gray-300 transition-colors","aria-label":"Close",children:e.jsx(be,{className:"h-8 w-8"})}),e.jsx("button",{onClick:V,className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors","aria-label":"Previous image",children:e.jsx(ms,{className:"h-12 w-12"})}),e.jsx("img",{src:Te||"",alt:A.product_name,className:"max-w-full max-h-[90vh] object-contain"}),e.jsx("button",{onClick:se,className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:text-gray-300 transition-colors","aria-label":"Next image",children:e.jsx(Qe,{className:"h-12 w-12"})}),A.images&&A.images.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 bg-black bg-opacity-50 p-2 rounded-lg",children:A.images.map((re,xe)=>e.jsx("button",{onClick:()=>d(xe),className:`h-16 w-16 rounded overflow-hidden border-2 transition-all ${xe===c?"border-white scale-110":"border-transparent opacity-60 hover:opacity-100"}`,children:e.jsx("img",{src:re,alt:`Thumbnail ${xe+1}`,className:"h-full w-full object-cover"})},xe))})]}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6",children:[e.jsx(G,{to:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),e.jsx(Qe,{className:"h-4 w-4"}),e.jsx(G,{to:"/products",className:"hover:text-blue-600 transition-colors",children:"Products"}),e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{className:"text-gray-900 font-medium",children:A.product_name})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-zoom-in group relative",onClick:K,children:e.jsxs("div",{className:"aspect-square relative",children:[e.jsx("img",{src:Te||"",alt:A.product_name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-10 transition-opacity flex items-center justify-center",children:e.jsx(iS,{className:"h-16 w-16 text-white"})})]})}),A.images&&A.images.length>1&&e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:A.images.map((re,xe)=>e.jsx("button",{onClick:()=>Y(xe),className:`flex-shrink-0 h-20 w-20 rounded-lg overflow-hidden border-2 transition-all ${xe===c?"border-blue-600 scale-105 shadow-lg":"border-gray-200 hover:border-blue-400"}`,children:e.jsx("img",{src:re,alt:`View ${xe+1}`,className:"h-full w-full object-cover"})},xe))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:A.product_name}),e.jsx("button",{onClick:Q,disabled:B.isPending||W.isPending,className:"flex-shrink-0 ml-4 p-2 rounded-full hover:bg-gray-100 transition-colors disabled:opacity-50","aria-label":O?"Remove from wishlist":"Add to wishlist",children:e.jsx(Cu,{className:`h-6 w-6 transition-colors ${O?"fill-red-500 text-red-500":"text-gray-400"}`})})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["SKU: ",A.sku]}),A.brand&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Brand: ",A.brand]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-100",children:[e.jsxs("div",{className:"flex items-baseline space-x-3 mb-2",children:[e.jsxs("span",{className:"text-4xl font-bold text-blue-600",children:["$",ve().toFixed(2)]}),e.jsxs("span",{className:"text-lg text-gray-600",children:["/ ",A.unit_of_measure]})]}),je()&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Volume Pricing:"}),e.jsx("div",{className:"space-y-1",children:je().map(([re,xe])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[re,"+ units:"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",Number(xe).toFixed(2)]})]},re))})]})]}),e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[oe==="in_stock"&&e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"h-5 w-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"In Stock"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[J," units available"]})]})]}),oe==="low_stock"&&e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-5 w-5 text-amber-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-900",children:"Low Stock"}),e.jsxs("p",{className:"text-sm text-amber-700",children:["Only ",J," left!"]})]})]}),oe==="out_of_stock"&&e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-5 w-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"Out of Stock"}),A.expected_restock_date&&e.jsxs("p",{className:"text-sm text-red-700",children:["Expected: ",new Date(A.expected_restock_date).toLocaleDateString()]})]})]})]}),$.last_updated&&e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${$.websocket_connected?"bg-green-500":"bg-gray-400"}`}),e.jsxs("span",{children:["Updated ",new Date($.last_updated).toLocaleTimeString()]})]})]}),oe!=="out_of_stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>Z(-1),disabled:x<=1,className:"px-4 py-3 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""}),e.jsx("input",{type:"number",value:x,onChange:re=>{const xe=parseInt(re.target.value);!isNaN(xe)&&xe>=1&&h(Math.min(xe,J))},className:"w-20 text-center py-3 border-x border-gray-300 focus:outline-none"}),e.jsx("button",{onClick:()=>Z(1),disabled:x>=J,className:"px-4 py-3 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"+"})]}),A.minimum_order_quantity>1&&e.jsxs("p",{className:"text-sm text-gray-600",children:["Min order: ",A.minimum_order_quantity]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:I,disabled:oe==="out_of_stock"||q.isPending,className:"w-full bg-blue-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:[e.jsx(Je,{className:"h-5 w-5"}),e.jsx("span",{children:D?"Update Cart":"Add to Cart"})]}),D&&e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[U," already in cart"]})]}),E&&e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[E.logo_url&&e.jsx("img",{src:E.logo_url,alt:E.business_name,className:"h-16 w-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:E.business_name}),E.verification_status==="verified"&&e.jsx(Pv,{className:"h-5 w-5 text-green-600"})]}),e.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[[...Array(5)].map((re,xe)=>e.jsx(De,{className:`h-4 w-4 ${xe<Math.floor(E.rating_average)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},xe)),e.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:[E.rating_average.toFixed(1)," (",E.total_reviews," reviews)"]})]}),E.response_time_average&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mb-3",children:[e.jsx(nt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Replies within ",E.response_time_average.toFixed(1)," hours"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(G,{to:`/supplier/${E.supplier_id}`,className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"View Shop"}),e.jsx("span",{className:"text-gray-300",children:"|"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Contact Supplier"})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Zt,{className:"h-5 w-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Delivery Information"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Standard delivery: 2-5 business days"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Select delivery window at checkout"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden mb-12",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>o("description"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="description"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Description"}),e.jsx("button",{onClick:()=>o("specifications"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="specifications"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Specifications"}),e.jsxs("button",{onClick:()=>o("reviews"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="reviews"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Reviews ",L&&`(${L.total})`]})]})}),e.jsxs("div",{className:"p-6",children:[l==="description"&&e.jsxs("div",{className:"prose max-w-none",children:[A.description&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Product Description"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:A.description})]}),A.key_features&&A.key_features.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Key Features"}),e.jsx("ul",{className:"space-y-2",children:A.key_features.map((re,xe)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(fe,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:re})]},xe))})]}),A.warranty_information&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Warranty"}),e.jsx("p",{className:"text-sm text-gray-700",children:A.warranty_information})]})]}),l==="specifications"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Technical Specifications"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsx("table",{className:"min-w-full divide-y divide-gray-200",children:e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[A.specifications&&Object.entries(A.specifications).map(([re,xe])=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900 capitalize",children:re.replace(/_/g," ")}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:typeof xe=="object"?JSON.stringify(xe):String(xe)})]},re)),A.dimensions&&e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"Dimensions"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:JSON.stringify(A.dimensions)})]}),A.weight&&e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"Weight"}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-700",children:[A.weight," lbs"]})]}),A.material&&e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"Material"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:A.material})]}),A.compliance_certifications&&A.compliance_certifications.length>0&&e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:"Certifications"}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-700",children:A.compliance_certifications.join(", ")})]})]})})})]}),l==="reviews"&&e.jsx("div",{children:v?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):L?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-8 pb-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[e.jsx("span",{className:"text-5xl font-bold text-gray-900",children:L.average_rating.toFixed(1)}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center space-x-1 mb-1",children:[...Array(5)].map((re,xe)=>e.jsx(De,{className:`h-6 w-6 ${xe<Math.floor(L.average_rating)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},xe))}),e.jsxs("p",{className:"text-sm text-gray-600",children:[L.total," reviews"]})]})]})}),e.jsx("button",{onClick:()=>w(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Write a Review"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4",children:[e.jsxs("select",{value:N.rating||"",onChange:re=>{y(xe=>({...xe,rating:re.target.value?parseInt(re.target.value):null})),p(1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All ratings"}),e.jsx("option",{value:"5",children:"5 stars"}),e.jsx("option",{value:"4",children:"4+ stars"}),e.jsx("option",{value:"3",children:"3+ stars"})]}),e.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:N.verified_only,onChange:re=>{y(xe=>({...xe,verified_only:re.target.checked})),p(1)},className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Verified purchases only"})]}),e.jsxs("select",{value:j,onChange:re=>{g(re.target.value),p(1)},className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"review_date",children:"Most Recent"}),e.jsx("option",{value:"rating_overall",children:"Highest Rated"}),e.jsx("option",{value:"helpful_votes",children:"Most Helpful"})]})]})]}),e.jsx("div",{className:"space-y-6",children:L.reviews.map(re=>e.jsxs("div",{className:"border-b border-gray-200 pb-6 last:border-0",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((xe,Ue)=>e.jsx(De,{className:`h-4 w-4 ${Ue<re.rating_overall?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},Ue))}),re.verified_purchase&&e.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Verified Purchase"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[re.is_anonymous?"Anonymous":"Customer","  ",new Date(re.review_date).toLocaleDateString()]})]})}),re.review_text&&e.jsx("p",{className:"text-gray-700 mb-3 leading-relaxed",children:re.review_text}),re.photos&&re.photos.length>0&&e.jsx("div",{className:"flex space-x-2 mb-3",children:re.photos.map((xe,Ue)=>e.jsx("img",{src:xe,alt:`Review photo ${Ue+1}`,className:"h-20 w-20 rounded-lg object-cover cursor-pointer hover:opacity-80 transition-opacity"},Ue))}),re.supplier_response&&e.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4 border-l-4 border-blue-600",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supplier Response"}),e.jsx("p",{className:"text-sm text-gray-700",children:re.supplier_response}),re.supplier_response_date&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Responded ",new Date(re.supplier_response_date).toLocaleDateString()]})]}),e.jsx("div",{className:"flex items-center space-x-4 mt-3 text-sm text-gray-600",children:e.jsxs("span",{children:[re.helpful_votes," found this helpful"]})})]},re.review_id))}),L.total>10&&e.jsxs("div",{className:"flex justify-center mt-8 space-x-2",children:[e.jsx("button",{onClick:()=>p(re=>Math.max(1,re-1)),disabled:f===1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsxs("span",{className:"px-4 py-2 text-gray-700",children:["Page ",f," of ",Math.ceil(L.total/10)]}),e.jsx("button",{onClick:()=>p(re=>Math.min(Math.ceil(L.total/10),re+1)),disabled:f>=Math.ceil(L.total/10),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-gray-600",children:"No reviews yet for this product."}),e.jsx("button",{onClick:()=>w(!0),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Be the first to review"})]})})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Similar Products"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:e.jsx("div",{className:"text-center text-gray-500 col-span-full py-8",children:"Related products would be displayed here"})})]})]})})]})},CF=async t=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/${t}`)).data,PF=async(t,s,r,a=1)=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/${t}/products`,{params:{status:"active",category:s,search_query:r,limit:24,offset:(a-1)*24}})).data,AF=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/reviews",{params:{supplier_id:t,status:"published",limit:3,sort_by:"review_date",sort_order:"desc"}})).data,s_=({isOpen:t,onClose:s,feature:r})=>{const a=Xe();if(!t)return null;const n=r==="contact"?{title:"Contact This Supplier",description:"Create a free account to message suppliers directly and get real-time responses.",benefits:["Direct messaging with suppliers","Real-time order tracking","Save favorite suppliers","Exclusive trade pricing"]}:{title:"Read All Reviews",description:"Create a free account to access all verified customer reviews and make informed decisions.",benefits:["Read all verified reviews","See detailed ratings breakdown","Compare supplier performance","Leave your own reviews"]};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 relative animate-fadeIn",children:[e.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(be,{className:"w-6 h-6"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r==="contact"?e.jsx(hs,{className:"w-8 h-8 text-blue-600"}):e.jsx(De,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title}),e.jsx("p",{className:"text-gray-600",children:n.description})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"font-semibold text-blue-900 mb-3",children:"With a free account, you can:"}),e.jsx("ul",{className:"space-y-2",children:n.benefits.map((i,l)=>e.jsxs("li",{className:"flex items-start text-blue-800 text-sm",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i]},l))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>a("/register/customer"),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Create Free Account"}),e.jsx("button",{onClick:()=>a("/login"),className:"w-full bg-gray-100 text-gray-900 py-3 px-6 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200",children:"Sign In"})]}),e.jsx("p",{className:"text-center text-xs text-gray-500 mt-4",children:"Free forever. No credit card required."})]})})})},OF=()=>{const{supplier_id:t}=an(),[s,r]=Ie(),a=s.get("tab")||"about",n=s.get("product_category")||"",i=s.get("product_search")||"",l=s.get("product_page")||"1",[o,c]=k.useState(a),[d,m]=k.useState(n),[u,x]=k.useState(i),[h,f]=k.useState(parseInt(l)),[p,N]=k.useState(!1),[y,j]=k.useState(!1);k.useEffect(()=>{c(a)},[a]),k.useEffect(()=>{m(n)},[n]),k.useEffect(()=>{x(i)},[i]),k.useEffect(()=>{f(parseInt(l))},[l]);const g=b=>{c(b),r({tab:b})},{data:S,isLoading:w,error:C}=ie({queryKey:["supplier",t],queryFn:()=>CF(t),enabled:!!t,staleTime:5*60*1e3,retry:1}),{data:_,isLoading:$}=ie({queryKey:["supplier-products",t,d,u,h],queryFn:()=>PF(t,d,u,h),enabled:!!t&&o==="products",staleTime:2*60*1e3,retry:1}),{data:F,isLoading:T}=ie({queryKey:["supplier-reviews",t],queryFn:()=>AF(t),enabled:!!t&&o==="reviews",staleTime:5*60*1e3,retry:1}),R=b=>new Date(b).getFullYear().toString(),A=(b,L)=>b?b.length<=L?b:b.substring(0,L)+"...":"",M=()=>_?Math.ceil(_.total/24):0,P=b=>{b.preventDefault(),f(1);const L={tab:"products"};d&&(L.product_category=d),u&&(L.product_search=u),L.product_page="1",r(L)},E=b=>{f(b);const L={tab:"products"};d&&(L.product_category=d),u&&(L.product_search=u),L.product_page=b.toString(),r(L),window.scrollTo({top:0,behavior:"smooth"})};if(C)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Supplier Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The supplier you're looking for doesn't exist or has been removed."}),e.jsx(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Browse All Products"})]})})});if(w)return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"w-full h-64 bg-gray-200 animate-pulse"}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-16",children:e.jsxs("div",{className:"flex items-end space-x-4 mb-8",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-white border-4 border-white shadow-xl bg-gray-200 animate-pulse"}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-2 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-48 animate-pulse"})]})]})})]})});if(!S)return null;const z=(F==null?void 0:F.reviews.reduce((b,L)=>(b[L.rating_overall]=(b[L.rating_overall]||0)+1,b),{}))||{},O=(F==null?void 0:F.total)||0;return e.jsxs(e.Fragment,{children:[e.jsx(s_,{isOpen:p,onClose:()=>N(!1),feature:"contact"}),e.jsx(s_,{isOpen:y,onClose:()=>j(!1),feature:"reviews"}),e.jsxs("div",{className:"w-full h-64 bg-gradient-to-br from-blue-600 to-indigo-700 relative overflow-hidden",children:[S.cover_photo_url?e.jsx("img",{src:S.cover_photo_url,alt:`${S.business_name} cover`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-indigo-700"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-16 relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end space-y-4 md:space-y-0 md:space-x-6 mb-8",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-white border-4 border-white shadow-xl overflow-hidden flex-shrink-0",children:S.logo_url?e.jsx("img",{src:S.logo_url,alt:`${S.business_name} logo`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-4xl font-bold text-white",children:S.business_name.charAt(0)})})}),e.jsxs("div",{className:"flex-1 pb-0 md:pb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:S.business_name}),S.verification_status==="verified"&&e.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-800 px-3 py-1 rounded-full",children:[e.jsx(Pv,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(De,{className:"w-5 h-5 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-semibold text-gray-900",children:S.rating_average.toFixed(1)}),e.jsxs("span",{className:"text-sm",children:["(",S.total_reviews," reviews)"]})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsxs("span",{children:["Member since ",R(S.member_since)]})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsxs("span",{children:[S.total_orders,"+ orders fulfilled"]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center justify-center space-x-2 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(hs,{className:"w-5 h-5"}),e.jsx("span",{children:"Contact Supplier"})]}),e.jsxs("button",{onClick:()=>g("products"),className:"flex items-center justify-center space-x-2 px-6 py-3 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-all duration-200 border border-gray-300",children:[e.jsx(Se,{className:"w-5 h-5"}),e.jsx("span",{children:"View Products"})]})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-8",children:e.jsx("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[{id:"about",label:"About",icon:Ve},{id:"products",label:"Products",icon:Se},{id:"reviews",label:"Reviews",icon:De}].map(({id:b,label:L,icon:v})=>e.jsxs("button",{onClick:()=>g(b),className:`
                  flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors
                  ${o===b?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                `,children:[e.jsx(v,{className:"w-5 h-5"}),e.jsx("span",{children:L})]},b))})}),e.jsxs("div",{className:"pb-16",children:[o==="about"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:S.business_description||"No description available."})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Policies"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Return Policy"}),e.jsx("p",{className:"text-gray-600 text-sm",children:A(S.return_policy,200)}),e.jsx("button",{onClick:()=>N(!0),className:"text-blue-600 text-sm font-medium hover:text-blue-700 mt-2",children:"View full policy "})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Shipping Policy"}),e.jsx("p",{className:"text-gray-600 text-sm",children:A(S.shipping_policy,200)}),e.jsx("button",{onClick:()=>N(!0),className:"text-blue-600 text-sm font-medium hover:text-blue-700 mt-2",children:"View full policy "})]}),S.minimum_order_value&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Minimum Order"}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["$",S.minimum_order_value.toFixed(2)," minimum order value"]})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Supplier Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Orders Fulfilled"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[S.total_orders.toLocaleString(),"+"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Average Rating"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(De,{className:"w-4 h-4 text-yellow-500 fill-current"}),e.jsx("span",{className:"font-semibold text-gray-900",children:S.rating_average.toFixed(1)})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 text-sm",children:"Member Since"}),e.jsx("span",{className:"font-semibold text-gray-900",children:R(S.member_since)})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl shadow-lg border border-blue-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Need Help?"}),e.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"Create an account to contact this supplier directly and get real-time responses."}),e.jsx("button",{onClick:()=>N(!0),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Contact Supplier"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl shadow-lg border border-green-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ready to Buy?"}),e.jsx("p",{className:"text-gray-700 text-sm mb-4",children:"Create a free account to purchase from this supplier and hundreds more."}),e.jsx(G,{to:"/register/customer",className:"block w-full bg-green-600 text-white text-center py-2 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Sign Up Free"})]})]})]}),o==="products"&&e.jsxs("div",{children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsxs("form",{onSubmit:P,className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:u,onChange:b=>x(b.target.value),placeholder:"Search products...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Search"})]})}),$?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((b,L)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"w-full h-64 bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},L))}):_&&_.products.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.products.map(b=>e.jsxs(G,{to:`/product/${b.product_id}`,className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-300 group",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-100 h-64",children:[b.primary_image_url?e.jsx("img",{src:b.primary_image_url,alt:b.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(Se,{className:"w-16 h-16"})}),b.stock_quantity>0?e.jsx("div",{className:"absolute top-3 right-3 bg-green-500 text-white text-xs font-medium px-2 py-1 rounded-full",children:"In Stock"}):e.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white text-xs font-medium px-2 py-1 rounded-full",children:"Out of Stock"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 group-hover:text-blue-600 transition-colors",children:b.product_name}),e.jsxs("div",{className:"flex items-baseline space-x-2 mb-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",b.price_per_unit.toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["per ",b.unit_of_measure]})]}),b.brand&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Brand: ",b.brand]})]})]},b.product_id))}),M()>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[e.jsx("button",{onClick:()=>E(h-1),disabled:h===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors",children:e.jsx(ms,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex space-x-2",children:[...Array(M())].map((b,L)=>{const v=L+1;return v===1||v===M()||v>=h-1&&v<=h+1?e.jsx("button",{onClick:()=>E(v),className:`
                                  px-4 py-2 rounded-lg font-medium transition-all
                                  ${v===h?"bg-blue-600 text-white shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-100"}
                                `,children:v},v):v===h-2||v===h+2?e.jsx("span",{className:"px-2 py-2",children:"..."},v):null})}),e.jsx("button",{onClick:()=>E(h+1),disabled:h===M(),className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 transition-colors",children:e.jsx(Qe,{className:"w-5 h-5"})})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx(Se,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:u||d?"Try different search terms or filters.":"This supplier hasn't added any products yet."}),(u||d)&&e.jsx("button",{onClick:()=>{x(""),m(""),r({tab:"products"})},className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Clear Filters"})]})]}),o==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 mb-2",children:[e.jsx("span",{className:"text-5xl font-bold text-gray-900",children:S.rating_average.toFixed(1)}),e.jsx(De,{className:"w-12 h-12 text-yellow-500 fill-current"})]}),e.jsxs("p",{className:"text-gray-600 mb-1",children:["Based on ",O," reviews"]}),e.jsx("div",{className:"flex items-center justify-center md:justify-start space-x-1",children:[1,2,3,4,5].map(b=>e.jsx(De,{className:`w-6 h-6 ${b<=Math.round(S.rating_average)?"text-yellow-500 fill-current":"text-gray-300"}`},b))})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(b=>{const L=z[b]||0,v=O>0?L/O*100:0;return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-600 w-8",children:[b,""]}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-yellow-500 h-full transition-all duration-300",style:{width:`${v}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:L})]},b)})})]})}),T?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},b))}):F&&F.reviews.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:F.reviews.map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(L=>e.jsx(De,{className:`w-5 h-5 ${L<=b.rating_overall?"text-yellow-500 fill-current":"text-gray-300"}`},L))}),b.verified_purchase&&e.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:"Verified Purchase"})]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(b.review_date).toLocaleDateString()})]}),b.review_text&&e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:b.review_text}),b.helpful_votes>0&&e.jsxs("p",{className:"text-sm text-gray-500",children:[b.helpful_votes," people found this helpful"]})]},b.review_id))}),O>3&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl shadow-lg border border-blue-200 p-8 text-center",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:["Want to read all ",O," reviews?"]}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Create a free account to see all verified customer reviews and ratings."}),e.jsx("button",{onClick:()=>j(!0),className:"px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:"Sign Up to Read All Reviews"})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600",children:"This supplier hasn't received any reviews yet."})]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-4",children:["Ready to Order from ",S.business_name,"?"]}),e.jsx("p",{className:"text-blue-100 text-lg mb-8 max-w-2xl mx-auto",children:"Create your free account to access real-time inventory, compare prices, and track deliveries."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsx(G,{to:"/register/customer",className:"px-8 py-4 bg-white text-blue-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors shadow-xl",children:"Create Free Account"}),e.jsx(G,{to:"/login",className:"px-8 py-4 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-400 transition-colors",children:"Sign In"})]})]})})]})},Zo="https://123create-construction-app-with-a.launchpulse.ai",$F=async t=>{const{data:s}=await H.get(`${Zo}/suppliers/${t}`);return s},TF=async(t,s,r)=>{const a={status:s.status||"active",limit:12,offset:(r-1)*12,sort_by:s.sort_by,sort_order:s.sort_order};s.category_id&&(a.category=s.category_id),s.search_query&&(a.search_query=s.search_query),s.price_min!==null&&(a.price_min=s.price_min),s.price_max!==null&&(a.price_max=s.price_max),s.in_stock_only&&(a.in_stock_only=!0);const{data:n}=await H.get(`${Zo}/suppliers/${t}/products`,{params:a});return n},EF=async(t,s,r,a)=>{const n={supplier_id:t,status:"published",limit:10,offset:(r-1)*10,sort_by:s.sort_by,sort_order:"desc"};s.rating!==null&&(n.min_rating=s.rating),s.verified_only&&(n.verified_purchase=!0);const{data:i}=await H.get(`${Zo}/reviews`,{params:n,headers:{Authorization:`Bearer ${a}`}});return i},MF=async(t,s)=>{const{data:r}=await H.patch(`${Zo}/customers/me`,{preferred_suppliers:t},{headers:{Authorization:`Bearer ${s}`}});return r},FF=async(t,s,r)=>{const{data:a}=await H.post(`${Zo}/cart/items`,{product_id:t,quantity:s},{headers:{Authorization:`Bearer ${r}`}});return a},RF=async(t,s)=>{const{data:r}=await H.post(`${Zo}/chat/conversations`,{conversation_type:"customer_supplier",supplier_id:t},{headers:{Authorization:`Bearer ${s}`}});return r},LF=()=>{const{supplier_id:t}=an(),s=Fe(),r=ae(D=>D.authentication_state.auth_token),a=ae(D=>D.authentication_state.customer_profile),n=ae(D=>D.fetch_cart),[i,l]=k.useState("about"),[o,c]=k.useState(!1),[d,m]=k.useState(1),[u,x]=k.useState(1),[h,f]=k.useState({category_id:null,search_query:null,price_min:null,price_max:null,in_stock_only:null,sort_by:"created_at",sort_order:"desc"}),[p,N]=k.useState({rating:null,verified_only:!1,sort_by:"review_date"}),[y,j]=k.useState(!1),g=k.useMemo(()=>!(a!=null&&a.preferred_suppliers)||!t?!1:a.preferred_suppliers.includes(t),[a==null?void 0:a.preferred_suppliers,t]),{data:S,isLoading:w,error:C}=ie({queryKey:["supplier",t],queryFn:()=>$F(t),enabled:!!t,staleTime:5*60*1e3}),{data:_,isLoading:$}=ie({queryKey:["supplier-products",t,h,d],queryFn:()=>TF(t,h,d),enabled:!!t&&i==="products",staleTime:2*60*1e3,select:D=>({products:D.products,total_count:D.total,total_pages:Math.ceil(D.total/12)})}),{data:F,isLoading:T}=ie({queryKey:["supplier-reviews",t,p,u],queryFn:()=>EF(t,p,u,r),enabled:!!t&&!!r&&i==="reviews",staleTime:2*60*1e3,select:D=>({reviews:D.reviews,total_count:D.total,average_rating:D.average_rating,total_pages:Math.ceil(D.total/10),rating_distribution:P(D.reviews)})}),R=ue({mutationFn:async()=>{const D=(a==null?void 0:a.preferred_suppliers)||[],U=g?D.filter(q=>q!==t):[...D,t];return MF(U,r)},onSuccess:()=>{s.invalidateQueries({queryKey:["customer-profile"]})}}),A=ue({mutationFn:({product_id:D,quantity:U})=>FF(D,U,r),onSuccess:()=>{n()}}),M=ue({mutationFn:()=>RF(t,r),onSuccess:()=>{c(!1)}}),P=D=>{const U={5:0,4:0,3:0,2:0,1:0};return D.forEach(q=>{const B=Math.floor(q.rating_overall);B>=1&&B<=5&&U[B]++}),U},E=D=>{const U=new Date(D),q=new Date,B=q.getFullYear()-U.getFullYear();if(B>0)return`${B} year${B>1?"s":""}`;const W=(q.getFullYear()-U.getFullYear())*12+q.getMonth()-U.getMonth();return`${W} month${W>1?"s":""}`},z=()=>{R.mutate()},O=D=>{A.mutate({product_id:D,quantity:1})},b=()=>{M.mutate()},L=(D,U)=>{f(q=>({...q,[D]:U})),m(1)},v=(D,U)=>{N(q=>({...q,[D]:U})),x(1)};return w?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading supplier profile..."})]})})}):C||!S?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsx("div",{className:"max-w-md w-full text-center",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 border border-gray-200",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(be,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Supplier Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The supplier you're looking for doesn't exist or has been removed."}),e.jsx(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Browse All Products"})]})})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-64 md:h-80 bg-gradient-to-br from-blue-500 to-indigo-600 relative overflow-hidden",children:S.cover_photo_url?e.jsx("img",{src:S.cover_photo_url,alt:`${S.business_name} cover`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(Se,{className:"w-32 h-32 text-white opacity-20"})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"relative -mt-16 sm:-mt-20",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-white rounded-full shadow-lg border-4 border-white overflow-hidden",children:S.logo_url?e.jsx("img",{src:S.logo_url,alt:`${S.business_name} logo`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:S.business_name.charAt(0)})})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 truncate",children:S.business_name}),S.verification_status==="verified"&&e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full",children:[e.jsx(Pv,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(D=>e.jsx(De,{className:`w-5 h-5 ${D<=Math.round(S.rating_average)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},D))}),e.jsx("span",{className:"font-medium text-gray-900",children:S.rating_average.toFixed(1)}),e.jsxs("span",{children:["(",S.total_reviews," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Member for ",E(S.member_since)]})]}),S.response_time_average!==null&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Cs,{className:"w-4 h-4"}),e.jsxs("span",{children:["Replies within ",S.response_time_average.toFixed(1)," hours"]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:z,disabled:R.isPending,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${g?"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300":"bg-blue-600 text-white hover:bg-blue-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(Cu,{className:`w-5 h-5 ${g?"fill-current":""}`}),e.jsx("span",{className:"hidden sm:inline",children:g?"Following":"Follow"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:[e.jsx(Cs,{className:"w-5 h-5"}),e.jsx("span",{className:"hidden sm:inline",children:"Contact"})]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(_==null?void 0:_.total_count)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Products"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:S.total_orders}),e.jsx("div",{className:"text-sm text-gray-600",children:"Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[S.fulfillment_rate.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Fulfillment"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:S.total_reviews}),e.jsx("div",{className:"text-sm text-gray-600",children:"Reviews"})]})]})]})})})]}),e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-16 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex gap-8",children:["about","products","reviews","contact"].map(D=>e.jsx("button",{onClick:()=>l(D),className:`py-4 px-2 border-b-2 font-medium text-sm transition-colors ${i===D?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:D.charAt(0).toUpperCase()+D.slice(1)},D))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i==="about"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:S.business_description||"No description provided."})]}),S.service_areas&&S.service_areas.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(fs,{className:"w-5 h-5 text-blue-600"}),"Service Areas"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:S.service_areas.map((D,U)=>e.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:D},U))})]}),S.operating_hours&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(nt,{className:"w-5 h-5 text-blue-600"}),"Operating Hours"]}),e.jsx("div",{className:"space-y-2",children:Object.entries(S.operating_hours).map(([D,U])=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:D}),e.jsx("span",{className:"text-gray-600",children:String(U)})]},D))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[S.return_policy&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Return Policy"}),e.jsx("p",{className:"text-gray-700 text-sm line-clamp-4",children:S.return_policy}),e.jsx("button",{onClick:()=>l("contact"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium mt-2",children:"View full policy "})]}),S.shipping_policy&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:"Shipping Policy"}),e.jsx("p",{className:"text-gray-700 text-sm line-clamp-4",children:S.shipping_policy}),e.jsx("button",{onClick:()=>l("contact"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium mt-2",children:"View full policy "})]})]})]}),i==="products"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search products...",value:h.search_query||"",onChange:D=>L("search_query",D.target.value||null),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})}),e.jsxs("button",{onClick:()=>j(!y),className:"sm:hidden flex items-center gap-2 px-4 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[e.jsx($r,{className:"w-5 h-5"}),"Filters"]}),e.jsxs("select",{value:h.sort_by,onChange:D=>L("sort_by",D.target.value),className:"px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 bg-white",children:[e.jsx("option",{value:"created_at",children:"Newest"}),e.jsx("option",{value:"price_per_unit",children:"Price: Low to High"}),e.jsx("option",{value:"sales_count",children:"Most Popular"}),e.jsx("option",{value:"product_name",children:"Name A-Z"})]})]}),(y||window.innerWidth>=640)&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:h.in_stock_only||!1,onChange:D=>L("in_stock_only",D.target.checked||null),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"In Stock Only"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min $",value:h.price_min||"",onChange:D=>L("price_min",D.target.value?Number(D.target.value):null),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100"}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("input",{type:"number",placeholder:"Max $",value:h.price_max||"",onChange:D=>L("price_max",D.target.value?Number(D.target.value):null),className:"w-24 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100"})]})]})})]}),$?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((D,U)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"w-full h-64 bg-gray-200"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]})]},U))}):_&&_.products.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.products.map(D=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-xl transition-shadow",children:[e.jsx(G,{to:`/product/${D.product_id}`,children:e.jsxs("div",{className:"relative h-64 bg-gray-100",children:[D.primary_image_url?e.jsx("img",{src:D.primary_image_url,alt:D.product_name,className:"w-full h-full object-cover",loading:"lazy"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Se,{className:"w-16 h-16 text-gray-300"})}),D.is_featured&&e.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-yellow-400 text-yellow-900 text-xs font-bold rounded",children:"FEATURED"}),D.stock_quantity>0?e.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"In Stock"}):e.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded",children:"Out of Stock"})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx(G,{to:`/product/${D.product_id}`,children:e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:D.product_name})}),e.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",D.price_per_unit.toFixed(2)]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["/ ",D.unit_of_measure]})]}),e.jsxs("button",{onClick:()=>O(D.product_id),disabled:D.stock_quantity===0||A.isPending,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Je,{className:"w-5 h-5"}),D.stock_quantity===0?"Out of Stock":"Add to Cart"]})]})]},D.product_id))}),_.total_pages>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[e.jsx("button",{onClick:()=>m(D=>Math.max(1,D-1)),disabled:d===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ms,{className:"w-5 h-5"})}),e.jsxs("span",{className:"px-4 py-2 text-sm font-medium text-gray-700",children:["Page ",d," of ",_.total_pages]}),e.jsx("button",{onClick:()=>m(D=>Math.min(_.total_pages,D+1)),disabled:d===_.total_pages,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Qe,{className:"w-5 h-5"})})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center border border-gray-200",children:[e.jsx(Se,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Products Found"}),e.jsx("p",{className:"text-gray-600",children:"This supplier hasn't listed any products yet."})]})]}),i==="reviews"&&e.jsxs("div",{className:"space-y-6",children:[F&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("div",{className:"text-5xl font-bold text-gray-900 mb-2",children:F.average_rating.toFixed(1)}),e.jsx("div",{className:"flex items-center justify-center md:justify-start gap-1 mb-2",children:[1,2,3,4,5].map(D=>e.jsx(De,{className:`w-6 h-6 ${D<=Math.round(F.average_rating)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},D))}),e.jsxs("p",{className:"text-gray-600",children:["Based on ",F.total_count," reviews"]})]}),e.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(D=>{const U=F.rating_distribution[D]||0,q=F.total_count>0?U/F.total_count*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 w-12",children:[D," star"]}),e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-400 rounded-full transition-all",style:{width:`${q}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 w-12 text-right",children:U})]},D)})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 flex flex-wrap gap-3",children:[e.jsxs("select",{value:p.rating||"",onChange:D=>v("rating",D.target.value?Number(D.target.value):null),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All ratings"}),e.jsx("option",{value:"5",children:"5 stars"}),e.jsx("option",{value:"4",children:"4+ stars"}),e.jsx("option",{value:"3",children:"3+ stars"})]}),e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[e.jsx("input",{type:"checkbox",checked:p.verified_only,onChange:D=>v("verified_only",D.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Verified only"})]}),e.jsxs("select",{value:p.sort_by,onChange:D=>v("sort_by",D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[e.jsx("option",{value:"review_date",children:"Most Recent"}),e.jsx("option",{value:"rating_overall",children:"Highest Rating"}),e.jsx("option",{value:"helpful_votes",children:"Most Helpful"})]})]})]}),T?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((D,U)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},U))}):F&&F.reviews.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:F.reviews.map(D=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border border-gray-200",children:[e.jsx("div",{className:"flex items-start justify-between gap-4 mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(U=>e.jsx(De,{className:`w-5 h-5 ${U<=D.rating_overall?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},U))}),D.verified_purchase&&e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:"Verified Purchase"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[D.is_anonymous?"Anonymous":"Customer"," "," ",new Date(D.review_date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})}),D.review_text&&e.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:D.review_text}),D.photos&&D.photos.length>0&&e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto",children:D.photos.map((U,q)=>e.jsx("img",{src:U,alt:`Review photo ${q+1}`,className:"w-20 h-20 object-cover rounded-lg flex-shrink-0"},q))}),D.supplier_response&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 bg-blue-50 -mx-6 -mb-6 px-6 py-4 rounded-b-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white text-sm font-bold",children:S.business_name.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-1",children:[S.business_name," responded"]}),e.jsx("p",{className:"text-sm text-gray-700",children:D.supplier_response})]})]})})]},D.review_id))}),F.total_pages>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx("button",{onClick:()=>x(D=>Math.max(1,D-1)),disabled:u===1,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(ms,{className:"w-5 h-5"})}),e.jsxs("span",{className:"px-4 py-2 text-sm font-medium text-gray-700",children:["Page ",u," of ",F.total_pages]}),e.jsx("button",{onClick:()=>x(D=>Math.min(F.total_pages,D+1)),disabled:u===F.total_pages,className:"p-2 rounded-lg border border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Qe,{className:"w-5 h-5"})})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center border border-gray-200",children:[e.jsx(De,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600",children:"Be the first to review this supplier!"})]})]}),i==="contact"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center gap-3 p-4 bg-blue-50 border-2 border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(Cs,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Send Message"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Chat with ",S.business_name]})]})]}),S.response_time_average!==null&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(nt,{className:"w-6 h-6 text-gray-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Response Time"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Usually replies within ",S.response_time_average.toFixed(1)," hours"]})]})]})]})]}),S.return_policy&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Return Policy"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:S.return_policy})]}),S.shipping_policy&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Shipping Policy"}),e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-line",children:S.shipping_policy})]}),S.minimum_order_value!==null&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8 border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Minimum Order"}),e.jsxs("p",{className:"text-gray-700",children:["Minimum order value: ",e.jsxs("span",{className:"font-bold text-gray-900",children:["$",S.minimum_order_value.toFixed(2)]})]})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Contact Supplier"}),e.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(be,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:b,disabled:M.isPending,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Cs,{className:"w-5 h-5"}),M.isPending?"Starting chat...":"Start Chat"]}),e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Our team typically responds within"," ",S.response_time_average!==null?`${S.response_time_average.toFixed(1)} hours`:"a few hours"]})]})]})})]})})},DF=()=>{const[t,s]=k.useState(null),[r,a]=k.useState(null),n=Xe(),i=()=>{s("customer"),n("/register/customer")},l=()=>{s("supplier"),n("/register/supplier")};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl w-full",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 leading-tight",children:"Join BuildEasy"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Choose how you want to use our platform"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[e.jsxs("button",{onClick:i,onMouseEnter:()=>a("customer"),onMouseLeave:()=>a(null),className:`
                group relative bg-white rounded-2xl shadow-lg border-2 transition-all duration-300 ease-in-out
                hover:shadow-2xl hover:scale-105 hover:border-blue-500
                p-8 text-left cursor-pointer
                ${r==="customer"?"border-blue-500 shadow-2xl transform scale-105":"border-gray-200"}
                ${t==="customer"?"ring-4 ring-blue-200":""}
              `,children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:`
                  inline-flex items-center justify-center w-20 h-20 rounded-2xl transition-all duration-300
                  ${r==="customer"?"bg-blue-600 shadow-lg":"bg-blue-100"}
                `,children:e.jsx(Je,{className:`
                      w-10 h-10 transition-colors duration-300
                      ${r==="customer"?"text-white":"text-blue-600"}
                    `})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"I want to buy construction materials"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Perfect for contractors, builders, and DIY enthusiasts looking for quality materials"}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Compare suppliers and find the best prices instantly"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Real-time inventory updates from 100+ verified suppliers"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Track every delivery with live GPS updates"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Secure payments with multiple options"})]})]}),e.jsxs("div",{className:`
                inline-flex items-center justify-center w-full px-6 py-3 rounded-lg font-semibold text-base transition-all duration-300
                ${r==="customer"?"bg-blue-600 text-white shadow-lg":"bg-blue-600 text-white"}
              `,children:["Create Customer Account",e.jsx("svg",{className:"ml-2 w-5 h-5 transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),r==="customer"&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"bg-blue-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Select"})})]}),e.jsxs("button",{onClick:l,onMouseEnter:()=>a("supplier"),onMouseLeave:()=>a(null),className:`
                group relative bg-white rounded-2xl shadow-lg border-2 transition-all duration-300 ease-in-out
                hover:shadow-2xl hover:scale-105 hover:border-indigo-500
                p-8 text-left cursor-pointer
                ${r==="supplier"?"border-indigo-500 shadow-2xl transform scale-105":"border-gray-200"}
                ${t==="supplier"?"ring-4 ring-indigo-200":""}
              `,children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:`
                  inline-flex items-center justify-center w-20 h-20 rounded-2xl transition-all duration-300
                  ${r==="supplier"?"bg-indigo-600 shadow-lg":"bg-indigo-100"}
                `,children:e.jsx(Ea,{className:`
                      w-10 h-10 transition-colors duration-300
                      ${r==="supplier"?"text-white":"text-indigo-600"}
                    `})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"I want to sell construction materials"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Perfect for supply shops, distributors, and wholesalers ready to grow"}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Reach thousands of contractors and builders nationwide"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Manage inventory and orders from one powerful dashboard"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Grow your sales with automated marketing tools"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm",children:"Flexible payout options with transparent pricing"})]})]}),e.jsxs("div",{className:`
                inline-flex items-center justify-center w-full px-6 py-3 rounded-lg font-semibold text-base transition-all duration-300
                ${r==="supplier"?"bg-indigo-600 text-white shadow-lg":"bg-indigo-600 text-white"}
              `,children:["Create Supplier Account",e.jsx("svg",{className:"ml-2 w-5 h-5 transition-transform duration-300 group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),r==="supplier"&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("div",{className:"bg-indigo-600 text-white text-xs font-semibold px-3 py-1 rounded-full",children:"Select"})})]})]}),e.jsx("div",{className:"text-center pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx(G,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors duration-200",children:"Sign in"})]})}),e.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"100+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Verified Suppliers"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"10,000+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Products Available"})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"4.8"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]})]})})]})})})},IF=t=>{let s=0;return t.length>=8&&s++,t.length>=12&&s++,/[a-z]/.test(t)&&/[A-Z]/.test(t)&&s++,/\d/.test(t)&&s++,/[^a-zA-Z0-9]/.test(t)&&s++,Math.min(s,4)},BF=t=>{switch(t){case 0:case 1:return{label:"Weak",color:"text-red-600"};case 2:return{label:"Fair",color:"text-yellow-600"};case 3:return{label:"Good",color:"text-blue-600"};case 4:return{label:"Strong",color:"text-green-600"};default:return{label:"Weak",color:"text-red-600"}}},qF=t=>{const s=t.replace(/\D/g,"");return s.length<=3?s:s.length<=6?`(${s.slice(0,3)}) ${s.slice(3)}`:`(${s.slice(0,3)}) ${s.slice(3,6)}-${s.slice(6,10)}`},r_=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),zF=t=>t.replace(/\D/g,"").length===10,UF=()=>{var F,T,R,A,M;const t=Xe();Ie();const s=ae(P=>P.authentication_state.authentication_status.is_authenticated),r=ae(P=>P.register_customer);k.useEffect(()=>{s&&t("/dashboard",{replace:!0})},[s,t]);const[a,n]=k.useState({email:"",password:"",confirm_password:"",first_name:"",last_name:"",phone_number:"",account_type:"retail",default_delivery_address:null}),[i,l]=k.useState({}),[o,c]=k.useState(0),[d,m]=k.useState(!1),[u,x]=k.useState(!1),[h,f]=k.useState(!1),[p,N]=k.useState(!1),y=ue({mutationFn:async P=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/auth/register/customer",P)).data,onSuccess:async P=>{await r({email:a.email,password:a.password,first_name:a.first_name,last_name:a.last_name,phone_number:a.phone_number,account_type:a.account_type})},onError:P=>{var E,z;if(((E=P.response)==null?void 0:E.status)===409)l(O=>({...O,email:"An account with this email already exists. Try signing in instead."}));else if(((z=P.response)==null?void 0:z.status)===400){const O=P.response.data.errors||{};l(b=>({...b,...O}))}else l(O=>({...O,general:"Registration failed. Please try again."}))}}),j=P=>{n(E=>({...E,password:P})),c(IF(P)),l(E=>{const z={...E};return delete z.password,delete z.confirm_password,z})},g=P=>{n(E=>({...E,confirm_password:P})),l(E=>{const z={...E};return delete z.confirm_password,z})},S=P=>{n(E=>({...E,email:P})),l(E=>{const z={...E};return delete z.email,z})},w=P=>{const E=qF(P);n(z=>({...z,phone_number:E})),l(z=>{const O={...z};return delete O.phone_number,O})},C=k.useCallback(()=>{const P={};return a.email?r_(a.email)||(P.email="Please enter a valid email address"):P.email="Email is required",a.first_name.trim()||(P.first_name="First name is required"),a.last_name.trim()||(P.last_name="Last name is required"),a.phone_number?zF(a.phone_number)||(P.phone_number="Please enter a valid 10-digit phone number"):P.phone_number="Phone number is required",a.password?a.password.length<8?P.password="Password must be at least 8 characters":o<2&&(P.password="Password is too weak. Add uppercase, numbers, or special characters."):P.password="Password is required",a.confirm_password?a.password!==a.confirm_password&&(P.confirm_password="Passwords do not match"):P.confirm_password="Please confirm your password",d||(P.terms="You must accept the Terms of Service and Privacy Policy"),l(P),Object.keys(P).length===0},[a,o,d]),_=async P=>{if(P.preventDefault(),l({}),!C())return;const E={email:a.email.toLowerCase(),password:a.password,first_name:a.first_name,last_name:a.last_name,phone_number:a.phone_number.replace(/\D/g,""),account_type:a.account_type};a.default_delivery_address&&a.default_delivery_address.street_address&&(E.default_delivery_address=a.default_delivery_address),y.mutate(E)},$=BF(o);return a.email&&a.password&&a.confirm_password&&a.first_name&&a.last_name&&a.phone_number&&d&&Object.keys(i).length,e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Create Your Customer Account"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Start ordering construction materials from 100+ verified suppliers"})]}),e.jsx("div",{className:"bg-white shadow-xl shadow-gray-200/50 rounded-xl border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-8 lg:p-12",children:[i.general&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:i.general})]}),y.isSuccess&&!((F=y.data)!=null&&F.token)&&e.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Account created successfully!"}),e.jsx("p",{className:"text-sm text-green-600",children:"Please check your email to verify your account before signing in."})]})]}),e.jsxs("form",{onSubmit:_,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-3",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-900 mb-2",children:["First Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"first_name",name:"first_name",value:a.first_name,onChange:P=>{n(E=>({...E,first_name:P.target.value})),l(E=>{const z={...E};return delete z.first_name,z})},disabled:y.isPending,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${i.first_name?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`,placeholder:"John",autoComplete:"given-name"}),i.first_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:i.first_name})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-900 mb-2",children:["Last Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"last_name",name:"last_name",value:a.last_name,onChange:P=>{n(E=>({...E,last_name:P.target.value})),l(E=>{const z={...E};return delete z.last_name,z})},disabled:y.isPending,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${i.last_name?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`,placeholder:"Doe",autoComplete:"family-name"}),i.last_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:i.last_name})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:a.email,onChange:P=>S(P.target.value),disabled:y.isPending,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${i.email?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`,placeholder:"john.doe@example.com",autoComplete:"email"}),i.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:i.email})]}),!i.email&&a.email&&r_(a.email)&&e.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Valid email format"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone_number",className:"block text-sm font-medium text-gray-900 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone_number",name:"phone_number",value:a.phone_number,onChange:P=>w(P.target.value),disabled:y.isPending,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 ${i.phone_number?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`,placeholder:"(555) 123-4567",autoComplete:"tel"}),i.phone_number&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:i.phone_number})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"We'll use this for order and delivery updates"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-3",children:"Account Type"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{n(P=>({...P,account_type:"trade"})),l(P=>{const E={...P};return delete E.account_type,E})},disabled:y.isPending,className:`relative p-6 rounded-xl border-2 transition-all duration-200 text-left ${a.account_type==="trade"?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"} disabled:opacity-50 disabled:cursor-not-allowed`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${a.account_type==="trade"?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(r9,{className:`h-6 w-6 ${a.account_type==="trade"?"text-blue-600":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Professional/Trade"}),a.account_type==="trade"&&e.jsx(Ce,{className:"h-5 w-5 text-blue-600"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"For contractors and construction professionals"}),e.jsxs("ul",{className:"mt-3 space-y-1",children:[e.jsxs("li",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"Trade pricing available"})]}),e.jsxs("li",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"Bulk order discounts"})]}),e.jsxs("li",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"Trade credit options"})]})]})]})]})}),e.jsx("button",{type:"button",onClick:()=>{n(P=>({...P,account_type:"retail"})),l(P=>{const E={...P};return delete E.account_type,E})},disabled:y.isPending,className:`relative p-6 rounded-xl border-2 transition-all duration-200 text-left ${a.account_type==="retail"?"border-blue-500 bg-blue-50 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"} disabled:opacity-50 disabled:cursor-not-allowed`,children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:`p-3 rounded-lg ${a.account_type==="retail"?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(Je,{className:`h-6 w-6 ${a.account_type==="retail"?"text-blue-600":"text-gray-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"DIY/Personal Use"}),a.account_type==="retail"&&e.jsx(Ce,{className:"h-5 w-5 text-blue-600"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"For home improvement and personal projects"}),e.jsxs("ul",{className:"mt-3 space-y-1",children:[e.jsxs("li",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"Retail pricing"})]}),e.jsxs("li",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"Project planning tools"})]}),e.jsxs("li",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-3 w-3 text-green-600"}),e.jsx("span",{children:"DIY guides & tips"})]})]})]})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 border-b border-gray-200 pb-3",children:"Account Security"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900 mb-2",children:["Password ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",id:"password",name:"password",value:a.password,onChange:P=>j(P.target.value),disabled:y.isPending,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 pr-12 ${i.password?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`,placeholder:"Create a strong password",autoComplete:"new-password"}),e.jsx("button",{type:"button",onClick:()=>x(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:u?e.jsx(xo,{className:"h-5 w-5"}):e.jsx(Lt,{className:"h-5 w-5"})})]}),a.password&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Password strength:"}),e.jsx("span",{className:`text-sm font-medium ${$.color}`,children:$.label})]}),e.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${o===0||o===1?"bg-red-500":o===2?"bg-yellow-500":o===3?"bg-blue-500":"bg-green-500"}`,style:{width:`${o/4*100}%`}})}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[a.password.length>=8?e.jsx(Ce,{className:"h-3 w-3 text-green-600"}):e.jsx(be,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{children:"At least 8 characters"})]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[/[A-Z]/.test(a.password)?e.jsx(Ce,{className:"h-3 w-3 text-green-600"}):e.jsx(be,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{children:"One uppercase letter"})]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[/\d/.test(a.password)?e.jsx(Ce,{className:"h-3 w-3 text-green-600"}):e.jsx(be,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{children:"One number"})]})]})]}),i.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:i.password})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-900 mb-2",children:["Confirm Password ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:h?"text":"password",id:"confirm_password",name:"confirm_password",value:a.confirm_password,onChange:P=>g(P.target.value),disabled:y.isPending,className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 pr-12 ${i.confirm_password?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-4 focus:ring-red-100":a.confirm_password&&a.password===a.confirm_password?"border-green-300 bg-green-50 focus:border-green-500 focus:ring-4 focus:ring-green-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"} disabled:opacity-50 disabled:cursor-not-allowed`,placeholder:"Re-enter your password",autoComplete:"new-password"}),e.jsx("button",{type:"button",onClick:()=>f(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",tabIndex:-1,children:h?e.jsx(xo,{className:"h-5 w-5"}):e.jsx(Lt,{className:"h-5 w-5"})})]}),i.confirm_password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:i.confirm_password})]}),!i.confirm_password&&a.confirm_password&&a.password===a.confirm_password&&e.jsxs("p",{className:"mt-2 text-sm text-green-600 flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Passwords match"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-3",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Delivery Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx("button",{type:"button",onClick:()=>N(!p),className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:p?"Skip for now":"Add address"})]}),p&&e.jsxs("div",{className:"space-y-4 bg-gray-50 p-6 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"street_address",className:"block text-sm font-medium text-gray-900 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",id:"street_address",value:((T=a.default_delivery_address)==null?void 0:T.street_address)||"",onChange:P=>{n(E=>{var z,O,b;return{...E,default_delivery_address:{street_address:P.target.value,city:((z=E.default_delivery_address)==null?void 0:z.city)||"",state:((O=E.default_delivery_address)==null?void 0:O.state)||"",postal_code:((b=E.default_delivery_address)==null?void 0:b.postal_code)||""}}})},disabled:y.isPending,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50",placeholder:"123 Main St",autoComplete:"street-address"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-900 mb-2",children:"City"}),e.jsx("input",{type:"text",id:"city",value:((R=a.default_delivery_address)==null?void 0:R.city)||"",onChange:P=>{n(E=>{var z,O,b;return{...E,default_delivery_address:{street_address:((z=E.default_delivery_address)==null?void 0:z.street_address)||"",city:P.target.value,state:((O=E.default_delivery_address)==null?void 0:O.state)||"",postal_code:((b=E.default_delivery_address)==null?void 0:b.postal_code)||""}}})},disabled:y.isPending,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50",placeholder:"Austin",autoComplete:"address-level2"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-900 mb-2",children:"State"}),e.jsx("input",{type:"text",id:"state",value:((A=a.default_delivery_address)==null?void 0:A.state)||"",onChange:P=>{n(E=>{var z,O,b;return{...E,default_delivery_address:{street_address:((z=E.default_delivery_address)==null?void 0:z.street_address)||"",city:((O=E.default_delivery_address)==null?void 0:O.city)||"",state:P.target.value,postal_code:((b=E.default_delivery_address)==null?void 0:b.postal_code)||""}}})},disabled:y.isPending,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50",placeholder:"TX",maxLength:2,autoComplete:"address-level1"})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{htmlFor:"postal_code",className:"block text-sm font-medium text-gray-900 mb-2",children:"Zip Code"}),e.jsx("input",{type:"text",id:"postal_code",value:((M=a.default_delivery_address)==null?void 0:M.postal_code)||"",onChange:P=>{n(E=>{var z,O,b;return{...E,default_delivery_address:{street_address:((z=E.default_delivery_address)==null?void 0:z.street_address)||"",city:((O=E.default_delivery_address)==null?void 0:O.city)||"",state:((b=E.default_delivery_address)==null?void 0:b.state)||"",postal_code:P.target.value}}})},disabled:y.isPending,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 disabled:opacity-50",placeholder:"78701",maxLength:10,autoComplete:"postal-code"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can add more addresses later in your account settings"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms_accepted",checked:d,onChange:P=>{m(P.target.checked),l(E=>{const z={...E};return delete z.terms,z})},disabled:y.isPending,className:"mt-1 h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-4 focus:ring-blue-100 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsxs("label",{htmlFor:"terms_accepted",className:"text-sm text-gray-700 leading-relaxed",children:["I agree to the"," ",e.jsx(G,{to:"/terms",target:"_blank",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Terms of Service"})," ","and"," ",e.jsx(G,{to:"/privacy",target:"_blank",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"Privacy Policy"}),e.jsx("span",{className:"text-red-600 ml-1",children:"*"})]})]}),i.terms&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center space-x-1 ml-8",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{children:i.terms})]})]}),e.jsxs("div",{className:"pt-6",children:[e.jsx("button",{type:"submit",disabled:y.isPending||!d,className:"w-full px-6 py-4 rounded-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-blue-600 disabled:hover:shadow-lg",children:y.isPending?e.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Et,{className:"h-5 w-5 animate-spin"}),e.jsx("span",{children:"Creating Account..."})]}):"Create Account"}),e.jsxs("p",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",e.jsx(G,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Sign in instead"})]})]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-4 text-center",children:"What you'll get with your account:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ce,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Compare Suppliers"}),e.jsx("p",{className:"text-xs text-gray-600",children:"See prices from 100+ suppliers instantly"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ce,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Real-Time Inventory"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Know exactly what's in stock"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ce,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Track Deliveries"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Live GPS tracking for every order"})]})]})]})]})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500 flex items-center justify-center space-x-2",children:[e.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("span",{children:"Your information is secure and encrypted"})]})})]})})})},WF=async t=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/auth/register/supplier",t,{headers:{"Content-Type":"application/json"}})).data,VF=[{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}],HF=()=>{const t=Xe(),[s,r]=k.useState(1),[a,n]=k.useState({email:"",password:"",confirm_password:"",business_name:"",business_registration_number:"",business_type:"LLC",contact_person_name:"",phone_number:"",business_address:"",city:"",state:"",postal_code:"",country:"USA",business_description:""}),[i,l]=k.useState({}),[o,c]=k.useState(!1),[d,m]=k.useState(null),u=ue({mutationFn:WF,onSuccess:P=>{m(5)},onError:P=>{var z,O,b,L,v,D;const E=((O=(z=P.response)==null?void 0:z.data)==null?void 0:O.message)||P.message||"Application submission failed. Please try again.";if(((b=P.response)==null?void 0:b.status)===409)l({email:"An account with this email already exists. Please sign in instead."}),r(1);else if(((L=P.response)==null?void 0:L.status)===400){const U=((D=(v=P.response)==null?void 0:v.data)==null?void 0:D.errors)||{};l(U)}else l({general:E})}});k.useEffect(()=>{if(d!==null){if(d===0){t("/login");return}const P=setTimeout(()=>{m(d-1)},1e3);return()=>clearTimeout(P)}},[d,t]);const x=P=>P?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?null:"Please enter a valid email address":"Email is required",h=P=>P?P.length<8?"Password must be at least 8 characters":/[A-Z]/.test(P)?/[a-z]/.test(P)?/[0-9]/.test(P)?null:"Password must contain at least one number":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password is required",f=(P,E)=>E?P!==E?"Passwords do not match":null:"Please confirm your password",p=P=>P?/^[\d\s\-\(\)\+]+$/.test(P)?P.replace(/\D/g,"").length<10?"Phone number must be at least 10 digits":null:"Please enter a valid phone number":"Phone number is required",N=()=>{const P={};a.business_name?a.business_name.length<2&&(P.business_name="Business name must be at least 2 characters"):P.business_name="Business name is required",a.business_registration_number?a.business_registration_number.length<3&&(P.business_registration_number="Registration number must be at least 3 characters"):P.business_registration_number="Business registration number is required",a.contact_person_name?a.contact_person_name.length<2&&(P.contact_person_name="Name must be at least 2 characters"):P.contact_person_name="Contact person name is required";const E=x(a.email);E&&(P.email=E);const z=p(a.phone_number);return z&&(P.phone_number=z),l(P),Object.keys(P).length===0},y=()=>{const P={};return a.business_address?a.business_address.length<10&&(P.business_address="Please enter a complete street address"):P.business_address="Street address is required",a.city||(P.city="City is required"),a.state||(P.state="State is required"),a.postal_code?/^\d{5}(-\d{4})?$/.test(a.postal_code)||(P.postal_code="Please enter a valid postal code (e.g., 12345 or 12345-6789)"):P.postal_code="Postal code is required",l(P),Object.keys(P).length===0},j=()=>{const P={},E=h(a.password);E&&(P.password=E);const z=f(a.password,a.confirm_password);return z&&(P.confirm_password=z),o||(P.terms="You must agree to the terms to continue"),l(P),Object.keys(P).length===0},g=(P,E)=>{n(z=>({...z,[P]:E})),i[P]&&l(z=>{const O={...z};return delete O[P],O})},S=()=>{N()&&(r(2),window.scrollTo({top:0,behavior:"smooth"}))},w=()=>{y()&&(r(3),window.scrollTo({top:0,behavior:"smooth"}))},C=()=>{r(1),window.scrollTo({top:0,behavior:"smooth"})},_=()=>{r(2),window.scrollTo({top:0,behavior:"smooth"})},$=async()=>{if(!j())return;l(z=>{const O={...z};return delete O.general,O});const P=`${a.business_address}, ${a.city}, ${a.state} ${a.postal_code}, ${a.country}`,E={email:a.email.toLowerCase().trim(),password:a.password,business_name:a.business_name.trim(),business_registration_number:a.business_registration_number.trim(),business_type:a.business_type,contact_person_name:a.contact_person_name.trim(),phone_number:a.phone_number.trim(),business_address:P,business_description:a.business_description.trim()};u.mutate(E)},F=()=>{t("/login")},R=(P=>{let E=0;return P.length>=8&&E++,P.length>=12&&E++,/[A-Z]/.test(P)&&E++,/[a-z]/.test(P)&&E++,/[0-9]/.test(P)&&E++,/[^A-Za-z0-9]/.test(P)&&E++,Math.min(E,4)})(a.password),A=P=>P===0?"Too weak":P===1?"Weak":P===2?"Fair":P===3?"Good":"Strong",M=P=>P===0?"bg-red-500":P===1?"bg-orange-500":P===2?"bg-yellow-500":P===3?"bg-blue-500":"bg-green-500";return e.jsxs(e.Fragment,{children:[u.isSuccess&&u.data&&e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-2xl w-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 px-8 py-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full mb-6 shadow-lg",children:e.jsx("svg",{className:"w-12 h-12 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3",children:"Application Received!"}),e.jsx("p",{className:"text-xl text-green-50",children:"Thank you for applying to join BuildEasy"})]}),e.jsxs("div",{className:"px-8 py-10",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-800 text-lg font-medium mb-4",children:"What happens next?"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-gray-700",children:"Your application is now under review by our verification team"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsxs("span",{className:"text-gray-700",children:["We've sent a confirmation email to ",e.jsx("strong",{children:a.email})]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{className:"text-gray-700",children:["We'll contact you within ",e.jsx("strong",{children:"2-3 business days"})," with a decision"]})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"w-6 h-6 text-blue-600 mr-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsxs("span",{className:"text-gray-700",children:["Application ID: ",e.jsx("strong",{className:"font-mono",children:u.data.application_id})]})]})]})]})}),d!==null&&e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("p",{className:"text-gray-600 mb-4",children:["Redirecting to login in ",e.jsx("strong",{className:"text-blue-600",children:d})," seconds..."]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-1000 ease-linear",style:{width:`${(5-d)/5*100}%`}})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{onClick:F,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Go to Login Now"}),e.jsx(G,{to:"/",className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors duration-200 text-center border border-gray-300",children:"Back to Home"})]})]})]})})}),!u.isSuccess&&e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Become a BuildEasy Supplier"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Join our marketplace and reach thousands of construction professionals"})]}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=1?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"} font-semibold transition-colors duration-200`,children:s>1?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"1"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 hidden sm:inline",children:"Business Info"})]}),e.jsx("div",{className:`w-16 h-1 ${s>=2?"bg-blue-600":"bg-gray-300"} transition-colors duration-200`}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=2?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"} font-semibold transition-colors duration-200`,children:s>2?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 hidden sm:inline",children:"Details"})]}),e.jsx("div",{className:`w-16 h-1 ${s>=3?"bg-blue-600":"bg-gray-300"} transition-colors duration-200`}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${s>=3?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"} font-semibold transition-colors duration-200`,children:"3"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 hidden sm:inline",children:"Account"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"px-6 sm:px-10 py-8",children:[i.general&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 mr-3 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("p",{className:"text-sm",children:i.general})]}),s===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Business Information"}),e.jsx("p",{className:"text-gray-600",children:"Tell us about your construction supply business"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"business_name",value:a.business_name,onChange:P=>g("business_name",P.target.value),placeholder:"e.g., Acme Building Supply Co.",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.business_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.business_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.business_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_registration_number",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Registration Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"business_registration_number",value:a.business_registration_number,onChange:P=>g("business_registration_number",P.target.value),placeholder:"e.g., EIN 12-3456789",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.business_registration_number?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.business_registration_number&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.business_registration_number]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_type",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Business Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"business_type",value:a.business_type,onChange:P=>g("business_type",P.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:border-blue-500 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"Corporation",children:"Corporation"}),e.jsx("option",{value:"LLC",children:"LLC (Limited Liability Company)"}),e.jsx("option",{value:"Partnership",children:"Partnership"}),e.jsx("option",{value:"Sole Proprietorship",children:"Sole Proprietorship"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"contact_person_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Contact Person Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"contact_person_name",value:a.contact_person_name,onChange:P=>g("contact_person_name",P.target.value),placeholder:"e.g., John Smith",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.contact_person_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.contact_person_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.contact_person_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",id:"email",value:a.email,onChange:P=>g("email",P.target.value),placeholder:"your.email@company.com",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"We recommend using a business email address"}),i.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.email]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone_number",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"phone_number",value:a.phone_number,onChange:P=>g("phone_number",P.target.value),placeholder:"(555) 123-4567",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.phone_number?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.phone_number&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.phone_number]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:S,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-[1.02]",children:"Continue"}),e.jsx(G,{to:"/register",className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors duration-200 text-center border border-gray-300",children:"Back"})]})]}),s===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Business Details"}),e.jsx("p",{className:"text-gray-600",children:"Provide your business location and description"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_address",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"business_address",value:a.business_address,onChange:P=>g("business_address",P.target.value),placeholder:"123 Main Street",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.business_address?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.business_address&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.business_address]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"city",className:"block text-sm font-semibold text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"city",value:a.city,onChange:P=>g("city",P.target.value),placeholder:"Austin",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.city?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.city&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.city]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"state",className:"block text-sm font-semibold text-gray-700 mb-2",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"state",value:a.state,onChange:P=>g("state",P.target.value),className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.state?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`,children:[e.jsx("option",{value:"",children:"Select a state..."}),VF.map(P=>e.jsx("option",{value:P.code,children:P.name},P.code))]}),i.state&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.state]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"postal_code",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Postal Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"postal_code",value:a.postal_code,onChange:P=>g("postal_code",P.target.value),placeholder:"78701",maxLength:10,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.postal_code?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.postal_code&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.postal_code]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"country",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country"}),e.jsx("input",{type:"text",id:"country",value:a.country,readOnly:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg bg-gray-50 text-gray-600 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_description",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Brief Business Description",e.jsx("span",{className:"text-gray-500 font-normal ml-2",children:"(Optional)"})]}),e.jsx("textarea",{id:"business_description",value:a.business_description,onChange:P=>{P.target.value.length<=200&&g("business_description",P.target.value)},placeholder:"Tell us about your business and what you specialize in...",rows:4,maxLength:200,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:border-blue-500 focus:ring-blue-100 transition-all duration-200 resize-none"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500 text-right",children:[a.business_description.length,"/200 characters"]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:w,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-[1.02]",children:"Continue"}),e.jsx("button",{type:"button",onClick:C,className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors duration-200 border border-gray-300",children:"Back"})]})]}),s===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Setup"}),e.jsx("p",{className:"text-gray-600",children:"Create your secure login credentials"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",id:"password",value:a.password,onChange:P=>g("password",P.target.value),placeholder:"Create a strong password",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),a.password&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Password strength:"}),e.jsx("span",{className:`text-sm font-semibold ${R===0?"text-red-600":R===1?"text-orange-600":R===2?"text-yellow-600":R===3?"text-blue-600":"text-green-600"}`,children:A(R)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${M(R)}`,style:{width:`${R/4*100}%`}})})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Password must contain:"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-xs ${a.password.length>=8?"text-green-600":"text-gray-500"}`,children:[a.password.length>=8?"":""," 8+ characters"]}),e.jsxs("span",{className:`text-xs ${/[A-Z]/.test(a.password)?"text-green-600":"text-gray-500"}`,children:[/[A-Z]/.test(a.password)?"":""," Uppercase"]}),e.jsxs("span",{className:`text-xs ${/[a-z]/.test(a.password)?"text-green-600":"text-gray-500"}`,children:[/[a-z]/.test(a.password)?"":""," Lowercase"]}),e.jsxs("span",{className:`text-xs ${/[0-9]/.test(a.password)?"text-green-600":"text-gray-500"}`,children:[/[0-9]/.test(a.password)?"":""," Number"]})]})]}),i.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.password]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"confirm_password",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Confirm Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"password",id:"confirm_password",value:a.confirm_password,onChange:P=>g("confirm_password",P.target.value),placeholder:"Re-enter your password",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 transition-all duration-200 ${i.confirm_password?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`}),i.confirm_password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.confirm_password]})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:P=>{c(P.target.checked),P.target.checked&&i.terms&&l(E=>{const z={...E};return delete z.terms,z})},className:"w-5 h-5 text-blue-600 border-2 border-gray-300 rounded focus:ring-4 focus:ring-blue-100 mt-0.5"}),e.jsxs("span",{className:"ml-3 text-sm text-gray-700 leading-relaxed",children:["I agree to the BuildEasy"," ",e.jsx(G,{to:"/terms",className:"text-blue-600 hover:text-blue-700 font-medium underline",target:"_blank",children:"Supplier Agreement"}),","," ",e.jsx(G,{to:"/terms",className:"text-blue-600 hover:text-blue-700 font-medium underline",target:"_blank",children:"Terms of Service"}),", and"," ",e.jsx(G,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 font-medium underline",target:"_blank",children:"Privacy Policy"}),e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]}),i.terms&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center ml-8",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.terms]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6",children:[e.jsx("button",{type:"button",onClick:$,disabled:u.isPending,className:"flex-1 bg-blue-600 text-white px-6 py-4 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center",children:u.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Application..."]}):"Submit Application"}),e.jsx("button",{type:"button",onClick:_,disabled:u.isPending,className:"flex-1 bg-gray-100 text-gray-700 px-6 py-4 rounded-lg font-semibold hover:bg-gray-200 transition-colors duration-200 border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"})]})]})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",e.jsx(G,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-semibold underline",children:"Sign in instead"})]})})]})})]})},KF=()=>{const t=Xe(),[s]=Ie(),r=ae(P=>P.authentication_state.authentication_status.is_authenticated),a=ae(P=>P.authentication_state.authentication_status.is_loading),n=ae(P=>P.authentication_state.error_message),i=ae(P=>P.authentication_state.authentication_status.user_type),l=ae(P=>P.login_user),o=ae(P=>P.clear_auth_error),[c,d]=k.useState(""),[m,u]=k.useState(""),[x,h]=k.useState(!1),[f,p]=k.useState(!1),[N,y]=k.useState({email:null,password:null}),j=s.get("redirect_url"),g=s.get("email");k.useEffect(()=>{g&&d(g)},[g]),k.useEffect(()=>{r&&(j&&S(j)?t(j,{replace:!0}):i==="customer"?t("/dashboard",{replace:!0}):i==="supplier"?t("/supplier/dashboard",{replace:!0}):i==="admin"?t("/admin",{replace:!0}):t("/",{replace:!0}))},[r,i,t,j]);const S=P=>P?P.startsWith("/")&&!P.includes("://"):!1,w=P=>P.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(P)?null:"Please enter a valid email address":"Email address is required",C=P=>P?P.length<8?"Password must be at least 8 characters":null:"Password is required",_=P=>{const E=P.target.value;d(E),N.email&&y(z=>({...z,email:null})),n&&o()},$=P=>{const E=P.target.value;u(E),N.password&&y(z=>({...z,password:null})),n&&o()},F=()=>{const P=w(c);y(E=>({...E,email:P}))},T=()=>{const P=C(m);y(E=>({...E,password:P}))},R=async P=>{P.preventDefault(),o();const E=w(c),z=C(m);if(E||z){y({email:E,password:z});return}y({email:null,password:null});try{await l(c.toLowerCase().trim(),m)}catch(O){console.error("Login error:",O)}},A=()=>{p(!f)},M=()=>{const P=c?`?email=${encodeURIComponent(c)}`:"";t(`/forgot-password${P}`)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 pt-8 pb-6 bg-gradient-to-r from-blue-600 to-indigo-600",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Sign in to access your BuildEasy account"})]})}),e.jsxs("div",{className:"px-8 py-8",children:[n&&e.jsxs("div",{className:"mb-6 bg-red-50 border-2 border-red-200 rounded-lg p-4 flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsx("div",{children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:n})})]}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Kt,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:c,onChange:_,onBlur:F,disabled:a,placeholder:"you@example.com",className:`
                        block w-full pl-10 pr-4 py-3 
                        border-2 rounded-lg
                        text-gray-900 placeholder-gray-400
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${N.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                      `})]}),N.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),N.email]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("button",{type:"button",onClick:M,className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Pd,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:f?"text":"password",autoComplete:"current-password",required:!0,value:m,onChange:$,onBlur:T,disabled:a,placeholder:"Enter your password",className:`
                        block w-full pl-10 pr-12 py-3 
                        border-2 rounded-lg
                        text-gray-900 placeholder-gray-400
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        disabled:opacity-50 disabled:cursor-not-allowed
                        ${N.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                      `}),e.jsx("button",{type:"button",onClick:A,disabled:a,className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:opacity-70 transition-opacity disabled:opacity-50","aria-label":f?"Hide password":"Show password",children:f?e.jsx(xo,{className:"h-5 w-5 text-gray-400"}):e.jsx(Lt,{className:"h-5 w-5 text-gray-400"})})]}),N.password&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),N.password]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:x,onChange:P=>h(P.target.checked),disabled:a,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 cursor-pointer",children:"Keep me signed in for 7 days"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:a,className:`
                      w-full flex justify-center items-center
                      px-6 py-3 rounded-lg
                      bg-blue-600 hover:bg-blue-700
                      text-white font-medium
                      shadow-lg hover:shadow-xl
                      transition-all duration-200
                      focus:outline-none focus:ring-4 focus:ring-blue-100
                      disabled:opacity-50 disabled:cursor-not-allowed
                    `,children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"New to BuildEasy?"})})]})}),e.jsx("div",{className:"mt-6",children:e.jsx(G,{to:"/register",className:`
                    w-full flex justify-center items-center
                    px-6 py-3 rounded-lg
                    bg-gray-100 hover:bg-gray-200
                    text-gray-900 font-medium
                    border-2 border-gray-300
                    transition-all duration-200
                    focus:outline-none focus:ring-4 focus:ring-gray-100
                  `,children:"Create an Account"})}),e.jsxs("div",{className:"mt-8 text-center space-y-2",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["Need help?"," ",e.jsx(G,{to:"/help",className:"text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Visit our Help Center"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["By signing in, you agree to our"," ",e.jsx(G,{to:"/terms",className:"text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Terms of Service"})," ","and"," ",e.jsx(G,{to:"/privacy",className:"text-blue-600 hover:text-blue-500 font-medium transition-colors",children:"Privacy Policy"})]})]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("div",{className:"inline-flex items-center bg-white rounded-full px-4 py-2 shadow-md border border-gray-100",children:[e.jsx("svg",{className:"h-4 w-4 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Secure Login  256-bit Encryption"})]})})]})})})},GF=()=>{const[t,s]=k.useState(""),[r,a]=k.useState(!1),[n,i]=k.useState(null),[l,o]=k.useState(null),[c,d]=k.useState(!1),m=f=>f?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f)?(i(null),!0):(i("Please enter a valid email address"),!1):(i("Email address is required"),!1),u=async f=>{var p,N;if(f.preventDefault(),i(null),o(null),!!m(t)){a(!0);try{const y=await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/auth/forgot-password",{email:t.toLowerCase().trim()},{headers:{"Content-Type":"application/json"}});d(!0),o(y.data.message||"Password reset email sent successfully"),s("")}catch(y){(N=(p=y.response)==null?void 0:p.data)!=null&&N.message?i(y.response.data.message):y.message==="Network Error"?i("Connection error. Please check your internet connection."):i("Failed to send reset email. Please try again.")}finally{a(!1)}}},x=f=>{s(f.target.value),n&&i(null)},h=()=>{t&&m(t)};return k.useEffect(()=>{const f=document.getElementById("email-input");f&&f.focus()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(G,{to:"/login",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200",children:[e.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Back to Login"]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 py-10",children:c?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto h-20 w-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(fe,{className:"h-12 w-12 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Check Your Email"}),e.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:"We've sent a password reset link to your email address."})]}),l&&e.jsx("div",{className:"mb-6 bg-green-50 border-2 border-green-200 text-green-700 px-4 py-3 rounded-lg",role:"alert","aria-live":"polite",children:e.jsx("p",{className:"text-sm font-medium",children:l})}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"What's next?"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-2 list-decimal list-inside",children:[e.jsx("li",{children:"Check your email inbox for the reset link"}),e.jsx("li",{children:"Click the link in the email (valid for 1 hour)"}),e.jsx("li",{children:"Create your new password"}),e.jsx("li",{children:"Sign in with your new password"})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{className:"font-semibold",children:"Didn't receive the email?"}),e.jsx("br",{}),"Check your spam or junk folder. If you still don't see it, you can try requesting another reset link."]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(G,{to:"/login",className:`
                        w-full inline-flex items-center justify-center
                        px-6 py-3 rounded-lg font-medium text-white
                        bg-blue-600 hover:bg-blue-700
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        shadow-lg hover:shadow-xl
                      `,children:"Back to Login"}),e.jsx("button",{type:"button",onClick:()=>{d(!1),o(null),i(null)},className:`
                        w-full px-6 py-3 rounded-lg font-medium
                        bg-gray-100 hover:bg-gray-200 text-gray-900
                        border border-gray-300
                        focus:outline-none focus:ring-4 focus:ring-gray-100
                        transition-all duration-200
                      `,children:"Send Another Reset Link"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(Kt,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"No worries! Enter your email address and we'll send you a secure link to reset your password."})]}),n&&e.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-lg",role:"alert","aria-live":"polite",children:e.jsx("p",{className:"text-sm font-medium",children:n})}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email-input",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:x,onBlur:h,placeholder:"Enter your email address",disabled:r,className:`
                          w-full px-4 py-3 rounded-lg border-2 
                          focus:outline-none focus:ring-4 focus:ring-blue-100
                          transition-all duration-200
                          ${n?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                          ${r?"bg-gray-50 cursor-not-allowed":"bg-white"}
                        `,"aria-invalid":n?"true":"false","aria-describedby":n?"email-error":void 0})]}),e.jsx("button",{type:"submit",disabled:r||!t,className:`
                        w-full px-6 py-3 rounded-lg font-medium text-white
                        bg-blue-600 hover:bg-blue-700
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        disabled:opacity-50 disabled:cursor-not-allowed
                        shadow-lg hover:shadow-xl
                      `,children:r?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Link..."]}):"Send Reset Link"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-700 leading-relaxed",children:[e.jsx("strong",{className:"font-semibold",children:"Security Note:"})," For your protection, the reset link will expire in 1 hour. If you don't receive an email, please check your spam folder."]})})]})}),!c&&e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-100",children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(G,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:"Sign in instead"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(G,{to:"/support",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Need help? Contact Support"})})]})})})},YF=t=>{if(!t)return 0;if(t.length<8)return 1;let s=2;const r=/[A-Z]/.test(t),a=/[a-z]/.test(t),n=/\d/.test(t),i=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t);return(r||a)&&n&&(s=3),r&&a&&n&&i&&(s=4),s},QF=t=>{switch(t){case 0:return"";case 1:return"Weak";case 2:return"Fair";case 3:return"Good";case 4:return"Strong";default:return""}},XF=t=>{switch(t){case 1:return"bg-red-500";case 2:return"bg-yellow-500";case 3:return"bg-blue-500";case 4:return"bg-green-500";default:return"bg-gray-200"}},ZF=t=>[{label:"At least 8 characters",met:t.length>=8},{label:"Contains uppercase letter",met:/[A-Z]/.test(t)},{label:"Contains lowercase letter",met:/[a-z]/.test(t)},{label:"Contains number",met:/\d/.test(t)},{label:"Contains special character (!@#$%^&*)",met:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)}],JF=()=>{const t=Xe(),[s]=Ie(),[r]=k.useState(s.get("reset_token")||s.get("token")||""),[a]=k.useState(s.get("email")||""),[n,i]=k.useState(""),[l,o]=k.useState(""),[c,d]=k.useState(null),[m,u]=k.useState(0),[x,h]=k.useState(!0),[f,p]=k.useState(!1),[N,y]=k.useState(!1),[j,g]=k.useState(!1),[S,w]=k.useState([]),C=ue({mutationFn:async A=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/auth/reset-password",A)).data,onSuccess:A=>{p(!0),d(null),setTimeout(()=>{t("/login",{state:{message:"Password reset successfully. Please sign in with your new password."}})},3e3)},onError:A=>{var M,P,E;if(H.isAxiosError(A)){const z=((P=(M=A.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to reset password. Please try again.";d(z),((E=A.response)==null?void 0:E.status)===400&&h(!1)}else d("An unexpected error occurred. Please try again.")}}),_=C.isPending;k.useEffect(()=>{r||(h(!1),d("Invalid or missing reset token. Please request a new password reset link."))},[r]),k.useEffect(()=>{const A=YF(n);u(A);const M=ZF(n);w(M),c&&d(null)},[n]);const F=l?n===l:!0,T=()=>x&&n.length>0&&l.length>0&&F&&m>=3&&!_,R=async A=>{if(A.preventDefault(),d(null),!r){d("Invalid reset token. Please request a new password reset link.");return}if(n.length<8){d("Password must be at least 8 characters long.");return}if(!F){d("Passwords do not match.");return}if(m<3){d("Please choose a stronger password.");return}C.mutate({token:r,new_password:n})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-8 pt-8 pb-6 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:f?e.jsx(fe,{className:"w-8 h-8 text-green-600"}):x?e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}):e.jsx(rt,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:f?"Password Reset!":x?"Reset Your Password":"Invalid Token"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:f?"Your password has been successfully reset.":x?"Choose a strong password for your account.":"This reset link is invalid or has expired."})]}),f&&e.jsxs("div",{className:"px-8 pb-8",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-800 text-sm font-medium",children:"Password Changed Successfully"}),e.jsx("p",{className:"text-green-700 text-sm mt-1",children:"You can now sign in with your new password."})]})]})}),e.jsx(G,{to:"/login",className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:"Sign In Now"}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:"Redirecting to login in 3 seconds..."})]}),!f&&!x&&e.jsxs("div",{className:"px-8 pb-8",children:[e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(rt,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Reset Link Invalid"}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:"This password reset link is invalid or has expired. Links expire after 1 hour."})]})]})}),e.jsx(G,{to:"/forgot-password",className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:"Request New Reset Link"}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(G,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:" Back to Sign In"})})]}),!f&&x&&e.jsxs("form",{onSubmit:R,className:"px-8 pb-8",children:[a&&e.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Resetting password for:"})," ",a]})}),c&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsx("p",{className:"text-red-800 text-sm",children:c})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"new_password",name:"new_password",type:N?"text":"password",required:!0,value:n,onChange:A=>i(A.target.value),className:"block w-full px-4 py-3 border-2 border-gray-200 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",placeholder:"Enter new password",disabled:_}),e.jsx("button",{type:"button",onClick:()=>y(!N),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",tabIndex:-1,children:N?e.jsx(xo,{className:"w-5 h-5"}):e.jsx(Lt,{className:"w-5 h-5"})})]}),n&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Password strength:"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:QF(m)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${XF(m)}`,style:{width:`${m/4*100}%`}})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirm_password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirm_password",name:"confirm_password",type:j?"text":"password",required:!0,value:l,onChange:A=>o(A.target.value),className:`block w-full px-4 py-3 border-2 rounded-lg text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-4 transition-all duration-200 ${l&&!F?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"}`,placeholder:"Re-enter new password",disabled:_}),e.jsx("button",{type:"button",onClick:()=>g(!j),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",tabIndex:-1,children:j?e.jsx(xo,{className:"w-5 h-5"}):e.jsx(Lt,{className:"w-5 h-5"})})]}),l&&e.jsx("div",{className:"mt-2",children:F?e.jsxs("p",{className:"text-sm text-green-600 flex items-center",children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"Passwords match"]}):e.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[e.jsx(rt,{className:"w-4 h-4 mr-1"}),"Passwords do not match"]})})]}),n&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-3",children:"Password Requirements:"}),e.jsx("div",{className:"space-y-2",children:S.map((A,M)=>e.jsxs("div",{className:"flex items-center",children:[A.met?e.jsx(fe,{className:"w-4 h-4 text-green-600 mr-2 flex-shrink-0"}):e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 rounded-full mr-2 flex-shrink-0"}),e.jsx("span",{className:`text-xs ${A.met?"text-green-700 font-medium":"text-gray-600"}`,children:A.label})]},M))})]}),e.jsx("button",{type:"submit",disabled:!T(),className:"w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:_?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting Password..."]}):"Reset Password"}),e.jsx("div",{className:"text-center",children:e.jsx(G,{to:"/login",className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:" Back to Sign In"})})]})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:"For security reasons, password reset links expire after 1 hour. If your link has expired, please request a new one."})})]})})})},eR=()=>{const t=Xe(),s=ae(D=>D.authentication_state.current_user),r=ae(D=>D.authentication_state.auth_token),a=ae(D=>D.authentication_state.customer_profile);k.useEffect(()=>{a!=null&&a.onboarding_completed&&t("/dashboard",{replace:!0})},[a,t]);const[n,i]=k.useState(!0),[l,o]=k.useState(1),c=3,[d,m]=k.useState({street_address:"",city:"",state:"",postal_code:"",latitude:null,longitude:null}),[u,x]=k.useState([]),[h,f]=k.useState({email:!0,sms:!0,push:!0,order_updates:!0,promotions:!0}),[p,N]=k.useState(null),[y,j]=k.useState(null),[g,S]=k.useState({}),{data:w,isLoading:C}=ie({queryKey:["categories","active"],queryFn:async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories",{params:{is_active:!0,limit:100}})).data,enabled:l===2||l===3,staleTime:3e5,retry:1,refetchOnWindowFocus:!1}),_=w||[],$=ue({mutationFn:async D=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/addresses",D,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,onSuccess:D=>{N(D.address_id),j(null),S({}),o(2)},onError:D=>{var q,B;const U=((B=(q=D.response)==null?void 0:q.data)==null?void 0:B.message)||"Failed to save delivery address. Please try again.";j(U)}}),F=ue({mutationFn:async D=>(await H.patch("https://123create-construction-app-with-a.launchpulse.ai/api/customers/me",D,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{setTimeout(()=>{t("/dashboard",{replace:!0})},1e3)},onError:D=>{var q,B;const U=((B=(q=D.response)==null?void 0:q.data)==null?void 0:B.message)||"Failed to save preferences. Please try again.";j(U)}}),T=()=>{const D={};return d.street_address.trim()||(D.street_address="Street address is required"),d.city.trim()||(D.city="City is required"),d.state.trim()||(D.state="State is required"),d.postal_code.trim()?/^\d{5}(-\d{4})?$/.test(d.postal_code)||(D.postal_code="Invalid postal code format"):D.postal_code="Postal code is required",S(D),Object.keys(D).length===0},R=()=>{i(!1),o(1)},A=()=>{if(j(null),S({}),l===1){if(!T())return;const D={label:"Home",full_name:`${(s==null?void 0:s.first_name)||""} ${(s==null?void 0:s.last_name)||""}`.trim()||"Customer",phone_number:(s==null?void 0:s.phone_number)||"",street_address:d.street_address,city:d.city,state:d.state,postal_code:d.postal_code,country:"USA",is_default:!0,address_type:"residential",latitude:null,longitude:null};$.mutate(D)}else l===2&&o(3)},M=()=>{j(null),S({}),l>1&&o(l-1)},P=()=>{j(null);const D={preferred_categories:u.length>0?u:void 0,notification_preferences:h,onboarding_completed:!0,default_delivery_address_id:p||void 0};F.mutate(D)},E=()=>{const D={onboarding_completed:!0};F.mutate(D)},z=D=>{x(U=>U.includes(D)?U.filter(q=>q!==D):[...U,D])},O=D=>{f(U=>({...U,[D]:!U[D]}))},b=$.isPending||F.isPending,L=F.isSuccess;if(n)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12",children:e.jsx("div",{className:"max-w-4xl w-full bg-white rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"px-8 py-12 sm:px-12 sm:py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-blue-100 rounded-full mb-6",children:e.jsx(fe,{className:"w-12 h-12 text-blue-600"})}),e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Welcome to BuildEasy, ",(s==null?void 0:s.first_name)||"there","!"]}),e.jsx("p",{className:"text-xl text-gray-600",children:"Let's set up your account to give you the best experience"})]}),e.jsxs("div",{className:"grid gap-6 mb-12",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Real-time inventory from 100+ suppliers"}),e.jsx("p",{className:"text-gray-600",children:"See exact stock levels and availability instantly"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Transparent pricing, compare instantly"}),e.jsx("p",{className:"text-gray-600",children:"Find the best deals across multiple suppliers"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Reliable delivery tracking"}),e.jsx("p",{className:"text-gray-600",children:"Track your orders in real-time from warehouse to job site"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Secure payments, multiple options"}),e.jsx("p",{className:"text-gray-600",children:"Pay with credit cards, trade credit, or digital wallets"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsxs("button",{onClick:R,className:"w-full sm:w-auto px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold text-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:["Get Started",e.jsx(cr,{className:"w-5 h-5"})]}),e.jsx("button",{onClick:E,disabled:b,className:"w-full sm:w-auto px-8 py-4 bg-gray-100 text-gray-700 rounded-lg font-medium text-lg hover:bg-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for now"})]})]})})})});if(L)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl overflow-hidden text-center px-8 py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-green-100 rounded-full mb-6",children:e.jsx(fe,{className:"w-16 h-16 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"You're all set! "}),e.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"Your account is ready. Let's start building!"}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-8 text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Start Tips:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700",children:"Start searching for construction materials"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700",children:"Compare prices across suppliers instantly"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qe,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),e.jsx("p",{className:"text-gray-700",children:"Track every delivery in real-time"})]})]})]}),e.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:"Redirecting to dashboard..."})]})})});const v=l/c*100;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-3xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-6 py-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Account Setup"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Step ",l," of ",c]})]}),e.jsx("button",{onClick:E,disabled:b,className:"text-sm text-gray-500 hover:text-gray-700 font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Skip for now"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${v}%`}})})]}),y&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg px-6 py-4 mb-6 flex items-start gap-3",children:[e.jsx(be,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:y})}),e.jsx("button",{onClick:()=>j(null),className:"text-red-500 hover:text-red-700 transition-colors",children:e.jsx(be,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg px-8 py-10",children:[l===1&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx(fs,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Where should we deliver?"}),e.jsx("p",{className:"text-gray-600",children:"Set your default delivery address to see accurate availability and delivery times"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"street_address",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Street Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"street_address",type:"text",value:d.street_address,onChange:D=>{m(U=>({...U,street_address:D.target.value})),S(U=>({...U,street_address:""}))},placeholder:"123 Construction Blvd",className:`w-full px-4 py-3 rounded-lg border-2 ${g.street_address?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all duration-200`}),g.street_address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.street_address})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"city",className:"block text-sm font-semibold text-gray-700 mb-2",children:["City ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"city",type:"text",value:d.city,onChange:D=>{m(U=>({...U,city:D.target.value})),S(U=>({...U,city:""}))},placeholder:"Austin",className:`w-full px-4 py-3 rounded-lg border-2 ${g.city?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all duration-200`}),g.city&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.city})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"state",className:"block text-sm font-semibold text-gray-700 mb-2",children:["State ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"state",value:d.state,onChange:D=>{m(U=>({...U,state:D.target.value})),S(U=>({...U,state:""}))},className:`w-full px-4 py-3 rounded-lg border-2 ${g.state?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all duration-200 bg-white`,children:[e.jsx("option",{value:"",children:"Select State"}),e.jsx("option",{value:"TX",children:"Texas"}),e.jsx("option",{value:"CA",children:"California"}),e.jsx("option",{value:"NY",children:"New York"}),e.jsx("option",{value:"FL",children:"Florida"}),e.jsx("option",{value:"IL",children:"Illinois"}),e.jsx("option",{value:"PA",children:"Pennsylvania"}),e.jsx("option",{value:"OH",children:"Ohio"}),e.jsx("option",{value:"GA",children:"Georgia"})]}),g.state&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.state})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"postal_code",className:"block text-sm font-semibold text-gray-700 mb-2",children:["Postal Code ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"postal_code",type:"text",value:d.postal_code,onChange:D=>{m(U=>({...U,postal_code:D.target.value})),S(U=>({...U,postal_code:""}))},placeholder:"78701",maxLength:10,className:`w-full px-4 py-3 rounded-lg border-2 ${g.postal_code?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all duration-200`}),g.postal_code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.postal_code})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-4 py-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"save_default",type:"checkbox",checked:!0,disabled:!0,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"save_default",className:"ml-3 text-sm text-gray-700",children:"Save as my default delivery address"})]})})]})]}),l===2&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx(jh,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"What do you typically need?"}),e.jsx("p",{className:"text-gray-600",children:"Select categories to personalize your experience (select all that apply)"})]}),C?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):_.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:_.slice(0,12).map(D=>{const U=u.includes(D.category_id);return e.jsxs("button",{type:"button",onClick:()=>z(D.category_id),className:`relative p-6 rounded-xl border-2 transition-all duration-200 ${U?"border-blue-600 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-sm"}`,children:[U&&e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[D.icon_url?e.jsx("img",{src:D.icon_url,alt:D.category_name,className:"w-12 h-12 object-contain"}):e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx(jh,{className:"w-6 h-6 text-gray-400"})}),e.jsx("p",{className:`text-sm font-medium ${U?"text-blue-900":"text-gray-900"}`,children:D.category_name})]})]},D.category_id)})}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No categories available. You can skip this step."})}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-4 py-3",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:[e.jsx("strong",{children:u.length})," ",u.length===1?"category":"categories"," selected"]})})]}),l===3&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mb-4",children:e.jsx(Fs,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stay updated on your orders"}),e.jsx("p",{className:"text-gray-600",children:"Choose how you'd like to receive notifications"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:"Order Updates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about order status changes and delivery updates"})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email + SMS"}),e.jsx("button",{type:"button",role:"switch","aria-checked":h.order_updates,onClick:()=>O("order_updates"),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h.order_updates?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${h.order_updates?"translate-x-5":"translate-x-0"}`})})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:"Delivery Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"SMS alerts when your delivery is approaching"})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"SMS"}),e.jsx("button",{type:"button",role:"switch","aria-checked":h.sms,onClick:()=>O("sms"),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h.sms?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${h.sms?"translate-x-5":"translate-x-0"}`})})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:"Price Drop Alerts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Email notifications when items in your wishlist go on sale"})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("button",{type:"button",role:"switch","aria-checked":h.email,onClick:()=>O("email"),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h.email?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${h.email?"translate-x-5":"translate-x-0"}`})})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:"Weekly Deals"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get exclusive deals and offers delivered to your inbox"})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("button",{type:"button",role:"switch","aria-checked":h.promotions,onClick:()=>O("promotions"),className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${h.promotions?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${h.promotions?"translate-x-5":"translate-x-0"}`})})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-10 pt-6 border-t border-gray-200",children:[e.jsxs("button",{type:"button",onClick:M,disabled:l===1||b,className:"flex items-center gap-2 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Ya,{className:"w-5 h-5"}),"Back"]}),l<c?e.jsx("button",{type:"button",onClick:A,disabled:b,className:"flex items-center gap-2 px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:["Continue",e.jsx(cr,{className:"w-5 h-5"})]})}):e.jsx("button",{type:"button",onClick:P,disabled:b,className:"flex items-center gap-2 px-8 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:b?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Completing..."]}):e.jsxs(e.Fragment,{children:["Complete Setup",e.jsx(fe,{className:"w-5 h-5"})]})})]})]})]})})})},Gx="https://123create-construction-app-with-a.launchpulse.ai/api",tR=async t=>((await H.get(`${Gx}/orders`,{headers:{Authorization:`Bearer ${t}`},params:{status_filter:"pending,processing,shipped,in_transit",limit:3,sort_by:"order_date",sort_order:"desc"}})).data.orders||[]).map(a=>{var n,i,l,o,c,d,m,u;return{order_id:a.order_id,order_number:a.order_number,order_date:a.order_date,status:a.status,total_amount:Number(a.total_amount||0),delivery_status:((n=a.delivery)==null?void 0:n.delivery_status)||"unknown",estimated_delivery:((i=a.delivery)==null?void 0:i.delivery_window_end)||null,primary_product:{product_name:((o=(l=a.items)==null?void 0:l[0])==null?void 0:o.product_name)||"N/A",product_id:((d=(c=a.items)==null?void 0:c[0])==null?void 0:d.product_id)||"",thumbnail_url:((u=(m=a.items)==null?void 0:m[0])==null?void 0:u.primary_image_url)||"/placeholder-product.png"}}}),sR=async t=>(await H.get(`${Gx}/products`,{headers:{Authorization:`Bearer ${t}`},params:{limit:12,sort_by:"sales_count",sort_order:"desc",in_stock_only:!0}})).data.products||[],rR=async t=>((await H.get(`${Gx}/wishlist`,{headers:{Authorization:`Bearer ${t}`}})).data||[]).length,aR=async t=>((await H.get(`${Gx}/projects`,{headers:{Authorization:`Bearer ${t}`}})).data||[]).length,T0=t=>{const s=new Date(t),a=new Date().getTime()-s.getTime(),n=Math.floor(a/(1e3*60*60*24));return n===0?"Today":n===1?"Yesterday":n<7?`${n} days ago`:s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},kc=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),nR=t=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",in_transit:"bg-indigo-100 text-indigo-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[t]||"bg-gray-100 text-gray-800",iR=()=>{var y;const t=ae(j=>j.authentication_state.current_user),s=ae(j=>j.authentication_state.customer_profile),r=ae(j=>j.authentication_state.auth_token),a=ae(j=>j.cart_state.total_items),{data:n=[],isLoading:i,error:l,refetch:o}=ie({queryKey:["active-orders",{limit:3}],queryFn:()=>tR(r),enabled:!!r,staleTime:6e4,retry:1,refetchOnWindowFocus:!1}),{data:c=[],isLoading:d,error:m}=ie({queryKey:["recommended-products",{limit:12}],queryFn:()=>sR(r),enabled:!!r,staleTime:6e4,retry:1,refetchOnWindowFocus:!1}),{data:u=0,isLoading:x}=ie({queryKey:["wishlist-count"],queryFn:()=>rR(r),enabled:!!r,staleTime:6e4,retry:1,refetchOnWindowFocus:!1}),{data:h=0,isLoading:f}=ie({queryKey:["projects-count"],queryFn:()=>aR(r),enabled:!!r,staleTime:6e4,retry:1,refetchOnWindowFocus:!1}),p=n.filter(j=>["scheduled","out_for_delivery","preparing"].includes(j.delivery_status)).map(j=>({delivery_id:`del_${j.order_id}`,order_id:j.order_id,order_number:j.order_number,supplier_name:"Supplier",delivery_window_start:j.estimated_delivery||"",delivery_window_end:j.estimated_delivery||"",delivery_status:j.delivery_status})).slice(0,1),N={spending_this_month:n.reduce((j,g)=>j+g.total_amount,0),orders_this_month:n.length,trade_credit_available:(s==null?void 0:s.trade_credit_balance)||null,trade_credit_limit:(s==null?void 0:s.trade_credit_limit)||null};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[t!=null&&t.profile_photo_url?e.jsx("img",{src:t.profile_photo_url,alt:`${t.first_name} ${t.last_name}`,className:"h-16 w-16 rounded-full object-cover border-2 border-blue-200"}):e.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-600 flex items-center justify-center text-white text-2xl font-bold",children:((y=t==null?void 0:t.first_name)==null?void 0:y.charAt(0))||"U"}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:["Welcome back, ",(t==null?void 0:t.first_name)||"Customer","!"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),(s==null?void 0:s.account_type)==="trade"&&e.jsx("div",{className:"hidden md:block",children:e.jsxs("span",{className:"inline-flex items-center px-4 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold text-sm shadow-lg",children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Trade Account"]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(G,{to:"/products",className:"flex flex-col items-center justify-center p-6 rounded-lg border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 group",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center mb-3 group-hover:bg-blue-600 transition-colors",children:e.jsx(ut,{className:"h-6 w-6 text-blue-600 group-hover:text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 text-center",children:"Search Products"})]}),e.jsxs("button",{onClick:()=>{n.length>0&&alert("Reorder functionality coming soon")},disabled:n.length===0,className:"flex flex-col items-center justify-center p-6 rounded-lg border-2 border-gray-200 hover:border-green-500 hover:bg-green-50 transition-all duration-200 group disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:border-gray-200 disabled:hover:bg-white",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center mb-3 group-hover:bg-green-600 transition-colors",children:e.jsx(Ht,{className:"h-6 w-6 text-green-600 group-hover:text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-900 text-center",children:"Reorder Last"})]}),e.jsxs(G,{to:"/wishlist",className:"flex flex-col items-center justify-center p-6 rounded-lg border-2 border-gray-200 hover:border-red-500 hover:bg-red-50 transition-all duration-200 group relative",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center mb-3 group-hover:bg-red-600 transition-colors",children:e.jsx(Cu,{className:"h-6 w-6 text-red-600 group-hover:text-white"})}),u>0&&e.jsx("span",{className:"absolute top-2 right-2 bg-red-600 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:u}),e.jsx("span",{className:"text-sm font-medium text-gray-900 text-center",children:"Saved Items"})]}),e.jsxs(G,{to:"/projects",className:"flex flex-col items-center justify-center p-6 rounded-lg border-2 border-gray-200 hover:border-purple-500 hover:bg-purple-50 transition-all duration-200 group relative",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center mb-3 group-hover:bg-purple-600 transition-colors",children:e.jsx(Rf,{className:"h-6 w-6 text-purple-600 group-hover:text-white"})}),h>0&&e.jsx("span",{className:"absolute top-2 right-2 bg-purple-600 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:h}),e.jsx("span",{className:"text-sm font-medium text-gray-900 text-center",children:"My Projects"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Active Orders"}),e.jsxs(G,{to:"/orders",className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center transition-colors",children:["View All",e.jsx(Qe,{className:"h-4 w-4 ml-1"})]})]}),i&&e.jsx("div",{className:"space-y-4",children:[1,2,3].map(j=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 animate-pulse",children:e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("div",{className:"bg-gray-200 h-20 w-20 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"bg-gray-200 h-4 w-1/3 rounded"}),e.jsx("div",{className:"bg-gray-200 h-3 w-1/2 rounded"}),e.jsx("div",{className:"bg-gray-200 h-3 w-1/4 rounded"})]})]})},j))}),l&&!i&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-800 font-medium",children:"Failed to load orders"}),e.jsxs("button",{onClick:()=>o(),className:"text-red-600 hover:text-red-700 text-sm font-medium mt-2 flex items-center",children:[e.jsx(Ht,{className:"h-4 w-4 mr-1"}),"Try again"]})]})]})}),!i&&!l&&n.length>0&&e.jsx("div",{className:"space-y-4",children:n.map(j=>e.jsx(G,{to:`/orders/${j.order_id}`,className:"block border border-gray-200 rounded-lg p-4 hover:border-blue-500 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("img",{src:j.primary_product.thumbnail_url,alt:j.primary_product.product_name,className:"h-20 w-20 rounded-lg object-cover border border-gray-200",onError:g=>{const S=g.target;S.src="/placeholder-product.png"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-600",children:["Order #",j.order_number]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${nR(j.status)}`,children:j.status.replace("_"," ")})]}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 truncate mb-1",children:j.primary_product.product_name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T0(j.order_date)}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:kc(j.total_amount)}),j.estimated_delivery&&e.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:["Arriving ",T0(j.estimated_delivery)]})]})]})]})},j.order_id))}),!i&&!l&&n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Se,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No active orders"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to place your first order"}),e.jsxs(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:[e.jsx(ut,{className:"h-5 w-5 mr-2"}),"Browse Products"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recommended For You"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Based on your preferences"})]}),d&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(j=>e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"bg-gray-200 h-48 rounded-lg mb-2"}),e.jsx("div",{className:"bg-gray-200 h-4 w-3/4 rounded mb-2"}),e.jsx("div",{className:"bg-gray-200 h-3 w-1/2 rounded"})]},j))}),m&&!d&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-800 text-sm",children:"Unable to load recommendations"})}),!d&&!m&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c.slice(0,8).map(j=>e.jsx(G,{to:`/product/${j.product_id}`,className:"group",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-xl hover:border-blue-500 transition-all duration-200",children:[e.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[e.jsx("img",{src:j.primary_image_url||"/placeholder-product.png",alt:j.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200",onError:g=>{const S=g.target;S.src="/placeholder-product.png"}}),j.stock_quantity>0&&j.stock_quantity<=10&&e.jsx("span",{className:"absolute top-2 right-2 bg-amber-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Low Stock"})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 truncate mb-1 group-hover:text-blue-600",children:j.product_name}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:kc(Number(j.price_per_unit||0))}),j.stock_quantity>0?e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"In Stock"}):e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Out of Stock"})]})]})},j.product_id))}),c.length>8&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(G,{to:"/products",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium transition-colors",children:["See All Recommendations",e.jsx(cr,{className:"h-4 w-4 ml-1"})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ft,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Activity tracking coming soon"})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-xl shadow-lg p-6 text-white",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[e.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Account Summary"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 backdrop-blur-sm",children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Spending This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:kc(N.spending_this_month)})]}),e.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 backdrop-blur-sm",children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Orders This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:N.orders_this_month})]}),N.trade_credit_limit&&e.jsxs("div",{className:"bg-white bg-opacity-10 rounded-lg p-4 backdrop-blur-sm",children:[e.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Available Credit"}),e.jsx("p",{className:"text-2xl font-bold",children:kc(N.trade_credit_available||0)}),e.jsxs("p",{className:"text-blue-100 text-xs mt-1",children:["of ",kc(N.trade_credit_limit)," limit"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Se,{className:"h-5 w-5 mr-2 text-blue-600"}),"Upcoming Deliveries"]}),p.length>0?e.jsx("div",{className:"space-y-4",children:p.map(j=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-500 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Order #",j.order_number]}),e.jsx("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:j.delivery_status})]}),j.delivery_window_end&&e.jsxs("div",{className:"flex items-center text-gray-900 mb-2",children:[e.jsx(Ft,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:T0(j.delivery_window_end)})]}),e.jsxs(G,{to:`/orders/${j.order_id}`,className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center mt-3",children:["Track Order",e.jsx(cr,{className:"h-4 w-4 ml-1"})]})]},j.delivery_id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Se,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"No scheduled deliveries"})]})]}),a>0&&e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(sS,{className:"h-6 w-6 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Cart"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[a," items waiting"]})]})]})}),e.jsx(G,{to:"/cart",className:"block w-full bg-green-600 text-white text-center py-3 rounded-lg font-semibold hover:bg-green-700 transition-colors shadow-lg hover:shadow-xl",children:"View Cart & Checkout"})]})]})]})})]})})},lR=async(t,s)=>{const r="https://123create-construction-app-with-a.launchpulse.ai",a={"Content-Type":"application/json"};return s&&(a.Authorization=`Bearer ${s}`),(await H.get(`${r}/products/compare`,{params:{product_ids:t.join(",")},headers:a})).data.filter(i=>i!==null)},oR=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/cart/items",{product_id:t,quantity:1},{headers:{Authorization:`Bearer ${s}`}})).data,cR=()=>{var L;const t=Xe(),s=Fe(),[r,a]=Ie(),n=ae(v=>v.authentication_state.auth_token),i=ae(v=>v.authentication_state.authentication_status.is_authenticated),l=ae(v=>v.fetch_cart),o=((L=r.get("product_ids"))==null?void 0:L.split(",").filter(v=>v.trim()))||[],[c,d]=k.useState(!1),[m,u]=k.useState(0),[x,h]=k.useState(!1),f=5;k.useEffect(()=>{i||t("/login?redirect_url=/compare")},[i,t]);const{data:p=[],isLoading:N,error:y,refetch:j}=ie({queryKey:["comparison-products",o.join(",")],queryFn:()=>lR(o,n),enabled:o.length>=2&&o.length<=f,staleTime:2*60*1e3,select:v=>v.map(D=>({...D,price_per_unit:Number(D.price_per_unit||0),stock_quantity:Number(D.stock_quantity||0),rating_average:Number(D.rating_average||0)}))}),g=ue({mutationFn:v=>oR(v,n),onSuccess:()=>{l(),s.invalidateQueries({queryKey:["cart"]})}}),S=k.useMemo(()=>{if(!p)return[];const v=p.map(D=>D.product_id);return o.filter(D=>!v.includes(D))},[o,p]),w=k.useMemo(()=>{if(p.length===0)return[];const v=[{attribute_key:"product_name",attribute_label:"Product Name",values:p.map(U=>U.product_name),has_differences:new Set(p.map(U=>U.product_name)).size>1},{attribute_key:"price_per_unit",attribute_label:"Price",values:p.map(U=>U.price_per_unit),has_differences:new Set(p.map(U=>U.price_per_unit)).size>1},{attribute_key:"supplier",attribute_label:"Supplier",values:p.map(U=>U.business_name||"Unknown"),has_differences:new Set(p.map(U=>U.business_name)).size>1},{attribute_key:"rating",attribute_label:"Rating",values:p.map(U=>U.rating_average||0),has_differences:new Set(p.map(U=>U.rating_average)).size>1},{attribute_key:"stock_quantity",attribute_label:"In Stock",values:p.map(U=>U.stock_quantity>0?"Yes":"No"),has_differences:new Set(p.map(U=>U.stock_quantity>0)).size>1},{attribute_key:"brand",attribute_label:"Brand",values:p.map(U=>U.brand||"N/A"),has_differences:new Set(p.map(U=>U.brand)).size>1},{attribute_key:"sku",attribute_label:"SKU",values:p.map(U=>U.sku),has_differences:new Set(p.map(U=>U.sku)).size>1},{attribute_key:"delivery_time",attribute_label:"Delivery Time",values:p.map(U=>U.handling_time_days?`${U.handling_time_days} days`:"N/A"),has_differences:new Set(p.map(U=>U.handling_time_days)).size>1}],D=new Set;return p.forEach(U=>{U.specifications&&Object.keys(U.specifications).forEach(q=>D.add(q))}),D.forEach(U=>{const q=p.map(B=>{var W,I;return((I=(W=B.specifications)==null?void 0:W[U])==null?void 0:I.toString())||"N/A"});v.push({attribute_key:`spec_${U}`,attribute_label:U.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase()),values:q,has_differences:new Set(q).size>1})}),v},[p]),C=k.useMemo(()=>c?w.filter(v=>v.has_differences):w,[w,c]),_=k.useMemo(()=>{if(p.length===0)return{};const v=p.map(Y=>Y.price_per_unit),D=Math.min(...v),U=v.indexOf(D),q=p.map(Y=>Y.handling_time_days||999),B=Math.min(...q),W=q.indexOf(B),I=p.map(Y=>Y.rating_average||0),Q=Math.max(...I),Z=I.indexOf(Q);return{bestPrice:U,fastestDelivery:W,highestRated:Z}},[p]),$=v=>{const D=o.filter(U=>U!==v);if(D.length<2){t("/products");return}a({product_ids:D.join(",")})},F=async v=>{try{await g.mutateAsync(v.product_id)}catch(D){console.error("Failed to add to cart:",D)}},T=async()=>{try{for(const v of p)await g.mutateAsync(v.product_id)}catch(v){console.error("Failed to add all to cart:",v)}},R=()=>{const v=window.location.href;navigator.clipboard.writeText(v).then(()=>{h(!0),setTimeout(()=>h(!1),3e3)})},A=()=>{window.print()},M=()=>{d(!c)},P=()=>{u(v=>v<p.length-1?v+1:v)},E=()=>{u(v=>v>0?v-1:v)};if(o.length===0)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(he,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Products Selected"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Select products from the catalog to compare them side-by-side."}),e.jsx(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Products"})]})})});if(o.length===1)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(he,{className:"w-16 h-16 text-amber-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Add More Products to Compare"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You need at least 2 products to make a comparison."}),e.jsx(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add More Products"})]})})});if(o.length>f)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(he,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Too Many Products"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["You can compare up to ",f," products at once."]}),e.jsx(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Products"})]})})});if(N)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading comparison..."})]})})})})});if(y)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(he,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Failed to Load Products"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"There was an error loading the comparison data."}),e.jsxs("button",{onClick:()=>j(),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})})});const z=()=>S.length===0?null:e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Some Products Not Found"}),e.jsxs("p",{className:"text-sm text-amber-700",children:[S.length," product",S.length>1?"s":""," could not be loaded. Showing comparison with available products only."]})]})]})}),O=()=>e.jsx("div",{className:"overflow-x-auto bg-white rounded-xl shadow-lg border border-gray-200",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[e.jsx("th",{className:"sticky left-0 z-10 bg-gray-50 px-6 py-4 text-left text-sm font-semibold text-gray-900 min-w-[200px]",children:"Attributes"}),p.map((v,D)=>e.jsx("th",{className:"px-6 py-4 min-w-[280px]",children:e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>$(v.product_id),className:"absolute -top-2 -right-2 p-1.5 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors","aria-label":"Remove product from comparison",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex flex-wrap gap-1 justify-center min-h-[24px]",children:[_.bestPrice===D&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Best Price"]}),_.fastestDelivery===D&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Fastest"]}),_.highestRated===D&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Top Rated"]})]}),e.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:v.primary_image_url||"https://via.placeholder.com/280",alt:v.product_name,className:"w-full h-full object-cover"})})]})]})},v.product_id))]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[C.map((v,D)=>e.jsxs("tr",{className:D%2===0?"bg-white":"bg-gray-50",children:[e.jsx("td",{className:"sticky left-0 z-10 px-6 py-4 text-sm font-medium text-gray-900 bg-inherit",children:v.attribute_label}),v.values.map((U,q)=>e.jsx("td",{className:`px-6 py-4 text-sm text-gray-700 ${v.attribute_key==="price_per_unit"&&_.bestPrice===q?"bg-green-50 font-semibold":v.attribute_key==="delivery_time"&&_.fastestDelivery===q?"bg-blue-50 font-semibold":v.attribute_key==="rating"&&_.highestRated===q?"bg-yellow-50 font-semibold":""}`,children:v.attribute_key==="price_per_unit"?`$${Number(U).toFixed(2)}`:v.attribute_key==="rating"?`${Number(U).toFixed(1)} `:U},q))]},v.attribute_key)),e.jsxs("tr",{className:"bg-white",children:[e.jsx("td",{className:"sticky left-0 z-10 px-6 py-4 text-sm font-medium text-gray-900 bg-white",children:"Actions"}),p.map(v=>e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>F(v),disabled:g.isPending||v.stock_quantity===0,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?"Adding...":e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-4 h-4 mr-2"}),"Add to Cart"]})}),e.jsx(G,{to:`/product/${v.product_id}`,className:"block w-full text-center px-4 py-2 bg-gray-100 text-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"View Details"})]})},v.product_id))]})]})]})}),b=()=>{const v=p[m];return v?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[e.jsx("button",{onClick:E,disabled:m===0,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(ms,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center space-x-2",children:p.map((D,U)=>e.jsx("button",{onClick:()=>u(U),className:`w-2 h-2 rounded-full transition-colors ${U===m?"bg-blue-600":"bg-gray-300"}`,"aria-label":`View product ${U+1}`},U))}),e.jsx("button",{onClick:P,disabled:m===p.length-1,className:"p-2 text-gray-600 hover:text-gray-900 disabled:opacity-30 disabled:cursor-not-allowed",children:e.jsx(Qe,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[_.bestPrice===m&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Best Price"]}),_.fastestDelivery===m&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Fastest Delivery"]}),_.highestRated===m&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Top Rated"]})]}),e.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg overflow-hidden mb-4",children:e.jsx("img",{src:v.primary_image_url||"https://via.placeholder.com/400",alt:v.product_name,className:"w-full h-full object-cover"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:v.product_name}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600 mb-4",children:["$",v.price_per_unit.toFixed(2)]}),e.jsx("div",{className:"space-y-3 mb-6",children:C.map(D=>e.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:D.attribute_label}),e.jsx("span",{className:"text-sm text-gray-900",children:D.attribute_key==="price_per_unit"?`$${Number(D.values[m]).toFixed(2)}`:D.attribute_key==="rating"?`${Number(D.values[m]).toFixed(1)} `:D.values[m]})]},D.attribute_key))}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>F(v),disabled:g.isPending||v.stock_quantity===0,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?"Adding...":e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Add to Cart"]})}),e.jsx(G,{to:`/product/${v.product_id}`,className:"block w-full text-center px-4 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors",children:"View Full Details"}),e.jsxs("button",{onClick:()=>$(v.product_id),className:"w-full flex items-center justify-center px-4 py-3 border border-red-200 text-red-600 font-medium rounded-lg hover:bg-red-50 transition-colors",children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),"Remove from Comparison"]})]})]})]}):null};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Compare Products"}),e.jsxs("p",{className:"text-gray-600",children:["Comparing ",p.length," product",p.length!==1?"s":""]})]}),e.jsxs(G,{to:"/products",className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx($t,{className:"w-4 h-4 mr-2"}),"Add More Products"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsx("button",{onClick:M,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${c?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:c?"Show All Attributes":"Highlight Differences Only"}),e.jsxs("button",{onClick:T,disabled:g.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Je,{className:"w-4 h-4 inline mr-2"}),"Add All to Cart"]}),e.jsxs("button",{onClick:R,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[e.jsx(N9,{className:"w-4 h-4 inline mr-2"}),x?"Link Copied!":"Share"]}),e.jsxs("button",{onClick:A,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium hidden md:block",children:[e.jsx(v9,{className:"w-4 h-4 inline mr-2"}),"Print"]})]})]}),e.jsx(z,{}),p.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-12 text-center",children:[e.jsx(he,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Products to Compare"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The selected products could not be loaded."}),e.jsx(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Products"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block",children:e.jsx(O,{})}),e.jsx("div",{className:"block md:hidden",children:e.jsx(b,{})})]}),p.length>0&&e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Comparison Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Green highlights indicate the best price among compared products"}),e.jsx("li",{children:" Blue highlights show the fastest delivery time"}),e.jsx("li",{children:" Gold highlights indicate the highest-rated product"}),e.jsx("li",{children:' Use "Highlight Differences Only" to focus on key distinctions'}),e.jsx("li",{children:" Add products to your cart directly from the comparison"})]})]})]})})})},dR=t=>{const s={};return t.forEach(r=>{s[r.supplier_id]||(s[r.supplier_id]={supplier_info:{supplier_id:r.supplier_id,business_name:r.business_name||"Unknown Supplier",logo_url:null},items:[],supplier_subtotal:0}),s[r.supplier_id].items.push(r),s[r.supplier_id].supplier_subtotal+=r.quantity*r.price_per_unit}),s},uR=(t,s)=>{const r=Object.values(t).reduce((d,m)=>d+m.supplier_subtotal,0),a=Object.values(t).reduce((d,m)=>d+m.items.reduce((u,x)=>u+x.quantity,0),0),n=Object.keys(t).length,i=n*50,l=r*.08,o=(s==null?void 0:s.discount_applied)||0,c=r+i+l-o;return{items_subtotal:r,total_delivery_fees:i,estimated_tax:l,promo_discount:o,grand_total:c,total_item_count:a,total_supplier_count:n}},mR=t=>{const s=[];return t.forEach(r=>{r.stock_quantity!==void 0&&r.stock_quantity<r.quantity&&s.push({cart_item_id:r.cart_item_id,warning_type:r.stock_quantity===0?"out_of_stock":"stock_reduced",message:r.stock_quantity===0?`${r.product_name} is now out of stock`:`Only ${r.stock_quantity} units available (you have ${r.quantity} in cart)`})}),s},hR=()=>{const t=Xe(),s=Fe(),r=ae(B=>B.authentication_state.auth_token),a=ae(B=>{var W;return(W=B.authentication_state.current_user)==null?void 0:W.user_id}),n=ae(B=>B.fetch_cart),[i,l]=k.useState(""),[o,c]=k.useState(null),[d,m]=k.useState(null),[u,x]=k.useState(!1),[h,f]=k.useState(""),[p,N]=k.useState(""),[y,j]=k.useState(new Set),g="https://123create-construction-app-with-a.launchpulse.ai/api",{data:S,isLoading:w,error:C,refetch:_}=ie({queryKey:["cart",a],queryFn:async()=>{if(!r)throw new Error("Not authenticated");return(await H.get(`${g}/cart`,{headers:{Authorization:`Bearer ${r}`}})).data},enabled:!!r&&!!a,staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:B=>{const W=dR(B.items||[]),I=mR(B.items||[]);return{cart:B.cart,items:B.items||[],items_by_supplier:W,subtotal:Number(B.subtotal||0),total_items:Number(B.total_items||0),warnings:I}}}),$=(S==null?void 0:S.items_by_supplier)||{},F=(S==null?void 0:S.warnings)||[],T=uR($,o),R=ue({mutationFn:async({cart_item_id:B,quantity:W})=>(await H.patch(`${g}/cart/items/${B}`,{quantity:W},{headers:{Authorization:`Bearer ${r}`}})).data,onMutate:async B=>{m(B.cart_item_id)},onSuccess:()=>{s.invalidateQueries({queryKey:["cart"]}),n()},onError:B=>{console.error("Failed to update quantity:",B)},onSettled:()=>{m(null)}}),A=ue({mutationFn:async B=>{await H.delete(`${g}/cart/items/${B}`,{headers:{Authorization:`Bearer ${r}`}})},onMutate:async B=>{j(W=>new Set(W).add(B))},onSuccess:()=>{s.invalidateQueries({queryKey:["cart"]}),n()},onError:(B,W)=>{j(I=>{const Q=new Set(I);return Q.delete(W),Q}),console.error("Failed to remove item:",B)}}),M=ue({mutationFn:async()=>{await H.delete(`${g}/cart`,{headers:{Authorization:`Bearer ${r}`}})},onSuccess:()=>{s.invalidateQueries({queryKey:["cart"]}),n()}}),P=ue({mutationFn:async B=>(await H.post(`${g}/promotions/validate`,{promo_code:B.toUpperCase(),cart_total:T.items_subtotal},{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:B=>{B.valid&&B.promotion&&(c({promotion_id:B.promotion.promotion_id,promo_code:B.promotion.promo_code,discount_type:B.promotion.discount_type,discount_value:Number(B.promotion.discount_value||0),discount_applied:Number(B.discount_amount||0)}),l(""))},onError:B=>{console.error("Promo validation failed:",B)}}),E=ue({mutationFn:async({project_name:B,description:W})=>(await H.post(`${g}/cart/save`,{project_name:B,description:W},{headers:{Authorization:`Bearer ${r}`}})).data,onSuccess:()=>{x(!1),f(""),N("")}}),z=(B,W)=>{W<1||R.mutate({cart_item_id:B,quantity:W})},O=B=>{A.mutate(B)},b=B=>{B.preventDefault(),i.trim()&&P.mutate(i.trim())},L=()=>{c(null)},v=()=>{window.confirm("Are you sure you want to clear your cart?")&&M.mutate()},D=B=>{B.preventDefault(),h.trim()&&E.mutate({project_name:h.trim(),description:p.trim()})},U=()=>{t("/checkout")};return w?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Et,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your cart..."})]})})}):C?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(he,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Cart"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your shopping cart. Please try again."}),e.jsx("button",{onClick:()=>_(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):!S||S.total_items===0||Object.keys($).length===0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Je,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Start adding products to build your order"}),e.jsxs(G,{to:"/products",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(Se,{className:"w-5 h-5 mr-2"}),"Browse Products"]})]})})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Shopping Cart"}),e.jsx(G,{to:"/products",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Continue Shopping"})]}),e.jsxs("p",{className:"text-gray-600 text-lg",children:[T.total_item_count," ",T.total_item_count===1?"item":"items"," from ",T.total_supplier_count," ",T.total_supplier_count===1?"supplier":"suppliers"]})]}),e.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[F.length>0&&e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(he,{className:"w-5 h-5 text-amber-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-800 mb-2",children:"Cart Items Need Attention"}),e.jsx("ul",{className:"text-sm text-amber-700 space-y-1",children:F.map((B,W)=>e.jsxs("li",{children:[" ",B.message]},W))})]})]})}),Object.entries($).map(([B,W])=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:e.jsx(Se,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:W.supplier_info.business_name}),e.jsx(G,{to:`/supplier/${B}`,className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Visit Shop"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Subtotal"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",W.supplier_subtotal.toFixed(2)]})]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:W.items.map(I=>{const Q=y.has(I.cart_item_id),Z=d===I.cart_item_id,Y=F.some(K=>K.cart_item_id===I.cart_item_id);return e.jsx("div",{className:`p-6 transition-all duration-300 ${Q?"opacity-50":"opacity-100"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx(G,{to:`/product/${I.product_id}`,className:"flex-shrink-0",children:e.jsx("div",{className:"w-full sm:w-32 h-32 bg-gray-100 rounded-lg overflow-hidden hover:ring-2 hover:ring-blue-500 transition-all duration-200",children:I.primary_image_url?e.jsx("img",{src:I.primary_image_url,alt:I.product_name||"Product",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Se,{className:"w-12 h-12 text-gray-400"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(G,{to:`/product/${I.product_id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors line-clamp-2",children:I.product_name||"Product"}),I.sku&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SKU: ",I.sku]}),Y?e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(he,{className:"w-3 h-3 mr-1"}),"Limited Stock"]})}):e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"In Stock"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Price per unit"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",Number(I.price_per_unit||0).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border-2 border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>z(I.cart_item_id,I.quantity-1),disabled:I.quantity<=1||Z,className:"w-10 h-10 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Decrease quantity",children:e.jsx(Sv,{className:"w-4 h-4 text-gray-700"})}),e.jsx("input",{type:"number",min:"1",value:I.quantity,onChange:K=>{const te=parseInt(K.target.value);te>0&&z(I.cart_item_id,te)},disabled:Z,className:"w-16 h-10 text-center font-semibold text-gray-900 border-none focus:ring-0 disabled:bg-gray-50","aria-label":"Product quantity"}),e.jsx("button",{onClick:()=>z(I.cart_item_id,I.quantity+1),disabled:Z,className:"w-10 h-10 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Increase quantity",children:e.jsx($t,{className:"w-4 h-4 text-gray-700"})})]}),Z&&e.jsx(Et,{className:"w-4 h-4 animate-spin text-blue-600"})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(I.quantity*Number(I.price_per_unit||0)).toFixed(2)]})]}),e.jsx("button",{onClick:()=>O(I.cart_item_id),disabled:Q,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50","aria-label":"Remove item",children:e.jsx(Xt,{className:"w-5 h-5"})})]})]})]})]})},I.cart_item_id)})}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Estimated Delivery: ",e.jsx("span",{className:"font-semibold text-gray-900",children:"2-3 business days"})]})})]},B)),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center px-6 py-3 bg-white border-2 border-gray-200 text-gray-900 rounded-lg font-medium hover:bg-gray-50 transition-all duration-200",children:[e.jsx(ws,{className:"w-5 h-5 mr-2"}),"Save as Project"]}),e.jsxs("button",{onClick:v,disabled:M.isPending,className:"flex items-center px-6 py-3 bg-white border-2 border-red-200 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-all duration-200 disabled:opacity-50",children:[e.jsx(Xt,{className:"w-5 h-5 mr-2"}),"Clear Cart"]})]})]}),e.jsx("div",{className:"lg:col-span-4 mt-8 lg:mt-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 sticky top-24",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Summary"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Items Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["$",T.items_subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Estimated Delivery"}),e.jsxs("span",{className:"font-semibold",children:["$",T.total_delivery_fees.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Estimated Tax"}),e.jsxs("span",{className:"font-semibold",children:["$",T.estimated_tax.toFixed(2)]})]}),o&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Promo Discount"}),e.jsx("button",{onClick:L,className:"ml-2 p-1 hover:bg-gray-100 rounded transition-colors","aria-label":"Remove promo code",children:e.jsx(be,{className:"w-4 h-4"})})]}),e.jsxs("span",{className:"font-semibold",children:["-$",T.promo_discount.toFixed(2)]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between text-gray-900",children:[e.jsx("span",{className:"text-xl font-bold",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",T.grand_total.toFixed(2)]})]})})]}),!o&&e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:b,className:"space-y-2",children:[e.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700",children:"Have a promo code?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"promo_code",type:"text",value:i,onChange:B=>l(B.target.value.toUpperCase()),placeholder:"ENTER CODE",disabled:P.isPending,className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all disabled:bg-gray-50"}),e.jsx("button",{type:"submit",disabled:!i.trim()||P.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?e.jsx(Et,{className:"w-5 h-5 animate-spin"}):"Apply"})]}),P.isError&&e.jsx("p",{className:"text-sm text-red-600",children:"Invalid or expired promo code"}),P.isSuccess&&!o&&e.jsx("p",{className:"text-sm text-red-600",children:"Promo code not valid for this cart"})]})}),o&&e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(go,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-800",children:o.promo_code}),e.jsx("p",{className:"text-xs text-green-700",children:o.discount_type==="percentage"?`${o.discount_value}% off`:`$${o.discount_value} off`})]})]}),e.jsx("button",{onClick:L,className:"text-green-600 hover:text-green-700","aria-label":"Remove promo code",children:e.jsx(be,{className:"w-5 h-5"})})]})})}),e.jsxs("button",{onClick:U,className:"w-full py-4 bg-blue-600 text-white rounded-lg font-semibold text-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center",children:["Proceed to Checkout",e.jsx(cr,{className:"w-5 h-5 ml-2"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure Checkout"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Money-Back Guarantee"]})]})})]})]})})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Save Cart as Project"}),e.jsx("button",{onClick:()=>{x(!1),f(""),N("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:e.jsx(be,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Name *"}),e.jsx("input",{id:"project_name",type:"text",value:h,onChange:B=>f(B.target.value),placeholder:"e.g., Deck Build, Kitchen Reno",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_description",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),e.jsx("textarea",{id:"project_description",value:p,onChange:B=>N(B.target.value),placeholder:"Add project details...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>{x(!1),f(""),N("")},className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!h.trim()||E.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-5 h-5 animate-spin mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-5 h-5 mr-2"}),"Save Project"]})})]}),E.isSuccess&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm",children:["Project saved successfully! ",e.jsx(G,{to:"/projects",className:"font-semibold underline",children:"View Projects"})]}),E.isError&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:"Failed to save project. Please try again."})]})]})})]})},xR=async(t,s)=>{const r=new URLSearchParams;return t&&r.append("sort_by",t),s&&r.append("filter_by",s),(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/wishlist?${r.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).data.map(n=>({wishlist_item_id:n.wishlist_item_id,product_id:n.product_id,product_name:n.product_name,price_when_saved:Number(n.price_when_saved||0),current_price:Number(n.price_per_unit||0),price_drop_amount:Math.max(0,Number(n.price_when_saved||0)-Number(n.price_per_unit||0)),stock_quantity:Number(n.stock_quantity||0),stock_status:Number(n.stock_quantity||0)>0?"in_stock":"out_of_stock",primary_image_url:n.primary_image_url,supplier_name:n.business_name,supplier_id:"",added_date:n.added_date,price_drop_alert_enabled:n.price_drop_alert_enabled,back_in_stock_alert_enabled:n.back_in_stock_alert_enabled}))},a_=async(t,s=1)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/cart/items",{product_id:t,quantity:s},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).data,pR=async t=>{await H.delete(`https://123create-construction-app-with-a.launchpulse.ai/api/wishlist/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})},gR=async(t,s,r)=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/wishlist/${t}`,{price_drop_alert_enabled:s,back_in_stock_alert_enabled:r},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).data,fR=()=>{var z,O;const[t,s]=Ie(),r=Fe(),a=t.get("sort_by")||"date_added",n=t.get("filter_by")||"",[i,l]=k.useState("grid"),[o,c]=k.useState([]),[d,m]=k.useState(a),[u,x]=k.useState(n),h=ae(b=>b.authentication_state.authentication_status.is_authenticated),f=ae(b=>b.fetch_cart);k.useEffect(()=>{m(a),x(n)},[a,n]);const{data:p=[],isLoading:N,error:y,refetch:j}=ie({queryKey:["wishlist",d,u],queryFn:()=>xR(d,u),enabled:h,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),g=ue({mutationFn:({product_id:b,quantity:L})=>a_(b,L),onSuccess:()=>{f(),r.invalidateQueries({queryKey:["cart"]})}}),S=ue({mutationFn:pR,onSuccess:()=>{r.invalidateQueries({queryKey:["wishlist"]})}}),w=ue({mutationFn:({wishlist_item_id:b,price_drop_alert_enabled:L,back_in_stock_alert_enabled:v})=>gR(b,L,v),onSuccess:()=>{r.invalidateQueries({queryKey:["wishlist"]})}}),C=b=>{m(b);const L=new URLSearchParams(t);L.set("sort_by",b),s(L)},_=b=>{x(b);const L=new URLSearchParams(t);b?L.set("filter_by",b):L.delete("filter_by"),s(L)},$=(b,L)=>{g.mutate({product_id:b,quantity:1},{onSuccess:()=>{alert(`${L} added to cart!`)},onError:v=>{var D,U;alert(((U=(D=v.response)==null?void 0:D.data)==null?void 0:U.message)||"Failed to add item to cart")}})},F=(b,L)=>{window.confirm(`Remove "${L}" from wishlist?`)&&S.mutate(b,{onError:v=>{var D,U;alert(((U=(D=v.response)==null?void 0:D.data)==null?void 0:U.message)||"Failed to remove item")}})},T=(b,L,v)=>{L==="price"?w.mutate({wishlist_item_id:b,price_drop_alert_enabled:!v}):w.mutate({wishlist_item_id:b,back_in_stock_alert_enabled:!v})},R=b=>{c(L=>L.includes(b)?L.filter(v=>v!==b):[...L,b])},A=()=>{o.length===p.length?c([]):c(p.map(b=>b.wishlist_item_id))},M=()=>{const b=p.filter(U=>o.includes(U.wishlist_item_id));let L=0,v=0;const D=b.map(U=>a_(U.product_id,1).then(()=>{L++}).catch(()=>{v++}));Promise.all(D).then(()=>{f(),c([]),alert(`Added ${L} items to cart${v>0?`, ${v} failed`:""}`),r.invalidateQueries({queryKey:["cart"]})})},E=[...p.filter(b=>u==="in_stock_only"?b.stock_quantity>0:u==="price_drops"?b.price_drop_amount>0:!0)].sort((b,L)=>d==="price"?b.current_price-L.current_price:new Date(L.added_date).getTime()-new Date(b.added_date).getTime());return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Wishlist"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:[p.length," ",p.length===1?"item":"items"," saved"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>l("grid"),className:`p-2 rounded-md transition-all ${i==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-900"}`,"aria-label":"Grid view",children:e.jsx(jh,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>l("list"),className:`p-2 rounded-md transition-all ${i==="list"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-900"}`,"aria-label":"List view",children:e.jsx(Jk,{className:"w-5 h-5"})})]}),e.jsxs("select",{value:d,onChange:b=>C(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"date_added",children:"Recently Added"}),e.jsx("option",{value:"price",children:"Price: Low to High"})]})]})]}),e.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>_(""),className:`px-4 py-2 rounded-lg border transition-all ${u===""?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:"All Items"}),e.jsx("button",{onClick:()=>_("in_stock_only"),className:`px-4 py-2 rounded-lg border transition-all ${u==="in_stock_only"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:"In Stock Only"}),e.jsx("button",{onClick:()=>_("price_drops"),className:`px-4 py-2 rounded-lg border transition-all ${u==="price_drops"?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:border-blue-500"}`,children:"Price Drops"})]}),E.length>0&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:A,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:o.length===E.length?"Deselect All":"Select All"}),o.length>0&&e.jsxs("button",{onClick:M,disabled:g.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(Je,{className:"w-4 h-4"}),e.jsxs("span",{children:["Add ",o.length," to Cart"]})]})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-red-800 font-medium",children:"Failed to load wishlist"}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:H.isAxiosError(y)?((O=(z=y.response)==null?void 0:z.data)==null?void 0:O.message)||y.message:"An error occurred"}),e.jsx("button",{onClick:()=>j(),className:"mt-3 text-sm text-red-600 hover:text-red-700 font-medium underline",children:"Try again"})]})]}),N&&e.jsx("div",{className:i==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:[1,2,3,4,5,6].map(b=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[e.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},b))}),!N&&!y&&E.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx(Cu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your wishlist is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:u?"No items match your filter criteria":"Start saving products you love!"}),u?e.jsx("button",{onClick:()=>_(""),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:"Clear Filters"}):e.jsx(G,{to:"/products",className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all",children:"Browse Products"})]}),!N&&!y&&E.length>0&&i==="grid"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:E.map(b=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all group",children:[e.jsxs("div",{className:"relative aspect-square bg-gray-100",children:[e.jsx("input",{type:"checkbox",checked:o.includes(b.wishlist_item_id),onChange:()=>R(b.wishlist_item_id),className:"absolute top-3 left-3 w-5 h-5 rounded cursor-pointer z-10"}),b.price_drop_amount>0&&e.jsxs("div",{className:"absolute top-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium z-10",children:["Price Drop! -",(b.price_drop_amount/b.price_when_saved*100).toFixed(0),"%"]}),e.jsx(G,{to:`/product/${b.product_id}`,className:"block w-full h-full",children:b.primary_image_url?e.jsx("img",{src:b.primary_image_url,alt:b.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:e.jsx("span",{className:"text-gray-400 text-sm",children:"No image"})})}),e.jsx("button",{onClick:()=>F(b.wishlist_item_id,b.product_name),disabled:S.isPending,className:"absolute bottom-3 right-3 bg-white p-2 rounded-full shadow-lg hover:bg-red-50 transition-all opacity-0 group-hover:opacity-100 disabled:opacity-50","aria-label":"Remove from wishlist",children:e.jsx(Xt,{className:"w-4 h-4 text-red-600"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx(G,{to:`/product/${b.product_id}`,className:"block",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:b.product_name})}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.supplier_name}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",b.current_price.toFixed(2)]}),b.price_drop_amount>0&&e.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",b.price_when_saved.toFixed(2)]})]}),b.price_drop_amount>0&&e.jsxs("p",{className:"text-sm text-green-600 font-medium mt-1",children:["Save $",b.price_drop_amount.toFixed(2)]})]}),e.jsx("div",{className:"mb-4",children:b.stock_quantity>0?e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"In Stock"}):e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:"Out of Stock"})}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4 text-sm",children:[e.jsxs("button",{onClick:()=>T(b.wishlist_item_id,"price",b.price_drop_alert_enabled),disabled:w.isPending,className:`flex items-center space-x-1 transition-colors ${b.price_drop_alert_enabled?"text-blue-600":"text-gray-400 hover:text-blue-600"}`,children:[b.price_drop_alert_enabled?e.jsx(Fs,{className:"w-4 h-4"}):e.jsx(nm,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Price alerts"})]}),e.jsxs("button",{onClick:()=>T(b.wishlist_item_id,"stock",b.back_in_stock_alert_enabled),disabled:w.isPending,className:`flex items-center space-x-1 transition-colors ${b.back_in_stock_alert_enabled?"text-blue-600":"text-gray-400 hover:text-blue-600"}`,children:[b.back_in_stock_alert_enabled?e.jsx(Fs,{className:"w-4 h-4"}):e.jsx(nm,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Stock alerts"})]})]}),e.jsxs("button",{onClick:()=>$(b.product_id,b.product_name),disabled:b.stock_quantity===0||g.isPending,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(Je,{className:"w-5 h-5"}),e.jsx("span",{children:b.stock_quantity===0?"Out of Stock":"Add to Cart"})]})]})]},b.wishlist_item_id))}),!N&&!y&&E.length>0&&i==="list"&&e.jsx("div",{className:"space-y-4",children:E.map(b=>e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.jsxs("div",{className:"sm:w-48 sm:h-48 relative bg-gray-100 flex-shrink-0",children:[e.jsx("input",{type:"checkbox",checked:o.includes(b.wishlist_item_id),onChange:()=>R(b.wishlist_item_id),className:"absolute top-3 left-3 w-5 h-5 rounded cursor-pointer z-10"}),b.price_drop_amount>0&&e.jsxs("div",{className:"absolute top-3 right-3 bg-green-600 text-white px-3 py-1 rounded-full text-xs font-medium z-10",children:["-",(b.price_drop_amount/b.price_when_saved*100).toFixed(0),"%"]}),e.jsx(G,{to:`/product/${b.product_id}`,className:"block w-full h-full",children:b.primary_image_url?e.jsx("img",{src:b.primary_image_url,alt:b.product_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("span",{className:"text-gray-400 text-sm",children:"No image"})})})]}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex-1 mb-4 sm:mb-0",children:[e.jsx(G,{to:`/product/${b.product_id}`,children:e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 hover:text-blue-600 transition-colors",children:b.product_name})}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b.supplier_name}),e.jsx("div",{className:"mb-3",children:b.stock_quantity>0?e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"In Stock"}):e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:"Out of Stock"})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("button",{onClick:()=>T(b.wishlist_item_id,"price",b.price_drop_alert_enabled),disabled:w.isPending,className:`flex items-center space-x-1 transition-colors ${b.price_drop_alert_enabled?"text-blue-600":"text-gray-400 hover:text-blue-600"}`,children:[b.price_drop_alert_enabled?e.jsx(Fs,{className:"w-4 h-4"}):e.jsx(nm,{className:"w-4 h-4"}),e.jsx("span",{children:"Price alerts"})]}),e.jsxs("button",{onClick:()=>T(b.wishlist_item_id,"stock",b.back_in_stock_alert_enabled),disabled:w.isPending,className:`flex items-center space-x-1 transition-colors ${b.back_in_stock_alert_enabled?"text-blue-600":"text-gray-400 hover:text-blue-600"}`,children:[b.back_in_stock_alert_enabled?e.jsx(Fs,{className:"w-4 h-4"}):e.jsx(nm,{className:"w-4 h-4"}),e.jsx("span",{children:"Stock alerts"})]})]})]}),e.jsxs("div",{className:"sm:ml-6 flex-shrink-0",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"flex items-baseline space-x-2",children:e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["$",b.current_price.toFixed(2)]})}),b.price_drop_amount>0&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-500 line-through",children:["$",b.price_when_saved.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:["Save $",b.price_drop_amount.toFixed(2)]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>$(b.product_id,b.product_name),disabled:b.stock_quantity===0||g.isPending,className:"w-full sm:w-auto px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(Je,{className:"w-5 h-5"}),e.jsx("span",{children:b.stock_quantity===0?"Out of Stock":"Add to Cart"})]}),e.jsxs("button",{onClick:()=>F(b.wishlist_item_id,b.product_name),disabled:S.isPending,className:"w-full sm:w-auto px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(Xt,{className:"w-5 h-5"}),e.jsx("span",{children:"Remove"})]})]})]})]})})]})},b.wishlist_item_id))}),!N&&!y&&E.length>0&&e.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["Watching ",E.length," ",E.length===1?"product":"products"," for price changes and stock updates"]})})]})]})},Yx="https://123create-construction-app-with-a.launchpulse.ai",yR=async t=>(await H.get(`${Yx}/api/projects`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,bR=async(t,s)=>(await H.post(`${Yx}/api/projects/${t}/load-to-cart`,{},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,vR=async(t,s)=>{await H.delete(`${Yx}/api/projects/${t}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})},jR=async(t,s)=>(await H.post(`${Yx}/api/projects`,t,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,n_=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),E0=t=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t)),NR=t=>({total_projects:t.length,total_estimated_value:t.reduce((s,r)=>s+(r.total_value||0),0),most_recent_project_date:t.length>0?t.sort((s,r)=>new Date(r.created_date).getTime()-new Date(s.created_date).getTime())[0].created_date:null}),wR=()=>{const t=Xe(),s=Fe(),r=ae(F=>F.authentication_state.auth_token),a=ae(F=>{var T;return(T=F.authentication_state.customer_profile)==null?void 0:T.customer_id}),n=ae(F=>F.fetch_cart),[i,l]=k.useState(null),[o,c]=k.useState(!1),[d,m]=k.useState(null),{data:u=[],isLoading:x,error:h,refetch:f}=ie({queryKey:["projects",a],queryFn:()=>yR(r),enabled:!!r,staleTime:6e4,retry:1}),p=X.useMemo(()=>NR(u),[u]),N=ue({mutationFn:F=>bR(F,r),onSuccess:F=>{var T;s.invalidateQueries({queryKey:["cart"]}),n(),((T=F.unavailable_items)==null?void 0:T.length)>0?m({type:"success",message:`${F.added_items} items added to cart. ${F.unavailable_items.length} items unavailable.`}):m({type:"success",message:`${F.added_items} items added to cart`}),setTimeout(()=>{t("/cart")},1500)},onError:F=>{var T,R;m({type:"error",message:((R=(T=F.response)==null?void 0:T.data)==null?void 0:R.message)||"Failed to load project to cart"})}}),y=ue({mutationFn:F=>vR(F,r),onSuccess:()=>{s.invalidateQueries({queryKey:["projects"]}),c(!1),l(null),m({type:"success",message:"Project deleted successfully"})},onError:F=>{var T,R;m({type:"error",message:((R=(T=F.response)==null?void 0:T.data)==null?void 0:R.message)||"Failed to delete project"}),c(!1)}}),j=ue({mutationFn:({project_name:F,description:T})=>jR({project_name:F,description:T},r),onSuccess:()=>{s.invalidateQueries({queryKey:["projects"]}),m({type:"success",message:"Project duplicated successfully"})},onError:F=>{var T,R;m({type:"error",message:((R=(T=F.response)==null?void 0:T.data)==null?void 0:R.message)||"Failed to duplicate project"})}}),g=F=>{N.mutate(F)},S=F=>{l(F),c(!0)},w=()=>{i&&y.mutate(i)},C=()=>{c(!1),l(null)},_=F=>{j.mutate({project_name:`${F.project_name} (Copy)`,description:F.description})},$=()=>{t("/cart")};return X.useEffect(()=>{if(d){const F=setTimeout(()=>{m(null)},5e3);return()=>clearTimeout(F)}},[d]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 leading-tight",children:"My Projects"}),e.jsx("p",{className:"mt-2 text-base text-gray-600 leading-relaxed",children:"Save your cart as a project template for quick reordering"})]}),e.jsxs("button",{onClick:$,className:"inline-flex items-center justify-center px-6 py-3 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-100",children:[e.jsx($t,{className:"w-5 h-5 mr-2"}),"Create New Project"]})]}),u.length>0&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-100 shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Projects"}),e.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:p.total_projects})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Rf,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-100 shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Estimated Value"}),e.jsx("p",{className:"mt-1 text-2xl font-bold text-gray-900",children:n_(p.total_estimated_value)})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Be,{className:"w-6 h-6 text-green-600"})})]})}),p.most_recent_project_date&&e.jsx("div",{className:"bg-white rounded-lg border border-gray-100 shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Created"}),e.jsx("p",{className:"mt-1 text-base font-semibold text-gray-900",children:E0(p.most_recent_project_date)})]}),e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(Ft,{className:"w-6 h-6 text-indigo-600"})})]})})]})]}),x&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(F=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-4"}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded flex-1"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded w-10"})]})]},F))}),h&&!x&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"mx-auto h-12 w-12 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Failed to Load Projects"}),e.jsx("p",{className:"text-gray-600 mb-6",children:h.message||"An error occurred while loading your projects"}),e.jsx("button",{onClick:()=>f(),className:"inline-flex items-center px-6 py-3 rounded-lg font-medium text-white bg-red-600 hover:bg-red-700 shadow-lg hover:shadow-xl transition-all duration-200",children:"Try Again"})]}),!x&&!h&&u.length===0&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-lg p-12 text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"inline-flex items-center justify-center w-24 h-24 bg-blue-100 rounded-full mb-4",children:e.jsx(Rf,{className:"w-12 h-12 text-blue-600"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Projects Yet"}),e.jsx("p",{className:"text-base text-gray-600 mb-8 max-w-md mx-auto leading-relaxed",children:"Save your cart as a project template for quick reordering. Perfect for recurring purchases and different project sizes."}),e.jsxs("button",{onClick:$,className:"inline-flex items-center px-8 py-4 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-blue-100",children:[e.jsx($t,{className:"w-5 h-5 mr-2"}),"Create Your First Project"]})]}),!x&&!h&&u.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(F=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-lg hover:shadow-xl transition-all duration-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 pb-4 border-b border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:F.project_name}),F.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 leading-relaxed",children:F.description})]}),e.jsxs("div",{className:"px-6 py-4 bg-gray-50",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Se,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Items"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:F.item_count})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Be,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Value"}),e.jsx("p",{className:"text-base font-semibold text-gray-900",children:n_(F.total_value||0)})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[e.jsxs("span",{children:["Created ",E0(F.created_date)]}),e.jsxs("span",{children:["Updated ",E0(F.last_updated_date)]})]})})]}),e.jsxs("div",{className:"p-6 pt-4 space-y-3",children:[e.jsx("button",{onClick:()=>g(F.project_id),disabled:N.isPending,className:"w-full inline-flex items-center justify-center px-6 py-3 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-blue-100",children:N.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"w-5 h-5 mr-2"}),"Load to Cart"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(G,{to:`/projects/${F.project_id}`,className:"flex-1 inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium text-gray-900 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-gray-100",children:[e.jsx(aS,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs("button",{onClick:()=>_(F),disabled:j.isPending,className:"flex-1 inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium text-gray-900 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-gray-100",title:"Duplicate Project",children:[e.jsx(kv,{className:"w-4 h-4 mr-2"}),"Copy"]}),e.jsx("button",{onClick:()=>S(F.project_id),disabled:y.isPending,className:"inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium text-white bg-red-600 hover:bg-red-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-red-100",title:"Delete Project",children:e.jsx(Xt,{className:"w-4 h-4"})})]})]})]},F.project_id))}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx(Xt,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 text-center mb-2",children:"Delete Project?"}),e.jsx("p",{className:"text-base text-gray-600 text-center leading-relaxed",children:"Are you sure you want to delete this project? This action cannot be undone."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:C,disabled:y.isPending,className:"flex-1 px-6 py-3 rounded-lg font-medium text-gray-900 bg-gray-100 hover:bg-gray-200 border border-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-gray-100",children:"Cancel"}),e.jsx("button",{onClick:w,disabled:y.isPending,className:"flex-1 px-6 py-3 rounded-lg font-medium text-white bg-red-600 hover:bg-red-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-4 focus:ring-red-100",children:y.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete"})]})]})}),d&&e.jsx("div",{className:"fixed bottom-8 right-8 z-50 animate-in slide-in-from-bottom-4 duration-300",children:e.jsxs("div",{className:`rounded-xl shadow-2xl px-6 py-4 flex items-center space-x-3 max-w-md ${d.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[d.type==="success"?e.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-6 h-6 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),e.jsx("span",{className:"font-medium",children:d.message}),e.jsx("button",{onClick:()=>m(null),className:"ml-auto flex-shrink-0 hover:bg-white/20 rounded-lg p-1 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})]})})})},_R=async(t,s)=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/projects/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data,kR=async(t,s,r)=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/projects/${t}`,s,{headers:{Authorization:`Bearer ${r}`}})).data,SR=async(t,s)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/projects/${t}/load-to-cart`,{},{headers:{Authorization:`Bearer ${s}`}})).data,CR=()=>{var z,O;const{project_id:t}=an(),s=Xe(),r=Fe(),a=ae(b=>b.authentication_state.auth_token),n=ae(b=>b.fetch_cart),[i,l]=k.useState(!1),[o,c]=k.useState(""),[d,m]=k.useState(""),[u,x]=k.useState(1),[h,f]=k.useState(!1),[p,N]=k.useState(!1),{data:y,isLoading:j,error:g,refetch:S}=ie({queryKey:["project",t],queryFn:()=>_R(t,a),enabled:!!t&&!!a,staleTime:6e4,refetchOnWindowFocus:!1,select:b=>{const L=(b.items||[]).map(v=>{const D=Number(v.price_per_unit||0),U=D,q=Number(v.quantity||0),B=Number(v.stock_quantity||0);return{project_item_id:v.project_item_id,product_id:v.product_id,product_name:v.product_name,sku:"N/A",quantity:q,saved_price:D,current_price:U,price_change:U-D,stock_quantity:B,availability_status:B>=q?"available":"insufficient_stock",primary_image_url:v.primary_image_url,supplier_name:"Unknown Supplier",supplier_id:"",line_total_saved:q*D,line_total_current:q*U}});return{project:b.project,items:L}}});k.useEffect(()=>{y!=null&&y.project&&(c(y.project.project_name||""),m(y.project.description||""))},[y]),k.useEffect(()=>{var b,L;if(g){const v=g;(((b=v.response)==null?void 0:b.status)===404||((L=v.response)==null?void 0:L.status)===403)&&setTimeout(()=>s("/projects"),3e3)}},[g,s]);const w=ue({mutationFn:b=>kR(t,b,a),onSuccess:()=>{r.invalidateQueries({queryKey:["project",t]}),r.invalidateQueries({queryKey:["projects"]}),l(!1),N(!1)},onError:b=>{var L,v;alert(`Failed to update project: ${((v=(L=b.response)==null?void 0:L.data)==null?void 0:v.message)||b.message}`)}}),C=ue({mutationFn:()=>SR(t,a),onSuccess:async b=>{await n(),r.invalidateQueries({queryKey:["cart"]}),b.unavailable_items&&b.unavailable_items.length>0?alert(`Added ${b.added_items} items to cart. ${b.unavailable_items.length} items were unavailable.`):alert(`Successfully added ${b.added_items} items to cart!`),s("/cart")},onError:b=>{var L,v;alert(`Failed to load project to cart: ${((v=(L=b.response)==null?void 0:L.data)==null?void 0:v.message)||b.message}`)}}),_=k.useMemo(()=>{if(!(y!=null&&y.items))return{saved_total:0,current_total:0,price_difference:0,price_change_percentage:0};const b=y.items.reduce((U,q)=>U+q.line_total_saved,0),L=y.items.reduce((U,q)=>U+q.line_total_current,0),v=L-b,D=b>0?v/b*100:0;return{saved_total:b,current_total:L,price_difference:v,price_change_percentage:D}},[y==null?void 0:y.items]),$=k.useMemo(()=>!(y!=null&&y.items)||u===1?{}:y.items.reduce((b,L)=>(b[L.project_item_id]=Math.ceil(L.quantity*u),b),{}),[y==null?void 0:y.items,u]),F=k.useMemo(()=>y!=null&&y.items?y.items.filter(b=>b.availability_status==="insufficient_stock"):[],[y==null?void 0:y.items]),T=()=>{if(!p){l(!1);return}w.mutate({project_name:o,description:d||void 0})},R=()=>{c((y==null?void 0:y.project.project_name)||""),m((y==null?void 0:y.project.description)||""),l(!1),N(!1)},A=()=>{F.length>0&&!window.confirm(`${F.length} items have insufficient stock. Do you want to continue loading available items to cart?`)||C.mutate()},M=()=>{u!==1&&(f(!1),alert("Scaling preview shown. Backend endpoint for applying scale not yet implemented."))};if(j)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[1,2,3].map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},b))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"})]},b))})]})})});if(g){const b=g,L=((z=b.response)==null?void 0:z.status)===404,v=((O=b.response)==null?void 0:O.status)===403;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:e.jsx(as,{className:"h-6 w-6 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:L?"Project Not Found":v?"Access Denied":"Error Loading Project"}),e.jsx("p",{className:"text-gray-600 mb-6",children:L?"The project you're looking for doesn't exist or has been deleted.":v?"You don't have permission to view this project.":"Something went wrong while loading the project. Please try again."}),e.jsxs("div",{className:"space-y-3",children:[!L&&!v&&e.jsx("button",{onClick:()=>S(),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Try Again"}),e.jsx(G,{to:"/projects",className:"block w-full bg-gray-100 text-gray-900 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Back to Projects"})]})]})})})})}if(!y||!y.items||y.items.length===0)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(G,{to:"/projects",className:"text-blue-600 hover:text-blue-700 font-medium mb-4 inline-flex items-center transition-colors",children:" Back to Projects"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-4",children:(y==null?void 0:y.project.project_name)||"Project"}),(y==null?void 0:y.project.description)&&e.jsx("p",{className:"text-gray-600 mt-2 leading-relaxed",children:y.project.description})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-12 text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-gray-100 mb-4",children:e.jsx(Se,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"This project is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Add products to this project to create a reusable template for future orders."}),e.jsxs(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx($t,{className:"h-5 w-5 mr-2"}),"Browse Products"]})]})]})})});const P=y.project,E=y.items;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx(G,{to:"/projects",className:"text-blue-600 hover:text-blue-700 font-medium mb-4 inline-flex items-center transition-colors",children:" Back to Projects"}),e.jsx("div",{className:"mt-4",children:i?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Name"}),e.jsx("input",{id:"project_name",type:"text",value:o,onChange:b=>{c(b.target.value),N(!0)},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter project name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),e.jsx("textarea",{id:"project_description",value:d,onChange:b=>{m(b.target.value),N(!0)},rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Add a description for this project"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:T,disabled:w.isPending||!p,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-5 w-5 mr-2"}),"Save Changes"]})}),e.jsxs("button",{onClick:R,disabled:w.isPending,className:"inline-flex items-center px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(be,{className:"h-5 w-5 mr-2"}),"Cancel"]})]})]}):e.jsx("div",{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:P.project_name}),P.description&&e.jsx("p",{className:"text-gray-600 mt-2 leading-relaxed",children:P.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Created: ",new Date(P.created_date).toLocaleDateString()]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Last updated: ",new Date(P.last_updated_date).toLocaleDateString()]})]})]}),e.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(xa,{className:"h-4 w-4 mr-2"}),"Edit Info"]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.length})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Se,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Original Total"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",_.saved_total.toFixed(2)]})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-gray-100 flex items-center justify-center",children:e.jsx(Ve,{className:"h-6 w-6 text-gray-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Total"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",_.current_total.toFixed(2)]}),_.price_difference!==0&&e.jsxs("div",{className:`inline-flex items-center mt-2 text-sm font-medium ${_.price_difference>0?"text-red-600":"text-green-600"}`,children:[_.price_difference>0?e.jsx(Ve,{className:"h-4 w-4 mr-1"}):e.jsx(Ad,{className:"h-4 w-4 mr-1"}),_.price_difference>0?"+":"","$",Math.abs(_.price_difference).toFixed(2),"(",_.price_change_percentage>0?"+":"",_.price_change_percentage.toFixed(1),"%)"]})]}),e.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${_.price_difference>0?"bg-red-100":_.price_difference<0?"bg-green-100":"bg-gray-100"}`,children:e.jsx(Ve,{className:`h-6 w-6 ${_.price_difference>0?"text-red-600":_.price_difference<0?"text-green-600":"text-gray-600"}`})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j9,{className:"h-5 w-5 text-gray-600 mr-2"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Scale Project Quantities"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"scale_multiplier",className:"block text-sm font-medium text-gray-700 mb-2",children:"Scale Multiplier"}),e.jsx("input",{id:"scale_multiplier",type:"number",min:"0.1",max:"10",step:"0.1",value:u,onChange:b=>{const L=parseFloat(b.target.value);!isNaN(L)&&L>0&&x(L)},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"1.0"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Example: 2.0 doubles all quantities, 0.5 halves them"})]}),e.jsx("div",{children:e.jsx("button",{onClick:()=>f(!h),disabled:u===1,className:"w-full px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Hide Preview":"Preview Scaled Quantities"})}),e.jsx("div",{children:e.jsx("button",{onClick:M,disabled:u===1,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Scaling"})})]}),h&&u!==1&&e.jsx("div",{className:"mt-6 overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Qty"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scaled Qty"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Change"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(b=>{const L=$[b.project_item_id]||b.quantity,v=L-b.quantity;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:b.product_name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:b.quantity}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 text-right",children:L}),e.jsxs("td",{className:`px-4 py-3 text-sm text-right font-medium ${v>0?"text-green-600":v<0?"text-red-600":"text-gray-500"}`,children:[v>0?"+":"",v]})]},b.project_item_id)})})]})})]}),F.length>0&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6 mb-8",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(as,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-900 mb-2",children:"Stock Availability Issues"}),e.jsxs("p",{className:"text-sm text-amber-800 mb-3",children:[F.length," ",F.length===1?"item has":"items have"," insufficient stock:"]}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-amber-700",children:F.map(b=>e.jsxs("li",{children:[e.jsx("span",{className:"font-medium",children:b.product_name})," - ","Needed: ",b.quantity,", Available: ",b.stock_quantity]},b.project_item_id))})]})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Project Items (",E.length,")"]}),e.jsx("button",{onClick:A,disabled:C.isPending||E.length===0,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:C.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding to Cart..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"h-5 w-5 mr-2"}),"Load All to Cart"]})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(b=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[b.primary_image_url?e.jsx("img",{src:b.primary_image_url,alt:b.product_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Se,{className:"h-16 w-16 text-gray-300"})}),e.jsx("div",{className:"absolute top-3 right-3",children:b.availability_status==="available"?e.jsx("span",{className:"px-3 py-1 bg-green-600 text-white text-xs font-medium rounded-full",children:"In Stock"}):e.jsx("span",{className:"px-3 py-1 bg-red-600 text-white text-xs font-medium rounded-full",children:"Low Stock"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx(G,{to:`/product/${b.product_id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors line-clamp-2 mb-2",children:b.product_name}),e.jsxs("div",{className:"space-y-3 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Quantity:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:h&&u!==1?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"line-through text-gray-400 mr-2",children:b.quantity}),e.jsx("span",{className:"text-blue-600",children:$[b.project_item_id]})]}):b.quantity})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Original Price:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",b.saved_price.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current Price:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",b.current_price.toFixed(2)]})]}),b.price_change!==0&&e.jsx("div",{className:"pt-2",children:e.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${b.price_change>0?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:b.price_change>0?e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"h-3 w-3 mr-1"}),"+$",Math.abs(b.price_change).toFixed(2)," per unit"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ad,{className:"h-3 w-3 mr-1"}),"-$",Math.abs(b.price_change).toFixed(2)," per unit"]})})}),e.jsxs("div",{className:"pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal (Original):"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",b.line_total_saved.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal (Current):"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",b.line_total_current.toFixed(2)]})]})]}),b.availability_status==="insufficient_stock"&&e.jsx("div",{className:"pt-3",children:e.jsxs("div",{className:"flex items-center px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(as,{className:"h-4 w-4 text-amber-600 mr-2 flex-shrink-0"}),e.jsxs("span",{className:"text-xs text-amber-800",children:["Only ",b.stock_quantity," available"]})]})})]}),e.jsx(G,{to:`/product/${b.product_id}`,className:"mt-4 w-full inline-flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors text-sm",children:"View Product Details"})]})]},b.project_item_id))})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:"Ready to order?"}),e.jsx("p",{children:"Load all items to your cart and proceed to checkout."})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("button",{onClick:A,disabled:C.isPending||E.length===0,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-8 py-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:C.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding to Cart..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Je,{className:"h-5 w-5 mr-2"}),"Load to Cart (",E.length," items)"]})})})]})})]})})})},Jo="https://123create-construction-app-with-a.launchpulse.ai",PR=async t=>{const{data:s}=await H.get(`${Jo}/cart`,{headers:{Authorization:`Bearer ${t}`}});return s},AR=async t=>{const{data:s}=await H.get(`${Jo}/addresses`,{headers:{Authorization:`Bearer ${t}`}});return s},OR=async t=>{const{data:s}=await H.get(`${Jo}/payment-methods`,{headers:{Authorization:`Bearer ${t}`}});return s},$R=async(t,s)=>{const{data:r}=await H.post(`${Jo}/addresses`,s,{headers:{Authorization:`Bearer ${t}`}});return r},TR=async(t,s)=>{const{data:r}=await H.post(`${Jo}/payment-methods`,s,{headers:{Authorization:`Bearer ${t}`}});return r},ER=async(t,s)=>{const{data:r}=await H.post(`${Jo}/orders`,s,{headers:{Authorization:`Bearer ${t}`}});return r},MR=()=>{const t=Xe(),s=Fe(),r=ae(V=>V.authentication_state.auth_token),a=ae(V=>V.authentication_state.current_user),n=ae(V=>V.authentication_state.customer_profile),[i,l]=k.useState(null),[o,c]=k.useState(!1),[d,m]=k.useState({full_name:`${(a==null?void 0:a.first_name)||""} ${(a==null?void 0:a.last_name)||""}`.trim(),phone_number:(a==null?void 0:a.phone_number)||"",street_address:"",apt_suite:"",city:"",state:"",postal_code:"",delivery_instructions:"",address_type:"residential"}),[u,x]=k.useState({}),[h,f]=k.useState(null),[p,N]=k.useState(!1),[y,j]=k.useState(!1),[g,S]=k.useState({card_number:"",card_expiry_month:"",card_expiry_year:"",cvv:"",cardholder_name:`${(a==null?void 0:a.first_name)||""} ${(a==null?void 0:a.last_name)||""}`.trim(),save_for_future:!0}),[w,C]=k.useState(""),[_,$]=k.useState(!1),[F,T]=k.useState({}),[R,A]=k.useState(!1),{data:M,isLoading:P}=ie({queryKey:["cart"],queryFn:()=>PR(r),enabled:!!r,staleTime:0}),{data:E=[],isLoading:z}=ie({queryKey:["addresses"],queryFn:()=>AR(r),enabled:!!r}),{data:O=[],isLoading:b}=ie({queryKey:["paymentMethods"],queryFn:()=>OR(r),enabled:!!r}),L=ue({mutationFn:V=>$R(r,V),onSuccess:V=>{s.invalidateQueries({queryKey:["addresses"]}),l(V.address_id),c(!1),m({full_name:`${(a==null?void 0:a.first_name)||""} ${(a==null?void 0:a.last_name)||""}`.trim(),phone_number:(a==null?void 0:a.phone_number)||"",street_address:"",apt_suite:"",city:"",state:"",postal_code:"",delivery_instructions:"",address_type:"residential"})},onError:V=>{T(se=>{var J,oe;return{...se,address:((oe=(J=V.response)==null?void 0:J.data)==null?void 0:oe.message)||"Failed to add address"}})}}),v=ue({mutationFn:V=>TR(r,V),onSuccess:V=>{s.invalidateQueries({queryKey:["paymentMethods"]}),f(V.payment_method_id),N(!1),S({card_number:"",card_expiry_month:"",card_expiry_year:"",cvv:"",cardholder_name:`${(a==null?void 0:a.first_name)||""} ${(a==null?void 0:a.last_name)||""}`.trim(),save_for_future:!0})}}),D=ue({mutationFn:V=>ER(r,V),onSuccess:V=>{s.invalidateQueries({queryKey:["cart"]}),s.invalidateQueries({queryKey:["orders"]}),t(`/order-confirmation?order_id=${V.order_id}`)},onError:V=>{T(se=>{var J,oe;return{...se,submit:((oe=(J=V.response)==null?void 0:J.data)==null?void 0:oe.message)||"Failed to place order. Please try again."}})}}),U=k.useMemo(()=>{if(!(M!=null&&M.items))return[];const V={};return M.items.forEach(se=>{V[se.supplier_id]||(V[se.supplier_id]={supplier_id:se.supplier_id,supplier_name:se.business_name||se.supplier_name||"Unknown Supplier",logo_url:null,items:[],supplier_subtotal:0}),V[se.supplier_id].items.push(se),V[se.supplier_id].supplier_subtotal+=se.quantity*se.price_per_unit}),Object.values(V)},[M]),q=k.useMemo(()=>{const V=U.reduce((ve,Te)=>ve+Te.supplier_subtotal,0),se=U.length*50,J=(V+se)*.08,oe=0,je=V+se+J-oe;return{subtotal_amount:V,delivery_fee_total:se,tax_amount:J,discount_amount:oe,total_amount:je}},[U]);k.useEffect(()=>{if(E.length>0&&!i){const V=E.find(se=>se.is_default)||E[0];l(V.address_id)}},[E,i]),k.useEffect(()=>{if(O.length>0&&!h&&!y){const V=O.find(se=>se.is_default)||O[0];f(V.payment_method_id)}},[O,h,y]);const B=async()=>{if(T(V=>{const{address:se,...J}=V;return J}),!d.full_name||!d.phone_number||!d.street_address||!d.city||!d.state||!d.postal_code){T(V=>({...V,address:"All required fields must be filled"}));return}await L.mutateAsync({user_id:a==null?void 0:a.user_id,...d})},W=async()=>{T({});const V={};if(i||(V.address="Please select a delivery address"),U.filter(J=>!u[J.supplier_id]).length>0&&(V.delivery="Please select delivery windows for all suppliers"),!y&&!h&&!p&&(V.payment="Please select a payment method"),p&&((!g.card_number||g.card_number.length<15)&&(V.card_number="Valid card number required"),(!g.card_expiry_month||!g.card_expiry_year)&&(V.card_expiry="Valid expiry date required"),(!g.cvv||g.cvv.length<3)&&(V.cvv="Valid CVV required"),g.cardholder_name||(V.cardholder_name="Cardholder name required")),_||(V.terms="You must accept the Terms of Service"),Object.keys(V).length>0){T(V);return}try{let J=h;p&&!y&&(J=(await v.mutateAsync({user_id:a==null?void 0:a.user_id,payment_type:"credit_card",card_brand:I(g.card_number),card_last_four:g.card_number.slice(-4),card_expiry_month:g.card_expiry_month,card_expiry_year:g.card_expiry_year,cardholder_name:g.cardholder_name,payment_token:`tok_${Date.now()}`,is_default:g.save_for_future})).payment_method_id);const oe=Object.entries(u).map(([je])=>{const ve=new Date;ve.setDate(ve.getDate()+1);const Te=new Date(ve);Te.setHours(9,0,0);const Ke=new Date(ve);return Ke.setHours(12,0,0),{supplier_id:je,delivery_window_start:Te.toISOString(),delivery_window_end:Ke.toISOString(),delivery_method:"standard_delivery"}});await D.mutateAsync({delivery_address_id:i,payment_method:y?"trade_credit":"credit_card",customer_notes:w||null,promo_code_used:null,delivery_windows:oe})}catch(J){console.error("Order submission error:",J)}},I=V=>{const se=V.replace(/\s/g,"");return se.startsWith("4")?"Visa":se.startsWith("5")?"Mastercard":se.startsWith("3")?"Amex":"Unknown"},Q=V=>(V.replace(/\D/g,"").match(/.{1,4}/g)||[]).join(" ").substring(0,19),Z=P||z||b,Y=D.isPending||L.isPending||v.isPending;if(Z)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-64 mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-48"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-48"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-4 sticky top-24",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-32"}),e.jsx("div",{className:"h-48 bg-gray-200 rounded"})]})})]})]})})})});if(!(M!=null&&M.items)||M.items.length===0)return t("/cart"),null;const K=E.find(V=>V.address_id===i),te=(n==null?void 0:n.trade_credit_balance)||0;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 sm:py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Checkout"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Complete your order securely"})]}),e.jsx("div",{className:"mb-8 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center",children:e.jsx(Ce,{className:"w-5 h-5"})}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:"Cart"})]}),e.jsx("div",{className:"w-16 h-0.5 bg-blue-600"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-semibold",children:"2"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:"Checkout"})]}),e.jsx("div",{className:"w-16 h-0.5 bg-gray-300"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 text-gray-600 rounded-full flex items-center justify-center font-semibold",children:"3"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-500",children:"Confirmation"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(fs,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delivery Address"})]}),F.address&&e.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700",children:F.address})]}),E.length>0&&!o&&e.jsx("div",{className:"space-y-3",children:E.map(V=>e.jsxs("label",{className:`flex items-start p-4 border-2 rounded-lg cursor-pointer transition-all ${i===V.address_id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"address",value:V.address_id,checked:i===V.address_id,onChange:()=>l(V.address_id),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-gray-900",children:V.full_name}),V.is_default&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Default"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[V.street_address,V.apt_suite&&`, ${V.apt_suite}`]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[V.city,", ",V.state," ",V.postal_code]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:V.phone_number}),V.delivery_instructions&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2 italic",children:["Note: ",V.delivery_instructions]})]})]},V.address_id))}),o&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:d.full_name,onChange:V=>m(se=>({...se,full_name:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:d.phone_number,onChange:V=>m(se=>({...se,phone_number:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),e.jsx("input",{type:"text",value:d.street_address,onChange:V=>m(se=>({...se,street_address:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apt/Suite"}),e.jsx("input",{type:"text",value:d.apt_suite,onChange:V=>m(se=>({...se,apt_suite:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{type:"text",value:d.city,onChange:V=>m(se=>({...se,city:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),e.jsx("input",{type:"text",value:d.state,onChange:V=>m(se=>({...se,state:V.target.value})),maxLength:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),e.jsx("input",{type:"text",value:d.postal_code,onChange:V=>m(se=>({...se,postal_code:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),e.jsx("textarea",{value:d.delivery_instructions,onChange:V=>m(se=>({...se,delivery_instructions:V.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Leave at back door, call on arrival"})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-2",children:[e.jsx("button",{type:"button",onClick:B,disabled:L.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:L.isPending?"Saving...":"Save Address"}),e.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}),!o&&e.jsxs("button",{type:"button",onClick:()=>c(!0),className:"mt-4 flex items-center text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:[e.jsx($t,{className:"w-4 h-4 mr-1"}),"Add New Address"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Zt,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delivery Scheduling"})]}),F.delivery&&e.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700",children:F.delivery})]}),K&&e.jsxs("div",{className:"mb-4 text-sm text-gray-600 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Delivering to:"}),e.jsxs("p",{className:"text-blue-700",children:[K.street_address,", ",K.city,", ",K.state," ",K.postal_code]})]}),e.jsx("div",{className:"space-y-6",children:U.map(V=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:V.supplier_name}),e.jsxs("span",{className:"text-sm text-gray-500",children:[V.items.length," item",V.items.length!==1?"s":""]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mb-3",children:["morning","afternoon"].map(se=>{const J=`${V.supplier_id}_${se}`,oe=new Date;oe.setDate(oe.getDate()+1);const je=oe.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),ve=se==="morning"?"9AM - 12PM":"1PM - 5PM";return e.jsxs("label",{className:`flex items-start p-3 border-2 rounded-lg cursor-pointer transition-all ${u[V.supplier_id]===J?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:`delivery_${V.supplier_id}`,value:J,checked:u[V.supplier_id]===J,onChange:()=>x(Te=>({...Te,[V.supplier_id]:J})),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:je}),e.jsx("div",{className:"text-sm text-gray-600",children:ve}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"$50.00 delivery"})]}),u[V.supplier_id]===J&&e.jsx(Ce,{className:"w-5 h-5 text-blue-600 ml-2"})]},J)})})]},V.supplier_id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("button",{type:"button",onClick:()=>A(!R),className:"flex items-center justify-between w-full mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Review Your Order"})]}),R?e.jsx(Br,{className:"w-5 h-5 text-gray-500"}):e.jsx(ds,{className:"w-5 h-5 text-gray-500"})]}),R&&e.jsx("div",{className:"space-y-4 pt-2",children:U.map(V=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:V.supplier_name}),e.jsx("div",{className:"space-y-3",children:V.items.map(se=>e.jsxs("div",{className:"flex items-center space-x-3",children:[se.primary_image_url&&e.jsx("img",{src:se.primary_image_url,alt:se.product_name,className:"w-16 h-16 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:se.product_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Qty: ",se.quantity,"  $",se.price_per_unit.toFixed(2)]})]}),e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",(se.quantity*se.price_per_unit).toFixed(2)]})]},se.cart_item_id))}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Supplier Subtotal"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",V.supplier_subtotal.toFixed(2)]})]})]},V.supplier_id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(tr,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Payment Method"})]}),F.payment&&e.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700",children:F.payment})]}),te>0&&(n==null?void 0:n.account_type)==="trade"&&e.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:V=>{j(V.target.checked),V.target.checked&&(f(null),N(!1))},className:"mt-1 w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-semibold text-green-900",children:"Use Trade Credit"}),e.jsxs("div",{className:"text-sm text-green-700 mt-1",children:["Available: $",te.toFixed(2)," | Terms: Net 30 Days"]}),q.total_amount>te&&e.jsxs("div",{className:"text-xs text-green-600 mt-2",children:["$",q.total_amount.toFixed(2)," exceeds available credit. Additional payment required."]})]})]})}),!y&&e.jsxs(e.Fragment,{children:[O.length>0&&!p&&e.jsx("div",{className:"space-y-3 mb-4",children:O.map(V=>e.jsxs("label",{className:`flex items-center p-4 border-2 rounded-lg cursor-pointer transition-all ${h===V.payment_method_id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"payment",value:V.payment_method_id,checked:h===V.payment_method_id,onChange:()=>f(V.payment_method_id),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{className:"ml-3 flex-1 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[V.card_brand,"  ",V.card_last_four]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Expires ",V.card_expiry_month,"/",V.card_expiry_year]})]}),V.is_default&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Default"})]})]},V.payment_method_id))}),p&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number *"}),e.jsx("input",{type:"text",value:g.card_number,onChange:V=>{const se=Q(V.target.value);S(J=>({...J,card_number:se})),T(J=>{const{card_number:oe,...je}=J;return je})},maxLength:19,placeholder:"1234 5678 9012 3456",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${F.card_number?"border-red-300":"border-gray-300"}`}),F.card_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:F.card_number})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month *"}),e.jsx("input",{type:"text",value:g.card_expiry_month,onChange:V=>{const se=V.target.value.replace(/\D/g,"").substring(0,2);S(J=>({...J,card_expiry_month:se}))},placeholder:"MM",maxLength:2,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${F.card_expiry?"border-red-300":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year *"}),e.jsx("input",{type:"text",value:g.card_expiry_year,onChange:V=>{const se=V.target.value.replace(/\D/g,"").substring(0,4);S(J=>({...J,card_expiry_year:se}))},placeholder:"YYYY",maxLength:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${F.card_expiry?"border-red-300":"border-gray-300"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV *"}),e.jsx("input",{type:"text",value:g.cvv,onChange:V=>{const se=V.target.value.replace(/\D/g,"").substring(0,4);S(J=>({...J,cvv:se}))},placeholder:"123",maxLength:4,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${F.cvv?"border-red-300":"border-gray-300"}`})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name *"}),e.jsx("input",{type:"text",value:g.cardholder_name,onChange:V=>S(se=>({...se,cardholder_name:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:g.save_for_future,onChange:V=>S(se=>({...se,save_for_future:V.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Save this card for future purchases"})]}),e.jsx("button",{type:"button",onClick:()=>{N(!1),S({card_number:"",card_expiry_month:"",card_expiry_year:"",cvv:"",cardholder_name:`${(a==null?void 0:a.first_name)||""} ${(a==null?void 0:a.last_name)||""}`.trim(),save_for_future:!0})},className:"text-sm text-gray-600 hover:text-gray-800",children:"Cancel"})]}),!p&&!y&&e.jsxs("button",{type:"button",onClick:()=>{N(!0),f(null)},className:"flex items-center text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:[e.jsx($t,{className:"w-4 h-4 mr-1"}),"Add New Card"]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex items-center justify-center space-x-6 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Pd,{className:"w-4 h-4 mr-1"}),"SSL Secure"]}),e.jsx("div",{children:"PCI Compliant"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 lg:p-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Notes (Optional)"}),e.jsx("textarea",{value:w,onChange:V=>C(V.target.value),rows:3,maxLength:1e3,placeholder:"Any special instructions? (e.g., gate code, preferred contact time)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[w.length,"/1000 characters"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 lg:p-8 sticky top-24",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["Subtotal (",(M==null?void 0:M.total_items)||0," items)"]}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",q.subtotal_amount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Fees"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",q.delivery_fee_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Tax"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",q.tax_amount.toFixed(2)]})]}),q.discount_amount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Discount"}),e.jsxs("span",{className:"font-medium text-green-600",children:["-$",q.discount_amount.toFixed(2)]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",q.total_amount.toFixed(2)]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:_,onChange:V=>{$(V.target.checked),T(se=>{const{terms:J,...oe}=se;return oe})},className:`mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 ${F.terms?"border-red-300":""}`}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["I agree to the"," ",e.jsx("a",{href:"/terms",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",target:"_blank",className:"text-blue-600 hover:text-blue-700 underline",children:"Privacy Policy"})]})]}),F.terms&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:F.terms})]}),F.submit&&e.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3 flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-red-700",children:F.submit})]}),e.jsx("button",{type:"button",onClick:W,disabled:Y,className:"w-full bg-blue-600 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl flex items-center justify-center",children:Y?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pd,{className:"w-5 h-5 mr-2"}),"Place Order  $",q.total_amount.toFixed(2)]})}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 space-y-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-600 mr-2"}),e.jsx("span",{children:"Secure 256-bit SSL encryption"})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-600 mr-2"}),e.jsx("span",{children:"PCI DSS compliant payments"})]}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-600 mr-2"}),e.jsx("span",{children:"100% purchase protection"})]})]})]})})]})]})})})},FR=async(t,s)=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,RR=async(t,s)=>{const a=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}/invoice`,{headers:{Authorization:`Bearer ${s}`},responseType:"blob"}),n=window.URL.createObjectURL(new Blob([a.data])),i=document.createElement("a");i.href=n,i.setAttribute("download",`invoice-${t}.pdf`),document.body.appendChild(i),i.click(),i.remove(),window.URL.revokeObjectURL(n)},LR=t=>{const s={};return t.forEach(r=>{s[r.supplier_id]||(s[r.supplier_id]={supplier_name:`Supplier ${r.supplier_id.slice(0,8)}`,supplier_logo:null,items:[]}),s[r.supplier_id].items.push({order_item_id:r.order_item_id,product_id:r.product_id,product_name:r.product_name,sku:r.sku,quantity:r.quantity,price_per_unit:r.price_per_unit,line_total:r.line_total})}),s},DR=t=>new Date(t).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),IR=(t,s)=>{const r=new Date(t),a=new Date(s),n=r.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"}),i=r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),l=a.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return`${n} | ${i} - ${l}`},BR=t=>{navigator.clipboard.writeText(t).catch(s=>{console.error("Failed to copy:",s)})},qR=()=>{const t=Xe(),[s]=Ie(),r=ae(w=>w.authentication_state.auth_token),a=ae(w=>w.authentication_state.current_user),n=s.get("order_id"),[i,l]=k.useState(!1),[o,c]=k.useState({}),{data:d,isLoading:m,error:u}=ie({queryKey:["order-confirmation",n],queryFn:()=>FR(n,r),enabled:!!n&&!!r,staleTime:6e4,refetchOnWindowFocus:!1});k.useEffect(()=>{n||t("/orders",{replace:!0})},[n,t]);const x=d==null?void 0:d.order,h=d?LR(d.items):{},f=d!=null&&d.delivery?Array.isArray(d.delivery)?d.delivery:[d.delivery]:[],p=()=>{x!=null&&x.order_number&&(BR(x.order_number),l(!0),setTimeout(()=>l(!1),2e3))},N=async()=>{if(x&&r)try{await RR(x.order_id,r)}catch(w){console.error("Failed to download invoice:",w)}},y=()=>{x&&t(`/orders/${x.order_id}`)},j=()=>{t("/products")},g=()=>{window.print()},S=w=>{c(C=>({...C,[w]:!C[w]}))};return m?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12 px-4",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 animate-pulse",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-64"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-48"})]}),e.jsxs("div",{className:"mt-12 space-y-4",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})]})})})}):u||!x?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find the order confirmation you're looking for."}),e.jsx("button",{onClick:()=>t("/orders"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"View My Orders"})]})})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"w-24 h-24 text-white animate-bounce",strokeWidth:2}),e.jsx("div",{className:"absolute inset-0 bg-white rounded-full animate-ping opacity-20"})]})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:"Order Confirmed! "}),e.jsxs("p",{className:"text-xl text-green-50",children:["Thank you for your order, ",(a==null?void 0:a.first_name)||"valued customer","!"]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-b border-gray-200",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Order Number"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.order_number})]}),e.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors","aria-label":"Copy order number",children:[e.jsx(kv,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:i?"Copied!":"Copy"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Placed on ",DR(x.order_date)]})]})]}),f.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Zt,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Estimated Delivery"})]}),e.jsx("div",{className:"space-y-4",children:f.map(w=>{const C=h[w.supplier_id];return e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:(C==null?void 0:C.supplier_name)||"Supplier"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ft,{className:"w-4 h-4"}),e.jsx("span",{children:IR(w.delivery_window_start,w.delivery_window_end)})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Delivery Method: ",w.delivery_method.replace(/_/g," ").replace(/\b\w/g,_=>_.toUpperCase())]})]}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Track"})]})},w.delivery_id)})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(Se,{className:"w-6 h-6 text-blue-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Order Summary"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(h).map(([w,C])=>{const _=o[w]??!0;return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>S(w),className:"w-full px-4 py-3 bg-gray-50 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(Se,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:C.supplier_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[C.items.length," ",C.items.length===1?"item":"items"]})]})]}),_?e.jsx(Br,{className:"w-5 h-5 text-gray-600"}):e.jsx(ds,{className:"w-5 h-5 text-gray-600"})]}),_&&e.jsx("div",{className:"p-4 space-y-3",children:C.items.map($=>e.jsxs("div",{className:"flex items-start gap-4 py-3 border-b border-gray-100 last:border-b-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 mb-1",children:$.product_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",$.sku]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Qty: ",$.quantity]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["$",$.price_per_unit.toFixed(2)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",$.line_total.toFixed(2)]})})]},$.order_item_id))})]},w)})}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",x.subtotal_amount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Delivery"}),e.jsxs("span",{children:["$",x.delivery_fee_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Taxes"}),e.jsxs("span",{children:["$",x.tax_amount.toFixed(2)]})]}),x.discount_amount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount"}),e.jsxs("span",{children:["-$",x.discount_amount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-gray-900 pt-2 border-t border-gray-300",children:[e.jsx("span",{children:"Total Paid"}),e.jsxs("span",{children:["$",x.total_amount.toFixed(2)]})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Payment Method:"})," ",x.payment_method==="credit_card"&&"Credit Card",x.payment_method==="debit_card"&&"Debit Card",x.payment_method==="trade_credit"&&"Trade Credit"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"What Happens Next"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-green-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Order Confirmed"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your order has been received and is being processed"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Se,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Supplier Preparing"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your supplier(s) will prepare your order within 24 hours"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Zt,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Out for Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You'll receive live GPS tracking when your order is on the way"})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(fs,{className:"w-5 h-5 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Delivered"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Your order will arrive during the scheduled delivery window"})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-800",children:" You'll receive updates via email and SMS at every step"})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 hover:shadow-lg transition-all duration-200",children:[e.jsx(Zt,{className:"w-5 h-5"}),e.jsx("span",{children:"Track Order"})]}),e.jsxs("button",{onClick:N,className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-100 text-gray-900 border border-gray-300 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{children:"Download Invoice"})]}),e.jsxs("button",{onClick:g,className:"flex items-center justify-center gap-2 px-6 py-3 bg-gray-100 text-gray-900 border border-gray-300 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),e.jsx("span",{children:"Print"})]}),e.jsxs("button",{onClick:j,className:"flex items-center justify-center gap-2 px-6 py-3 bg-white text-blue-600 border border-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:[e.jsx(sS,{className:"w-5 h-5"}),e.jsx("span",{children:"Continue Shopping"})]})]})}),x.customer_notes&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mt-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Notes"}),e.jsx("p",{className:"text-gray-700",children:x.customer_notes})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6 mt-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"Need help with your order?"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>t("/support"),className:"px-6 py-2 bg-white text-blue-600 border border-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:"Contact Support"}),e.jsx("button",{onClick:()=>t("/help"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Visit Help Center"})]})]})})]})})})},i_=[{value:"pending",label:"Pending",color:"orange"},{value:"processing",label:"Processing",color:"orange"},{value:"shipped",label:"Shipped",color:"blue"},{value:"in_transit",label:"In Transit",color:"blue"},{value:"delivered",label:"Delivered",color:"green"},{value:"cancelled",label:"Cancelled",color:"red"}],l_=[{value:"all_time",label:"All Time"},{value:"today",label:"Today"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"last_3_months",label:"Last 3 Months"},{value:"last_6_months",label:"Last 6 Months"},{value:"last_year",label:"Last Year"}],M0=[{value:"order_date_desc",label:"Newest First",sort_by:"order_date",sort_order:"desc"},{value:"order_date_asc",label:"Oldest First",sort_by:"order_date",sort_order:"asc"},{value:"total_amount_desc",label:"Highest Value",sort_by:"total_amount",sort_order:"desc"},{value:"total_amount_asc",label:"Lowest Value",sort_by:"total_amount",sort_order:"asc"}],cS=20,zR=async(t,s,r,a,n,i,l,o)=>{const c=cS,d=(l-1)*c,m={limit:c,offset:d,sort_by:n,sort_order:i};return s&&(m.status_filter=s),r!=="all_time"&&(m.date_range=r),a&&(m.supplier_id=a),(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/orders",{headers:{Authorization:`Bearer ${t}`},params:m})).data},UR=()=>{var P,E;const t=ae(z=>z.authentication_state.auth_token),s=ae(z=>{var O;return(O=z.authentication_state.customer_profile)==null?void 0:O.customer_id}),[r,a]=Ie(),n=r.get("status_filter"),i=r.get("date_range")||"all_time",l=r.get("supplier_id"),o=r.get("sort_by")||"order_date_desc",c=parseInt(r.get("page")||"1",10),[d,m]=k.useState(""),[u,x]=k.useState(""),h=k.useMemo(()=>{const z=M0.find(O=>O.value===o)||M0[0];return{sort_by:z.sort_by,sort_order:z.sort_order}},[o]);k.useEffect(()=>{const z=setTimeout(()=>{x(d)},300);return()=>clearTimeout(z)},[d]);const{data:f,isLoading:p,isError:N,error:y,refetch:j}=ie({queryKey:["orders",s,n,i,l,h.sort_by,h.sort_order,c,u],queryFn:()=>zR(t,n,i,l,h.sort_by,h.sort_order,c),enabled:!!t&&!!s,staleTime:3e4,refetchOnWindowFocus:!1}),g=(f==null?void 0:f.orders)||[],S=(f==null?void 0:f.total)||0,w=Math.ceil(S/cS),C=z=>{const O=new URLSearchParams(r);z?O.set("status_filter",z):O.delete("status_filter"),O.set("page","1"),a(O)},_=z=>{const O=new URLSearchParams(r);O.set("date_range",z),O.set("page","1"),a(O)},$=z=>{const O=new URLSearchParams(r);O.set("sort_by",z),O.set("page","1"),a(O)},F=z=>{const O=new URLSearchParams(r);O.set("page",z.toString()),a(O),window.scrollTo({top:0,behavior:"smooth"})},T=()=>{a({}),m("")},R=n||i!=="all_time"||l||d,A=z=>{switch(z){case"pending":case"processing":return"bg-orange-100 text-orange-800 border-orange-200";case"shipped":case"in_transit":return"bg-blue-100 text-blue-800 border-blue-200";case"delivered":return"bg-green-100 text-green-800 border-green-200";case"cancelled":case"refunded":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},M=z=>{switch(z){case"pending":case"processing":return e.jsx(Se,{className:"w-4 h-4"});case"shipped":case"in_transit":return e.jsx(Zt,{className:"w-4 h-4"});case"delivered":return e.jsx(fs,{className:"w-4 h-4"});case"cancelled":return e.jsx(be,{className:"w-4 h-4"});default:return e.jsx(Se,{className:"w-4 h-4"})}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:items-center md:justify-between md:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Orders"}),e.jsx("p",{className:"mt-2 text-base text-gray-600",children:"Track and manage all your construction material orders"})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ut,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",value:d,onChange:z=>m(z.target.value),placeholder:"Search orders by number or product...",className:"block w-full pl-10 pr-3 py-3 border-2 border-gray-200 rounded-lg leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),d&&e.jsx("button",{onClick:()=>m(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(be,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden sticky top-24",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx($r,{className:"w-5 h-5 mr-2"}),"Filters"]}),R&&e.jsx("button",{onClick:T,className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Clear"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Order Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>C(null),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${n?"text-gray-700 hover:bg-gray-50 border-2 border-transparent":"bg-blue-50 text-blue-700 border-2 border-blue-200"}`,children:"All Orders"}),i_.map(z=>e.jsx("button",{onClick:()=>C(z.value),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${n===z.value?"bg-blue-50 text-blue-700 border-2 border-blue-200":"text-gray-700 hover:bg-gray-50 border-2 border-transparent"}`,children:z.label},z.value))]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Date Range"}),e.jsx("div",{className:"space-y-2",children:l_.map(z=>e.jsx("button",{onClick:()=>_(z.value),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${i===z.value?"bg-blue-50 text-blue-700 border-2 border-blue-200":"text-gray-700 hover:bg-gray-50 border-2 border-transparent"}`,children:z.label},z.value))})]})]})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[R&&e.jsx("div",{className:"mb-6 lg:hidden",children:e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active Filters:"}),n&&e.jsxs("button",{onClick:()=>C(null),className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:["Status: ",(P=i_.find(z=>z.value===n))==null?void 0:P.label,e.jsx(be,{className:"ml-2 w-3 h-3"})]}),i!=="all_time"&&e.jsxs("button",{onClick:()=>_("all_time"),className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 transition-colors",children:[(E=l_.find(z=>z.value===i))==null?void 0:E.label,e.jsx(be,{className:"ml-2 w-3 h-3"})]}),e.jsx("button",{onClick:T,className:"text-sm text-gray-600 hover:text-gray-900 font-medium",children:"Clear All"})]})}),e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-900",children:S}),e.jsxs("span",{className:"ml-1",children:[S===1?"order":"orders"," found"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{htmlFor:"sort",className:"text-sm font-medium text-gray-700",children:"Sort by:"}),e.jsx("select",{id:"sort",value:o,onChange:z=>$(z.target.value),className:"block w-48 pl-3 pr-10 py-2 text-sm border-2 border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 rounded-lg transition-all duration-200",children:M0.map(z=>e.jsx("option",{value:z.value,children:z.label},z.value))})]})]}),p&&e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(z=>e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})]})},z))}),N&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-8 text-center",children:[e.jsx(he,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Failed to Load Orders"}),e.jsx("p",{className:"text-red-700 mb-4",children:H.isAxiosError(y)?y.message:"An unexpected error occurred"}),e.jsxs("button",{onClick:()=>j(),className:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:[e.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!p&&!N&&g.length===0&&e.jsxs("div",{className:"bg-white rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[e.jsx(Se,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:R?"No Orders Found":"No Orders Yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:R?"No orders match your current filters. Try adjusting your search or filters.":"You haven't placed any orders yet. Start browsing construction materials to get started."}),R?e.jsxs("button",{onClick:T,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),"Clear Filters"]}):e.jsxs(G,{to:"/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(ut,{className:"w-4 h-4 mr-2"}),"Browse Products"]})]}),!p&&!N&&g.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:g.map(z=>e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg hover:border-blue-200 transition-all duration-200 group",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[z.primary_product_thumbnail&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:z.primary_product_thumbnail,alt:"Order product",className:"w-20 h-20 object-cover rounded-lg border-2 border-gray-100"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:z.order_number}),e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${A(z.status)}`,children:[M(z.status),e.jsx("span",{className:"ml-1.5 capitalize",children:z.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ft,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{children:["Placed on"," ",new Date(z.order_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Be,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",z.total_amount.toFixed(2)]})]}),z.items_count&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsxs("span",{children:[z.items_count," ",z.items_count===1?"item":"items"]})]})]})]})]})}),e.jsxs("div",{className:"flex lg:flex-col items-center lg:items-end space-x-2 lg:space-x-0 lg:space-y-2",children:[e.jsxs(G,{to:`/orders/${z.order_id}`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-all duration-200 hover:shadow-lg",children:[e.jsx(Lt,{className:"w-4 h-4 mr-2"}),"View Details"]}),z.status==="delivered"&&e.jsxs(G,{to:`/orders/${z.order_id}/reorder`,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-all duration-200 border border-gray-300",children:[e.jsx(eS,{className:"w-4 h-4 mr-2"}),"Reorder"]})]})]})})},z.order_id))}),w>1&&e.jsx("div",{className:"mt-8 flex items-center justify-center",children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-lg shadow-sm -space-x-px","aria-label":"Pagination",children:[e.jsx("button",{onClick:()=>F(c-1),disabled:c===1,className:"relative inline-flex items-center px-4 py-2 rounded-l-lg border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ms,{className:"w-5 h-5"})}),Array.from({length:Math.min(w,7)},(z,O)=>{let b;return w<=7||c<=4?b=O+1:c>=w-3?b=w-6+O:b=c-3+O,e.jsx("button",{onClick:()=>F(b),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium transition-colors ${c===b?"z-10 bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:b},b)}),e.jsx("button",{onClick:()=>F(c+1),disabled:c===w,className:"relative inline-flex items-center px-4 py-2 rounded-r-lg border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Qe,{className:"w-5 h-5"})})]})}),w>1&&e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Showing page ",c," of ",w," (",S," total orders)"]})]})]})]})})]})})},WR=async(t,s)=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,VR=async(t,s,r)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}/cancel`,{cancellation_reason:s},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,HR=async(t,s,r,a)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/deliveries/${t}/reschedule`,{delivery_window_start:s,delivery_window_end:r},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data,KR=async(t,s)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}/reorder`,{},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,GR=async(t,s)=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}/invoice`,{headers:{Authorization:`Bearer ${s}`},responseType:"blob"})).data,YR=()=>{var K,te,V,se;const{order_id:t}=an(),s=Xe(),r=Fe(),a=ae(J=>J.authentication_state.auth_token),n=ae(J=>J.fetch_cart),i=ae(J=>J.websocket_connection),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,u]=k.useState(""),[x,h]=k.useState(""),[f,p]=k.useState(""),[N,y]=k.useState(null),[j,g]=k.useState(null);if(!t)return s("/orders"),null;if(!a)return s("/login"),null;const{data:S,isLoading:w,error:C,refetch:_}=ie({queryKey:["order",t],queryFn:()=>WR(t,a),enabled:!!t&&!!a,staleTime:3e4,retry:1}),$=ue({mutationFn:J=>VR(t,J,a),onSuccess:()=>{r.invalidateQueries({queryKey:["order",t]}),o(!1),u("")}}),F=ue({mutationFn:({delivery_id:J,start:oe,end:je})=>HR(J,oe,je,a),onSuccess:()=>{r.invalidateQueries({queryKey:["order",t]}),d(!1),h(""),p("")}}),T=ue({mutationFn:()=>KR(t,a),onSuccess:()=>{n(),s("/cart")}});if(k.useEffect(()=>{if(!i||!t||!S)return;i.emit("subscribe_order",{order_id:t});const J=S.delivery;J&&J.delivery_status==="out_for_delivery"&&i.emit("subscribe_delivery",{delivery_id:J.delivery_id});const oe=ve=>{ve.order_id===t&&r.invalidateQueries({queryKey:["order",t]})},je=ve=>{if(ve.current_latitude&&ve.current_longitude&&(y({latitude:ve.current_latitude,longitude:ve.current_longitude}),ve.estimated_arrival_time)){const Te=new Date(ve.estimated_arrival_time).getTime()-Date.now();g(Math.max(0,Math.floor(Te/6e4)))}};return i.on("order_status_changed",oe),i.on("delivery_location_updated",je),()=>{i.off("order_status_changed",oe),i.off("delivery_location_updated",je),i.emit("unsubscribe_order",{order_id:t}),J&&i.emit("unsubscribe_delivery",{delivery_id:J.delivery_id})}},[i,t,S,r]),!S)return null;const R=S.order,A=S.items||[],M=S.delivery,P=S.timeline||[],E=A.reduce((J,oe)=>(J[oe.supplier_id]||(J[oe.supplier_id]=[]),J[oe.supplier_id].push(oe),J),{}),z=["pending","processing"].includes(R.status),O=M&&["scheduled","preparing"].includes(M.delivery_status),b=M&&M.delivery_status==="out_for_delivery",L=!["cancelled","refunded"].includes(R.status),v=R.status==="delivered",D=R.status==="delivered",U={pending:{bg:"bg-yellow-100",text:"text-yellow-800",border:"border-yellow-300"},processing:{bg:"bg-blue-100",text:"text-blue-800",border:"border-blue-300"},shipped:{bg:"bg-indigo-100",text:"text-indigo-800",border:"border-indigo-300"},in_transit:{bg:"bg-purple-100",text:"text-purple-800",border:"border-purple-300"},delivered:{bg:"bg-green-100",text:"text-green-800",border:"border-green-300"},cancelled:{bg:"bg-red-100",text:"text-red-800",border:"border-red-300"},refunded:{bg:"bg-gray-100",text:"text-gray-800",border:"border-gray-300"}},q=U[R.status]||U.pending,B=J=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(J),W=J=>new Date(J).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),I=async()=>{try{const J=await GR(t,a),oe=window.URL.createObjectURL(J),je=document.createElement("a");je.href=oe,je.download=`Invoice-${R.order_number}.pdf`,document.body.appendChild(je),je.click(),window.URL.revokeObjectURL(oe),document.body.removeChild(je)}catch(J){console.error("Invoice download failed:",J)}},Q=()=>{m.trim()&&$.mutate(m)},Z=()=>{!M||!x||!f||F.mutate({delivery_id:M.delivery_id,start:x,end:f})},Y=()=>{T.mutate()};return e.jsxs(e.Fragment,{children:[w&&e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading order details..."})]})}),C&&e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white border-2 border-red-200 rounded-xl p-8 shadow-lg text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(as,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find this order. It may have been removed or you may not have access to it."}),e.jsx(G,{to:"/orders",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"View All Orders"})]})})}),!w&&!C&&S&&e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(G,{to:"/orders",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(Qe,{className:"w-4 h-4 rotate-180 mr-1"}),"Back to Orders"]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Order #",R.order_number]}),e.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold border ${q.bg} ${q.text} ${q.border}`,children:R.status.replace("_"," ").toUpperCase()})]}),e.jsxs("p",{className:"text-gray-600",children:["Placed on ",W(R.order_date)]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[z&&e.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),"Cancel Order"]}),v&&e.jsxs("button",{onClick:Y,disabled:T.isPending,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(eS,{className:"w-4 h-4 mr-2"}),T.isPending?"Adding to cart...":"Reorder"]}),e.jsxs("button",{onClick:I,className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-colors border border-gray-300",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Download Invoice"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Timeline"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-4 left-4 h-full w-0.5 bg-gray-200"}),e.jsx("div",{className:"space-y-6",children:P.map((J,oe)=>{const je=J.status==="completed",ve=oe===P.length-1&&!["delivered","cancelled","refunded"].includes(R.status);return e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:`relative z-10 flex items-center justify-center w-8 h-8 rounded-full border-4 ${je?"bg-green-500 border-green-200":ve?"bg-blue-500 border-blue-200 animate-pulse":"bg-gray-300 border-gray-100"}`,children:je&&e.jsx(fe,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1 pb-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-base font-semibold ${je?"text-gray-900":"text-gray-600"}`,children:J.milestone.replace(/_/g," ").replace(/\b\w/g,Te=>Te.toUpperCase())}),J.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:J.description})]}),e.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap ml-4",children:new Date(J.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:W(J.timestamp)})]})]},oe)})})]})]}),b&&M&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Live Delivery Tracking"}),j!==null&&e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-800 rounded-lg",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-semibold",children:["ETA: ",j," min"]})]})]}),e.jsx("div",{className:"bg-gray-100 rounded-lg h-96 flex items-center justify-center border-2 border-gray-300 mb-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx(fs,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Live GPS Tracking"}),N&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Location: ",N.latitude.toFixed(6),", ",N.longitude.toFixed(6)]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Driver: ",M.driver_name||"En route"]})]})}),M.driver_name&&e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Bs,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:M.driver_name}),e.jsx("p",{className:"text-sm text-gray-600",children:M.carrier||"Delivery Driver"})]})]}),M.driver_phone&&e.jsxs("a",{href:`tel:${M.driver_phone}`,className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),"Call Driver"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Items"}),Object.entries(E).map(([J,oe])=>{var je;return e.jsxs("div",{className:"mb-6 last:mb-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-200",children:[e.jsx(Se,{className:"w-5 h-5 text-gray-600"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["Supplier: ",(je=oe[0])==null?void 0:je.supplier_id]})]}),e.jsx("div",{className:"space-y-3",children:oe.map(ve=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Se,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(G,{to:`/product/${ve.product_id}`,className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors truncate block",children:ve.product_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",ve.sku]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",ve.quantity]})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[B(ve.price_per_unit)," each"]}),e.jsx("p",{className:"font-bold text-gray-900",children:B(ve.line_total)})]})]},ve.order_item_id))})]},J)})]}),M&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delivery Information"}),O&&e.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:[e.jsx(Ft,{className:"w-4 h-4 mr-1"}),"Reschedule"]})]}),e.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-blue-900",children:M.delivery_status.replace("_"," ").replace(/\b\w/g,J=>J.toUpperCase())})]}),e.jsxs("p",{className:"text-sm text-blue-800",children:["Delivery Window: ",W(M.delivery_window_start)," - ",new Date(M.delivery_window_end).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),M.tracking_number&&e.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:["Tracking: ",M.tracking_number]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Delivery Address"}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:R.delivery_address_id}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["(Address details loaded from address_id: ",R.delivery_address_id,")"]})]})]}),M.delivery_status==="delivered"&&e.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"Delivered Successfully"})]}),e.jsxs("p",{className:"text-sm text-green-800",children:["Delivered on ",M.actual_delivery_time?W(M.actual_delivery_time):"N/A"]}),M.delivery_proof_photo_url&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-green-800 mb-2",children:"Delivery Proof:"}),e.jsx("img",{src:M.delivery_proof_photo_url,alt:"Delivery proof",className:"rounded-lg border border-green-300 max-w-xs"})]}),M.delivery_notes&&e.jsxs("p",{className:"text-sm text-green-800 mt-2",children:["Note: ",M.delivery_notes]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:B(R.subtotal_amount)})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Delivery Fee:"}),e.jsx("span",{children:B(R.delivery_fee_total)})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Tax:"}),e.jsx("span",{children:B(R.tax_amount)})]}),R.discount_amount>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{children:["-",B(R.discount_amount)]})]}),e.jsx("div",{className:"pt-3 border-t-2 border-gray-300",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:B(R.total_amount)})]})})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Payment Method"}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-900",children:[e.jsx(tr,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"capitalize",children:R.payment_method.replace("_"," ")})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status: ",e.jsx("span",{className:"font-medium capitalize",children:R.payment_status})]}),R.promo_code_used&&e.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Promo code applied: ",R.promo_code_used]})]}),R.customer_notes&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Order Notes"}),e.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',R.customer_notes,'"']})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-3",children:[L&&e.jsxs(G,{to:`/report-issue?order_id=${t}`,className:"w-full inline-flex items-center justify-center px-4 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors",children:[e.jsx(as,{className:"w-4 h-4 mr-2"}),"Report Issue"]}),e.jsxs("button",{onClick:()=>s("/support"),className:"w-full inline-flex items-center justify-center px-4 py-3 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-colors border border-gray-300",children:[e.jsx(Cs,{className:"w-4 h-4 mr-2"}),"Contact Support"]}),D&&e.jsx(G,{to:`/account/reviews?order_id=${t}`,className:"w-full inline-flex items-center justify-center px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Leave Review"})]})]})]})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancel Order"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Are you sure you want to cancel this order? This action cannot be undone."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"cancellation_reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for cancellation"}),e.jsx("textarea",{id:"cancellation_reason",value:m,onChange:J=>u(J.target.value),rows:3,placeholder:"Please tell us why you're cancelling...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),$.error&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:H.isAxiosError($.error)?((te=(K=$.error.response)==null?void 0:K.data)==null?void 0:te.message)||"Failed to cancel order":"An error occurred"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{o(!1),u("")},disabled:$.isPending,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Keep Order"}),e.jsx("button",{onClick:Q,disabled:$.isPending||!m.trim(),className:"flex-1 px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:$.isPending?"Cancelling...":"Yes, Cancel Order"})]})]})}),c&&M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Reschedule Delivery"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Choose a new delivery window for your order."}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_start",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Delivery Start"}),e.jsx("input",{type:"datetime-local",id:"new_start",value:x,onChange:J=>h(J.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"new_end",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Delivery End"}),e.jsx("input",{type:"datetime-local",id:"new_end",value:f,onChange:J=>p(J.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),F.error&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-700",children:H.isAxiosError(F.error)?((se=(V=F.error.response)==null?void 0:V.data)==null?void 0:se.message)||"Failed to reschedule delivery":"An error occurred"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{d(!1),h(""),p("")},disabled:F.isPending,className:"flex-1 px-4 py-2 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:Z,disabled:F.isPending||!x||!f,className:"flex-1 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?"Rescheduling...":"Confirm"})]})]})})]})},QR=async(t,s)=>{const r=new URLSearchParams;return s.notification_type&&s.notification_type!=="all"&&r.append("notification_type",s.notification_type),s.is_read!==void 0&&r.append("is_read",String(s.is_read)),r.append("limit",String(s.limit)),r.append("offset",String(s.offset)),(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/notifications?${r.toString()}`,{headers:{Authorization:`Bearer ${t}`}})).data},XR=async(t,s)=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/notifications/${s}/read`,{},{headers:{Authorization:`Bearer ${t}`}})).data,ZR=async t=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/notifications/read-all",{},{headers:{Authorization:`Bearer ${t}`}})).data,JR=t=>{const s=new Date(t),a=new Date().getTime()-s.getTime(),n=Math.floor(a/6e4),i=Math.floor(a/36e5),l=Math.floor(a/864e5);return n<1?"Just now":n<60?`${n} min ago`:i<24?`${i} hour${i>1?"s":""} ago`:l<7?`${l} day${l>1?"s":""} ago`:s.toLocaleDateString("en-US",{month:"short",day:"numeric"})},eL=t=>{switch(t){case"order_update":return Se;case"promotion":return go;case"price_drop":return Ad;case"back_in_stock":return fe;case"message":return hs;case"system":default:return p9}},tL=t=>{switch(t){case"order_update":return"text-blue-600 bg-blue-100";case"promotion":return"text-purple-600 bg-purple-100";case"price_drop":return"text-green-600 bg-green-100";case"back_in_stock":return"text-emerald-600 bg-emerald-100";case"message":return"text-amber-600 bg-amber-100";case"system":default:return"text-gray-600 bg-gray-100"}},sL=t=>{switch(t){case"all":return"All";case"order_update":return"Orders";case"promotion":case"price_drop":case"back_in_stock":return"Alerts";default:return"All"}},rL=()=>{const t=Xe(),[s,r]=Ie(),a=Fe(),n=ae(O=>O.authentication_state.auth_token),[i,l]=k.useState([]),o=s.get("filter_type")||"all",c=s.get("unread_only")==="true",d=parseInt(s.get("page")||"1",10),m=20,{data:u,isLoading:x,isError:h,error:f,refetch:p}=ie({queryKey:["notifications",o,c,d,m],queryFn:()=>{if(!n)throw new Error("Authentication required");return QR(n,{notification_type:o==="orders"?"order_update":o==="alerts"?void 0:o!=="all"?o:void 0,is_read:c?!1:void 0,limit:m,offset:(d-1)*m})},enabled:!!n,staleTime:3e4,refetchOnWindowFocus:!0}),N=ue({mutationFn:O=>{if(!n)throw new Error("Authentication required");return XR(n,O)},onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]}),u&&u.unread_count>0}}),y=ue({mutationFn:()=>{if(!n)throw new Error("Authentication required");return ZR(n)},onSuccess:()=>{a.invalidateQueries({queryKey:["notifications"]}),l([])}}),j=O=>{const b=new URLSearchParams(s);O==="all"?b.delete("filter_type"):b.set("filter_type",O),b.delete("page"),r(b),l([])},g=()=>{const O=new URLSearchParams(s);c?O.delete("unread_only"):O.set("unread_only","true"),O.delete("page"),r(O),l([])},S=O=>{const b=new URLSearchParams(s);O===1?b.delete("page"):b.set("page",String(O)),r(b),l([])},w=async O=>{O.is_read||await N.mutateAsync(O.notification_id),O.action_url&&t(O.action_url)},C=O=>{l(b=>b.includes(O)?b.filter(L=>L!==O):[...b,O])},_=()=>{u&&(i.length===u.notifications.length?l([]):l(u.notifications.map(O=>O.notification_id)))},$=async()=>{if(i.length!==0)try{await Promise.all(i.map(O=>N.mutateAsync(O))),l([])}catch(O){console.error("Failed to mark notifications as read:",O)}},F=async()=>{try{await y.mutateAsync()}catch(O){console.error("Failed to mark all as read:",O)}},T=(u==null?void 0:u.notifications)||[],R=(u==null?void 0:u.total)||0,A=(u==null?void 0:u.unread_count)||0,M=Math.ceil(R/m),P=[{value:"all",label:"All"},{value:"orders",label:"Orders"},{value:"alerts",label:"Alerts"}],E=i.length>0,z=T.length>0&&i.length===T.length;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Fs,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),A>0&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[A," unread notification",A!==1?"s":""]})]})]}),A>0&&e.jsxs("button",{onClick:F,disabled:y.isPending,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[y.isPending?e.jsx(Et,{className:"w-4 h-4 animate-spin"}):e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Mark All as Read"})]})]}),e.jsx("div",{className:"flex items-center space-x-2 mt-6 border-b border-gray-200",children:P.map(O=>e.jsx("button",{onClick:()=>j(O.value),className:`px-4 py-2 text-sm font-medium transition-colors border-b-2 ${o===O.value?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:O.label},O.value))})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:g,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Unread only"})]}),T.length>0&&e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:z,onChange:_,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Select all"})]})]}),E&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[i.length," selected"]}),e.jsxs("button",{onClick:$,disabled:N.isPending,className:"flex items-center space-x-2 px-3 py-1.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 text-sm",children:[N.isPending?e.jsx(Et,{className:"w-4 h-4 animate-spin"}):e.jsx(Ce,{className:"w-4 h-4"}),e.jsx("span",{children:"Mark as Read"})]})]})]})}),x&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4",children:[e.jsx(Et,{className:"w-8 h-8 text-blue-600 animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Loading notifications..."})]})}),h&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(he,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-1",children:"Failed to load notifications"}),e.jsx("p",{className:"text-sm text-red-700 mb-4",children:f instanceof Error?f.message:"An error occurred"}),e.jsx("button",{onClick:()=>p(),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium",children:"Try Again"})]})]})}),!x&&!h&&e.jsxs(e.Fragment,{children:[T.length===0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full",children:e.jsx(x9,{className:"w-12 h-12 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c?"No unread notifications":o!=="all"?`No ${sL(o).toLowerCase()} notifications`:"No notifications yet"}),e.jsx("p",{className:"text-sm text-gray-600",children:c?"You're all caught up!":"We'll notify you when there's something new"})]}),(c||o!=="all")&&e.jsx("button",{onClick:()=>{const O=new URLSearchParams;r(O)},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View all notifications"})]})}):e.jsx("div",{className:"space-y-3",children:T.map(O=>{const b=eL(O.notification_type),L=tL(O.notification_type),v=i.includes(O.notification_id);return e.jsx("div",{className:`bg-white rounded-lg shadow-sm border transition-all ${O.is_read?"border-gray-200 hover:border-gray-300":"border-blue-200 bg-blue-50/30 hover:border-blue-300"} ${v?"ring-2 ring-blue-500":""}`,children:e.jsxs("div",{className:"p-4 flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 pt-1",children:e.jsx("input",{type:"checkbox",checked:v,onChange:()=>C(O.notification_id),onClick:D=>D.stopPropagation(),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`p-2 rounded-lg ${L}`,children:e.jsx(b,{className:"w-5 h-5"})})}),e.jsxs("button",{onClick:()=>w(O),className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:`text-sm font-semibold ${O.is_read?"text-gray-700":"text-gray-900"}`,children:O.title}),!O.is_read&&e.jsx("span",{className:"flex-shrink-0 w-2 h-2 bg-blue-600 rounded-full"})]}),e.jsx("p",{className:`text-sm ${O.is_read?"text-gray-500":"text-gray-700"} line-clamp-2`,children:O.message})]}),e.jsx("div",{className:"flex-shrink-0 text-right",children:e.jsx("span",{className:"text-xs text-gray-500",children:JR(O.created_date)})})]}),O.related_entity_type&&e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-md bg-gray-100 text-xs text-gray-600",children:[O.related_entity_type==="order"&&"Order",O.related_entity_type==="product"&&"Product",O.related_entity_type==="delivery"&&"Delivery",!["order","product","delivery"].includes(O.related_entity_type)&&O.related_entity_type]})})]}),!O.is_read&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("button",{onClick:D=>{D.stopPropagation(),N.mutate(O.notification_id)},disabled:N.isPending,className:"p-2 text-gray-400 hover:text-blue-600 transition-colors disabled:opacity-50",title:"Mark as read",children:e.jsx(Ce,{className:"w-5 h-5"})})})]})},O.notification_id)})}),M>1&&T.length>0&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(d-1)*m+1," to"," ",Math.min(d*m,R)," of ",R," ","notifications"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>S(d-1),disabled:d===1,className:"p-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ms,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,M)},(O,b)=>{let L;return M<=5||d<=3?L=b+1:d>=M-2?L=M-4+b:L=d-2+b,e.jsx("button",{onClick:()=>S(L),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${d===L?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:L},L)})}),e.jsx("button",{onClick:()=>S(d+1),disabled:d===M,className:"p-2 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Qe,{className:"w-5 h-5"})})]})]})})]})]})})})},Tr="https://123create-construction-app-with-a.launchpulse.ai/api",Er=t=>({headers:t?{Authorization:`Bearer ${t}`}:{}}),aL=async t=>(await H.get(`${Tr}/users/me`,Er(t))).data,nL=async t=>(await H.get(`${Tr}/customers/me`,Er(t))).data,iL=async(t,s)=>(await H.patch(`${Tr}/users/me`,s,Er(t))).data,o_=async(t,s)=>(await H.patch(`${Tr}/customers/me`,s,Er(t))).data,lL=async t=>(await H.get(`${Tr}/addresses`,Er(t))).data,oL=async(t,s)=>(await H.post(`${Tr}/addresses`,s,Er(t))).data,cL=async(t,s,r)=>(await H.patch(`${Tr}/addresses/${s}`,r,Er(t))).data,dL=async(t,s)=>{await H.delete(`${Tr}/addresses/${s}`,Er(t))},uL=async t=>(await H.get(`${Tr}/payment-methods`,Er(t))).data,mL=async(t,s,r)=>(await H.patch(`${Tr}/payment-methods/${s}`,r,Er(t))).data,hL=async(t,s)=>{await H.delete(`${Tr}/payment-methods/${s}`,Er(t))},xL=async(t,s)=>{await H.post(`${Tr}/users/me/change-password`,s,Er(t))},pL=()=>{var Bj,qj,zj,Uj,Wj;const t=Xe(),[s]=Ie(),r=Fe(),a=ae(ne=>ne.authentication_state.auth_token),[n,i]=k.useState(s.get("section")||"profile"),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,u]=k.useState(null),[x,h]=k.useState(null),[f,p]=k.useState(!1),[N,y]=k.useState(null),[j,g]=k.useState(null),[S,w]=k.useState({}),[C,_]=k.useState(null),[$,F]=k.useState({first_name:"",last_name:"",phone_number:"",profile_photo_url:""}),[T,R]=k.useState({label:"",full_name:"",phone_number:"",street_address:"",apt_suite:"",city:"",state:"",postal_code:"",country:"USA",address_type:"residential",delivery_instructions:"",is_default:!1}),[A,M]=k.useState({current_password:"",new_password:"",confirm_password:""}),[P,E]=k.useState({card_expiry_month:"",card_expiry_year:"",billing_address_id:"",is_default:!1}),[z,O]=k.useState({email:!0,sms:!0,push:!0,order_updates:!0,promotions:!0}),{data:b,isLoading:L}=ie({queryKey:["userProfile"],queryFn:()=>aL(a),enabled:!!a,staleTime:6e4}),{data:v,isLoading:D}=ie({queryKey:["customerProfile"],queryFn:()=>nL(a),enabled:!!a,staleTime:6e4}),{data:U=[],isLoading:q}=ie({queryKey:["addresses"],queryFn:()=>lL(a),enabled:!!a&&n==="addresses",staleTime:6e4}),{data:B=[],isLoading:W}=ie({queryKey:["paymentMethods"],queryFn:()=>uL(a),enabled:!!a&&n==="payments",staleTime:6e4}),I=ue({mutationFn:ne=>iL(a,ne),onSuccess:()=>{r.invalidateQueries({queryKey:["userProfile"]}),o(!1),_("Profile updated successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({profile:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to update profile"})}});ue({mutationFn:ne=>o_(a,ne),onSuccess:()=>{r.invalidateQueries({queryKey:["customerProfile"]}),_("Preferences updated successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({customer:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to update preferences"})}});const Q=ue({mutationFn:ne=>oL(a,ne),onSuccess:()=>{r.invalidateQueries({queryKey:["addresses"]}),d(!1),Te(),_("Address added successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({address:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to add address"})}}),Z=ue({mutationFn:({address_id:ne,data:me})=>cL(a,ne,me),onSuccess:()=>{r.invalidateQueries({queryKey:["addresses"]}),u(null),Te(),_("Address updated successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({address:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to update address"})}}),Y=ue({mutationFn:ne=>dL(a,ne),onSuccess:()=>{r.invalidateQueries({queryKey:["addresses"]}),y(null),g(null),_("Address deleted successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({address:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to delete address"})}}),K=ue({mutationFn:({payment_method_id:ne,data:me})=>mL(a,ne,me),onSuccess:()=>{r.invalidateQueries({queryKey:["paymentMethods"]}),h(null),_("Payment method updated successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({payment:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to update payment method"})}}),te=ue({mutationFn:ne=>hL(a,ne),onSuccess:()=>{r.invalidateQueries({queryKey:["paymentMethods"]}),y(null),g(null),_("Payment method deleted successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({payment:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to delete payment method"})}}),V=ue({mutationFn:ne=>xL(a,ne),onSuccess:()=>{p(!1),M({current_password:"",new_password:"",confirm_password:""}),_("Password changed successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({password:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to change password"})}}),se=ue({mutationFn:ne=>o_(a,{notification_preferences:ne}),onSuccess:()=>{r.invalidateQueries({queryKey:["customerProfile"]}),_("Notification preferences updated successfully"),setTimeout(()=>_(null),3e3)},onError:ne=>{var me,Pe;w({notifications:((Pe=(me=ne.response)==null?void 0:me.data)==null?void 0:Pe.message)||"Failed to update preferences"})}});k.useEffect(()=>{b&&F({first_name:b.first_name||"",last_name:b.last_name||"",phone_number:b.phone_number||"",profile_photo_url:b.profile_photo_url||""})},[b]),k.useEffect(()=>{v!=null&&v.notification_preferences&&O(v.notification_preferences)},[v]),k.useEffect(()=>{const ne=s.get("section");ne&&i(ne)},[s]);const J=ne=>{i(ne),t(`/account?section=${ne}`,{replace:!0}),w({}),_(null)},oe=()=>{o(!0),w({})},je=()=>{if(w({}),!$.first_name||!$.last_name){w({profile:"First and last name are required"});return}I.mutate({first_name:$.first_name,last_name:$.last_name,phone_number:$.phone_number,profile_photo_url:$.profile_photo_url})},ve=()=>{o(!1),w({}),b&&F({first_name:b.first_name||"",last_name:b.last_name||"",phone_number:b.phone_number||"",profile_photo_url:b.profile_photo_url||""})},Te=()=>{R({label:"",full_name:"",phone_number:"",street_address:"",apt_suite:"",city:"",state:"",postal_code:"",country:"USA",address_type:"residential",delivery_instructions:"",is_default:!1})},Ke=ne=>{u(ne.address_id),R({label:ne.label||"",full_name:ne.full_name,phone_number:ne.phone_number,street_address:ne.street_address,apt_suite:ne.apt_suite||"",city:ne.city,state:ne.state,postal_code:ne.postal_code,country:ne.country,address_type:ne.address_type||"residential",delivery_instructions:ne.delivery_instructions||"",is_default:ne.is_default})},ys=()=>{if(w({}),!T.full_name||!T.phone_number||!T.street_address||!T.city||!T.state||!T.postal_code){w({address:"All required fields must be filled"});return}m?Z.mutate({address_id:m,data:T}):Q.mutate(T)},re=()=>{u(null),d(!1),Te(),w({})},xe=ne=>{y(ne),g("address")},Ue=()=>{j==="address"&&N?Y.mutate(N):j==="payment"&&N&&te.mutate(N)},Us=()=>{y(null),g(null)},ii=ne=>{h(ne.payment_method_id),E({card_expiry_month:ne.card_expiry_month||"",card_expiry_year:ne.card_expiry_year||"",billing_address_id:ne.billing_address_id||"",is_default:ne.is_default})},Kp=()=>{w({}),x&&K.mutate({payment_method_id:x,data:P})},ye=()=>{h(null),w({})},ft=ne=>{y(ne),g("payment")},ul=()=>{if(w({}),!A.current_password||!A.new_password||!A.confirm_password){w({password:"All password fields are required"});return}if(A.new_password!==A.confirm_password){w({password:"New passwords do not match"});return}if(A.new_password.length<8){w({password:"Password must be at least 8 characters"});return}V.mutate({current_password:A.current_password,new_password:A.new_password})},Gp=()=>{se.mutate(z)},nO=ne=>{Z.mutate({address_id:ne,data:{is_default:!0}})},iO=ne=>{K.mutate({payment_method_id:ne,data:{is_default:!0}})},li=(ne,me,Pe)=>e.jsxs("button",{onClick:()=>J(ne),className:`flex items-center space-x-3 w-full px-4 py-3 rounded-lg transition-all duration-200 ${n===ne?"bg-blue-50 text-blue-700 font-medium border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-100 border-l-4 border-transparent"}`,children:[me,e.jsx("span",{children:Pe})]}),lO=ne=>{switch(ne){case"commercial":return e.jsx(Yn,{className:"h-5 w-5 text-gray-400"});case"warehouse":return e.jsx(A9,{className:"h-5 w-5 text-gray-400"});default:return e.jsx(h9,{className:"h-5 w-5 text-gray-400"})}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Account Settings"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your account information and preferences"})]}),C&&e.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 text-green-700 px-6 py-4 rounded-lg flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{children:C})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 space-y-2 sticky top-24",children:[li("profile",e.jsx(Bs,{className:"h-5 w-5"}),"Profile"),li("addresses",e.jsx(fs,{className:"h-5 w-5"}),"Addresses"),li("payments",e.jsx(tr,{className:"h-5 w-5"}),"Payment Methods"),li("security",e.jsx(xs,{className:"h-5 w-5"}),"Security"),li("notifications",e.jsx(Fs,{className:"h-5 w-5"}),"Notifications"),li("privacy",e.jsx(Pd,{className:"h-5 w-5"}),"Privacy"),(v==null?void 0:v.account_type)==="trade"&&li("trade_credit",e.jsx(Be,{className:"h-5 w-5"}),"Trade Credit")]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 lg:p-8",children:[n==="profile"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"}),!l&&e.jsxs("button",{onClick:oe,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(xa,{className:"h-4 w-4"}),e.jsx("span",{children:"Edit Profile"})]})]}),L?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-16 bg-gray-200 rounded-lg animate-pulse"})]}):e.jsxs("div",{className:"space-y-6",children:[S.profile&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:S.profile})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center text-white text-2xl font-bold",children:[(Bj=b==null?void 0:b.first_name)==null?void 0:Bj[0],(qj=b==null?void 0:b.last_name)==null?void 0:qj[0]]}),l&&e.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Change Photo"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:$.first_name,onChange:ne=>{F(me=>({...me,first_name:ne.target.value})),w(me=>({...me,profile:""}))},disabled:!l,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all disabled:bg-gray-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:$.last_name,onChange:ne=>{F(me=>({...me,last_name:ne.target.value})),w(me=>({...me,profile:""}))},disabled:!l,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all disabled:bg-gray-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"email",value:(b==null?void 0:b.email)||"",disabled:!0,className:"flex-1 px-4 py-3 rounded-lg border-2 border-gray-200 bg-gray-50 cursor-not-allowed"}),b!=null&&b.email_verified?e.jsxs("span",{className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:"Verified"})]}):e.jsx("span",{className:"px-3 py-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-medium",children:"Unverified"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Email changes require verification"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:$.phone_number,onChange:ne=>{F(me=>({...me,phone_number:ne.target.value})),w(me=>({...me,profile:""}))},disabled:!l,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all disabled:bg-gray-50 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),e.jsx("span",{className:`inline-flex px-4 py-2 rounded-lg font-medium ${(v==null?void 0:v.account_type)==="trade"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:(v==null?void 0:v.account_type)==="trade"?"Trade/Professional":"Retail/DIY"})]}),l&&e.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:je,disabled:I.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I.isPending?"Saving...":"Save Changes"}),e.jsx("button",{onClick:ve,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]}),n==="addresses"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Delivery Addresses"}),e.jsxs("button",{onClick:()=>{d(!0),Te(),w({})},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx($t,{className:"h-4 w-4"}),e.jsx("span",{children:"Add Address"})]})]}),q?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded-lg animate-pulse"})]}):e.jsxs(e.Fragment,{children:[U.length===0&&!c?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(fs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No addresses saved yet"}),e.jsx("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Add Your First Address"})]}):e.jsx("div",{className:"space-y-4",children:U.map(ne=>e.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-blue-300 transition-colors",children:m===ne.address_id?e.jsxs("div",{className:"space-y-4",children:[S.address&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:S.address})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Label"}),e.jsx("input",{type:"text",value:T.label,onChange:me=>R(Pe=>({...Pe,label:me.target.value})),placeholder:"e.g., Home, Office, Job Site",className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:T.full_name,onChange:me=>R(Pe=>({...Pe,full_name:me.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:T.phone_number,onChange:me=>R(Pe=>({...Pe,phone_number:me.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),e.jsx("input",{type:"text",value:T.street_address,onChange:me=>R(Pe=>({...Pe,street_address:me.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apt/Suite"}),e.jsx("input",{type:"text",value:T.apt_suite,onChange:me=>R(Pe=>({...Pe,apt_suite:me.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{type:"text",value:T.city,onChange:me=>R(Pe=>({...Pe,city:me.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),e.jsx("input",{type:"text",value:T.state,onChange:me=>R(Pe=>({...Pe,state:me.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),e.jsx("input",{type:"text",value:T.postal_code,onChange:me=>R(Pe=>({...Pe,postal_code:me.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Type"}),e.jsxs("select",{value:T.address_type,onChange:me=>R(Pe=>({...Pe,address_type:me.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"warehouse",children:"Warehouse"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),e.jsx("textarea",{value:T.delivery_instructions,onChange:me=>R(Pe=>({...Pe,delivery_instructions:me.target.value})),rows:2,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T.is_default,onChange:me=>R(Pe=>({...Pe,is_default:me.target.checked})),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Set as default delivery address"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ys,disabled:Z.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Z.isPending?"Saving...":"Save Address"}),e.jsx("button",{onClick:re,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[lO(ne.address_type),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsx("span",{children:ne.label||"Address"}),ne.is_default&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-md font-medium",children:"Default"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:ne.full_name})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>Ke(ne),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(xa,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>xe(ne.address_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Xt,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-1 text-gray-700",children:[e.jsxs("p",{children:[ne.street_address,ne.apt_suite?`, ${ne.apt_suite}`:""]}),e.jsxs("p",{children:[ne.city,", ",ne.state," ",ne.postal_code]}),e.jsx("p",{className:"text-sm text-gray-500",children:ne.phone_number}),ne.delivery_instructions&&e.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:["Note: ",ne.delivery_instructions]})]}),!ne.is_default&&e.jsx("button",{onClick:()=>nO(ne.address_id),className:"mt-3 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Set as Default"})]})},ne.address_id))}),c&&!m&&e.jsxs("div",{className:"border-2 border-blue-300 rounded-xl p-6 bg-blue-50",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Add New Address"}),S.address&&e.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:S.address})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Label"}),e.jsx("input",{type:"text",value:T.label,onChange:ne=>R(me=>({...me,label:ne.target.value})),placeholder:"e.g., Home, Office, Job Site",className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",value:T.full_name,onChange:ne=>R(me=>({...me,full_name:ne.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:T.phone_number,onChange:ne=>R(me=>({...me,phone_number:ne.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address *"}),e.jsx("input",{type:"text",value:T.street_address,onChange:ne=>R(me=>({...me,street_address:ne.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Apt/Suite"}),e.jsx("input",{type:"text",value:T.apt_suite,onChange:ne=>R(me=>({...me,apt_suite:ne.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),e.jsx("input",{type:"text",value:T.city,onChange:ne=>R(me=>({...me,city:ne.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),e.jsx("input",{type:"text",value:T.state,onChange:ne=>R(me=>({...me,state:ne.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postal Code *"}),e.jsx("input",{type:"text",value:T.postal_code,onChange:ne=>R(me=>({...me,postal_code:ne.target.value})),required:!0,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Type"}),e.jsxs("select",{value:T.address_type,onChange:ne=>R(me=>({...me,address_type:ne.target.value})),className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"residential",children:"Residential"}),e.jsx("option",{value:"commercial",children:"Commercial"}),e.jsx("option",{value:"warehouse",children:"Warehouse"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Instructions"}),e.jsx("textarea",{value:T.delivery_instructions,onChange:ne=>R(me=>({...me,delivery_instructions:ne.target.value})),rows:2,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:T.is_default,onChange:ne=>R(me=>({...me,is_default:ne.target.checked})),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Set as default delivery address"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:ys,disabled:Q.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Q.isPending?"Adding...":"Add Address"}),e.jsx("button",{onClick:re,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]})]})]}),n==="payments"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Methods"})}),W?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-24 bg-gray-200 rounded-lg animate-pulse"})]}):e.jsx(e.Fragment,{children:B.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(tr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No payment methods saved yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add a payment method to checkout faster"})]}):e.jsx("div",{className:"space-y-4",children:B.map(ne=>e.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-blue-300 transition-colors",children:x===ne.payment_method_id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Month"}),e.jsx("input",{type:"text",value:P.card_expiry_month,onChange:me=>E(Pe=>({...Pe,card_expiry_month:me.target.value})),placeholder:"MM",maxLength:2,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Year"}),e.jsx("input",{type:"text",value:P.card_expiry_year,onChange:me=>E(Pe=>({...Pe,card_expiry_year:me.target.value})),placeholder:"YYYY",maxLength:4,className:"w-full px-3 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:P.is_default,onChange:me=>E(Pe=>({...Pe,is_default:me.target.checked})),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Set as default payment method"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:Kp,disabled:K.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:K.isPending?"Saving...":"Save Changes"}),e.jsx("button",{onClick:ye,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(tr,{className:"h-6 w-6 text-gray-400"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center space-x-2",children:[e.jsxs("span",{children:[ne.card_brand||"Card","  ",ne.card_last_four]}),ne.is_default&&e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-md font-medium",children:"Default"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Expires ",ne.card_expiry_month,"/",ne.card_expiry_year]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ii(ne),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(xa,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ft(ne.payment_method_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Xt,{className:"h-4 w-4"})})]})]}),ne.cardholder_name&&e.jsx("p",{className:"text-sm text-gray-600",children:ne.cardholder_name}),!ne.is_default&&e.jsx("button",{onClick:()=>iO(ne.payment_method_id),className:"mt-3 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Set as Default"})]})},ne.payment_method_id))})})]}),n==="security"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Update your password regularly for security"})]}),!f&&e.jsx("button",{onClick:()=>{p(!0),w({})},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Change Password"})]}),f&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200",children:[S.password&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:S.password})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),e.jsx("input",{type:"password",value:A.current_password,onChange:ne=>{M(me=>({...me,current_password:ne.target.value})),w(me=>({...me,password:""}))},className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),e.jsx("input",{type:"password",value:A.new_password,onChange:ne=>{M(me=>({...me,new_password:ne.target.value})),w(me=>({...me,password:""}))},className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"At least 8 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:A.confirm_password,onChange:ne=>{M(me=>({...me,confirm_password:ne.target.value})),w(me=>({...me,password:""}))},className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:ul,disabled:V.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:V.isPending?"Changing...":"Update Password"}),e.jsx("button",{onClick:()=>{p(!1),M({current_password:"",new_password:"",confirm_password:""}),w({})},className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]}),e.jsx("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),e.jsx("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Enable 2FA"})]})}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Active Sessions"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Current Session"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Last active: Just now"})]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs rounded-md font-medium",children:"Active"})]})})]})]}),n==="notifications"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Preferences"}),D?e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg animate-pulse"}):e.jsxs(e.Fragment,{children:[S.notifications&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm",children:S.notifications})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Notification Channels"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via email"})]}),e.jsx("input",{type:"checkbox",checked:z.email,onChange:ne=>O(me=>({...me,email:ne.target.checked})),className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500"})]}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications via text message"})]}),e.jsx("input",{type:"checkbox",checked:z.sms,onChange:ne=>O(me=>({...me,sms:ne.target.checked})),className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500"})]}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive browser push notifications"})]}),e.jsx("input",{type:"checkbox",checked:z.push,onChange:ne=>O(me=>({...me,push:ne.target.checked})),className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500"})]})]})]}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Notification Types"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Order Updates"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Status updates for your orders"})]}),e.jsx("input",{type:"checkbox",checked:z.order_updates,onChange:ne=>O(me=>({...me,order_updates:ne.target.checked})),className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500"})]}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Promotional Emails"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Deals and special offers"})]}),e.jsx("input",{type:"checkbox",checked:z.promotions,onChange:ne=>O(me=>({...me,promotions:ne.target.checked})),className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500"})]})]})]}),e.jsx("button",{onClick:Gp,disabled:se.isPending,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:se.isPending?"Saving...":"Save Preferences"})]})]})]}),n==="privacy"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Privacy & Data"}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Data Export"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Download a copy of your account data"}),e.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Download My Data"})]}),e.jsxs("div",{className:"border-2 border-red-200 rounded-xl p-6 bg-red-50",children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),e.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Permanently delete your account and all associated data. This action cannot be undone."}),e.jsx("button",{className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete My Account"})]})]}),n==="trade_credit"&&(v==null?void 0:v.account_type)==="trade"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Trade Credit"}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Credit Limit"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",((zj=v.trade_credit_limit)==null?void 0:zj.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Available Credit"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",((Uj=v.trade_credit_balance)==null?void 0:Uj.toFixed(2))||"0.00"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Used Credit"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["$",((Wj=v.trade_credit_used)==null?void 0:Wj.toFixed(2))||"0.00"]})]})]}),v.trade_credit_status==="approved"&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Request Credit Increase"})})]})]})]})})]})]})}),N&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:e.jsx(he,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Confirm Deletion"})]}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete this ",j==="address"?"address":"payment method","? This action cannot be undone."]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:Ue,disabled:Y.isPending||te.isPending,className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Y.isPending||te.isPending?"Deleting...":"Delete"}),e.jsx("button",{onClick:Us,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})})]})},lm="https://123create-construction-app-with-a.launchpulse.ai",F0=t=>{const s=new Date(t).getTime(),r=Date.now(),a=30*24*60*60*1e3;return r-s<=a},c_=t=>new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),gL=()=>{const t=ae(P=>P.authentication_state.current_user),s=ae(P=>P.authentication_state.auth_token),r=(t==null?void 0:t.user_type)==="customer"?t.user_id:null,a=Fe(),[n,i]=k.useState({sort_by:"review_date",sort_order:"desc",status_filter:"all"}),[l,o]=k.useState({review_id:null,review_text:"",photos:[],is_editing:!1,validation_errors:{}}),[c,d]=k.useState({is_open:!1,review_id:null}),[m,u]=k.useState(!1),{data:x,isLoading:h,error:f,refetch:p}=ie({queryKey:["my-reviews",r,n],queryFn:async()=>{if(!r||!s)throw new Error("Authentication required");const P=await H.get(`${lm}/reviews`,{params:{user_id:r,limit:50,offset:0,sort_by:n.sort_by,sort_order:n.sort_order,...n.status_filter!=="all"&&{status:n.status_filter}},headers:{Authorization:`Bearer ${s}`}});return{reviews:P.data.reviews||[],pagination:{current_page:1,total_pages:Math.ceil((P.data.total||0)/50),total_count:P.data.total||0}}},enabled:!!r&&!!s,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),N=ue({mutationFn:async({review_id:P,review_text:E,photos:z})=>{if(!s)throw new Error("Authentication required");return(await H.patch(`${lm}/reviews/${P}`,{review_text:E,photos:z},{headers:{Authorization:`Bearer ${s}`}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["my-reviews"]}),o({review_id:null,review_text:"",photos:[],is_editing:!1,validation_errors:{}})},onError:P=>{o(E=>{var z,O;return{...E,validation_errors:{submit:((O=(z=P.response)==null?void 0:z.data)==null?void 0:O.message)||"Failed to update review. Please try again."}}})}}),y=ue({mutationFn:async P=>{if(!s)throw new Error("Authentication required");await H.delete(`${lm}/reviews/${P}`,{headers:{Authorization:`Bearer ${s}`}})},onSuccess:()=>{a.invalidateQueries({queryKey:["my-reviews"]}),d({is_open:!1,review_id:null})},onError:P=>{var E,z;alert(((z=(E=P.response)==null?void 0:E.data)==null?void 0:z.message)||"Failed to delete review. Please try again.")}}),j=k.useCallback(P=>{i(E=>({...E,sort_by:P,sort_order:E.sort_by===P&&E.sort_order==="desc"?"asc":"desc"}))},[]),g=k.useCallback(P=>{i(E=>({...E,status_filter:P}))},[]),S=k.useCallback(P=>{if(!F0(P.review_date)){alert("Reviews can only be edited within 30 days of posting.");return}o({review_id:P.review_id,review_text:P.review_text||"",photos:P.photos||[],is_editing:!0,validation_errors:{}})},[]),w=k.useCallback(()=>{o({review_id:null,review_text:"",photos:[],is_editing:!1,validation_errors:{}})},[]),C=k.useCallback(()=>{const P={};if(l.review_text.trim().length<10&&(P.review_text="Review must be at least 10 characters long."),l.review_text.length>2e3&&(P.review_text="Review must not exceed 2000 characters."),Object.keys(P).length>0){o(E=>({...E,validation_errors:P}));return}l.review_id&&N.mutate({review_id:l.review_id,review_text:l.review_text,photos:l.photos})},[l,N]),_=k.useCallback(P=>{d({is_open:!0,review_id:P})},[]),$=k.useCallback(()=>{c.review_id&&y.mutate(c.review_id)},[c.review_id,y]),F=k.useCallback(()=>{d({is_open:!1,review_id:null})},[]),T=k.useCallback(async P=>{const E=P.target.files;if(!(!E||E.length===0)){u(!0);try{const z=Array.from(E).map(async b=>{const L=await H.post(`${lm}/uploads/request-url`,{file_type:b.type,file_size:b.size,upload_context:"review",entity_id:l.review_id},{headers:{Authorization:`Bearer ${s}`}}),{upload_url:v,cdn_url:D}=L.data;return await H.put(v,b,{headers:{"Content-Type":b.type}}),D}),O=await Promise.all(z);o(b=>({...b,photos:[...b.photos,...O]}))}catch(z){o(O=>{var b,L;return{...O,validation_errors:{photos:((L=(b=z.response)==null?void 0:b.data)==null?void 0:L.message)||"Failed to upload photos. Please try again."}}})}finally{u(!1)}}},[l.review_id,s]),R=k.useCallback(P=>{o(E=>({...E,photos:E.photos.filter(z=>z!==P)}))},[]),A=P=>e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(E=>e.jsx(De,{className:`w-5 h-5 ${E<=P?"fill-yellow-400 text-yellow-400":"fill-gray-200 text-gray-200"}`},E))}),M=P=>e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[P.rating_product!==null&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 mb-1",children:"Product Quality"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[A(P.rating_product),e.jsxs("span",{className:"text-gray-700 font-medium",children:[P.rating_product,"/5"]})]})]}),P.rating_service!==null&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 mb-1",children:"Service"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[A(P.rating_service),e.jsxs("span",{className:"text-gray-700 font-medium",children:[P.rating_service,"/5"]})]})]}),P.rating_delivery!==null&&e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-gray-500 mb-1",children:"Delivery"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[A(P.rating_delivery),e.jsxs("span",{className:"text-gray-700 font-medium",children:[P.rating_delivery,"/5"]})]})]})]});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"My Reviews"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Manage your product and supplier reviews. You can edit reviews within 30 days of posting."})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>j("review_date"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${n.sort_by==="review_date"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Date ",n.sort_by==="review_date"&&(n.sort_order==="desc"?"":"")]}),e.jsxs("button",{onClick:()=>j("rating_overall"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${n.sort_by==="rating_overall"?"bg-blue-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Rating ",n.sort_by==="rating_overall"&&(n.sort_order==="desc"?"":"")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),e.jsxs("select",{value:n.status_filter,onChange:P=>g(P.target.value),className:"px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 text-sm font-medium text-gray-700 transition-all",children:[e.jsx("option",{value:"all",children:"All Reviews"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"pending",children:"Pending"})]})]}),x&&e.jsxs("div",{className:"text-sm text-gray-600",children:[x.pagination.total_count," ",x.pagination.total_count===1?"review":"reviews"]})]})}),h&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your reviews..."})]}),f&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-6 mb-8",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(he,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Error Loading Reviews"}),e.jsx("p",{className:"text-red-700 mb-4",children:f instanceof Error?f.message:"An unexpected error occurred."}),e.jsx("button",{onClick:()=>p(),className:"bg-red-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Try Again"})]})]})}),!h&&!f&&x&&x.reviews.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(De,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Reviews Yet"}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:"You haven't written any reviews yet. After receiving your orders, you can share your experience to help other buyers make informed decisions."}),e.jsx(G,{to:"/orders",className:"inline-block bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"View My Orders"})]})}),!h&&!f&&x&&x.reviews.length>0&&e.jsx("div",{className:"space-y-6",children:x.reviews.map(P=>e.jsx("article",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-all duration-200",children:e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between mb-6 pb-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[P.product_id&&e.jsx(G,{to:`/product/${P.product_id}`,className:"flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden hover:opacity-80 transition-opacity",children:e.jsx("img",{src:"https://via.placeholder.com/80?text=Product",alt:"Product",className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:["Review for Order #",P.order_id.slice(0,8)]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ft,{className:"w-4 h-4 mr-1"}),c_(P.review_date)]}),P.verified_purchase&&e.jsxs("span",{className:"flex items-center bg-green-50 text-green-700 px-2 py-1 rounded-md",children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"Verified Purchase"]}),e.jsx("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${P.status==="published"?"bg-green-50 text-green-700":P.status==="pending"?"bg-amber-50 text-amber-700":"bg-red-50 text-red-700"}`,children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[A(P.rating_overall),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[P.rating_overall,"/5"]})]}),(P.rating_product!==null||P.rating_service!==null||P.rating_delivery!==null)&&e.jsx("div",{className:"mt-4",children:M(P)})]})]}),e.jsxs("div",{className:"flex md:flex-col space-x-2 md:space-x-0 md:space-y-2 mt-4 md:mt-0",children:[F0(P.review_date)&&e.jsxs("button",{onClick:()=>S(P),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 font-medium text-sm",children:[e.jsx(xa,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{onClick:()=>_(P.review_id),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-all duration-200 font-medium text-sm",children:[e.jsx(Xt,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]}),P.review_text&&e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:P.review_text})}),P.photos&&P.photos.length>0&&e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:P.photos.map((E,z)=>e.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 hover:opacity-90 transition-opacity cursor-pointer",children:e.jsx("img",{src:E,alt:`Review photo ${z+1}`,className:"w-full h-full object-cover"})},z))})}),P.supplier_response&&e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-600 p-6 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"S"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Supplier Response"}),P.supplier_response_date&&e.jsx("span",{className:"text-xs text-gray-500",children:c_(P.supplier_response_date)})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:P.supplier_response})]})]})}),e.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(fe,{className:"w-4 h-4 mr-1 text-green-600"}),P.helpful_votes," ",P.helpful_votes===1?"person":"people"," found this helpful"]}),P.would_buy_again&&e.jsxs("span",{className:"flex items-center",children:["Would buy again:"," ",e.jsx("span",{className:`ml-1 font-medium ${P.would_buy_again==="yes"?"text-green-600":P.would_buy_again==="no"?"text-red-600":"text-amber-600"}`,children:P.would_buy_again==="yes"?"Yes":P.would_buy_again==="no"?"No":"Maybe"})]}),!F0(P.review_date)&&e.jsx("span",{className:"text-gray-400 italic",children:"Edit window expired (30 days)"})]})]})},P.review_id))}),l.is_editing&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Edit Review"}),e.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:e.jsx(be,{className:"w-6 h-6 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"review_text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Review"}),e.jsx("textarea",{id:"review_text",value:l.review_text,onChange:P=>{o(E=>({...E,review_text:P.target.value,validation_errors:{...E.validation_errors,review_text:""}}))},rows:6,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 resize-none transition-all",placeholder:"Share your experience with this product..."}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[l.review_text.length," / 2000 characters"]}),l.validation_errors.review_text&&e.jsx("span",{className:"text-sm text-red-600",children:l.validation_errors.review_text})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photos (Optional)"}),l.photos.length>0&&e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:l.photos.map((P,E)=>e.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden bg-gray-100",children:[e.jsx("img",{src:P,alt:`Review photo ${E+1}`,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>R(P),className:"absolute top-2 right-2 p-1 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors shadow-lg","aria-label":"Remove photo",children:e.jsx(be,{className:"w-4 h-4"})})]},E))}),l.photos.length<5&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"photo_upload",className:`flex items-center justify-center space-x-2 px-6 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 cursor-pointer ${m?"opacity-50 cursor-not-allowed":""}`,children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-blue-600 font-medium",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(dr,{className:"w-5 h-5 text-gray-500"}),e.jsxs("span",{className:"text-gray-700 font-medium",children:["Add Photos (",l.photos.length,"/5)"]})]})}),e.jsx("input",{id:"photo_upload",type:"file",accept:"image/jpeg,image/png,image/webp",multiple:!0,onChange:T,disabled:m,className:"hidden"})]}),l.validation_errors.photos&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:l.validation_errors.photos})]}),l.validation_errors.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-700",children:l.validation_errors.submit})})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:w,disabled:N.isPending,className:"px-6 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all duration-200 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:C,disabled:N.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:N.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Changes"})]})]})}),c.is_open&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Delete Review"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Are you sure you want to delete this review? This action cannot be undone."}),e.jsx("p",{className:"text-sm text-gray-500",children:"Your review helps other buyers make informed decisions. Consider editing instead of deleting."})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 rounded-b-xl",children:[e.jsx("button",{onClick:F,disabled:y.isPending,className:"px-6 py-2 bg-white border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-all duration-200 disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:$,disabled:y.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:y.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):"Delete Review"})]})]})})]})})})},fL=async(t,s)=>{const r=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}`,{headers:{Authorization:`Bearer ${s}`}});return{order:{order_id:r.data.order.order_id,order_number:r.data.order.order_number,order_date:r.data.order.order_date,status:r.data.order.status,total_amount:r.data.order.total_amount},items:r.data.items.map(a=>({order_item_id:a.order_item_id,product_id:a.product_id,product_name:a.product_name,sku:a.sku,quantity:a.quantity,supplier_id:a.supplier_id}))}},yL=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/uploads/request-url",{file_type:t.type,file_size:t.size,upload_context:"issue"},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,bL=async(t,s)=>{await H.put(s,t,{headers:{"Content-Type":t.type}})},vL=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/issues",t,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,jL=()=>{const t=Xe(),[s]=Ie(),r=ae(P=>P.authentication_state.auth_token),a=s.get("order_id"),[n,i]=k.useState({order_id:a||null,issue_type:"",affected_items:[],description:"",evidence_photos:[],desired_resolution:""}),[l,o]=k.useState({}),[c,d]=k.useState(!1),[m,u]=k.useState(null),[x,h]=k.useState([]),[f,p]=k.useState({}),[N,y]=k.useState([]),{data:j,isLoading:g}=ie({queryKey:["order-context",a],queryFn:()=>fL(a,r),enabled:!!a&&!!r,staleTime:5*60*1e3,retry:1});k.useEffect(()=>{j&&!n.order_id&&i(P=>({...P,order_id:j.order.order_id}))},[j,n.order_id]);const S=P=>{i(E=>({...E,issue_type:P})),o(E=>({...E,issue_type:void 0}))},w=P=>{i(E=>{const z=E.affected_items.includes(P);return{...E,affected_items:z?E.affected_items.filter(O=>O!==P):[...E.affected_items,P]}}),o(E=>({...E,affected_items:void 0}))},C=P=>{i(E=>({...E,description:P})),o(E=>({...E,description:void 0}))},_=P=>{i(E=>({...E,desired_resolution:P})),o(E=>({...E,desired_resolution:void 0}))},$=async P=>{const E=P.target.files;if(!E||E.length===0)return;y([]);const z=n.evidence_photos.length,O=E.length;if(z+O>10){y(["Maximum 10 photos allowed"]);return}try{const b=[];for(let L=0;L<E.length;L++){const v=E[L],D=v.name;if(!["image/jpeg","image/png","image/webp"].includes(v.type)){y(U=>[...U,`${D}: Invalid file type. Only JPG, PNG, WEBP allowed.`]);continue}if(v.size>5*1024*1024){y(U=>[...U,`${D}: File too large. Maximum 5MB.`]);continue}h(U=>[...U,D]),p(U=>({...U,[D]:0}));try{const U=await yL(v,r);p(q=>({...q,[D]:30})),await bL(v,U.upload_url),p(q=>({...q,[D]:100})),b.push(U.cdn_url)}catch(U){y(q=>[...q,`${D}: Upload failed`]),console.error(`Upload error for ${D}:`,U)}finally{h(U=>U.filter(q=>q!==D)),setTimeout(()=>{p(U=>{const q={...U};return delete q[D],q})},1e3)}}b.length>0&&i(L=>({...L,evidence_photos:[...L.evidence_photos,...b]}))}catch(b){y(L=>[...L,"Upload failed. Please try again."]),console.error("Photo upload error:",b)}},F=P=>{i(E=>({...E,evidence_photos:E.evidence_photos.filter(z=>z!==P)}))},T=()=>{const P={};return n.issue_type||(P.issue_type="Please select an issue type"),n.order_id?n.affected_items.length===0&&(P.affected_items="Please select at least one affected item"):P.affected_items="No order selected",(!n.description||n.description.trim().length<50)&&(P.description="Please provide at least 50 characters describing the issue"),n.description&&n.description.length>2e3&&(P.description="Description must be less than 2000 characters"),n.desired_resolution||(P.desired_resolution="Please select your desired resolution"),o(P),Object.keys(P).length===0},R=async P=>{var E,z;if(P.preventDefault(),u(null),!!T()){if(!n.order_id){u("No order selected. Please select an order to report an issue.");return}d(!0);try{const O={order_id:n.order_id,issue_type:n.issue_type,affected_items:n.affected_items,description:n.description,evidence_photos:n.evidence_photos,desired_resolution:n.desired_resolution},b=await vL(O,r);t(`/issues/${b.issue_id}`)}catch(O){console.error("Issue submission error:",O),u(((z=(E=O.response)==null?void 0:E.data)==null?void 0:z.message)||"Failed to submit issue. Please try again.")}finally{d(!1)}}},A=[{value:"late_delivery",label:"Late Delivery",icon:""},{value:"wrong_item",label:"Wrong Item Delivered",icon:""},{value:"damaged_item",label:"Damaged Item",icon:""},{value:"missing_item",label:"Missing Item(s)",icon:""},{value:"quality_issue",label:"Quality Issue",icon:""},{value:"billing_issue",label:"Overcharged/Billing Issue",icon:""},{value:"delivery_not_attempted",label:"Delivery Not Attempted",icon:""},{value:"other",label:"Other",icon:""}],M=[{value:"full_refund",label:"Full Refund"},{value:"partial_refund",label:"Partial Refund"},{value:"replacement",label:"Replacement Item"},{value:"credit",label:"Credit for Future Purchase"},{value:"no_action",label:"Just Want to Report (No Action Needed)"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Report an Issue"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Help us resolve your concern by providing detailed information about the issue you experienced."})]}),g&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})}),j&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 mb-8",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Order Context"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{className:"text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Order Number:"})," ",j.order.order_number]}),e.jsxs("p",{className:"text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Order Date:"})," ",new Date(j.order.order_date).toLocaleDateString()]}),e.jsxs("p",{className:"text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Status:"})," ",j.order.status]}),e.jsxs("p",{className:"text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Total:"})," $",j.order.total_amount.toFixed(2)]})]})]}),e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[j.items.length," item",j.items.length!==1?"s":""]})]})}),e.jsxs("form",{onSubmit:R,className:"space-y-8",children:[m&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:m})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"What went wrong?"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:A.map(P=>e.jsxs("button",{type:"button",onClick:()=>S(P.value),className:`
                      relative p-4 rounded-lg border-2 transition-all duration-200 text-left
                      ${n.issue_type===P.value?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50"}
                    `,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:P.icon}),e.jsx("span",{className:"font-medium text-gray-900",children:P.label})]}),n.issue_type===P.value&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("svg",{className:"h-5 w-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]},P.value))}),l.issue_type&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.issue_type})]}),j&&j.items.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Which items are affected?"}),e.jsx("div",{className:"space-y-3",children:j.items.map(P=>e.jsxs("label",{className:`
                        flex items-start p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                        ${n.affected_items.includes(P.order_item_id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}
                      `,children:[e.jsx("input",{type:"checkbox",checked:n.affected_items.includes(P.order_item_id),onChange:()=>w(P.order_item_id),className:"mt-1 h-5 w-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:P.product_name}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["SKU: ",P.sku]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Quantity: ",P.quantity]})]})]},P.order_item_id))}),l.affected_items&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.affected_items})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Tell us what happened"}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:["Issue Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",rows:6,value:n.description,onChange:P=>C(P.target.value),placeholder:"Please describe what happened in detail. Include dates, times, and any relevant information that will help us understand the situation...",className:`
                    w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all duration-200
                    ${l.description?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                  `}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 50 characters, maximum 2000 characters"}),e.jsxs("p",{className:`text-xs font-medium ${n.description.length<50||n.description.length>2e3?"text-red-500":"text-gray-500"}`,children:[n.description.length," / 2000"]})]}),l.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Add Evidence Photos ",e.jsx("span",{className:"text-gray-500 text-sm font-normal",children:"(Optional but recommended)"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"photo-upload",className:`
                    flex flex-col items-center justify-center w-full h-32 border-2 border-dashed rounded-lg cursor-pointer transition-all duration-200
                    ${x.length>0?"border-blue-400 bg-blue-50 cursor-not-allowed":"border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50"}
                  `,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:"w-10 h-10 mb-3 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, or WEBP (Max 5MB per file, up to 10 files)"})]}),e.jsx("input",{id:"photo-upload",type:"file",multiple:!0,accept:"image/jpeg,image/png,image/webp",onChange:$,disabled:x.length>0,className:"hidden"})]}),x.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:x.map(P=>e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 truncate flex-1 mr-2",children:P}),e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[f[P]||0,"%"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${f[P]||0}%`}})})]},P))}),N.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:N.map((P,E)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-700",children:P})},E))}),n.evidence_photos.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-3",children:["Uploaded Photos (",n.evidence_photos.length,"/10)"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:n.evidence_photos.map((P,E)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:P,alt:`Evidence ${E+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>F(P),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-600","aria-label":"Remove photo",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},E))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"What would you like us to do?"}),e.jsx("div",{className:"space-y-3",children:M.map(P=>e.jsxs("label",{className:`
                      flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                      ${n.desired_resolution===P.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"}
                    `,children:[e.jsx("input",{type:"radio",name:"desired_resolution",value:P.value,checked:n.desired_resolution===P.value,onChange:E=>_(E.target.value),className:"h-5 w-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 font-medium text-gray-900",children:P.label})]},P.value))}),l.desired_resolution&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:l.desired_resolution})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("button",{type:"submit",disabled:c||x.length>0,className:"flex-1 px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Issue..."]}):x.length>0?`Uploading ${x.length} photo${x.length!==1?"s":""}...`:"Submit Issue Report"}),e.jsx("button",{type:"button",onClick:()=>t(-1),className:"px-6 py-3 bg-gray-100 text-gray-900 font-medium rounded-lg hover:bg-gray-200 focus:outline-none focus:ring-4 focus:ring-gray-100 transition-all duration-200 border border-gray-300",children:"Cancel"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"We'll review your issue and get back to you within 24-48 hours."})]})]})]})})})},Qx="https://123create-construction-app-with-a.launchpulse.ai",NL=async(t,s)=>{const r=await H.get(`${Qx}/api/issues/${t}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});return{issue:r.data.issue,messages:r.data.messages||[]}},wL=async(t,s,r)=>(await H.post(`${Qx}/api/issues/${t}/messages`,s,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,_L=async(t,s)=>(await H.post(`${Qx}/api/issues/${t}/accept-resolution`,{},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data.issue,kL=async(t,s)=>{await H.post(`${Qx}/api/issues/${t}/escalate`,{},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})},SL=t=>({open:"bg-orange-100 text-orange-800 border-orange-200",under_review:"bg-blue-100 text-blue-800 border-blue-200",awaiting_response:"bg-yellow-100 text-yellow-800 border-yellow-200",resolved:"bg-green-100 text-green-800 border-green-200",closed:"bg-gray-100 text-gray-800 border-gray-200"})[t]||"bg-gray-100 text-gray-800 border-gray-200",CL=t=>({late_delivery:"Late Delivery",wrong_item:"Wrong Item Delivered",damaged_item:"Damaged Item",missing_item:"Missing Item",quality_issue:"Quality Issue",billing_issue:"Billing Issue",delivery_not_attempted:"Delivery Not Attempted",other:"Other Issue"})[t]||t,d_=t=>({full_refund:"Full Refund",partial_refund:"Partial Refund",replacement:"Replacement Item",credit:"Store Credit",no_action:"No Action Needed"})[t]||t,Df=t=>{const s=new Date(t);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).format(s)},PL=t=>{const s=new Date(t),a=new Date().getTime()-s.getTime(),n=Math.floor(a/6e4),i=Math.floor(a/36e5),l=Math.floor(a/864e5);return n<1?"Just now":n<60?`${n}m ago`:i<24?`${i}h ago`:l<7?`${l}d ago`:Df(t)},AL=()=>{const{issue_id:t}=an(),s=Fe(),r=ae(R=>R.authentication_state.auth_token),[a,n]=k.useState(""),[i,l]=k.useState([]),[o,c]=k.useState(!1),[d,m]=k.useState(null),{data:u,isLoading:x,error:h,refetch:f}=ie({queryKey:["issue",t],queryFn:()=>NL(t,r),enabled:!!t&&!!r,staleTime:3e4,refetchOnWindowFocus:!0,retry:1}),p=ue({mutationFn:R=>wL(t,R,r),onSuccess:()=>{s.invalidateQueries({queryKey:["issue",t]}),n(""),l([])},onError:R=>{var A,M;alert(((M=(A=R.response)==null?void 0:A.data)==null?void 0:M.message)||"Failed to send message. Please try again.")}}),N=ue({mutationFn:()=>_L(t,r),onSuccess:()=>{s.invalidateQueries({queryKey:["issue",t]})},onError:R=>{var A,M;alert(((M=(A=R.response)==null?void 0:A.data)==null?void 0:M.message)||"Failed to accept resolution. Please try again.")}}),y=ue({mutationFn:()=>kL(t,r),onSuccess:()=>{s.invalidateQueries({queryKey:["issue",t]})},onError:R=>{var A,M;alert(((M=(A=R.response)==null?void 0:A.data)==null?void 0:M.message)||"Failed to escalate issue. Please try again.")}}),j=R=>{R.preventDefault(),a.trim()&&p.mutate({message_text:a.trim(),attachments:i})},g=()=>{window.confirm("Are you sure you want to accept this resolution? This action cannot be undone.")&&N.mutate()},S=()=>{window.confirm("This will escalate your issue to BuildEasy admin support. Do you want to continue?")&&y.mutate()},w=R=>{m(R),c(!0)},C=(u==null?void 0:u.issue)||null,_=(u==null?void 0:u.messages)||[],$=!!(C!=null&&C.resolution_offered),F=(C==null?void 0:C.status)==="open"&&!(C!=null&&C.escalated_to_admin),T=(C==null?void 0:C.status)==="resolved"||(C==null?void 0:C.status)==="closed";return x?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsx("div",{className:"h-32 bg-gray-200 rounded"})})]})})})}):h?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx(he,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Issue Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find this issue or you don't have permission to view it."}),e.jsxs(G,{to:"/orders",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ya,{className:"mr-2 h-5 w-5"}),"Back to Orders"]})]})})})}):C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(G,{to:"/orders",className:"inline-flex items-center text-gray-600 hover:text-gray-900 font-medium transition-colors",children:[e.jsx(Ya,{className:"mr-2 h-5 w-5"}),"Back to Orders"]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsx("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Issue #",C.issue_id.slice(-8).toUpperCase()]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${SL(C.status)}`,children:C.status.replace("_"," ").toUpperCase()}),C.escalated_to_admin&&e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-purple-100 text-purple-800 border border-purple-200",children:"ESCALATED TO ADMIN"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ft,{className:"mr-2 h-4 w-4"}),"Opened ",Df(C.opened_date)]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),e.jsxs(G,{to:`/orders/${C.order_id}`,className:"text-blue-600 hover:text-blue-700 font-medium",children:["Order #",C.order_id.slice(-8).toUpperCase()]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"mr-2 h-4 w-4"}),CL(C.issue_type)]})]})]})})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Issue Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-900 leading-relaxed",children:C.description})]}),C.affected_items&&C.affected_items.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Affected Items"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.affected_items.map((R,A)=>e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-md border border-gray-200",children:R},A))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Desired Resolution"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 bg-blue-50 text-blue-700 text-sm font-medium rounded-md border border-blue-200",children:d_(C.desired_resolution)})]}),C.evidence_photos&&C.evidence_photos.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-3",children:"Evidence Photos"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:C.evidence_photos.map((R,A)=>e.jsxs("button",{onClick:()=>w(R),className:"relative aspect-square rounded-lg overflow-hidden border-2 border-gray-200 hover:border-blue-500 transition-all group",children:[e.jsx("img",{src:R,alt:`Evidence ${A+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity flex items-center justify-center",children:e.jsx(Cd,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]},A))})]})]})]}),$&&C.resolution_offered&&!T&&e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-lg border-2 border-green-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(fe,{className:"h-6 w-6 text-green-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Resolution Offered"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[C.assigned_admin_id?"BuildEasy Admin":"Supplier"," has offered a resolution for your issue:"]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 mb-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Resolution Type"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d_(C.resolution_offered)})]}),C.resolution_amount&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Amount"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",Number(C.resolution_amount||0).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:g,disabled:N.isPending,className:"flex-1 px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Accepting..."]}):"Accept Resolution"}),e.jsx("button",{type:"button",className:"flex-1 px-6 py-3 bg-white text-gray-700 font-medium rounded-lg border-2 border-gray-300 hover:bg-gray-50 transition-colors",children:"Decline & Continue Discussion"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Communication Thread"}),e.jsx("div",{className:"space-y-4 mb-6",children:_.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Cs,{className:"mx-auto h-12 w-12 text-gray-300 mb-3"}),e.jsx("p",{children:"No messages yet. Start the conversation below."})]}):_.map(R=>{const A=R.sender_type==="customer",M=R.sender_type==="system";return e.jsx("div",{className:`flex ${A?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xl ${A?"ml-12":"mr-12"}`,children:[e.jsxs("div",{className:`flex items-center gap-2 mb-1 ${A?"justify-end":"justify-start"}`,children:[e.jsxs("span",{className:"text-xs font-medium text-gray-500",children:[A&&"You",R.sender_type==="supplier"&&"Supplier",R.sender_type==="admin"&&"BuildEasy Admin",M&&"System"]}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-400",children:PL(R.timestamp)})]}),e.jsxs("div",{className:`rounded-lg px-4 py-3 ${A?"bg-blue-600 text-white":M?"bg-gray-100 text-gray-700 border border-gray-200":"bg-white text-gray-900 border border-gray-200 shadow-sm"}`,children:[e.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:R.message_text}),R.attachments&&R.attachments.length>0&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200/30 space-y-1",children:R.attachments.map((P,E)=>e.jsxs("a",{href:P,target:"_blank",rel:"noopener noreferrer",className:`flex items-center text-xs ${A?"text-blue-100 hover:text-white":"text-blue-600 hover:text-blue-700"}`,children:[e.jsx(po,{className:"mr-1 h-3 w-3"}),"Attachment ",E+1]},E))})]})]})},R.message_id)})}),!T&&e.jsxs("form",{onSubmit:j,className:"border-t border-gray-200 pt-6",children:[e.jsx("label",{htmlFor:"message_text",className:"block text-sm font-medium text-gray-700 mb-2",children:"Add a Message"}),e.jsx("textarea",{id:"message_text",value:a,onChange:R=>n(R.target.value),placeholder:"Type your message here...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none",disabled:p.isPending}),e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{type:"button",className:"inline-flex items-center px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(po,{className:"mr-2 h-4 w-4"}),"Attach Files"]}),i.length>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[i.length," file(s) attached"]})]}),e.jsx("button",{type:"submit",disabled:!a.trim()||p.isPending,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Cv,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})]}),T&&e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[e.jsx(fe,{className:"mx-auto h-8 w-8 text-green-600 mb-2"}),e.jsx("p",{className:"text-sm font-medium text-green-800",children:"This issue has been resolved"}),C.resolved_date&&e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Resolved on ",Df(C.resolved_date)]})]})})]}),F&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx(w9,{className:"h-5 w-5 text-amber-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Need Additional Help?"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"If the supplier's response is not satisfactory, you can escalate this issue to BuildEasy admin support for review."}),e.jsx("button",{onClick:S,disabled:y.isPending,className:"inline-flex items-center px-4 py-2 bg-amber-600 text-white text-sm font-medium rounded-lg hover:bg-amber-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Escalating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(as,{className:"mr-2 h-4 w-4"}),"Escalate to Admin Support"]})})]})]})})]})}),o&&d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4",onClick:()=>c(!1),children:e.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[e.jsx("button",{onClick:()=>c(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsx(be,{className:"h-8 w-8"})}),e.jsx("img",{src:d,alt:"Evidence",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:R=>R.stopPropagation()})]})})]}):null},OL=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/orders",{headers:{Authorization:`Bearer ${t}`},params:{limit:10,sort_by:"order_date",sort_order:"desc"}})).data.orders||[],$L=async(t,s,r)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/support/tickets",{user_id:s,order_id:t.order_id,issue_category:t.issue_category,subject:t.subject,message:t.message,attachments:t.attachments,priority:t.priority},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,TL=()=>{const t=ae(C=>C.authentication_state.current_user),s=ae(C=>C.authentication_state.auth_token),[r,a]=k.useState({issue_category:"",subject:"",message:"",order_id:null,attachments:[],priority:"normal"}),[n,i]=k.useState({issue_category:null,subject:null,message:null}),[l,o]=k.useState({is_submitting:!1,submission_success:!1,ticket_id:null,error_message:null}),[c,d]=k.useState([]),[m,u]=k.useState({}),[x,h]=k.useState(!1),{data:f=[],isLoading:p}=ie({queryKey:["userOrders",t==null?void 0:t.user_id],queryFn:()=>OL(s||""),enabled:!!s&&!!(t!=null&&t.user_id),staleTime:5*60*1e3}),N=C=>{i(_=>({..._,[C]:null}))},y=()=>{const C={issue_category:null,subject:null,message:null};let _=!0;return r.issue_category||(C.issue_category="Please select an issue category",_=!1),r.subject.trim()?r.subject.length>255&&(C.subject="Subject must be less than 255 characters",_=!1):(C.subject="Subject is required",_=!1),r.message.trim()?r.message.trim().length<50?(C.message="Message must be at least 50 characters",_=!1):r.message.length>5e3&&(C.message="Message must be less than 5000 characters",_=!1):(C.message="Message is required",_=!1),i(C),_},j=async C=>{const _=Array.from(C.target.files||[]);if(r.attachments.length+_.length>5){alert("Maximum 5 attachments allowed");return}const $=[];for(const F of _){if(F.size>5*1024*1024){alert(`${F.name} exceeds 5MB limit`);continue}if(!["image/jpeg","image/png","application/pdf"].includes(F.type)){alert(`${F.name} has invalid type. Only JPG, PNG, and PDF allowed`);continue}$.push(F)}if($.length!==0){h(!0),d($);try{const F=[];for(const T of $){u(A=>({...A,[T.name]:0})),await new Promise(A=>setTimeout(A,1e3));const R=`https://cdn.buildeasy.com/support/${Date.now()}_${T.name}`;F.push(R),u(A=>({...A,[T.name]:100}))}a(T=>({...T,attachments:[...T.attachments,...F]})),d([]),u({})}catch(F){console.error("Upload error:",F),alert("Failed to upload files. Please try again.")}finally{h(!1)}}},g=C=>{a(_=>({..._,attachments:_.attachments.filter(($,F)=>F!==C)}))},S=async C=>{var _,$;if(C.preventDefault(),!!y()){if(!(t!=null&&t.user_id)||!s){o(F=>({...F,error_message:"Authentication required. Please log in again."}));return}o({is_submitting:!0,submission_success:!1,ticket_id:null,error_message:null});try{const F=await $L(r,t.user_id,s);o({is_submitting:!1,submission_success:!0,ticket_id:F.ticket_id,error_message:null}),a({issue_category:"",subject:"",message:"",order_id:null,attachments:[],priority:"normal"})}catch(F){console.error("Ticket submission error:",F);const T=(($=(_=F.response)==null?void 0:_.data)==null?void 0:$.message)||F.message||"Failed to submit support ticket. Please try again.";o({is_submitting:!1,submission_success:!1,ticket_id:null,error_message:T})}}},w=()=>{a({issue_category:"",subject:"",message:"",order_id:null,attachments:[],priority:"normal"}),i({issue_category:null,subject:null,message:null}),o({is_submitting:!1,submission_success:!1,ticket_id:null,error_message:null})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(G,{to:"/dashboard",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]})}),l.submission_success&&l.ticket_id&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(fe,{className:"w-10 h-10 text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Support Ticket Created! "}),e.jsxs("p",{className:"text-lg text-gray-600 mb-6",children:["Your support ticket ",e.jsxs("span",{className:"font-semibold text-blue-600",children:["#",l.ticket_id]})," has been created successfully."]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 text-left",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"What happens next?"}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),e.jsx("span",{children:"You'll receive a confirmation email within a few minutes"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),e.jsx("span",{children:"Our support team will review your ticket (within 24 hours)"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),e.jsx("span",{children:"You'll receive updates via email and in-app notifications"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(G,{to:"/support/tickets",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"View My Tickets"]}),e.jsx("button",{onClick:w,className:"inline-flex items-center justify-center px-6 py-3 bg-white text-gray-700 font-medium rounded-lg border-2 border-gray-200 hover:bg-gray-50 transition-colors",children:"Submit Another Ticket"})]})]})}),!l.submission_success&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Contact Support"}),e.jsx("p",{className:"text-blue-100",children:"We're here to help. Fill out the form below and we'll get back to you within 24 hours."})]}),e.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 font-medium",children:"Need immediate assistance?"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("a",{href:"tel:1-800-BUILD-EZ",className:"inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:[e.jsx(Ra,{className:"w-4 h-4 mr-2"}),"1-800-BUILD-EZ"]}),e.jsxs("a",{href:"mailto:support@buildeasy.com",className:"inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:[e.jsx(Kt,{className:"w-4 h-4 mr-2"}),"support@buildeasy.com"]}),e.jsxs("button",{type:"button",className:"inline-flex items-center text-blue-600 hover:text-blue-700 text-sm font-medium",children:[e.jsx(hs,{className:"w-4 h-4 mr-2"}),"Live Chat"]})]})]})]}),l.error_message&&e.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 mb-6",role:"alert","aria-live":"polite",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-red-800 mb-1",children:"Error Submitting Ticket"}),e.jsx("p",{className:"text-sm text-red-700",children:l.error_message})]}),e.jsx("button",{onClick:()=>o(C=>({...C,error_message:null})),className:"text-red-600 hover:text-red-700",children:e.jsx(be,{className:"w-5 h-5"})})]})}),e.jsx("form",{onSubmit:S,className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"issue_category",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Issue Category ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{id:"issue_category",value:r.issue_category,onChange:C=>{a(_=>({..._,issue_category:C.target.value})),N("issue_category")},className:`w-full px-4 py-3 rounded-lg border-2 ${n.issue_category?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`,children:[e.jsx("option",{value:"",children:"Select an issue category"}),e.jsx("option",{value:"delivery",children:"Delivery Issue"}),e.jsx("option",{value:"product_quality",children:"Product Quality"}),e.jsx("option",{value:"payment",children:"Payment or Billing"}),e.jsx("option",{value:"account",children:"Account Issue"}),e.jsx("option",{value:"technical",children:"Technical Problem"}),e.jsx("option",{value:"other",children:"Other"})]}),n.issue_category&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",role:"alert",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),n.issue_category]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order_id",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Related Order (Optional)"}),p?e.jsxs("div",{className:"flex items-center text-gray-500 text-sm py-3",children:[e.jsx(Et,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading your orders..."]}):f.length>0?e.jsxs("select",{id:"order_id",value:r.order_id||"",onChange:C=>a(_=>({..._,order_id:C.target.value||null})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all",children:[e.jsx("option",{value:"",children:"Not related to a specific order"}),f.map(C=>e.jsxs("option",{value:C.order_id,children:[C.order_number," - ",new Date(C.order_date).toLocaleDateString()," - $",C.total_amount.toFixed(2)]},C.order_id))]}):e.jsx("p",{className:"text-sm text-gray-500 py-3",children:"No recent orders found"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"If your issue relates to a specific order, select it here for faster resolution"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Subject ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{id:"subject",type:"text",value:r.subject,onChange:C=>{a(_=>({..._,subject:C.target.value})),N("subject")},placeholder:"Brief summary of your issue",maxLength:255,className:`w-full px-4 py-3 rounded-lg border-2 ${n.subject?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all`}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[n.subject?e.jsxs("p",{className:"text-sm text-red-600 flex items-center",role:"alert",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),n.subject]}):e.jsx("p",{className:"text-xs text-gray-500",children:'Example: "Damaged product in Order #12345"'}),e.jsxs("span",{className:"text-xs text-gray-400",children:[r.subject.length,"/255"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Detailed Description ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("textarea",{id:"message",value:r.message,onChange:C=>{a(_=>({..._,message:C.target.value})),N("message")},placeholder:"Please describe your issue in detail. Include relevant information like dates, product names, or error messages.",rows:8,maxLength:5e3,className:`w-full px-4 py-3 rounded-lg border-2 ${n.message?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 focus:outline-none transition-all resize-none leading-relaxed`}),e.jsxs("div",{className:"mt-2 flex justify-between items-start",children:[e.jsx("div",{className:"flex-1",children:n.message?e.jsxs("p",{className:"text-sm text-red-600 flex items-center",role:"alert",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),n.message]}):e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 50 characters. Be as detailed as possible to help us assist you better."})}),e.jsxs("span",{className:`text-xs ml-4 flex-shrink-0 ${r.message.trim().length<50?"text-red-500":r.message.length>4500?"text-amber-500":"text-gray-400"}`,children:[r.message.length,"/5000"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Attachments (Optional)"}),r.attachments.length<5&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{htmlFor:"file_upload",className:`flex items-center justify-center px-6 py-4 border-2 border-dashed rounded-lg cursor-pointer transition-all ${x?"border-gray-300 bg-gray-50 cursor-not-allowed":"border-blue-300 bg-blue-50 hover:bg-blue-100 hover:border-blue-400"}`,children:[e.jsx(dr,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:x?"Uploading...":"Upload Files (JPG, PNG, PDF)"})]}),e.jsx("input",{id:"file_upload",type:"file",multiple:!0,accept:"image/jpeg,image/png,application/pdf",onChange:j,disabled:x,className:"hidden"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Maximum 5 files, 5MB each. Supported: JPG, PNG, PDF"})]}),c.length>0&&e.jsx("div",{className:"space-y-2 mb-4",children:c.map(C=>e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 truncate flex-1",children:C.name}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:[(C.size/1024).toFixed(0),"KB"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m[C.name]||0}%`}})})]},C.name))}),r.attachments.length>0&&e.jsx("div",{className:"space-y-2",children:r.attachments.map((C,_)=>e.jsxs("div",{className:"flex items-center justify-between bg-green-50 rounded-lg p-3 border border-green-200",children:[e.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[e.jsx(fe,{className:"w-4 h-4 text-green-600 mr-2 flex-shrink-0"}),e.jsxs("span",{className:"text-sm text-gray-700 truncate",children:["Attachment ",_+1]})]}),e.jsx("button",{type:"button",onClick:()=>g(_),className:"ml-3 text-red-600 hover:text-red-700 transition-colors flex-shrink-0",children:e.jsx(be,{className:"w-5 h-5"})})]},_))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Priority Level"}),e.jsxs("select",{id:"priority",value:r.priority,onChange:C=>a(_=>({..._,priority:C.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 focus:outline-none transition-all",children:[e.jsx("option",{value:"low",children:"Low - General inquiry"}),e.jsx("option",{value:"normal",children:"Normal - Standard support"}),e.jsx("option",{value:"high",children:"High - Urgent issue"}),e.jsx("option",{value:"urgent",children:"Urgent - Critical problem"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"High and Urgent priorities receive faster response times"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"submit",disabled:l.is_submitting||x,className:"flex-1 inline-flex items-center justify-center px-8 py-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",children:l.is_submitting?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"w-5 h-5 mr-2 animate-spin"}),"Submitting Ticket..."]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"Submit Support Ticket"]})}),e.jsx("button",{type:"button",onClick:w,disabled:l.is_submitting,className:"sm:w-auto px-8 py-4 bg-white text-gray-700 font-medium rounded-lg border-2 border-gray-200 hover:bg-gray-50 focus:outline-none focus:ring-4 focus:ring-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Clear Form"})]})]})}),e.jsx("div",{className:"mt-8 bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Before submitting a ticket"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-gray-700 leading-relaxed",children:["You might find answers faster in our"," ",e.jsx(G,{to:"/help",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Knowledge Base"}),". Common topics include:"]}),e.jsxs("ul",{className:"space-y-2 ml-6",children:[e.jsx("li",{className:"text-gray-700",children:e.jsx(G,{to:"/help/article/tracking-orders",className:"text-blue-600 hover:text-blue-700",children:" How to track your order"})}),e.jsx("li",{className:"text-gray-700",children:e.jsx(G,{to:"/help/article/returns",className:"text-blue-600 hover:text-blue-700",children:" Return and refund policies"})}),e.jsx("li",{className:"text-gray-700",children:e.jsx(G,{to:"/help/article/payment",className:"text-blue-600 hover:text-blue-700",children:" Payment methods and issues"})}),e.jsx("li",{className:"text-gray-700",children:e.jsx(G,{to:"/help/article/account",className:"text-blue-600 hover:text-blue-700",children:" Managing your account"})})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:" Tip:"})," For order-specific issues, you can also report directly from the"," ",e.jsx(G,{to:"/orders",className:"underline font-medium",children:"order details page"}),"."]})})]})})]})]})})})},EL=(t,s)=>{if(!s||s<=t)return null;const r=s-t,a=(r/s*100).toFixed(0);return{amount:r,percent:a}},ML=t=>{const s={new:"bg-green-100 text-green-800 border-green-200",like_new:"bg-blue-100 text-blue-800 border-blue-200",used:"bg-gray-100 text-gray-800 border-gray-200",refurbished:"bg-purple-100 text-purple-800 border-purple-200"};return s[t]||s.used},R0=t=>({new:"New",like_new:"Like New",used:"Used",refurbished:"Refurbished"})[t]||t,om=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),FL=t=>{const s=new Date(t),a=new Date().getTime()-s.getTime(),n=Math.floor(a/(1e3*60*60*24));return n===0?"Today":n===1?"Yesterday":n<7?`${n} days ago`:n<30?`${Math.floor(n/7)} weeks ago`:s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},RL=()=>{var U;const t=Xe(),[s]=Ie(),r=ae(q=>q.authentication_state.auth_token),a=ae(q=>{var B;return(B=q.authentication_state.customer_profile)==null?void 0:B.customer_id}),[n,i]=k.useState({search_query:null,category_id:null,condition:null,price_min:null,price_max:null,location_distance:null,shipping_available:null}),[l,o]=k.useState({sort_by:"created_date",sort_order:"desc"}),[c,d]=k.useState(1),[m,u]=k.useState(""),[x,h]=k.useState(!1),[f,p]=k.useState({latitude:null,longitude:null,address:null}),N=24,y="https://123create-construction-app-with-a.launchpulse.ai";k.useEffect(()=>{const q=s.get("search_query"),B=s.get("category"),W=s.get("condition"),I=s.get("price_min"),Q=s.get("price_max"),Z=s.get("location_distance"),Y=s.get("shipping_available"),K=s.get("sort_by"),te=s.get("page");if(i({search_query:q||null,category_id:B||null,condition:W||null,price_min:I?parseFloat(I):null,price_max:Q?parseFloat(Q):null,location_distance:Z?parseFloat(Z):null,shipping_available:Y==="true"?!0:Y==="false"?!1:null}),q&&u(q),(K==="asking_price"||K==="views_count"||K==="created_date")&&o(V=>({...V,sort_by:K})),te){const V=parseInt(te);V>0&&d(V)}},[s]);const{data:j}=ie({queryKey:["categories","surplus"],queryFn:async()=>(await H.get(`${y}/categories`,{params:{is_active:!0},headers:r?{Authorization:`Bearer ${r}`}:{}})).data,staleTime:5*60*1e3,select:q=>q.map(B=>({category_id:B.category_id,category_name:B.category_name,parent_category_id:B.parent_category_id}))}),{data:g}=ie({queryKey:["customer-profile",a],queryFn:async()=>(await H.get(`${y}/customers/me`,{headers:{Authorization:`Bearer ${r}`}})).data,enabled:!!r&&!!a&&n.location_distance!==null,staleTime:10*60*1e3,select:q=>{var W;const B=(W=q.addresses)==null?void 0:W.find(I=>I.is_default);return B?{latitude:B.latitude,longitude:B.longitude,address:`${B.city}, ${B.state}`}:null}});k.useEffect(()=>{g&&p(g)},[g]);const{data:S,isLoading:w,error:C,refetch:_}=ie({queryKey:["surplus-listings",n,l,c],queryFn:async()=>{const q={status:"active",limit:N,offset:(c-1)*N,sort_by:l.sort_by,sort_order:l.sort_order};return n.search_query&&(q.query=n.search_query),n.category_id&&(q.category_id=n.category_id),n.condition&&(q.condition=n.condition),n.price_min!==null&&(q.price_min=n.price_min),n.price_max!==null&&(q.price_max=n.price_max),n.location_distance!==null&&(q.location_distance=n.location_distance),n.shipping_available!==null&&(q.shipping_available=n.shipping_available),(await H.get(`${y}/surplus`,{params:q,headers:{Authorization:`Bearer ${r}`}})).data},staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:q=>({listings:q.listings.map(B=>({...B,asking_price:Number(B.asking_price||0),original_price:B.original_price?Number(B.original_price):null,shipping_rate:B.shipping_rate?Number(B.shipping_rate):null,photos:B.photos||[]})),total:q.total||0})}),$=(S==null?void 0:S.listings)||[],F=(S==null?void 0:S.total)||0,T=Math.ceil(F/N),R=(q,B=1)=>{const W=new URLSearchParams,I={...n,...q};I.search_query&&W.set("search_query",I.search_query),I.category_id&&W.set("category",I.category_id),I.condition&&W.set("condition",I.condition),I.price_min!==null&&W.set("price_min",I.price_min.toString()),I.price_max!==null&&W.set("price_max",I.price_max.toString()),I.location_distance!==null&&W.set("location_distance",I.location_distance.toString()),I.shipping_available!==null&&W.set("shipping_available",I.shipping_available.toString()),l.sort_by!=="created_date"&&W.set("sort_by",l.sort_by),B>1&&W.set("page",B.toString()),t(`?${W.toString()}`,{replace:!0})},A=(q,B)=>{const W={...n,[q]:B};i(W),d(1),R(W,1)},M=q=>{q.preventDefault(),A("search_query",m||null)},P=()=>{i({search_query:null,category_id:null,condition:null,price_min:null,price_max:null,location_distance:null,shipping_available:null}),u(""),d(1),t("/surplus",{replace:!0})},E=q=>{const B={sort_by:q,sort_order:l.sort_by===q&&l.sort_order==="asc"?"desc":"asc"};o(B),d(1),R(n,1)},z=q=>{d(q),R(n,q),window.scrollTo({top:0,behavior:"smooth"})},O=k.useMemo(()=>{let q=0;return n.search_query&&q++,n.category_id&&q++,n.condition&&q++,(n.price_min!==null||n.price_max!==null)&&q++,n.location_distance!==null&&q++,n.shipping_available!==null&&q++,q},[n]),b=q=>e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${ML(q)}`,children:R0(q)}),L=q=>{const B=EL(q.asking_price,q.original_price);return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:om(q.asking_price)}),q.price_type==="negotiable"&&e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Negotiable"})]}),B&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-500 line-through",children:om(q.original_price)}),e.jsxs("span",{className:"inline-flex items-center text-xs font-semibold text-green-700 bg-green-50 px-2 py-0.5 rounded",children:[e.jsx(Ad,{className:"w-3 h-3 mr-1"}),"Save ",om(B.amount)," (",B.percent,"%)"]})]})]})},v=q=>{const B=q.photos&&q.photos.length>0?q.photos[0]:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=400";return e.jsxs(G,{to:`/surplus/${q.listing_id}`,className:"group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-200 overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100",children:[e.jsx("img",{src:B,alt:q.product_name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"}),e.jsx("div",{className:"absolute top-3 right-3",children:b(q.condition)}),q.photos&&q.photos.length>1&&e.jsxs("div",{className:"absolute bottom-3 right-3 bg-black/60 text-white px-2 py-1 rounded text-xs font-medium",children:[q.photos.length," photos"]})]}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg line-clamp-2 group-hover:text-blue-600 transition-colors",children:q.product_name}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:q.description}),L(q),e.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(fs,{className:"w-4 h-4 mr-2 text-gray-400"}),e.jsx("span",{className:"truncate",children:q.pickup_location||"Location not specified"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[q.shipping_available?e.jsxs("span",{className:"flex items-center text-green-700 font-medium",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),"Shipping available",q.shipping_rate&&q.shipping_rate>0&&e.jsxs("span",{className:"ml-1 text-gray-600",children:["(",om(q.shipping_rate),")"]})]}):e.jsx("span",{className:"text-gray-600",children:"Pickup only"}),e.jsxs("span",{className:"text-gray-500",children:["Qty: ",q.quantity]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Posted ",FL(q.created_date)]})]})]})]},q.listing_id)},D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Category"}),e.jsxs("select",{value:n.category_id||"",onChange:q=>A("category_id",q.target.value||null),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Categories"}),j==null?void 0:j.map(q=>e.jsx("option",{value:q.category_id,children:q.category_name},q.category_id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Condition"}),e.jsxs("div",{className:"space-y-2",children:[["new","like_new","used","refurbished"].map(q=>e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"radio",name:"condition",value:q,checked:n.condition===q,onChange:B=>A("condition",B.target.value),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 group-hover:text-gray-900",children:R0(q)})]},q)),n.condition&&e.jsx("button",{onClick:()=>A("condition",null),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear condition"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Price Range"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:n.price_min||"",onChange:q=>A("price_min",q.target.value?parseFloat(q.target.value):null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",min:"0"}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("input",{type:"number",placeholder:"Max",value:n.price_max||"",onChange:q=>A("price_max",q.target.value?parseFloat(q.target.value):null),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",min:"0"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Distance from you"}),f.address?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-xs text-gray-600 flex items-center",children:[e.jsx(fs,{className:"w-3 h-3 mr-1"}),f.address]}),e.jsx("input",{type:"range",min:"5",max:"100",step:"5",value:n.location_distance||50,onChange:q=>A("location_distance",parseFloat(q.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"5 mi"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[n.location_distance||50," miles"]}),e.jsx("span",{children:"100 mi"})]}),n.location_distance!==null&&e.jsx("button",{onClick:()=>A("location_distance",null),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Remove distance filter"})]}):e.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 rounded-lg p-3",children:[e.jsx("p",{children:"Add a delivery address to filter by distance"}),e.jsx(G,{to:"/account#addresses",className:"text-blue-600 hover:text-blue-700 font-medium mt-2 inline-block",children:"Add address "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:"Delivery Options"}),e.jsxs("label",{className:"flex items-center cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:n.shipping_available===!0,onChange:q=>A("shipping_available",q.target.checked?!0:null),className:"w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 group-hover:text-gray-900",children:"Shipping available only"})]})]}),O>0&&e.jsxs("button",{onClick:P,className:"w-full py-2 px-4 border-2 border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:["Clear all filters (",O,")"]})]});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-4",children:[e.jsx(G,{to:"/",className:"hover:text-blue-600 transition-colors",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Surplus Marketplace"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Surplus Materials Marketplace"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Buy and sell unused construction materials from fellow contractors"})]}),e.jsx(G,{to:"/surplus/create",className:"inline-flex items-center justify-center px-6 py-3 rounded-lg font-medium text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:"+ List Your Materials"})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("form",{onSubmit:M,className:"relative",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ut,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search surplus materials...",value:m,onChange:q=>u(q.target.value),className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all text-base"})]}),e.jsx("button",{type:"submit",className:"ml-3 px-6 py-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Search"}),e.jsxs("button",{type:"button",onClick:()=>h(!0),className:"ml-3 lg:hidden px-4 py-4 bg-white border-2 border-gray-200 rounded-lg hover:bg-gray-50 transition-colors relative",children:[e.jsx(rS,{className:"w-5 h-5 text-gray-700"}),O>0&&e.jsx("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-blue-600 text-white text-xs font-bold rounded-full flex items-center justify-center",children:O})]})]})})}),O>0&&e.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active filters:"}),n.search_query&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 border border-blue-200",children:['Search: "',n.search_query,'"',e.jsx("button",{onClick:()=>{u(""),A("search_query",null)},className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),n.category_id&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 border border-blue-200",children:["Category: ",(U=j==null?void 0:j.find(q=>q.category_id===n.category_id))==null?void 0:U.category_name,e.jsx("button",{onClick:()=>A("category_id",null),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),n.condition&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 border border-blue-200",children:["Condition: ",R0(n.condition),e.jsx("button",{onClick:()=>A("condition",null),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),(n.price_min!==null||n.price_max!==null)&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 border border-blue-200",children:["Price: $",n.price_min||0," - $",n.price_max||"",e.jsx("button",{onClick:()=>{A("price_min",null),A("price_max",null)},className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),n.shipping_available&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 border border-blue-200",children:["Shipping available",e.jsx("button",{onClick:()=>A("shipping_available",null),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:P,className:"text-sm text-blue-600 hover:text-blue-700 font-medium underline",children:"Clear all"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"hidden lg:block w-72 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-6 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Filters"}),O>0&&e.jsxs("span",{className:"text-sm text-blue-600 font-semibold",children:[O," active"]})]}),D()]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-3 sm:space-y-0",children:[e.jsx("div",{children:w?e.jsx("div",{className:"h-6 w-48 bg-gray-200 rounded animate-pulse"}):e.jsxs("p",{className:"text-gray-700",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:F})," ",F===1?"listing":"listings"," found"]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),e.jsxs("select",{value:l.sort_by,onChange:q=>E(q.target.value),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 bg-white text-sm font-medium",children:[e.jsx("option",{value:"created_date",children:"Newest First"}),e.jsx("option",{value:"asking_price",children:"Price: Low to High"}),e.jsx("option",{value:"views_count",children:"Most Viewed"})]})]})]}),w&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map((q,B)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[e.jsx("div",{className:"aspect-square bg-gray-200 animate-pulse"}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-3/4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded animate-pulse w-1/2"})]})]},B))}),C&&!w&&e.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:e.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to load listings"}),e.jsx("p",{className:"text-gray-600 mb-4",children:(C==null?void 0:C.message)||"Something went wrong. Please try again."}),e.jsx("button",{onClick:()=>_(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Try Again"})]}),!w&&!C&&$.length===0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(Se,{className:"w-16 h-16 mx-auto"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No listings found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:O>0?"Try adjusting your filters to see more results":"Be the first to list surplus materials!"}),O>0?e.jsx("button",{onClick:P,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Clear all filters"}):e.jsx(G,{to:"/surplus/create",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"+ Create Listing"})]}),!w&&!C&&$.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:$.map(q=>v(q))}),T>1&&e.jsxs("div",{className:"mt-12 flex items-center justify-center space-x-2",children:[e.jsx("button",{onClick:()=>z(c-1),disabled:c===1,className:"px-4 py-2 border-2 border-gray-200 rounded-lg font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(T,5))].map((q,B)=>{let W;return T<=5||c<=3?W=B+1:c>=T-2?W=T-4+B:W=c-2+B,e.jsx("button",{onClick:()=>z(W),className:`w-10 h-10 rounded-lg font-medium transition-colors ${c===W?"bg-blue-600 text-white":"border-2 border-gray-200 text-gray-700 hover:bg-gray-50"}`,children:W},W)})}),e.jsx("button",{onClick:()=>z(c+1),disabled:c===T,className:"px-4 py-2 border-2 border-gray-200 rounded-lg font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]})]})]}),x&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>h(!1)}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-full max-w-sm bg-white shadow-2xl overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Filters"}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(be,{className:"w-5 h-5 text-gray-600"})})]}),D(),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>h(!1),className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:["Show Results (",F,")"]})})]})})]})]})})},LL=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Surplus Listing Details"}),e.jsx("p",{className:"text-gray-600",children:"This page is under construction."})]})}),DL=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories",{params:{is_active:!0},headers:t?{Authorization:`Bearer ${t}`}:void 0})).data,IL=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/surplus",t,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,BL=()=>{var A;const t=Xe(),s=ae(M=>{var P;return(P=M.authentication_state.customer_profile)==null?void 0:P.customer_id}),r=ae(M=>M.authentication_state.auth_token),[a,n]=k.useState(1),[i,l]=k.useState(!1),[o,c]=k.useState([]),[d,m]=k.useState([]),[u,x]=k.useState({product_name:"",category_id:"",description:"",condition:"used",photos:[],asking_price:0,original_price:0,price_type:"fixed",quantity:1,pickup_location:"",pickup_instructions:"",shipping_available:!1,shipping_rate:0,reason_for_selling:""}),[h,f]=k.useState({}),{data:p=[],isLoading:N}=ie({queryKey:["categories","active"],queryFn:()=>DL(r),staleTime:10*60*1e3}),y=ue({mutationFn:M=>IL(M,r||""),onSuccess:M=>{t("/surplus/my-listings",{state:{message:"Listing created successfully!",listingId:M.listing_id}})},onError:M=>{var E,z;const P=((z=(E=M.response)==null?void 0:E.data)==null?void 0:z.message)||"Failed to create listing. Please try again.";f({submit:P}),window.scrollTo({top:0,behavior:"smooth"})}}),j=M=>{const P=Array.from(M.target.files||[]);if(o.length+P.length>10){f({photos:"Maximum 10 photos allowed"});return}const E=P.filter(b=>{const L=["image/jpeg","image/png","image/jpg"].includes(b.type),v=b.size<=5*1024*1024;return L?v?!0:(f({photos:"Each photo must be less than 5MB"}),!1):(f({photos:"Only JPG and PNG files are allowed"}),!1)}),z=[...o,...E],O=[...d];E.forEach(b=>{const L=new FileReader;L.onloadend=()=>{O.push(L.result),m([...O])},L.readAsDataURL(b)}),c(z),f(b=>({...b,photos:""}))},g=M=>{const P=o.filter((z,O)=>O!==M),E=d.filter((z,O)=>O!==M);c(P),m(E),x(z=>({...z,photos:E}))},S=(M,P)=>{x(E=>({...E,[M]:P})),h[M]&&f(E=>({...E,[M]:""}))},w=M=>{const P={};return M===1&&(u.product_name.trim()||(P.product_name="Product name is required"),u.category_id||(P.category_id="Please select a category"),u.description.trim()?u.description.length<100?P.description="Description must be at least 100 characters":u.description.length>5e3&&(P.description="Description must not exceed 5000 characters"):P.description="Description is required"),M===2&&d.length===0&&(P.photos="Please upload at least one photo"),M===3&&((!u.asking_price||u.asking_price<=0)&&(P.asking_price="Please enter a valid asking price"),u.original_price&&u.original_price<u.asking_price&&(P.original_price="Original price should be higher than asking price")),M===4&&((!u.quantity||u.quantity<1)&&(P.quantity="Quantity must be at least 1"),!u.pickup_location.trim()&&!u.shipping_available&&(P.pickup_location="Please provide pickup location or enable shipping"),u.shipping_available&&(!u.shipping_rate||u.shipping_rate<=0)&&(P.shipping_rate="Please enter a valid shipping rate")),f(P),Object.keys(P).length===0},C=()=>{w(a)&&(n(M=>Math.min(M+1,4)),window.scrollTo({top:0,behavior:"smooth"}))},_=()=>{n(M=>Math.max(M-1,1)),window.scrollTo({top:0,behavior:"smooth"})},$=async()=>{if(!w(4))return;for(let P=1;P<=4;P++)if(!w(P)){n(P);return}const M={seller_id:s||"",product_name:u.product_name,category_id:u.category_id,description:u.description,condition:u.condition,photos:d,asking_price:u.asking_price,original_price:u.original_price||null,price_type:u.price_type,quantity:u.quantity,pickup_location:u.pickup_location||null,pickup_instructions:u.pickup_instructions||null,shipping_available:u.shipping_available,shipping_rate:u.shipping_available?u.shipping_rate:null,reason_for_selling:u.reason_for_selling||null};y.mutate(M)},F=()=>{w(a)&&(l(!0),window.scrollTo({top:0,behavior:"smooth"}))},T=M=>{l(!1),n(M)},R=M=>({1:"Item Information",2:"Upload Photos",3:"Set Pricing",4:"Availability & Shipping"})[M]||"";return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(G,{to:"/surplus/my-listings",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium mb-4 transition-colors",children:[e.jsx(ms,{className:"w-5 h-5"}),"Back to My Listings"]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Create Surplus Listing"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"List your unused construction materials and reach buyers in your area"})]}),h.submit&&e.jsxs("div",{className:"mb-6 bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start space-x-3",children:[e.jsx(he,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Error Creating Listing"}),e.jsx("p",{className:"text-red-700 text-sm",children:h.submit})]})]}),i?e.jsx(e.Fragment,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Preview Your Listing"}),e.jsx("p",{className:"text-blue-100",children:"Review your listing before publishing"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Item Information"}),e.jsx("button",{type:"button",onClick:()=>T(1),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Product Name"}),e.jsx("p",{className:"text-gray-900 font-semibold text-lg",children:u.product_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Category"}),e.jsx("p",{className:"text-gray-900",children:((A=p.find(M=>M.category_id===u.category_id))==null?void 0:A.category_name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Condition"}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-semibold ${u.condition==="new"?"bg-green-100 text-green-800":u.condition==="like_new"?"bg-blue-100 text-blue-800":u.condition==="used"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:u.condition.replace("_"," ").replace(/\b\w/g,M=>M.toUpperCase())})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:u.description})]}),u.reason_for_selling&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Reason for Selling"}),e.jsx("p",{className:"text-gray-900",children:u.reason_for_selling})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Photos (",d.length,")"]}),e.jsx("button",{type:"button",onClick:()=>T(2),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map((M,P)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:M,alt:`Item photo ${P+1}`,className:"w-full h-40 object-cover rounded-lg border-2 border-gray-200"}),P===0&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-md font-semibold",children:"Primary"})]},P))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>T(3),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Asking Price"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",u.asking_price.toFixed(2)]})]}),u.original_price>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Original Price"}),e.jsxs("p",{className:"text-gray-500 line-through text-lg",children:["$",u.original_price.toFixed(2)]}),e.jsxs("p",{className:"text-green-700 font-semibold",children:["Save $",(u.original_price-u.asking_price).toFixed(2),"(",Math.round((1-u.asking_price/u.original_price)*100),"% off)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Price Type"}),e.jsx("p",{className:"text-gray-900 capitalize",children:u.price_type})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Availability"}),e.jsx("button",{type:"button",onClick:()=>T(4),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Quantity Available"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:[u.quantity," unit(s)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Pickup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-gray-900",children:[e.jsx(fs,{className:"w-4 h-4 inline mr-1 text-gray-600"}),u.pickup_location]}),u.pickup_instructions&&e.jsx("p",{className:"text-gray-600 text-sm pl-5",children:u.pickup_instructions})]})]}),u.shipping_available&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Shipping"}),e.jsxs("p",{className:"text-gray-900",children:[e.jsx(Zt,{className:"w-4 h-4 inline mr-1 text-gray-600"}),"Available - $",u.shipping_rate.toFixed(2)," flat rate"]})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{type:"button",onClick:()=>l(!1),className:"inline-flex items-center px-6 py-3 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[e.jsx(ms,{className:"w-5 h-5 mr-2"}),"Back to Edit"]}),e.jsx("button",{type:"button",onClick:$,disabled:y.isPending,className:"inline-flex items-center px-8 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Publishing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"w-5 h-5 mr-2"}),"Publish Listing"]})})]})})]})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3,4].map((M,P)=>e.jsxs(X.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all duration-200 ${M<a?"bg-green-600 text-white":M===a?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-200 text-gray-600"}`,children:M<a?e.jsx(Ce,{className:"w-5 h-5"}):M}),e.jsx("p",{className:`text-xs mt-2 font-medium text-center ${M===a?"text-blue-600":"text-gray-600"}`,children:R(M)})]}),P<3&&e.jsx("div",{className:`h-1 flex-1 mx-2 rounded transition-all duration-200 ${M<a?"bg-green-600":"bg-gray-200"}`})]},M))})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-8",children:[a===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Se,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Item Information"}),e.jsx("p",{className:"text-gray-600",children:"Tell us about the item you're selling"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"product_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Product Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"product_name",value:u.product_name,onChange:M=>S("product_name",M.target.value),placeholder:"e.g., 2x4x8 SPF Lumber (50 pieces)",className:`w-full px-4 py-3 rounded-lg border-2 ${h.product_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`}),h.product_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.product_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category_id",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Category ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{id:"category_id",value:u.category_id,onChange:M=>S("category_id",M.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${h.category_id?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`,disabled:N,children:[e.jsx("option",{value:"",children:"Select a category"}),p.map(M=>e.jsx("option",{value:M.category_id,children:M.category_name},M.category_id))]}),h.category_id&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.category_id]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Condition ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:"new",label:"New",desc:"Unopened, unused"},{value:"like_new",label:"Like New",desc:"Opened, barely used"},{value:"used",label:"Used",desc:"Lightly used"},{value:"refurbished",label:"Refurbished",desc:"Restored to working"}].map(M=>e.jsxs("button",{type:"button",onClick:()=>S("condition",M.value),className:`p-4 rounded-lg border-2 text-left transition-all duration-200 ${u.condition===M.value?"border-blue-600 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:M.label}),e.jsx("p",{className:"text-xs text-gray-600",children:M.desc})]},M.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Description ",e.jsx("span",{className:"text-red-600",children:"*"}),e.jsxs("span",{className:"text-gray-500 font-normal ml-2",children:["(",u.description.length,"/5000 characters, min 100)"]})]}),e.jsx("textarea",{id:"description",value:u.description,onChange:M=>S("description",M.target.value),rows:6,placeholder:"Describe the item in detail. Include size, brand, quantity, condition details, and any defects...",className:`w-full px-4 py-3 rounded-lg border-2 ${h.description?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200 resize-none`}),h.description&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.description]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reason_for_selling",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Reason for Selling (Optional)"}),e.jsxs("select",{id:"reason_for_selling",value:u.reason_for_selling,onChange:M=>S("reason_for_selling",M.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"Project completed with leftovers",children:"Project completed with leftovers"}),e.jsx("option",{value:"Wrong item ordered",children:"Wrong item ordered"}),e.jsx("option",{value:"Changed plans",children:"Changed plans"}),e.jsx("option",{value:"Upgrading to different material",children:"Upgrading to different material"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),a===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(a9,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upload Photos"}),e.jsx("p",{className:"text-gray-600",children:"Add photos to showcase your item's condition"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Photos ",e.jsx("span",{className:"text-red-600",children:"*"}),e.jsxs("span",{className:"text-gray-500 font-normal ml-2",children:["(",d.length,"/10 photos)"]})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{type:"file",id:"photo-upload",multiple:!0,accept:"image/jpeg,image/png,image/jpg",onChange:j,className:"hidden",disabled:d.length>=10}),e.jsxs("label",{htmlFor:"photo-upload",className:`cursor-pointer ${d.length>=10?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG up to 5MB each (max 10 photos)"})]})]}),h.photos&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.photos]})]}),d.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map((M,P)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:M,alt:`Preview ${P+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>g(P),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700",children:e.jsx(be,{className:"w-4 h-4"})}),P===0&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-md font-semibold",children:"Primary"})]},P))}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Take clear, well-lit photos from multiple angles. Show any defects or wear clearly. The first photo will be your primary listing image."]})})]}),a===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Be,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set Pricing"}),e.jsx("p",{className:"text-gray-600",children:"Determine how you want to price your item"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"asking_price",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Asking Price ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),e.jsx("input",{type:"number",id:"asking_price",value:u.asking_price||"",onChange:M=>S("asking_price",parseFloat(M.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${h.asking_price?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`})]}),h.asking_price&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.asking_price]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"original_price",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Original Price (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),e.jsx("input",{type:"number",id:"original_price",value:u.original_price||"",onChange:M=>S("original_price",parseFloat(M.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${h.original_price?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Show buyers how much you originally paid (helps justify pricing)"}),h.original_price&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.original_price]}),u.original_price>0&&u.asking_price>0&&e.jsxs("p",{className:"mt-2 text-sm text-green-700 font-medium",children:["Savings: $",(u.original_price-u.asking_price).toFixed(2),"(",Math.round((1-u.asking_price/u.original_price)*100),"% off)"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Price Type ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"space-y-3",children:[{value:"fixed",label:"Fixed Price",desc:"Buyers pay the asking price"},{value:"negotiable",label:"Negotiable",desc:"Open to offers from buyers"},{value:"auction",label:"Auction",desc:"Buyers bid on the item"}].map(M=>e.jsx("button",{type:"button",onClick:()=>S("price_type",M.value),className:`w-full p-4 rounded-lg border-2 text-left transition-all duration-200 ${u.price_type===M.value?"border-blue-600 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:M.label}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.desc})]}),u.price_type===M.value&&e.jsx(Ce,{className:"w-6 h-6 text-blue-600"})]})},M.value))})]})]}),a===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(fs,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Availability & Shipping"}),e.jsx("p",{className:"text-gray-600",children:"How buyers can get this item"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Quantity Available ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"number",id:"quantity",value:u.quantity,onChange:M=>S("quantity",parseInt(M.target.value)||1),min:"1",className:`w-full px-4 py-3 rounded-lg border-2 ${h.quantity?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`}),h.quantity&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.quantity]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"pickup_location",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Pickup Location ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"pickup_location",value:u.pickup_location,onChange:M=>S("pickup_location",M.target.value),placeholder:"e.g., Austin, TX 78701 or specific address",className:`w-full px-4 py-3 rounded-lg border-2 ${h.pickup_location?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`}),h.pickup_location&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.pickup_location]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pickup_instructions",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Pickup Instructions (Optional)"}),e.jsx("textarea",{id:"pickup_instructions",value:u.pickup_instructions,onChange:M=>S("pickup_instructions",M.target.value),rows:3,placeholder:"e.g., Call before pickup, available weekends only, gate code: 1234",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 resize-none"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"shipping_available",checked:u.shipping_available,onChange:M=>S("shipping_available",M.target.checked),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{htmlFor:"shipping_available",className:"block text-sm font-semibold text-gray-900 mb-1 cursor-pointer",children:[e.jsx(Zt,{className:"w-5 h-5 inline mr-2 text-blue-600"}),"I can ship this item"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Offer shipping to reach more buyers beyond your local area"})]})]}),u.shipping_available&&e.jsxs("div",{className:"mt-4 pl-8",children:[e.jsxs("label",{htmlFor:"shipping_rate",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Flat Shipping Rate ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative max-w-xs",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),e.jsx("input",{type:"number",id:"shipping_rate",value:u.shipping_rate||"",onChange:M=>S("shipping_rate",parseFloat(M.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${h.shipping_rate?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`})]}),h.shipping_rate&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),h.shipping_rate]})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:a>1&&e.jsxs("button",{type:"button",onClick:_,className:"inline-flex items-center px-6 py-3 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[e.jsx(ms,{className:"w-5 h-5 mr-2"}),"Previous"]})}),e.jsx("div",{className:"flex items-center space-x-3",children:a<4?e.jsxs("button",{type:"button",onClick:C,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:["Next",e.jsx(Qe,{className:"w-5 h-5 ml-2"})]}):e.jsxs("button",{type:"button",onClick:F,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2"}),"Preview Listing"]})})]})})]})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Tips for a Great Listing"}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Take clear, well-lit photos from multiple angles"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Be honest about condition and show any defects clearly"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Price competitively - check similar listings for reference"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Provide detailed measurements and specifications"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(Ce,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Respond quickly to buyer inquiries to sell faster"})]})]})]})]})})})},ec="https://123create-construction-app-with-a.launchpulse.ai",qL=async(t,s,r,a)=>{var c;const n=new URLSearchParams;s.status!=="all"&&n.append("status",s.status),n.append("limit",a.toString()),n.append("offset",((r-1)*a).toString());let i="created_date",l="desc";s.sort_by==="created_date_asc"?(i="created_date",l="asc"):s.sort_by==="price_high"?(i="asking_price",l="desc"):s.sort_by==="price_low"?(i="asking_price",l="asc"):s.sort_by==="views_high"&&(i="views_count",l="desc"),n.append("sort_by",i),n.append("sort_order",l);const o=await H.get(`${ec}/surplus/my-listings?${n.toString()}`,{headers:{Authorization:`Bearer ${t}`}});return{listings:o.data||[],total:((c=o.data)==null?void 0:c.length)||0}},zL=async(t,s,r)=>(await H.patch(`${ec}/surplus/${s}`,{status:r},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,UL=async(t,s)=>{await H.delete(`${ec}/surplus/${s}`,{headers:{Authorization:`Bearer ${t}`}})},WL=async(t,s)=>{await H.post(`${ec}/surplus/offers/${s}/accept`,{},{headers:{Authorization:`Bearer ${t}`}})},VL=async(t,s,r)=>{await H.post(`${ec}/surplus/offers/${s}/decline`,{decline_reason:r},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})},HL=()=>{var q;const t=Fe(),s=ae(B=>B.authentication_state.auth_token),[r,a]=k.useState("listings"),[n,i]=k.useState({status:"all",date_range:"all_time",sort_by:"created_date_desc"}),[l,o]=k.useState({current_page:1,total_pages:1,total_count:0,limit:20}),[c,d]=k.useState(""),[m,u]=k.useState({open:!1,listingId:null}),[x,h]=k.useState({open:!1,offerId:null,reason:""}),[f,p]=k.useState({open:!1,offerId:null}),[N,y]=k.useState({show:!1,message:"",type:"success"}),j=ie({queryKey:["surplus-listings","my-listings",n,l.current_page],queryFn:()=>qL(s,n,l.current_page,l.limit),enabled:!!s&&r==="listings",staleTime:3e4,select:B=>({listings:B.listings.filter(W=>c===""||W.product_name.toLowerCase().includes(c.toLowerCase())),total:B.total})});X.useEffect(()=>{j.data&&o(B=>({...B,total_count:j.data.total,total_pages:Math.ceil(j.data.total/B.limit)}))},[j.data]);const g=ie({queryKey:["surplus-offers","pending"],queryFn:async()=>(await H.get(`${ec}/surplus/my-offers?status=pending`,{headers:{Authorization:`Bearer ${s}`}})).data,enabled:!!s&&r==="offers",staleTime:3e4}),S=ue({mutationFn:B=>WL(s,B),onSuccess:()=>{t.invalidateQueries({queryKey:["surplus-listings"]}),t.invalidateQueries({queryKey:["surplus-offers"]}),p({open:!1,offerId:null}),$("Offer accepted successfully! Sale initiated.","success")},onError:B=>{var W,I;$(((I=(W=B.response)==null?void 0:W.data)==null?void 0:I.message)||"Failed to accept offer","error")}}),w=ue({mutationFn:({offerId:B,reason:W})=>VL(s,B,W),onSuccess:()=>{t.invalidateQueries({queryKey:["surplus-offers"]}),h({open:!1,offerId:null,reason:""}),$("Offer declined","success")},onError:B=>{var W,I;$(((I=(W=B.response)==null?void 0:W.data)==null?void 0:I.message)||"Failed to decline offer","error")}}),C=ue({mutationFn:({listingId:B,status:W})=>zL(s,B,W),onSuccess:B=>{t.setQueryData(["surplus-listings","my-listings",n,l.current_page],W=>W&&{...W,listings:W.listings.map(I=>I.listing_id===B.listing_id?B:I)}),$("Listing updated successfully","success")},onError:B=>{var W,I;$(((I=(W=B.response)==null?void 0:W.data)==null?void 0:I.message)||"Failed to update listing","error")}}),_=ue({mutationFn:B=>UL(s,B),onSuccess:(B,W)=>{t.setQueryData(["surplus-listings","my-listings",n,l.current_page],I=>I&&{...I,listings:I.listings.filter(Q=>Q.listing_id!==W),total:I.total-1}),u({open:!1,listingId:null}),$("Listing deleted successfully","success")},onError:B=>{var W,I;$(((I=(W=B.response)==null?void 0:W.data)==null?void 0:I.message)||"Failed to delete listing","error")}}),$=(B,W)=>{y({show:!0,message:B,type:W}),setTimeout(()=>y({show:!1,message:"",type:"success"}),5e3)},F=(B,W)=>{i(I=>({...I,[B]:W})),o(I=>({...I,current_page:1}))},T=B=>{o(W=>({...W,current_page:B})),window.scrollTo({top:0,behavior:"smooth"})},R=B=>{C.mutate({listingId:B,status:"sold"})},A=B=>{u({open:!0,listingId:B})},M=()=>{m.listingId&&_.mutate(m.listingId)},P=B=>{p({open:!0,offerId:B})},E=()=>{f.offerId&&S.mutate(f.offerId)},z=B=>{h({open:!0,offerId:B,reason:""})},O=()=>{x.offerId&&x.reason.trim()&&w.mutate({offerId:x.offerId,reason:x.reason})},b=B=>{switch(B){case"new":return"bg-green-100 text-green-800 border-green-200";case"like_new":return"bg-blue-100 text-blue-800 border-blue-200";case"used":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"refurbished":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},L=B=>{switch(B){case"active":return"bg-green-100 text-green-800 border-green-200";case"sold":return"bg-gray-100 text-gray-800 border-gray-200";case"expired":return"bg-amber-100 text-amber-800 border-amber-200";case"removed":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=B=>new Date(B).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),D=B=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(B),U=((q=g.data)==null?void 0:q.length)||0;return e.jsxs(e.Fragment,{children:[N.show&&e.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-in-right",children:e.jsx("div",{className:`rounded-lg px-6 py-4 shadow-lg ${N.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[N.type==="success"?e.jsx("svg",{className:"h-5 w-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):e.jsx("svg",{className:"h-5 w-5 text-red-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),e.jsx("p",{className:`text-sm font-medium ${N.type==="success"?"text-green-800":"text-red-800"}`,children:N.message}),e.jsx("button",{onClick:()=>y({show:!1,message:"",type:"success"}),className:`ml-4 ${N.type==="success"?"text-green-600 hover:text-green-800":"text-red-600 hover:text-red-800"}`,children:e.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})}),m.open&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Delete Listing?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this listing? This action cannot be undone."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>u({open:!1,listingId:null}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:M,disabled:_.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50",children:_.isPending?"Deleting...":"Delete"})]})]})}),f.open&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Accept Offer?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"By accepting this offer, you commit to completing the sale. The buyer will be notified and next steps will be provided."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>p({open:!1,offerId:null}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:E,disabled:S.isPending,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50",children:S.isPending?"Accepting...":"Accept Offer"})]})]})}),x.open&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Decline Offer"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for declining this offer (optional but recommended):"}),e.jsx("textarea",{value:x.reason,onChange:B=>h(W=>({...W,reason:B.target.value})),placeholder:"E.g., Price too low, already accepted another offer...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsxs("div",{className:"flex space-x-3 mt-4",children:[e.jsx("button",{onClick:()=>h({open:!1,offerId:null,reason:""}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:O,disabled:w.isPending||!x.reason.trim(),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50",children:w.isPending?"Declining...":"Decline Offer"})]})]})}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 leading-tight",children:"My Surplus Listings"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your surplus materials, respond to offers, and track your sales"})]}),e.jsxs(G,{to:"/surplus/create",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Listing"]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>a("listings"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors ${r==="listings"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:["Active Listings",j.data&&e.jsx("span",{className:"ml-2 bg-blue-100 text-blue-800 px-2.5 py-0.5 rounded-full text-xs font-semibold",children:j.data.listings.length})]}),e.jsxs("button",{onClick:()=>a("offers"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors ${r==="offers"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:["Pending Offers",U>0&&e.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2.5 py-0.5 rounded-full text-xs font-semibold",children:U})]}),e.jsx("button",{onClick:()=>a("sales"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors ${r==="sales"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:"Sales History"})]})})}),r==="listings"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Listings"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:c,onChange:B=>d(B.target.value),placeholder:"Search by product name...",className:"w-full pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsx("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{value:n.status,onChange:B=>F("status",B.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"sold",children:"Sold"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"removed",children:"Removed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),e.jsxs("select",{value:n.sort_by,onChange:B=>F("sort_by",B.target.value),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"created_date_desc",children:"Newest First"}),e.jsx("option",{value:"created_date_asc",children:"Oldest First"}),e.jsx("option",{value:"price_high",children:"Price: High to Low"}),e.jsx("option",{value:"price_low",children:"Price: Low to High"}),e.jsx("option",{value:"views_high",children:"Most Views"})]})]})]})}),j.isLoading?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(B=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden animate-pulse",children:[e.jsx("div",{className:"h-48 bg-gray-200"}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]},B))}):j.isError?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-red-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Listings"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"There was an error loading your surplus listings."}),e.jsx("button",{onClick:()=>j.refetch(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Try Again"})]}):!j.data||j.data.listings.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Listings Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first surplus listing to start selling unused construction materials."}),e.jsxs(G,{to:"/surplus/create",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create Your First Listing"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:j.data.listings.map(B=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-shadow duration-200",children:[e.jsxs("div",{className:"relative h-48 bg-gray-200",children:[B.photos&&B.photos.length>0?e.jsx("img",{src:B.photos[0],alt:B.product_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300",children:e.jsx("svg",{className:"h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${L(B.status)}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("h3",{className:"text-lg font-bold text-gray-900 leading-tight flex-1",children:B.product_name})}),e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx("span",{className:`px-2.5 py-1 rounded-lg text-xs font-semibold border ${b(B.condition)}`,children:B.condition.split("_").map(W=>W.charAt(0).toUpperCase()+W.slice(1)).join(" ")}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Qty: ",B.quantity]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:D(B.asking_price)}),B.price_type==="negotiable"&&e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"(negotiable)"})]})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsxs("span",{children:[B.views_count," views"]})]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{children:["Listed ",v(B.created_date)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[B.status==="active"&&e.jsxs(e.Fragment,{children:[e.jsx(G,{to:`/surplus/${B.listing_id}`,className:"flex-1 px-4 py-2 border-2 border-gray-200 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors text-center text-sm",children:"Edit"}),e.jsx("button",{onClick:()=>R(B.listing_id),disabled:C.isPending,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Mark Sold"})]}),e.jsx("button",{onClick:()=>A(B.listing_id),disabled:_.isPending,className:"px-4 py-2 bg-red-50 text-red-600 rounded-lg font-medium hover:bg-red-100 transition-colors disabled:opacity-50 border border-red-200 text-sm",children:"Delete"})]})]})]},B.listing_id))}),l.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-8",children:[e.jsx("button",{onClick:()=>T(l.current_page-1),disabled:l.current_page===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,l.total_pages)},(B,W)=>{let I;return l.total_pages<=5||l.current_page<=3?I=W+1:l.current_page>=l.total_pages-2?I=l.total_pages-4+W:I=l.current_page-2+W,e.jsx("button",{onClick:()=>T(I),className:`px-4 py-2 rounded-lg font-medium transition-colors ${l.current_page===I?"bg-blue-600 text-white":"border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:I},I)})}),e.jsx("button",{onClick:()=>T(l.current_page+1),disabled:l.current_page===l.total_pages,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}),r==="offers"&&e.jsx("div",{className:"space-y-4",children:g.isLoading?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(B=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]},B))}):g.isError?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200 p-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-red-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Offers"}),e.jsx("button",{onClick:()=>g.refetch(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Try Again"})]}):!g.data||g.data.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Pending Offers"}),e.jsx("p",{className:"text-gray-600",children:"You'll see offers from buyers here when they're interested in your listings."})]}):e.jsx(e.Fragment,{children:g.data.map(B=>e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Offer from ",B.buyer_name]}),B.expires_at&&e.jsxs("span",{className:"text-xs text-amber-600 font-medium",children:["Expires ",v(B.expires_at)]})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Listing: ",B.listing_id," "]}),e.jsxs("div",{className:"flex items-baseline space-x-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500 block",children:"Offer Amount"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:D(B.offer_amount)})]}),e.jsx("span",{className:"text-gray-400",children:"vs"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-gray-500 block",children:"Your Price"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700",children:D(B.original_asking_price)})]}),e.jsx("div",{className:"flex-1 text-right",children:e.jsxs("span",{className:`text-sm font-semibold ${B.offer_amount>=B.original_asking_price*.9?"text-green-600":B.offer_amount>=B.original_asking_price*.75?"text-amber-600":"text-red-600"}`,children:[(B.offer_amount/B.original_asking_price*100).toFixed(0),"% of asking"]})})]}),B.message&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 mb-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Buyer's Message:"}),e.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',B.message,'"']})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Received ",v(B.offer_date)]})]}),e.jsxs("div",{className:"flex md:flex-col space-x-2 md:space-x-0 md:space-y-2 md:ml-6",children:[e.jsx("button",{onClick:()=>P(B.offer_id),disabled:S.isPending,className:"flex-1 md:w-32 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Accept"}),e.jsx("button",{onClick:()=>z(B.offer_id),disabled:w.isPending,className:"flex-1 md:w-32 px-4 py-2 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 text-sm",children:"Decline"})]})]})},B.offer_id))})}),r==="sales"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Sales History"}),e.jsx("p",{className:"text-gray-600",children:"This feature is coming soon. You'll be able to view your completed surplus sales and buyer ratings here."})]})]})})]})},KL=async t=>{try{return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/trade-credit/applications/me",{headers:{Authorization:`Bearer ${t}`}})).data.existing_application||null}catch{return null}},GL=async(t,s,r)=>{const a=new FormData;a.append("file",t),a.append("document_type",s),a.append("application_context","trade_credit_application");const n=await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/uploads/trade-credit-documents",a,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"multipart/form-data"}});return{document_type:s,file_name:t.name,file_url:n.data.file_url,upload_date:new Date().toISOString()}},YL=async(t,s,r,a,n)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/trade-credit/applications",{customer_id:a,business_name:t.business_name,business_registration_number:t.business_registration_number,business_type:t.business_type,annual_revenue:t.annual_revenue,years_in_business:t.years_in_business,requested_credit_limit:t.requested_credit_limit,primary_contact_name:t.primary_contact_name,primary_contact_email:t.primary_contact_email,primary_contact_phone:t.primary_contact_phone,business_address:t.business_address,tax_identification_number:t.tax_identification_number,bank_name:t.bank_name,bank_account_type:t.bank_account_type,verification_documents:s,trade_references:t.trade_references,credit_check_consent:r},{headers:{Authorization:`Bearer ${n}`}})).data,QL=()=>{const t=Xe(),s=ae(O=>O.authentication_state.customer_profile),r=ae(O=>O.authentication_state.auth_token),[a,n]=k.useState(1),[i,l]=k.useState(null),[o,c]=k.useState(!1),[d,m]=k.useState(null),[u,x]=k.useState({business_name:"",business_registration_number:"",business_type:"",annual_revenue:0,years_in_business:0,requested_credit_limit:0,primary_contact_name:"",primary_contact_email:"",primary_contact_phone:"",business_address:"",tax_identification_number:"",bank_name:"",bank_account_type:"",trade_references:[]}),[h,f]=k.useState([]),[p,N]=k.useState({}),[y,j]=k.useState({}),{data:g}=ie({queryKey:["existing-trade-credit-application"],queryFn:()=>KL(r||""),enabled:!!r,staleTime:0,retry:!1});k.useEffect(()=>{g&&(l(g.application_id),x(g.application_data),(g.status==="pending"||g.status==="under_review")&&t("/trade-credit"))},[g,t]),k.useEffect(()=>{s&&s.account_type!=="trade"&&t("/dashboard"),(s==null?void 0:s.trade_credit_status)==="approved"&&t("/trade-credit")},[s,t]);const S=ue({mutationFn:({file:O,documentType:b})=>GL(O,b,r||""),onMutate:({documentType:O})=>{j(b=>({...b,[O]:{progress:0,status:"uploading"}}))},onSuccess:(O,b)=>{f(L=>[...L,O]),j(L=>({...L,[b.documentType]:{progress:100,status:"success"}}))},onError:(O,b)=>{j(L=>({...L,[b.documentType]:{progress:0,status:"error"}}))}}),w=ue({mutationFn:()=>YL(u,h,o,(s==null?void 0:s.customer_id)||"",r||""),onSuccess:O=>{t("/trade-credit")},onError:O=>{var b,L;m(((L=(b=O.response)==null?void 0:b.data)==null?void 0:L.message)||"Failed to submit application. Please try again.")}}),C=k.useCallback((O,b)=>{x(L=>({...L,[O]:b})),p[O]&&N(L=>{const v={...L};return delete v[O],v})},[p]),_=()=>{x(O=>({...O,trade_references:[...O.trade_references,{company_name:"",contact_name:"",phone_number:"",relationship_years:0}]}))},$=(O,b,L)=>{x(v=>({...v,trade_references:v.trade_references.map((D,U)=>U===O?{...D,[b]:L}:D)}))},F=O=>{x(b=>({...b,trade_references:b.trade_references.filter((L,v)=>v!==O)}))},T=async(O,b)=>{var D;const L=(D=O.target.files)==null?void 0:D[0];if(!L)return;if(L.size>5*1024*1024){N(U=>({...U,[b]:"File size must be less than 5MB"}));return}if(!["application/pdf","image/jpeg","image/png"].includes(L.type)){N(U=>({...U,[b]:"Only PDF, JPG, and PNG files are allowed"}));return}try{await S.mutateAsync({file:L,documentType:b})}catch(U){console.error("Upload error:",U)}},R=()=>{const O={};if(a===1&&(u.business_name.trim()||(O.business_name="Business name is required"),u.business_registration_number.trim()||(O.business_registration_number="Registration number is required"),u.business_type||(O.business_type="Business type is required"),u.years_in_business<1&&(O.years_in_business="Years in business must be at least 1"),u.annual_revenue<=0&&(O.annual_revenue="Annual revenue is required"),u.requested_credit_limit<=0&&(O.requested_credit_limit="Requested credit limit is required")),a===2&&(u.primary_contact_name.trim()||(O.primary_contact_name="Contact name is required"),u.primary_contact_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.primary_contact_email)||(O.primary_contact_email="Invalid email format"):O.primary_contact_email="Contact email is required",u.primary_contact_phone.trim()||(O.primary_contact_phone="Contact phone is required"),u.business_address.trim()||(O.business_address="Business address is required"),u.tax_identification_number.trim()||(O.tax_identification_number="Tax ID is required")),a===3&&(u.bank_name.trim()||(O.bank_name="Bank name is required"),u.bank_account_type||(O.bank_account_type="Account type is required"),u.trade_references.length<2&&(O.trade_references="At least 2 trade references are required"),u.trade_references.forEach((b,L)=>{b.company_name.trim()||(O[`ref_${L}_company`]="Company name is required"),b.contact_name.trim()||(O[`ref_${L}_contact`]="Contact name is required"),b.phone_number.trim()||(O[`ref_${L}_phone`]="Phone number is required"),b.relationship_years<1&&(O[`ref_${L}_years`]="Years must be at least 1")})),a===4){const b=["business_registration","tax_id","bank_statement","financial_statements"],L=h.map(v=>v.document_type);b.forEach(v=>{L.includes(v)||(O[v]="This document is required")}),o||(O.credit_check_consent="You must consent to credit check")}return N(O),Object.keys(O).length===0},A=()=>{R()&&a<4&&(n(O=>O+1),window.scrollTo({top:0,behavior:"smooth"}))},M=()=>{a>1&&(n(O=>O-1),window.scrollTo({top:0,behavior:"smooth"}))},P=async O=>{O.preventDefault(),R()&&(m(null),await w.mutateAsync())},E=[{type:"business_registration",label:"Business Registration Certificate",icon:Yn},{type:"tax_id",label:"Tax Identification Document",icon:We},{type:"bank_statement",label:"Recent Bank Statement (Last 3 months)",icon:Be},{type:"financial_statements",label:"Financial Statements (Last year)",icon:Ww}],z=O=>h.some(b=>b.document_type===O);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 py-8 lg:py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8 lg:mb-12",children:[e.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-3",children:"Apply for Trade Credit"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Complete this application to access net payment terms and flexible credit lines"})]}),e.jsxs("div",{className:"mb-8 lg:mb-12",children:[e.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(O=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all ${a>O?"bg-green-600 border-green-600":a===O?"bg-blue-600 border-blue-600":"bg-white border-gray-300"}`,children:a>O?e.jsx(fe,{className:"w-5 h-5 text-white"}):e.jsx("span",{className:`text-sm font-semibold ${a===O?"text-white":"text-gray-400"}`,children:O})}),O<4&&e.jsx("div",{className:`flex-1 h-1 mx-2 ${a>O?"bg-green-600":"bg-gray-200"}`})]},O))}),e.jsxs("div",{className:"flex justify-between mt-3",children:[e.jsx("span",{className:`text-xs font-medium ${a===1?"text-blue-600":"text-gray-500"}`,children:"Business Info"}),e.jsx("span",{className:`text-xs font-medium ${a===2?"text-blue-600":"text-gray-500"}`,children:"Contact Details"}),e.jsx("span",{className:`text-xs font-medium ${a===3?"text-blue-600":"text-gray-500"}`,children:"Banking & Refs"}),e.jsx("span",{className:`text-xs font-medium ${a===4?"text-blue-600":"text-gray-500"}`,children:"Documents"})]})]}),d&&e.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-red-500 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Application Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:d})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("form",{onSubmit:P,children:[a===1&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Yn,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Information"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Legal Business Name *"}),e.jsx("input",{type:"text",id:"business_name",value:u.business_name,onChange:O=>C("business_name",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.business_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., Acme Construction LLC"}),p.business_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.business_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_registration_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Registration Number *"}),e.jsx("input",{type:"text",id:"business_registration_number",value:u.business_registration_number,onChange:O=>C("business_registration_number",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.business_registration_number?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., 123456789"}),p.business_registration_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.business_registration_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsxs("select",{id:"business_type",value:u.business_type,onChange:O=>C("business_type",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.business_type?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,children:[e.jsx("option",{value:"",children:"Select business type"}),e.jsx("option",{value:"Corporation",children:"Corporation"}),e.jsx("option",{value:"LLC",children:"LLC"}),e.jsx("option",{value:"Partnership",children:"Partnership"}),e.jsx("option",{value:"Sole Proprietorship",children:"Sole Proprietorship"})]}),p.business_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.business_type})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"years_in_business",className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Business *"}),e.jsx("input",{type:"number",id:"years_in_business",min:"1",value:u.years_in_business||"",onChange:O=>C("years_in_business",Number(O.target.value)),className:`w-full px-4 py-3 rounded-lg border-2 ${p.years_in_business?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., 5"}),p.years_in_business&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.years_in_business})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"annual_revenue",className:"block text-sm font-medium text-gray-700 mb-2",children:"Annual Revenue (USD) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"annual_revenue",min:"0",step:"1000",value:u.annual_revenue||"",onChange:O=>C("annual_revenue",Number(O.target.value)),className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${p.annual_revenue?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"500000"})]}),p.annual_revenue&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.annual_revenue})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"requested_credit_limit",className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested Credit Limit (USD) *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"requested_credit_limit",min:"0",step:"1000",value:u.requested_credit_limit||"",onChange:O=>C("requested_credit_limit",Number(O.target.value)),className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${p.requested_credit_limit?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"50000"})]}),p.requested_credit_limit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.requested_credit_limit}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Typical approval ranges: $10,000 - $500,000 based on financials"})]})]})]}),a===2&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Tt,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Contact Information"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary_contact_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Contact Name *"}),e.jsx("input",{type:"text",id:"primary_contact_name",value:u.primary_contact_name,onChange:O=>C("primary_contact_name",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.primary_contact_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"John Smith"}),p.primary_contact_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.primary_contact_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary_contact_email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),e.jsx("input",{type:"email",id:"primary_contact_email",value:u.primary_contact_email,onChange:O=>C("primary_contact_email",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.primary_contact_email?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"john@acmeconstruction.com"}),p.primary_contact_email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.primary_contact_email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary_contact_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Phone *"}),e.jsx("input",{type:"tel",id:"primary_contact_phone",value:u.primary_contact_phone,onChange:O=>C("primary_contact_phone",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.primary_contact_phone?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"(555) 123-4567"}),p.primary_contact_phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.primary_contact_phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"business_address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Address *"}),e.jsx("textarea",{id:"business_address",rows:3,value:u.business_address,onChange:O=>C("business_address",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.business_address?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"123 Main Street, Suite 100, Austin, TX 78701"}),p.business_address&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.business_address})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tax_identification_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Identification Number (EIN/SSN) *"}),e.jsx("input",{type:"text",id:"tax_identification_number",value:u.tax_identification_number,onChange:O=>C("tax_identification_number",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.tax_identification_number?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"XX-XXXXXXX"}),p.tax_identification_number&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.tax_identification_number})]})]})]}),a===3&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Be,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Banking & Trade References"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Bank Account Information"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name *"}),e.jsx("input",{type:"text",id:"bank_name",value:u.bank_name,onChange:O=>C("bank_name",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.bank_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,placeholder:"e.g., Chase Bank"}),p.bank_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.bank_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bank_account_type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type *"}),e.jsxs("select",{id:"bank_account_type",value:u.bank_account_type,onChange:O=>C("bank_account_type",O.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${p.bank_account_type?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all`,children:[e.jsx("option",{value:"",children:"Select account type"}),e.jsx("option",{value:"checking",children:"Business Checking"}),e.jsx("option",{value:"savings",children:"Business Savings"})]}),p.bank_account_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.bank_account_type})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Trade References (Minimum 2)"}),e.jsx("button",{type:"button",onClick:_,className:"text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors",children:"+ Add Reference"})]}),p.trade_references&&e.jsx("p",{className:"text-sm text-red-600",children:p.trade_references}),u.trade_references.map((O,b)=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700",children:["Reference ",b+1]}),e.jsx("button",{type:"button",onClick:()=>F(b),className:"text-sm text-red-600 hover:text-red-700 transition-colors",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name *"}),e.jsx("input",{type:"text",value:O.company_name,onChange:L=>$(b,"company_name",L.target.value),className:`w-full px-3 py-2 rounded-lg border-2 ${p[`ref_${b}_company`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"ABC Supply Co"}),p[`ref_${b}_company`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:p[`ref_${b}_company`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Name *"}),e.jsx("input",{type:"text",value:O.contact_name,onChange:L=>$(b,"contact_name",L.target.value),className:`w-full px-3 py-2 rounded-lg border-2 ${p[`ref_${b}_contact`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"Jane Doe"}),p[`ref_${b}_contact`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:p[`ref_${b}_contact`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:O.phone_number,onChange:L=>$(b,"phone_number",L.target.value),className:`w-full px-3 py-2 rounded-lg border-2 ${p[`ref_${b}_phone`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"(555) 123-4567"}),p[`ref_${b}_phone`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:p[`ref_${b}_phone`]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Years of Relationship *"}),e.jsx("input",{type:"number",min:"1",value:O.relationship_years||"",onChange:L=>$(b,"relationship_years",Number(L.target.value)),className:`w-full px-3 py-2 rounded-lg border-2 ${p[`ref_${b}_years`]?"border-red-300":"border-gray-200"} focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all`,placeholder:"3"}),p[`ref_${b}_years`]&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:p[`ref_${b}_years`]})]})]})]},b)),u.trade_references.length===0&&e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx("p",{className:"text-gray-500 mb-3",children:"No trade references added yet"}),e.jsx("button",{type:"button",onClick:_,className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Add Your First Reference"})]})]})]})]}),a===4&&e.jsxs("div",{className:"p-6 lg:p-8",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(Ww,{className:"w-6 h-6 text-blue-600 mr-3"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Required Documents"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:"Upload the following documents to verify your business and financial information. All documents must be in PDF, JPG, or PNG format and under 5MB."}),e.jsx("div",{className:"space-y-4",children:E.map(O=>{const b=z(O.type),L=y[O.type],v=O.icon;return e.jsx("div",{className:`p-4 rounded-lg border-2 transition-all ${b?"border-green-300 bg-green-50":p[O.type]?"border-red-300 bg-red-50":"border-gray-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start flex-1",children:[e.jsx(v,{className:`w-5 h-5 mt-0.5 mr-3 flex-shrink-0 ${b?"text-green-600":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:O.label}),b&&e.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center",children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),"Uploaded successfully"]}),p[O.type]&&e.jsx("p",{className:"text-sm text-red-600 mt-1",children:p[O.type]}),(L==null?void 0:L.status)==="uploading"&&e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${L.progress}%`}})}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Uploading..."})]})]})]}),!b&&e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:D=>T(D,O.type),className:"hidden",disabled:(L==null?void 0:L.status)==="uploading"}),e.jsxs("div",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-sm font-medium",children:[e.jsx(dr,{className:"w-4 h-4 inline mr-2"}),"Upload"]})]})]})},O.type)})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o,onChange:O=>{c(O.target.checked),p.credit_check_consent&&N(b=>{const L={...b};return delete L.credit_check_consent,L})},className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 leading-relaxed",children:"I authorize BuildEasy to conduct a credit check and verify the financial information provided. I understand this is necessary for processing my trade credit application. *"})]}),p.credit_check_consent&&e.jsx("p",{className:"mt-2 text-sm text-red-600 ml-8",children:p.credit_check_consent})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Application Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Business Name"}),e.jsx("p",{className:"font-medium text-gray-900",children:u.business_name||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Business Type"}),e.jsx("p",{className:"font-medium text-gray-900",children:u.business_type||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Annual Revenue"}),e.jsxs("p",{className:"font-medium text-gray-900",children:["$",u.annual_revenue.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Requested Credit Limit"}),e.jsxs("p",{className:"font-medium text-gray-900",children:["$",u.requested_credit_limit.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Years in Business"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[u.years_in_business," years"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Trade References"}),e.jsx("p",{className:"font-medium text-gray-900",children:u.trade_references.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Documents Uploaded"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[h.length," / 4"]})]})]})]})]})]}),e.jsxs("div",{className:"px-6 py-4 lg:px-8 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[a>1?e.jsx("button",{type:"button",onClick:M,className:"px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all font-medium",children:"Previous"}):e.jsx("div",{}),a<4?e.jsx("button",{type:"button",onClick:A,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium shadow-lg hover:shadow-xl",children:"Next Step"}):e.jsx("button",{type:"submit",disabled:w.isPending,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:w.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Application..."]}):"Submit Application"})]})]})}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Application Review Process"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1 leading-relaxed",children:"Your application will be reviewed within 2-3 business days. We may contact you for additional information. You'll receive email and in-app notifications about your application status."})]})]})})]})})})},Ov="https://123create-construction-app-with-a.launchpulse.ai",XL=async t=>{const r=(await H.get(`${Ov}/customers/me`,{headers:{Authorization:`Bearer ${t}`}})).data;return{trade_credit_limit:Number(r.trade_credit_limit||0),trade_credit_balance:Number(r.trade_credit_balance||0),trade_credit_used:Number(r.trade_credit_used||0),trade_credit_terms:r.trade_credit_terms||"Net 30",trade_credit_status:r.trade_credit_status||"pending",available_credit:Number(r.trade_credit_balance||0),credit_utilization_percentage:r.trade_credit_limit>0?Number(r.trade_credit_used||0)/Number(r.trade_credit_limit)*100:0}},ZL=async t=>(await H.get(`${Ov}/payment-methods`,{headers:{Authorization:`Bearer ${t}`}})).data.filter(r=>r.payment_type==="credit_card"||r.payment_type==="debit_card"),JL=async(t,s,r,a)=>[{transaction_id:"txn_001",transaction_type:"purchase",amount:1500,description:"Order ORD-2024-001",transaction_date:new Date(Date.now()-5*24*60*60*1e3).toISOString(),reference_order_id:"order_001",running_balance:48500},{transaction_id:"txn_002",transaction_type:"payment",amount:-2e3,description:"Payment received",transaction_date:new Date(Date.now()-15*24*60*60*1e3).toISOString(),reference_order_id:null,running_balance:5e4}],eD=async(t,s)=>({transaction_id:`txn_${Date.now()}`,status:"completed",new_balance:0,confirmation_number:`CONF${Date.now()}`}),tD=async(t,s)=>({request_id:`req_${Date.now()}`,status:"pending_review",estimated_review_time:"2-3 business days"}),sD=()=>{var b,L;const t=ae(v=>v.authentication_state.auth_token),s=ae(v=>v.authentication_state.customer_profile),r=Fe(),[a,n]=k.useState("overview"),[i,l]=k.useState(!1),[o,c]=k.useState(!1),[d,m]=k.useState({start_date:"",end_date:"",period_preset:"last_30_days"}),[u,x]=k.useState({payment_amount:0,payment_method_id:"",payment_date:new Date().toISOString().split("T")[0]}),[h,f]=k.useState({requested_new_limit:0,business_justification:"",updated_financial_documents:[]}),[p,N]=k.useState(null),[y,j]=k.useState(null),{data:g,isLoading:S,error:w,refetch:C}=ie({queryKey:["credit-account-summary",s==null?void 0:s.customer_id],queryFn:()=>XL(t),enabled:!!t&&!!s,staleTime:6e4,refetchOnWindowFocus:!0,select:v=>({...v,trade_credit_limit:Number(v.trade_credit_limit||0),trade_credit_balance:Number(v.trade_credit_balance||0),trade_credit_used:Number(v.trade_credit_used||0)})}),{data:_=[],isLoading:$}=ie({queryKey:["trade-credit-transactions",s==null?void 0:s.customer_id,d],queryFn:()=>JL(t,s.customer_id,d.start_date,d.end_date),enabled:!!t&&!!s&&a==="transactions",staleTime:3e4}),{data:F=[],isLoading:T}=ie({queryKey:["payment-methods"],queryFn:()=>ZL(t),enabled:!!t&&a==="payment",staleTime:3e5}),R=ue({mutationFn:v=>eD(),onSuccess:()=>{r.invalidateQueries({queryKey:["credit-account-summary"]}),r.invalidateQueries({queryKey:["trade-credit-transactions"]}),l(!1),x({payment_amount:0,payment_method_id:"",payment_date:new Date().toISOString().split("T")[0]}),N(null)},onError:v=>{var D,U;N(((U=(D=v.response)==null?void 0:D.data)==null?void 0:U.message)||"Payment failed. Please try again.")}}),A=ue({mutationFn:v=>tD(),onSuccess:()=>{c(!1),f({requested_new_limit:0,business_justification:"",updated_financial_documents:[]}),j(null)},onError:v=>{var D,U;j(((U=(D=v.response)==null?void 0:D.data)==null?void 0:U.message)||"Request failed. Please try again.")}}),M=()=>{if(N(null),!u.payment_amount||u.payment_amount<=0){N("Please enter a valid payment amount");return}if(!u.payment_method_id){N("Please select a payment method");return}if(u.payment_amount>((g==null?void 0:g.trade_credit_used)||0)){N("Payment amount cannot exceed outstanding balance");return}R.mutate({customer_id:s.customer_id,payment_amount:u.payment_amount,payment_method_id:u.payment_method_id})},P=()=>{if(j(null),!h.requested_new_limit||h.requested_new_limit<=((g==null?void 0:g.trade_credit_limit)||0)){j("Requested limit must be greater than current limit");return}if(!h.business_justification||h.business_justification.length<50){j("Please provide a detailed business justification (minimum 50 characters)");return}A.mutate({customer_id:s.customer_id,current_limit:g.trade_credit_limit,requested_new_limit:h.requested_new_limit,business_justification:h.business_justification,updated_financial_documents:h.updated_financial_documents})},E=()=>{window.open(`${Ov}/trade-credit/statement?customer_id=${s==null?void 0:s.customer_id}&format=pdf`,"_blank")},z=v=>{const D=new Date;let U="";switch(v){case"last_30_days":U=new Date(D.getTime()-30*24*60*60*1e3).toISOString().split("T")[0];break;case"last_90_days":U=new Date(D.getTime()-90*24*60*60*1e3).toISOString().split("T")[0];break;case"this_year":U=`${D.getFullYear()}-01-01`;break;case"all_time":U="";break}m({start_date:U,end_date:D.toISOString().split("T")[0],period_preset:v})};if(g&&g.trade_credit_status!=="approved")return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-8 text-center",children:[e.jsx(he,{className:"mx-auto h-16 w-16 text-amber-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trade Credit Not Available"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:[g.trade_credit_status==="pending"&&"Your trade credit application is being reviewed. We'll notify you once approved.",g.trade_credit_status==="rejected"&&"Your trade credit application was not approved at this time.",g.trade_credit_status==="suspended"&&"Your trade credit account has been temporarily suspended."]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(G,{to:"/dashboard",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Return to Dashboard"}),g.trade_credit_status==="rejected"&&e.jsx(G,{to:"/trade-credit/apply",className:"px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors border border-gray-300",children:"Reapply"})]})]})})})});if(S)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3 mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"})]}),e.jsx("div",{className:"h-96 bg-gray-200 rounded-xl"})]})})})});if(w)return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[e.jsx(he,{className:"mx-auto h-16 w-16 text-red-500 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-2",children:"Failed to Load Credit Account"}),e.jsx("p",{className:"text-red-700 mb-6",children:((L=(b=w==null?void 0:w.response)==null?void 0:b.data)==null?void 0:L.message)||"An error occurred while loading your credit account. Please try again."}),e.jsx("button",{onClick:()=>C(),className:"px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Retry"})]})})})});const O={total_outstanding:Number((g==null?void 0:g.trade_credit_used)||0),current_due:Number((g==null?void 0:g.trade_credit_used)||0),overdue_amount:0,due_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],payment_terms:(g==null?void 0:g.trade_credit_terms)||"Net 30"};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Trade Credit Account"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your trade credit, view transactions, and make payments"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download Statement"})]}),e.jsxs("button",{onClick:()=>C(),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Ht,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(tr,{className:"h-6 w-6 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Credit Limit"})]}),e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",g==null?void 0:g.trade_credit_limit.toFixed(2)]})}),e.jsx("p",{className:"text-sm text-gray-500",children:g==null?void 0:g.trade_credit_terms})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsx(Ve,{className:"h-6 w-6 text-green-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Available"})]}),e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["$",g==null?void 0:g.available_credit.toFixed(2)]})}),e.jsxs("p",{className:"text-sm text-gray-500",children:[g==null?void 0:g.credit_utilization_percentage.toFixed(1),"% utilized"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 rounded-lg",children:e.jsx(Be,{className:"h-6 w-6 text-amber-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Outstanding"})]}),e.jsx("div",{className:"mb-2",children:e.jsxs("p",{className:"text-3xl font-bold text-amber-600",children:["$",g==null?void 0:g.trade_credit_used.toFixed(2)]})}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(O.due_date).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Credit Utilization"}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[g==null?void 0:g.credit_utilization_percentage.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${((g==null?void 0:g.credit_utilization_percentage)||0)>80?"bg-red-500":((g==null?void 0:g.credit_utilization_percentage)||0)>50?"bg-amber-500":"bg-green-500"}`,style:{width:`${Math.min((g==null?void 0:g.credit_utilization_percentage)||0,100)}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500",children:[e.jsx("span",{children:"$0"}),e.jsxs("span",{children:["$",g==null?void 0:g.trade_credit_limit.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[e.jsxs("button",{onClick:()=>{l(!0),n("payment")},className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg",children:[e.jsx(Be,{className:"h-5 w-5"}),"Make Payment"]}),e.jsxs("button",{onClick:()=>{c(!0),n("increase")},className:"flex items-center gap-2 px-6 py-3 bg-white text-gray-900 rounded-lg font-medium hover:bg-gray-50 transition-colors border border-gray-300",children:[e.jsx(Uw,{className:"h-5 w-5"}),"Request Credit Increase"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>n("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="overview"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),e.jsx("button",{onClick:()=>n("transactions"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="transactions"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Transaction History"}),e.jsx("button",{onClick:()=>n("payment"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="payment"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Make Payment"}),e.jsx("button",{onClick:()=>n("increase"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="increase"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Request Increase"})]})}),e.jsxs("div",{className:"p-6",children:[a==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Status:"}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium text-green-600 capitalize",children:g==null?void 0:g.trade_credit_status})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Terms:"}),e.jsx("span",{className:"font-medium text-gray-900",children:g==null?void 0:g.trade_credit_terms})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Account Type:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Trade"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Current Due:"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",O.current_due.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Next Payment Due:"}),e.jsx("span",{className:"font-medium text-gray-900",children:new Date(O.due_date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Overdue:"}),e.jsxs("span",{className:"font-medium text-red-600",children:["$",O.overdue_amount.toFixed(2)]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:_.slice(0,5).map(v=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${v.transaction_type==="payment"?"bg-green-50":"bg-blue-50"}`,children:v.transaction_type==="payment"?e.jsx(fe,{className:"h-5 w-5 text-green-600"}):e.jsx(We,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:v.description}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(v.transaction_date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${v.transaction_type==="payment"?"text-green-600":"text-gray-900"}`,children:[v.amount<0?"+":"-","$",Math.abs(v.amount).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Balance: $",v.running_balance.toFixed(2)]})]})]},v.transaction_id))})]})]}),a==="transactions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period:"}),e.jsx("div",{className:"flex gap-2",children:["last_30_days","last_90_days","this_year","all_time"].map(v=>e.jsx("button",{onClick:()=>z(v),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d.period_preset===v?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v.replace(/_/g," ").replace(/\b\w/g,D=>D.toUpperCase())},v))})]}),$?e.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3,4,5].map(v=>e.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},v))}):_.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Transactions"}),e.jsx("p",{className:"text-gray-600",children:"No transactions found for the selected period"})]}):e.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(v.transaction_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v.transaction_type==="payment"?"bg-green-100 text-green-800":v.transaction_type==="purchase"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:v.transaction_type})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium",children:e.jsxs("span",{className:v.transaction_type==="payment"?"text-green-600":"text-gray-900",children:[v.amount<0?"+":"-","$",Math.abs(v.amount).toFixed(2)]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900",children:["$",v.running_balance.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:v.reference_order_id?e.jsx(G,{to:`/orders/${v.reference_order_id}`,className:"text-blue-600 hover:text-blue-800 font-medium",children:"View Order"}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},v.transaction_id))})]})})]}),a==="payment"&&e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Make a Payment"}),e.jsxs("p",{className:"text-gray-600",children:["Outstanding Balance: ",e.jsxs("span",{className:"font-semibold text-amber-600",children:["$",O.total_outstanding.toFixed(2)]})]})]}),p&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:p})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Be,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:O.total_outstanding,value:u.payment_amount||"",onChange:v=>{N(null),x({...u,payment_amount:Number(v.target.value)})},placeholder:"0.00",className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg"})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("button",{onClick:()=>x({...u,payment_amount:O.total_outstanding}),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Pay Full Balance"}),e.jsx("button",{onClick:()=>x({...u,payment_amount:O.total_outstanding/2}),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Pay Half"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),T?e.jsx("div",{className:"animate-pulse h-12 bg-gray-200 rounded-lg"}):F.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"No payment methods saved"}),e.jsx(G,{to:"/account#payments",className:"text-blue-600 hover:text-blue-800 font-medium",children:"Add Payment Method"})]}):e.jsxs("select",{value:u.payment_method_id,onChange:v=>{N(null),x({...u,payment_method_id:v.target.value})},className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select payment method"}),F.map(v=>e.jsxs("option",{value:v.payment_method_id,children:[v.card_brand,"  ",v.card_last_four,v.is_default&&" (Default)"]},v.payment_method_id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date"}),e.jsx("input",{type:"date",value:u.payment_date,onChange:v=>x({...u,payment_date:v.target.value}),className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("button",{onClick:M,disabled:R.isPending,className:"w-full flex justify-center items-center gap-2 px-6 py-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:R.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"h-5 w-5 animate-spin"}),"Processing Payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-5 w-5"}),"Submit Payment"]})}),R.isSuccess&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm font-medium",children:"Payment submitted successfully!"})})]}),a==="increase"&&e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Request Credit Increase"}),e.jsxs("p",{className:"text-gray-600",children:["Current Limit: ",e.jsxs("span",{className:"font-semibold text-blue-600",children:["$",g==null?void 0:g.trade_credit_limit.toFixed(2)]})]})]}),y&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm",children:y})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested New Credit Limit"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Be,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"number",step:"1000",min:g==null?void 0:g.trade_credit_limit,value:h.requested_new_limit||"",onChange:v=>{j(null),f({...h,requested_new_limit:Number(v.target.value)})},placeholder:"Enter requested amount",className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-lg"})]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Increase of $",Math.max(0,(h.requested_new_limit||0)-((g==null?void 0:g.trade_credit_limit)||0)).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Justification"}),e.jsx("textarea",{value:h.business_justification,onChange:v=>{j(null),f({...h,business_justification:v.target.value})},placeholder:"Explain why you need the credit increase...",rows:6,className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:[h.business_justification.length," / 500 characters (minimum 50)"]})]}),e.jsx("button",{onClick:P,disabled:A.isPending,className:"w-full flex justify-center items-center gap-2 px-6 py-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:A.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"h-5 w-5 animate-spin"}),"Submitting Request..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Uw,{className:"h-5 w-5"}),"Submit Request"]})}),A.isSuccess&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:e.jsx("p",{className:"text-sm font-medium",children:"Credit increase request submitted successfully! We'll review and respond within 2-3 business days."})})]})]})]}),e.jsx("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(he,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Trade Credit Information"}),e.jsx("p",{className:"text-blue-800 text-sm mb-3",children:"Your trade credit account allows you to make purchases now and pay later according to your agreed terms."}),e.jsxs("ul",{className:"space-y-2 text-blue-800 text-sm",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(fe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["Payment terms: ",g==null?void 0:g.trade_credit_terms]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(fe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Make payments anytime to free up credit"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(fe,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Request credit increases as your business grows"})]})]})]})]})})]})})})},$v="https://123create-construction-app-with-a.launchpulse.ai",Tv=t=>({headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),rD=async t=>{const{data:s}=await H.get(`${$v}/suppliers/me`,Tv(t));return s},aD=async({token:t,updates:s})=>{const{data:r}=await H.patch(`${$v}/suppliers/me`,s,Tv(t));return r},nD=async({token:t,product:s})=>{const{data:r}=await H.post(`${$v}/suppliers/me/products`,s,Tv(t));return r},iD=()=>{const t=Xe(),s=Fe(),r=ae(v=>v.authentication_state.auth_token),a=ae(v=>v.authentication_state.authentication_status.is_authenticated),n=ae(v=>v.authentication_state.authentication_status.user_type),[i,l]=k.useState(1),[o,c]=k.useState(0),[d,m]=k.useState({}),[u,x]=k.useState(!1),[h,f]=k.useState({supplier_id:null,user_id:null,business_name:"",business_registration_number:"",business_type:"",business_description:"",logo_url:null,cover_photo_url:null,verification_status:"pending",operating_hours:null,service_areas:null,return_policy:null,shipping_policy:null,minimum_order_value:null,payout_frequency:"monthly",commission_rate:0,subscription_plan:"basic",onboarding_completed:!1}),[p,N]=k.useState({business_registration:null,tax_id:null,proof_of_address:null,business_license:null,insurance_certificate:null}),[y,j]=k.useState({account_holder_name:"",account_number:"",routing_number:"",bank_name:""}),[g,S]=k.useState([]),[w,C]=k.useState({category_id:"",sku:"",product_name:"",description:"",price_per_unit:0,unit_of_measure:"",stock_quantity:0});k.useEffect(()=>{(!a||n!=="supplier")&&t("/login")},[a,n,t]);const{data:_,isLoading:$}=ie({queryKey:["currentSupplier",r],queryFn:()=>rD(r),enabled:!!r&&a&&n==="supplier",retry:1,staleTime:6e4});k.useEffect(()=>{if(_){if(_.onboarding_completed){t("/supplier/dashboard");return}f(D=>({...D,..._}));let v=1;_.business_name&&_.business_description&&(v=2),_.logo_url&&(v=3),_.operating_hours&&(v=4),l(v)}},[_,t]);const F=ue({mutationFn:v=>aD({token:r,updates:v}),onSuccess:v=>{s.invalidateQueries({queryKey:["currentSupplier"]}),f(D=>({...D,...v}))},onError:v=>{console.error("Failed to update supplier:",v),m(D=>{var U,q;return{...D,api:((q=(U=v.response)==null?void 0:U.data)==null?void 0:q.message)||"Failed to update profile. Please try again."}})}}),T=ue({mutationFn:v=>nD({token:r,product:v}),onSuccess:()=>{C({category_id:"",sku:"",product_name:"",description:"",price_per_unit:0,unit_of_measure:"",stock_quantity:0})},onError:v=>{console.error("Failed to create product:",v),m(D=>{var U,q;return{...D,product:((q=(U=v.response)==null?void 0:U.data)==null?void 0:q.message)||"Failed to create product. Please try again."}})}});k.useEffect(()=>{const D=i/7*100;c(Math.round(D))},[i]);const R=()=>{const v={};return(!h.business_name||h.business_name.trim().length<1)&&(v.business_name="Business name is required"),(!h.business_description||h.business_description.trim().length<200)&&(v.business_description="Business description must be at least 200 characters"),h.business_type||(v.business_type="Business type is required"),m(v),Object.keys(v).length===0},A=()=>{const v={};return y.account_holder_name||(v.account_holder_name="Account holder name is required"),y.account_number||(v.account_number="Account number is required"),(!y.routing_number||y.routing_number.length!==9)&&(v.routing_number="Valid 9-digit routing number is required"),y.bank_name||(v.bank_name="Bank name is required"),m(v),Object.keys(v).length===0},M=()=>!0,P=async()=>{m({});let v=!0;if(i===1&&(v=R()),i===5&&(v=A()),i===6&&(v=M()),!!v)try{i===1?await F.mutateAsync({business_name:h.business_name,business_description:h.business_description,business_type:h.business_type}):i===2?await F.mutateAsync({logo_url:h.logo_url,cover_photo_url:h.cover_photo_url}):i===3&&await F.mutateAsync({operating_hours:h.operating_hours,service_areas:h.service_areas,return_policy:h.return_policy,shipping_policy:h.shipping_policy,minimum_order_value:h.minimum_order_value}),l(D=>Math.min(D+1,7))}catch(D){console.error("Failed to save step:",D)}},E=()=>{l(v=>Math.max(v-1,1)),m({})},z=async()=>{try{await F.mutateAsync({onboarding_completed:!0}),t("/supplier/dashboard")}catch(v){console.error("Failed to complete onboarding:",v),m({complete:"Failed to complete onboarding. Please try again."})}},O=async()=>{const v={};if(w.category_id||(v.category_id="Category is required"),w.sku||(v.sku="SKU is required"),w.product_name||(v.product_name="Product name is required"),w.price_per_unit<=0&&(v.price_per_unit="Price must be greater than 0"),w.unit_of_measure||(v.unit_of_measure="Unit of measure is required"),Object.keys(v).length>0){m(v);return}try{await T.mutateAsync(w),S(D=>[...D,w]),m({})}catch(D){console.error("Failed to add product:",D)}},b=v=>({1:"Business Profile",2:"Logo & Branding",3:"Operating Details",4:"Verification Documents",5:"Bank Account Setup",6:"Initial Product Catalog",7:"Review & Complete"})[v]||"",L=v=>{const U={1:Yn,2:dr,3:We,4:We,5:tr,6:Se,7:fe}[v]||Yn;return e.jsx(U,{className:"w-6 h-6"})};return $?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your profile..."})]})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supplier Onboarding"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Set up your shop to start selling on BuildEasy"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[o,"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Complete"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${o}%`}})}),e.jsx("div",{className:"flex items-center justify-between text-sm",children:[1,2,3,4,5,6,7].map(v=>e.jsxs("div",{className:`flex items-center ${v===i?"text-blue-600 font-semibold":v<i?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${v===i?"bg-blue-600 text-white":v<i?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:v<i?"":v}),v<7&&e.jsx("div",{className:`w-12 h-1 mx-2 ${v<i?"bg-green-600":"bg-gray-200"}`})]},v))}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Step ",i," of 7: ",e.jsx("span",{className:"font-semibold",children:b(i)})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[i===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[L(1),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Profile"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"business_name",value:h.business_name,onChange:v=>{f(D=>({...D,business_name:v.target.value})),m(D=>({...D,business_name:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${d.business_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., Acme Building Supply Co."}),d.business_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.business_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_type",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"business_type",value:h.business_type,onChange:v=>{f(D=>({...D,business_type:v.target.value})),m(D=>({...D,business_type:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${d.business_type?"border-red-500":"border-gray-200 focus:border-blue-500"}`,children:[e.jsx("option",{value:"",children:"Select business type"}),e.jsx("option",{value:"Corporation",children:"Corporation"}),e.jsx("option",{value:"LLC",children:"LLC"}),e.jsx("option",{value:"Partnership",children:"Partnership"}),e.jsx("option",{value:"Sole Proprietorship",children:"Sole Proprietorship"})]}),d.business_type&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.business_type})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"business_description",className:"block text-sm font-medium text-gray-700 mb-2",children:["Business Description ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsxs("span",{className:"text-gray-500 font-normal ml-2",children:["(",h.business_description.length,"/2000 characters, min 200)"]})]}),e.jsx("textarea",{id:"business_description",rows:6,value:h.business_description,onChange:v=>{f(D=>({...D,business_description:v.target.value})),m(D=>({...D,business_description:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${d.business_description?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Describe your business, what you specialize in, your service area, and what makes you unique..."}),d.business_description&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.business_description}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Tell buyers about your business, your experience, and what sets you apart."})]})]}),i===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[L(2),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Logo & Branding"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Optional:"})," Add your logo and cover photo now, or skip and add them later from your settings."]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Logo (Optional)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:h.logo_url?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:h.logo_url,alt:"Business logo",className:"w-32 h-32 object-cover rounded-full mx-auto border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>f(v=>({...v,logo_url:null})),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove Logo"})]}):e.jsxs("div",{children:[e.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Upload your business logo"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Square format recommended, max 2MB"}),e.jsx("button",{type:"button",onClick:()=>{f(v=>({...v,logo_url:"https://via.placeholder.com/200"}))},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Photo (Optional)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:h.cover_photo_url?e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{src:h.cover_photo_url,alt:"Cover photo",className:"w-full h-48 object-cover rounded-lg shadow-lg"}),e.jsx("button",{type:"button",onClick:()=>f(v=>({...v,cover_photo_url:null})),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove Cover Photo"})]}):e.jsxs("div",{children:[e.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Upload a cover photo for your shop"}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Wide format (1200x300 recommended), max 5MB"}),e.jsx("button",{type:"button",onClick:()=>{f(v=>({...v,cover_photo_url:"https://via.placeholder.com/1200x300"}))},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Choose File"})]})})]})]}),i===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[L(3),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Operating Details"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"return_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Policy (Optional)"}),e.jsx("textarea",{id:"return_policy",rows:4,value:h.return_policy||"",onChange:v=>f(D=>({...D,return_policy:v.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",placeholder:"Describe your return policy, e.g., 'Returns accepted within 30 days with receipt...'"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"shipping_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Policy (Optional)"}),e.jsx("textarea",{id:"shipping_policy",rows:4,value:h.shipping_policy||"",onChange:v=>f(D=>({...D,shipping_policy:v.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",placeholder:"Describe your shipping policy, e.g., 'Free delivery on orders over $500...'"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"minimum_order_value",className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Value (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-3 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"minimum_order_value",min:"0",step:"0.01",value:h.minimum_order_value||"",onChange:v=>f(D=>({...D,minimum_order_value:v.target.value?parseFloat(v.target.value):null})),className:"w-full pl-8 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",placeholder:"0.00"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Set a minimum order value if required for your business"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"payout_frequency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Payout Frequency"}),e.jsxs("select",{id:"payout_frequency",value:h.payout_frequency,onChange:v=>f(D=>({...D,payout_frequency:v.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 focus:border-blue-500",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"bi-weekly",children:"Bi-weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"How often you'd like to receive payouts for completed orders"})]})]}),i===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[L(4),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Verification Documents"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-yellow-800 text-sm",children:[e.jsx("strong",{children:"Required for verification:"})," Upload your business registration and tax documents. These will be reviewed by our team within 2-3 business days."]})}),["business_registration","tax_id","proof_of_address","business_license","insurance_certificate"].map(v=>{const D={business_registration:"Business Registration Document",tax_id:"Tax ID / EIN Document",proof_of_address:"Proof of Business Address",business_license:"Business License",insurance_certificate:"Insurance Certificate"},U=["business_registration","tax_id"].includes(v);return e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[D[v]," ",U&&e.jsx("span",{className:"text-red-500",children:"*"})]}),p[v]?e.jsx("p",{className:"text-sm text-green-600 mt-1",children:" Uploaded"}):e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Not uploaded"})]}),e.jsx("button",{type:"button",onClick:()=>{N(q=>({...q,[v]:`https://example.com/docs/${v}_${Date.now()}.pdf`}))},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:p[v]?"Replace":"Upload"})]})},v)}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Note:"})," Accepted formats: PDF, JPG, PNG. Max file size: 10MB per document."]})})]}),i===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[L(5),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Bank Account Setup"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-green-800 text-sm",children:[e.jsx("strong",{children:"Secure:"})," Your bank information is encrypted and stored securely. This is required to receive payouts for your sales."]})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"account_holder_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Account Holder Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"account_holder_name",value:y.account_holder_name,onChange:v=>{j(D=>({...D,account_holder_name:v.target.value})),m(D=>({...D,account_holder_name:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${d.account_holder_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Full name on bank account"}),d.account_holder_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.account_holder_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"bank_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Bank Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"bank_name",value:y.bank_name,onChange:v=>{j(D=>({...D,bank_name:v.target.value})),m(D=>({...D,bank_name:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${d.bank_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., Chase Bank, Bank of America"}),d.bank_name&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.bank_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"routing_number",className:"block text-sm font-medium text-gray-700 mb-2",children:["Routing Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"routing_number",maxLength:9,value:y.routing_number,onChange:v=>{const D=v.target.value.replace(/\D/g,"");j(U=>({...U,routing_number:D})),m(U=>({...U,routing_number:""}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${d.routing_number?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"9-digit routing number"}),d.routing_number&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.routing_number})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-700 mb-2",children:["Account Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:u?"text":"password",id:"account_number",value:y.account_number,onChange:v=>{j(D=>({...D,account_number:v.target.value})),m(D=>({...D,account_number:""}))},className:`w-full px-4 py-3 pr-12 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 ${d.account_number?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"Bank account number"}),e.jsx("button",{type:"button",onClick:()=>x(!u),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:u?e.jsx(xo,{className:"w-5 h-5"}):e.jsx(Lt,{className:"w-5 h-5"})})]}),d.account_number&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:d.account_number})]})]}),i===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[L(6),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Initial Product Catalog"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Get started:"})," Add a few products to get your catalog started. You can add more products later from your dashboard."]})}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-6 space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Add a Product"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"product_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"product_name",value:w.product_name,onChange:v=>{C(D=>({...D,product_name:v.target.value})),m(D=>({...D,product_name:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${d.product_name?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., 2x4x8 SPF Lumber"}),d.product_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.product_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700 mb-2",children:["SKU ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"sku",value:w.sku,onChange:v=>{C(D=>({...D,sku:v.target.value.toUpperCase()})),m(D=>({...D,sku:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${d.sku?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., LUM-2X4-8-SPF"}),d.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.sku})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category_id",value:w.category_id,onChange:v=>{C(D=>({...D,category_id:v.target.value})),m(D=>({...D,category_id:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${d.category_id?"border-red-500":"border-gray-200 focus:border-blue-500"}`,children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"cat_001",children:"Concrete & Cement"}),e.jsx("option",{value:"cat_002",children:"Lumber & Wood"}),e.jsx("option",{value:"cat_003",children:"Steel & Metal"}),e.jsx("option",{value:"cat_004",children:"Bricks & Blocks"}),e.jsx("option",{value:"cat_005",children:"Roofing Materials"})]}),d.category_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{id:"description",rows:3,value:w.description,onChange:v=>C(D=>({...D,description:v.target.value})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500",placeholder:"Product description..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price_per_unit",className:"block text-sm font-medium text-gray-700 mb-2",children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"price_per_unit",min:"0",step:"0.01",value:w.price_per_unit||"",onChange:v=>{C(D=>({...D,price_per_unit:parseFloat(v.target.value)||0})),m(D=>({...D,price_per_unit:""}))},className:`w-full pl-8 pr-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${d.price_per_unit?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"0.00"})]}),d.price_per_unit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.price_per_unit})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"unit_of_measure",className:"block text-sm font-medium text-gray-700 mb-2",children:["Unit ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"unit_of_measure",value:w.unit_of_measure,onChange:v=>{C(D=>({...D,unit_of_measure:v.target.value})),m(D=>({...D,unit_of_measure:""}))},className:`w-full px-4 py-2 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 ${d.unit_of_measure?"border-red-500":"border-gray-200 focus:border-blue-500"}`,placeholder:"e.g., piece, bag, yard"}),d.unit_of_measure&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.unit_of_measure})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"stock_quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity"}),e.jsx("input",{type:"number",id:"stock_quantity",min:"0",value:w.stock_quantity,onChange:v=>C(D=>({...D,stock_quantity:parseInt(v.target.value)||0})),className:"w-full px-4 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-500",placeholder:"0"})]})]}),e.jsx("button",{type:"button",onClick:O,disabled:T.isPending,className:"w-full bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:T.isPending?"Adding Product...":"+ Add Product"}),d.product&&e.jsx("p",{className:"text-sm text-red-600",children:d.product})]}),g.length>0&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4",children:["Products Added (",g.length,")"]}),e.jsx("div",{className:"space-y-3",children:g.map((v,D)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 p-3 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:v.product_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",v.sku,"  $",v.price_per_unit.toFixed(2),"/",v.unit_of_measure,"  Stock: ",v.stock_quantity]})]}),e.jsx("button",{type:"button",onClick:()=>S(U=>U.filter((q,B)=>B!==D)),className:"text-red-600 hover:text-red-700",children:e.jsx(be,{className:"w-5 h-5"})})]},D))})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700",children:"You can add more products later from your dashboard. Having at least one product helps you get started!"})})]}),i===7&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[L(7),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review & Complete"})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fe,{className:"w-6 h-6 text-green-600 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-900 font-semibold",children:"Almost there!"}),e.jsx("p",{className:"text-green-800 text-sm mt-1",children:"Review your information below and complete your onboarding to start selling."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Business Profile"}),e.jsx("button",{type:"button",onClick:()=>l(1),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Business Name:"})," ",e.jsx("span",{className:"font-medium",children:h.business_name})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Business Type:"})," ",e.jsx("span",{className:"font-medium",children:h.business_type})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Description:"})," ",e.jsxs("span",{className:"font-medium",children:[h.business_description.substring(0,100),"..."]})]})]})]}),(h.logo_url||h.cover_photo_url)&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Logo & Branding"}),e.jsx("button",{type:"button",onClick:()=>l(2),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[h.logo_url&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Logo"}),e.jsx("img",{src:h.logo_url,alt:"Logo",className:"w-16 h-16 rounded-lg object-cover border-2 border-gray-200"})]}),h.cover_photo_url&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Cover Photo"}),e.jsx("img",{src:h.cover_photo_url,alt:"Cover",className:"w-32 h-16 rounded-lg object-cover border-2 border-gray-200"})]})]})]}),e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Bank Account"}),e.jsx("button",{type:"button",onClick:()=>l(5),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Account Holder:"})," ",e.jsx("span",{className:"font-medium",children:y.account_holder_name||"Not set"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Bank:"})," ",e.jsx("span",{className:"font-medium",children:y.bank_name||"Not set"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-600",children:"Payout Frequency:"})," ",e.jsx("span",{className:"font-medium capitalize",children:h.payout_frequency})]})]})]}),g.length>0&&e.jsxs("div",{className:"border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Initial Catalog"}),e.jsx("button",{type:"button",onClick:()=>l(6),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Edit"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[g.length," product",g.length!==1?"s":""," added"]})]})]}),e.jsx("div",{className:"border-2 border-gray-200 rounded-lg p-6 bg-gray-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"terms_acceptance",className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500",required:!0}),e.jsxs("label",{htmlFor:"terms_acceptance",className:"text-sm text-gray-700",children:["I agree to the ",e.jsx("a",{href:"/terms",target:"_blank",className:"text-blue-600 hover:underline",children:"Supplier Agreement"}),", ",e.jsx("a",{href:"/terms",target:"_blank",className:"text-blue-600 hover:underline",children:"Terms of Service"}),", and ",e.jsx("a",{href:"/privacy",target:"_blank",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})]})}),e.jsx("button",{type:"button",onClick:z,disabled:F.isPending,className:"w-full bg-green-600 text-white px-6 py-4 rounded-lg hover:bg-green-700 transition-colors text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:F.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Completing Setup..."]}):" Complete Onboarding & Start Selling"}),d.complete&&e.jsx("p",{className:"text-sm text-red-600 text-center",children:d.complete})]}),d.api&&e.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800 text-sm",children:d.api})})]}),i<7&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mt-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{type:"button",onClick:E,disabled:i===1,className:"flex items-center space-x-2 px-6 py-3 border-2 border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ms,{className:"w-5 h-5"}),e.jsx("span",{children:"Previous"})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{console.log("Progress saved")},className:"text-gray-600 hover:text-gray-800 text-sm font-medium",children:"Save & Continue Later"})}),e.jsxs("button",{type:"button",onClick:P,disabled:F.isPending,className:"flex items-center space-x-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("span",{children:F.isPending?"Saving...":"Save & Continue"}),e.jsx(Qe,{className:"w-5 h-5"})]})]})})]})})})},Xx="https://123create-construction-app-with-a.launchpulse.ai/api",lD=async t=>(await H.get(`${Xx}/suppliers/me`,{headers:{Authorization:`Bearer ${t}`}})).data,oD=async(t,s)=>((await H.get(`${Xx}/orders`,{params:{status_filter:"pending",limit:10},headers:{Authorization:`Bearer ${t}`}})).data.orders||[]).filter(n=>{var i;return(i=n.items)==null?void 0:i.some(l=>l.supplier_id===s)}),cD=async t=>((await H.get(`${Xx}/suppliers/me/products`,{params:{status_filter:"active"},headers:{Authorization:`Bearer ${t}`}})).data.products||[]).filter(a=>a.stock_quantity<=a.low_stock_threshold),dD=async(t,s)=>{await H.patch(`${Xx}/orders/${t}`,{status:"processing"},{headers:{Authorization:`Bearer ${s}`}})},uD=()=>{Ie();const t=Fe(),s=ae(g=>g.authentication_state.supplier_profile),r=ae(g=>g.authentication_state.auth_token),a=(s==null?void 0:s.supplier_id)||"",{data:n,isLoading:i,error:l}=ie({queryKey:["supplier","profile",a],queryFn:()=>lD(r),enabled:!!r&&!!a,staleTime:5*60*1e3,retry:1}),{data:o=[],isLoading:c,error:d}=ie({queryKey:["supplier","orders","pending",a],queryFn:()=>oD(r,a),enabled:!!r&&!!a,staleTime:30*1e3,refetchInterval:60*1e3,retry:1}),{data:m=[],isLoading:u,error:x}=ie({queryKey:["supplier","products","low-stock",a],queryFn:()=>cD(r),enabled:!!r&&!!a,staleTime:2*60*1e3,retry:1}),h=ue({mutationFn:g=>dD(g,r),onSuccess:()=>{t.invalidateQueries({queryKey:["supplier","orders","pending"]})},onError:g=>{console.error("Failed to accept order:",g)}}),f=k.useMemo(()=>m.map(g=>({product_id:g.product_id,product_name:g.product_name,sku:g.sku,stock_quantity:g.stock_quantity,low_stock_threshold:g.low_stock_threshold,suggested_reorder_quantity:Math.max(g.low_stock_threshold*2,Math.ceil(g.sales_count/30*7))})),[m]),p=k.useMemo(()=>o.map(g=>{var C;const S=((C=g.items)==null?void 0:C.filter(_=>_.supplier_id===a))||[],w=Math.floor((Date.now()-new Date(g.order_date).getTime())/(1e3*60*60));return{order_id:g.order_id,order_number:g.order_number,customer_name:`Customer ${g.customer_id.slice(0,8)}`,order_date:g.order_date,total_amount:g.total_amount,items_count:S.length,time_elapsed_hours:w}}),[o,a]),N=k.useMemo(()=>{const g=(n==null?void 0:n.total_sales)||0,S=(n==null?void 0:n.total_orders)||0;return{sales:{today:0,this_week:0,this_month:0,year_to_date:g},orders:{today:0,this_week:0,this_month:0,pending_acceptance:p.length},average_order_value:S>0?g/S:0}},[n,p]),y=i||c||u,j=g=>{window.confirm("Accept this order? This will move it to processing status.")&&h.mutate(g)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:["Welcome back, ",(n==null?void 0:n.business_name)||"Supplier"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),(n==null?void 0:n.verification_status)==="verified"&&e.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 border border-green-200 px-4 py-2 rounded-lg",children:[e.jsx(fe,{className:"size-5 text-green-600"}),e.jsx("span",{className:"text-green-700 font-medium text-sm",children:"Verified Supplier"})]})]})}),y&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading dashboard..."})]})}),!y&&(l||d||x)&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-8",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(rt,{className:"size-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-red-900 font-semibold",children:"Error loading dashboard"}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:(l==null?void 0:l.message)||(d==null?void 0:d.message)||(x==null?void 0:x.message)||"Please try refreshing the page"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-3 text-sm font-medium text-red-600 hover:text-red-700 underline",children:"Refresh Dashboard"})]})]})}),!y&&!l&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(Be,{className:"size-6 text-green-600"})}),e.jsx("span",{className:"text-green-600 text-sm font-medium",children:"+0%"})]}),e.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Sales Today"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",N.sales.today.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["YTD: $",N.sales.year_to_date.toLocaleString()]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(Je,{className:"size-6 text-blue-600"})}),e.jsx("span",{className:"text-blue-600 text-sm font-medium",children:"Active"})]}),e.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Orders Today"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:N.orders.today}),e.jsxs("p",{className:"text-gray-500 text-xs mt-2",children:["Total: ",(n==null?void 0:n.total_orders)||0," orders"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"bg-amber-100 p-3 rounded-lg",children:e.jsx(nt,{className:"size-6 text-amber-600"})}),N.orders.pending_acceptance>0&&e.jsx("span",{className:"bg-amber-100 text-amber-700 text-xs font-semibold px-2 py-1 rounded-full",children:"Action Required"})]}),e.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Pending Orders"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:N.orders.pending_acceptance}),e.jsx(G,{to:"/supplier/orders?status_filter=pending",className:"text-blue-600 hover:text-blue-700 text-xs mt-2 inline-block font-medium",children:"View all pending "})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:e.jsx(Ve,{className:"size-6 text-purple-600"})})}),e.jsx("h3",{className:"text-gray-600 text-sm font-medium mb-1",children:"Avg Order Value"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",N.average_order_value.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-gray-500 text-xs mt-2",children:"Per transaction"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(G,{to:"/supplier/products/add",className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-blue-300 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg group-hover:bg-blue-200 transition-colors",children:e.jsx(Se,{className:"size-5 text-blue-600"})}),e.jsx("span",{className:"text-gray-700 font-medium group-hover:text-blue-600 transition-colors",children:"Add New Product"})]})}),e.jsx(G,{to:"/supplier/orders",className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-blue-300 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-lg group-hover:bg-green-200 transition-colors",children:e.jsx(Je,{className:"size-5 text-green-600"})}),e.jsx("span",{className:"text-gray-700 font-medium group-hover:text-green-600 transition-colors",children:"View All Orders"})]})}),e.jsx(G,{to:"/supplier/inventory",className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-blue-300 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-amber-100 p-2 rounded-lg group-hover:bg-amber-200 transition-colors",children:e.jsx(s9,{className:"size-5 text-amber-600"})}),e.jsx("span",{className:"text-gray-700 font-medium group-hover:text-amber-600 transition-colors",children:"Manage Inventory"})]})}),e.jsx(G,{to:"/supplier/analytics",className:"bg-white rounded-lg shadow-md border border-gray-200 p-4 hover:shadow-lg hover:border-blue-300 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"bg-purple-100 p-2 rounded-lg group-hover:bg-purple-200 transition-colors",children:e.jsx(ya,{className:"size-5 text-purple-600"})}),e.jsx("span",{className:"text-gray-700 font-medium group-hover:text-purple-600 transition-colors",children:"View Analytics"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(nt,{className:"size-6"}),e.jsx("span",{children:"Pending Orders"})]}),N.orders.pending_acceptance>0&&e.jsxs("span",{className:"bg-white text-blue-700 text-sm font-semibold px-3 py-1 rounded-full",children:[N.orders.pending_acceptance," need action"]})]})}),e.jsxs("div",{className:"p-6",children:[c&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Loading orders..."})]}),!c&&p.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"size-12 text-green-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-gray-900 font-semibold mb-1",children:"All caught up!"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"No pending orders at the moment"})]}),!c&&p.length>0&&e.jsxs("div",{className:"space-y-4",children:[p.map(g=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:g.order_number}),e.jsx("p",{className:"text-sm text-gray-600",children:g.customer_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",g.total_amount.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[g.items_count," item",g.items_count!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(nt,{className:"size-4"}),e.jsxs("span",{children:[g.time_elapsed_hours,"h ago"]})]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{children:new Date(g.order_date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{to:`/supplier/orders/${g.order_id}`,className:"px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"View Details"}),e.jsx("button",{onClick:()=>j(g.order_id),disabled:h.isPending,className:"px-4 py-1.5 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h.isPending?"Accepting...":"Accept"})]})]})]},g.order_id)),p.length>=5&&e.jsx(G,{to:"/supplier/orders?status_filter=pending",className:"block text-center text-blue-600 hover:text-blue-700 font-medium text-sm py-2",children:"View all pending orders "})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-600 to-orange-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[e.jsx(as,{className:"size-6"}),e.jsx("span",{children:"Low Stock Alerts"})]}),f.length>0&&e.jsxs("span",{className:"bg-white text-orange-700 text-sm font-semibold px-3 py-1 rounded-full",children:[f.length," alert",f.length!==1?"s":""]})]})}),e.jsxs("div",{className:"p-6",children:[u&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Checking inventory..."})]}),!u&&f.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"size-12 text-green-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-gray-900 font-semibold mb-1",children:"Inventory looks good!"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"All products are adequately stocked"})]}),!u&&f.length>0&&e.jsxs("div",{className:"space-y-3",children:[f.slice(0,5).map(g=>e.jsx("div",{className:"border border-amber-200 bg-amber-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.product_name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["SKU: ",g.sku]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("span",{className:"text-red-600 font-semibold",children:[g.stock_quantity," units left"]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{className:"text-gray-600",children:["Threshold: ",g.low_stock_threshold]})]})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"bg-blue-100 text-blue-700 text-xs font-semibold px-2 py-1 rounded mb-2",children:["Reorder: ",g.suggested_reorder_quantity]}),e.jsx(G,{to:`/supplier/products/${g.product_id}/edit`,className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:"Update Stock"})]})]})},g.product_id)),e.jsx(G,{to:"/supplier/inventory?low_stock_only=true",className:"block text-center text-amber-600 hover:text-amber-700 font-medium text-sm py-2",children:"View all low stock items "})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[e.jsx(De,{className:"size-5 text-yellow-500"}),e.jsx("span",{children:"Performance"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Rating"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(De,{className:"size-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-bold text-gray-900",children:(n==null?void 0:n.rating_average.toFixed(1))||"0.0"})]})]}),e.jsx("div",{className:"bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-yellow-500 h-full rounded-full",style:{width:`${((n==null?void 0:n.rating_average)||0)/5*100}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(n==null?void 0:n.total_reviews)||0," reviews"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fulfillment Rate"}),e.jsxs("span",{className:"font-bold text-gray-900",children:[(n==null?void 0:n.fulfillment_rate.toFixed(1))||"0.0","%"]})]}),e.jsx("div",{className:"bg-gray-200 rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"bg-green-500 h-full rounded-full",style:{width:`${(n==null?void 0:n.fulfillment_rate)||0}%`}})})]}),(n==null?void 0:n.response_time_average)!==null&&(n==null?void 0:n.response_time_average)!==void 0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Response Time"}),e.jsxs("span",{className:"font-bold text-gray-900",children:[n.response_time_average.toFixed(1),"h"]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Faster responses improve customer satisfaction"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Sales"}),e.jsxs("span",{className:"font-bold text-gray-900",children:["$",((n==null?void 0:n.total_sales)||0).toLocaleString()]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("span",{className:"font-bold text-gray-900",children:((n==null?void 0:n.total_orders)||0).toLocaleString()})]})})]}),e.jsx(G,{to:"/supplier/analytics",className:"mt-6 block w-full text-center bg-blue-50 text-blue-600 hover:bg-blue-100 font-medium py-2 rounded-lg transition-colors text-sm",children:"View Detailed Analytics"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Tasks"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Orders to fulfill"}),e.jsx("span",{className:"bg-amber-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:N.orders.pending_acceptance})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Items to restock"}),e.jsx("span",{className:"bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:f.length})]}),e.jsxs(G,{to:"/supplier/reviews",className:"flex items-center justify-between p-3 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Reviews to respond"}),e.jsx("span",{className:"bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:"0"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Links"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(G,{to:"/supplier/messages",className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all group",children:[e.jsx(Tt,{className:"size-5 text-gray-600 group-hover:text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Messages"})]}),e.jsxs(G,{to:"/supplier/settings",className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all group",children:[e.jsx(Ps,{className:"size-5 text-gray-600 group-hover:text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Settings"})]}),e.jsxs(G,{to:"/supplier/pricing",className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all group",children:[e.jsx(Be,{className:"size-5 text-gray-600 group-hover:text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Pricing"})]}),e.jsxs(G,{to:"/supplier/financials",className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all group",children:[e.jsx(Ve,{className:"size-5 text-gray-600 group-hover:text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-600",children:"Financials"})]})]})]})]})]})]})]})})})},mD=async(t,s,r,a,n)=>{const i=(a-1)*n,l=new URLSearchParams;s.status&&l.append("status_filter",s.status),s.category_id&&l.append("category_filter",s.category_id),s.search_query&&l.append("search_query",s.search_query),l.append("sort_by",r.sort_by),l.append("limit",n.toString()),l.append("offset",i.toString());const o=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products?${l.toString()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{products:o.data.products.map(c=>{var d;return{product_id:c.product_id,sku:c.sku,product_name:c.product_name,category_id:c.category_id,category_name:((d=c.category)==null?void 0:d.category_name)||"Unknown",price_per_unit:Number(c.price_per_unit||0),stock_quantity:Number(c.stock_quantity||0),status:c.status,is_featured:c.is_featured,views_count:Number(c.views_count||0),sales_count:Number(c.sales_count||0),last_updated_timestamp:c.last_updated_timestamp,primary_image_url:c.primary_image_url}}),pagination:{current_page:Math.floor(o.data.offset/o.data.limit)+1,total_pages:Math.ceil(o.data.total/o.data.limit),total_count:o.data.total,limit:o.data.limit}}},u_=async(t,s,r)=>{await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/products/${s}`,{status:r},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})},hD=async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories?is_active=true")).data;function xD(){var L;const t=ae(v=>v.authentication_state.auth_token),[s,r]=Ie(),[a,n]=k.useState({status:s.get("status_filter"),category_id:s.get("category_filter"),search_query:s.get("search_query")}),[i,l]=k.useState({sort_by:s.get("sort_by")||"created_at",sort_order:"desc"}),[o,c]=k.useState(parseInt(s.get("page")||"1")),[d,m]=k.useState([]),[u,x]=k.useState(a.search_query||""),[h,f]=k.useState(!1),p=24,N=Fe(),{data:y,isLoading:j,error:g}=ie({queryKey:["supplier-products",a,i,o],queryFn:()=>mD(t,a,i,o,p),enabled:!!t,staleTime:6e4,retry:1}),{data:S}=ie({queryKey:["categories"],queryFn:hD,staleTime:3e5,retry:1}),w=ue({mutationFn:({productId:v,status:D})=>u_(t,v,D),onSuccess:()=>{N.invalidateQueries({queryKey:["supplier-products"]})}}),C=(y==null?void 0:y.products)||[],_=(y==null?void 0:y.pagination)||{current_page:1,total_pages:1,total_count:0},$=d.length>0&&d.length===C.length,F=d.length>0&&d.length<C.length;k.useEffect(()=>{const v=new URLSearchParams;a.status&&v.set("status_filter",a.status),a.category_id&&v.set("category_filter",a.category_id),a.search_query&&v.set("search_query",a.search_query),i.sort_by!=="created_at"&&v.set("sort_by",i.sort_by),o>1&&v.set("page",o.toString()),r(v,{replace:!0})},[a,i,o,r]),k.useEffect(()=>{const v=setTimeout(()=>{u!==a.search_query&&(n(D=>({...D,search_query:u||null})),c(1))},500);return()=>clearTimeout(v)},[u,a.search_query]);const T=k.useCallback((v,D)=>{n(U=>({...U,[v]:D})),c(1)},[]),R=k.useCallback(v=>{l(D=>D.sort_by===v?{...D,sort_order:D.sort_order==="asc"?"desc":"asc"}:{sort_by:v,sort_order:"desc"})},[]),A=k.useCallback(()=>{m($?[]:C.map(v=>v.product_id))},[$,C]),M=k.useCallback(v=>{m(D=>D.includes(v)?D.filter(U=>U!==v):[...D,v])},[]),P=async(v,D)=>{try{await w.mutateAsync({productId:v,status:D})}catch(U){console.error("Failed to update product status:",U)}},E=()=>{n({status:null,category_id:null,search_query:null}),x(""),c(1)},z=async v=>{f(!0);try{await Promise.all(d.map(D=>u_(t,D,v))),N.invalidateQueries({queryKey:["supplier-products"]}),m([])}catch(D){console.error("Bulk update failed:",D)}finally{f(!1)}},O=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"out_of_stock":return"bg-red-100 text-red-800";case"discontinued":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},b=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(v);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Catalog"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your product listings, inventory, and performance"})]}),e.jsxs(G,{to:"/supplier/products/add",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx($t,{className:"w-5 h-5 mr-2"}),"Add Product"]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Products"}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"search",type:"text",value:u,onChange:v=>x(v.target.value),placeholder:"Search by name or SKU...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsxs("select",{id:"status-filter",value:a.status||"",onChange:v=>T("status",v.target.value||null),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),e.jsxs("select",{id:"category-filter",value:a.category_id||"",onChange:v=>T("category_id",v.target.value||null),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Categories"}),S==null?void 0:S.map(v=>e.jsx("option",{value:v.category_id,children:v.category_name},v.category_id))]})]})]}),(a.status||a.category_id||a.search_query)&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Active filters:"}),a.status&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:["Status: ",a.status,e.jsx("button",{onClick:()=>T("status",null),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),a.category_id&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:["Category: ",(L=S==null?void 0:S.find(v=>v.category_id===a.category_id))==null?void 0:L.category_name,e.jsx("button",{onClick:()=>T("category_id",null),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),a.search_query&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:['Search: "',a.search_query,'"',e.jsx("button",{onClick:()=>{T("search_query",null),x("")},className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:e.jsx(be,{className:"w-3 h-3"})})]}),e.jsx("button",{onClick:E,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})]})]}),d.length>0&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[d.length," product",d.length!==1?"s":""," selected"]}),e.jsx("button",{onClick:()=>m([]),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear selection"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Bulk actions:"}),e.jsxs("select",{onChange:v=>{v.target.value&&(z(v.target.value),v.target.value="")},disabled:h,className:"px-4 py-2 border-2 border-gray-200 rounded-lg text-sm font-medium focus:border-blue-500 focus:ring-4 focus:ring-blue-100 disabled:opacity-50",children:[e.jsx("option",{value:"",children:"Update Status..."}),e.jsx("option",{value:"active",children:"Set Active"}),e.jsx("option",{value:"inactive",children:"Set Inactive"}),e.jsx("option",{value:"discontinued",children:"Mark Discontinued"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200 bg-gray-50 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Se,{className:"w-5 h-5 text-gray-600"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[_.total_count," Products"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),e.jsxs("select",{value:i.sort_by,onChange:v=>R(v.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-100",children:[e.jsx("option",{value:"created_at",children:"Date Added"}),e.jsx("option",{value:"product_name",children:"Name"}),e.jsx("option",{value:"sales_count",children:"Sales"}),e.jsx("option",{value:"views_count",children:"Views"}),e.jsx("option",{value:"price_per_unit",children:"Price"}),e.jsx("option",{value:"stock_quantity",children:"Stock"})]})]})]})}),j&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading products..."})]})}),g&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-red-900",children:"Failed to load products"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:H.isAxiosError(g)?g.message:"An unexpected error occurred"})]})]})})}),!j&&!g&&C.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[e.jsx(Se,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:a.status||a.category_id||a.search_query?"Try adjusting your filters":"Start by adding your first product"}),!a.status&&!a.category_id&&!a.search_query&&e.jsxs(G,{to:"/supplier/products/add",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all",children:[e.jsx($t,{className:"w-5 h-5 mr-2"}),"Add Your First Product"]})]}),!j&&!g&&C.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:$,ref:v=>{v&&(v.indeterminate=F)},onChange:A,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Category"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:d.includes(v.product_id),onChange:()=>M(v.product_id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden",children:v.primary_image_url?e.jsx("img",{src:v.primary_image_url,alt:v.product_name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Cd,{className:"w-8 h-8 text-gray-400"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(G,{to:`/supplier/products/${v.product_id}/edit`,className:"text-sm font-medium text-gray-900 hover:text-blue-600 line-clamp-1",children:v.product_name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["SKU: ",v.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:v.category_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm font-medium text-gray-900",children:b(v.price_per_unit)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm font-medium ${v.stock_quantity===0?"text-red-600":v.stock_quantity<10?"text-amber-600":"text-green-600"}`,children:v.stock_quantity}),v.stock_quantity===0&&e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Out"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:v.status,onChange:D=>P(v.product_id,D.target.value),disabled:w.isPending,className:`text-xs font-medium px-3 py-1.5 rounded-full border-0 focus:ring-2 focus:ring-offset-2 ${O(v.status)}`,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Lt,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:v.views_count})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ve,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:v.sales_count})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx(G,{to:`/supplier/products/${v.product_id}/edit`,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit product",children:e.jsx(xa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{console.warn("Delete endpoint not available - feature pending backend implementation")},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors opacity-50 cursor-not-allowed",title:"Delete not available",disabled:!0,children:e.jsx(Xt,{className:"w-4 h-4"})})]})})]},v.product_id))})]})})]}),!j&&!g&&C.length>0&&_.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",_.current_page," of ",_.total_pages,"(",_.total_count," total products)"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>c(v=>Math.max(1,v-1)),disabled:o===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,_.total_pages)},(v,D)=>{let U;return _.total_pages<=5||o<=3?U=D+1:o>=_.total_pages-2?U=_.total_pages-4+D:U=o-2+D,e.jsx("button",{onClick:()=>c(U),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${o===U?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:U},U)})}),e.jsx("button",{onClick:()=>c(v=>Math.min(_.total_pages,v+1)),disabled:o===_.total_pages,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]}),!j&&!g&&C.length>0&&e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:C.filter(v=>v.status==="active").length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(Ce,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:C.filter(v=>v.status==="out_of_stock"||v.stock_quantity===0).length})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Views"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:C.reduce((v,D)=>v+D.views_count,0).toLocaleString()})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Lt,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:C.reduce((v,D)=>v+D.sales_count,0).toLocaleString()})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(Ve,{className:"w-6 h-6 text-purple-600"})})]})})]})]})})})}const pD=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories",{params:{is_active:!0},headers:{Authorization:`Bearer ${t}`}})).data,gD=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products",s,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,fD=()=>{var K,te;const t=Xe(),s=Fe(),r=ae(V=>V.authentication_state.auth_token),[a,n]=k.useState({category_id:"",sku:"",product_name:"",description:null,key_features:null,specifications:null,price_per_unit:0,unit_of_measure:"",bulk_pricing:null,cost_price:null,stock_quantity:0,low_stock_threshold:10,expected_restock_date:null,images:null,primary_image_url:null,status:"active",is_featured:!1,tags:null,brand:null,dimensions:null,weight:null,material:null,compliance_certifications:null,warranty_information:null,minimum_order_quantity:1,maximum_order_quantity:null,available_delivery_methods:null,handling_time_days:1,searchable:!0,customer_type_availability:"all"}),[i,l]=k.useState([]),[o,c]=k.useState({}),[d,m]=k.useState(!1),[u,x]=k.useState(!1),[h,f]=k.useState({basic:!1,details:!1,pricing:!1,inventory:!1,images:!1,additional:!0,sales:!0,visibility:!0}),[p,N]=k.useState(""),[y,j]=k.useState(""),[g,S]=k.useState(""),[w,C]=k.useState(""),[_,$]=k.useState(""),[F,T]=k.useState(""),{data:R=[],isLoading:A}=ie({queryKey:["categories","active"],queryFn:()=>pD(r),enabled:!!r,staleTime:10*60*1e3,retry:1}),M=ue({mutationFn:V=>gD(r,V),onSuccess:()=>{s.invalidateQueries({queryKey:["supplier-products"]}),localStorage.removeItem("product_draft"),t("/supplier/products")},onError:V=>{var se,J;((J=(se=V.response)==null?void 0:se.data)==null?void 0:J.error)==="ValidationError"&&c(V.response.data.details||{})}});k.useEffect(()=>{const V=localStorage.getItem("product_draft");if(V)try{const se=JSON.parse(V);n(se.product_form),l(se.uploaded_image_urls||[]),m(!0)}catch(se){console.error("Failed to load draft:",se)}},[]),k.useEffect(()=>{const V=setInterval(()=>{(a.product_name||a.sku)&&(localStorage.setItem("product_draft",JSON.stringify({product_form:a,uploaded_image_urls:i})),m(!0),setTimeout(()=>m(!1),2e3))},3e4);return()=>clearInterval(V)},[a,i]);const P=(V,se)=>{n(J=>({...J,[V]:se})),o[V]&&c(J=>{const oe={...J};return delete oe[V],oe})},E=(V,se)=>{const J=se===""?0:parseFloat(se);P(V,isNaN(J)?0:J)},z=V=>{const se=V.target.files;!se||se.length===0||Array.from(se).forEach(J=>{const oe=new FileReader;oe.onloadend=()=>{const je=oe.result;l(ve=>{const Te=[...ve,je];return a.primary_image_url?n(Ke=>({...Ke,images:Te})):n(Ke=>({...Ke,primary_image_url:je,images:Te})),Te})},oe.readAsDataURL(J)})},O=V=>{l(se=>{const J=se.filter(oe=>oe!==V);return n(oe=>({...oe,images:J.length>0?J:null,primary_image_url:oe.primary_image_url===V?J.length>0?J[0]:null:oe.primary_image_url})),J})},b=V=>{n(se=>({...se,primary_image_url:V}))},L=()=>{p.trim()&&(n(V=>({...V,key_features:[...V.key_features||[],p.trim()]})),N(""))},v=V=>{n(se=>({...se,key_features:se.key_features?se.key_features.filter((J,oe)=>oe!==V):null}))},D=()=>{y.trim()&&(n(V=>({...V,tags:[...V.tags||[],y.trim()]})),j(""))},U=V=>{n(se=>({...se,tags:se.tags?se.tags.filter((J,oe)=>oe!==V):null}))},q=()=>{g.trim()&&w.trim()&&(n(V=>({...V,specifications:{...V.specifications,[g.trim()]:w.trim()}})),S(""),C(""))},B=V=>{n(se=>{const J={...se.specifications};return delete J[V],{...se,specifications:Object.keys(J).length>0?J:null}})},W=()=>{_.trim()&&F&&(n(V=>({...V,bulk_pricing:{...V.bulk_pricing,[_.trim()]:parseFloat(F)}})),$(""),T(""))},I=V=>{n(se=>{const J={...se.bulk_pricing};return delete J[V],{...se,bulk_pricing:Object.keys(J).length>0?J:null}})},Q=()=>{const V={};return a.category_id||(V.category_id="Category is required"),a.sku||(V.sku="SKU is required"),a.product_name||(V.product_name="Product name is required"),(!a.price_per_unit||a.price_per_unit<=0)&&(V.price_per_unit="Valid price is required"),a.unit_of_measure||(V.unit_of_measure="Unit of measure is required"),c(V),Object.keys(V).length===0},Z=async V=>{if(V.preventDefault(),!Q()){window.scrollTo({top:0,behavior:"smooth"});return}const se={category_id:a.category_id,sku:a.sku,product_name:a.product_name,description:a.description,key_features:a.key_features,specifications:a.specifications,price_per_unit:a.price_per_unit,unit_of_measure:a.unit_of_measure,bulk_pricing:a.bulk_pricing,stock_quantity:a.stock_quantity,low_stock_threshold:a.low_stock_threshold,images:i.length>0?i:null,primary_image_url:a.primary_image_url,brand:a.brand,minimum_order_quantity:a.minimum_order_quantity,handling_time_days:a.handling_time_days};M.mutate(se)},Y=V=>{f(se=>({...se,[V]:!se[V]}))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(Se,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Add New Product"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Create a comprehensive product listing for your catalog"})]})]}),e.jsx(G,{to:"/supplier/products",className:"text-gray-600 hover:text-gray-900 font-medium transition-colors",children:e.jsx(be,{className:"w-6 h-6"})})]}),d&&e.jsxs("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-3 flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Draft saved automatically"})]}),Object.keys(o).length>0&&e.jsx("div",{className:"mt-4 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-red-800",children:"Please fix the following errors:"}),e.jsx("ul",{className:"mt-2 text-sm text-red-700 space-y-1 list-disc list-inside",children:Object.entries(o).map(([V,se])=>e.jsx("li",{children:se},V))})]})]})})]}),e.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-blue-100 hover:to-indigo-100 transition-colors",onClick:()=>Y("basic"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Se,{className:"w-5 h-5 text-blue-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Basic Information"}),e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Required"})]}),h.basic?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.basic&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Category *"}),A?e.jsx("div",{className:"animate-pulse bg-gray-200 h-12 rounded-lg"}):e.jsxs("select",{value:a.category_id,onChange:V=>P("category_id",V.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${o.category_id?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`,children:[e.jsx("option",{value:"",children:"Select a category"}),R.map(V=>e.jsx("option",{value:V.category_id,children:V.category_name},V.category_id))]}),o.category_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.category_id})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"SKU *"}),e.jsx("input",{type:"text",value:a.sku,onChange:V=>P("sku",V.target.value),placeholder:"e.g., LUM-2X4-8-SPF",className:`w-full px-4 py-3 rounded-lg border-2 ${o.sku?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`}),o.sku&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.sku})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Brand"}),e.jsx("input",{type:"text",value:a.brand||"",onChange:V=>P("brand",V.target.value||null),placeholder:"e.g., DeWalt, Milwaukee",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{type:"text",value:a.product_name,onChange:V=>P("product_name",V.target.value),placeholder:"e.g., 2x4x8 SPF Lumber",className:`w-full px-4 py-3 rounded-lg border-2 ${o.product_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`}),o.product_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.product_name})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-purple-100 hover:to-pink-100 transition-colors",onClick:()=>Y("details"),children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Details"}),h.details?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.details&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:a.description||"",onChange:V=>P("description",V.target.value||null),rows:6,placeholder:"Detailed product description...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Key Features"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:p,onChange:V=>N(V.target.value),onKeyPress:V=>V.key==="Enter"&&(V.preventDefault(),L()),placeholder:"Add a key feature...",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("button",{type:"button",onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:e.jsx($t,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(K=a.key_features)==null?void 0:K.map((V,se)=>e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-3 py-2 flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-blue-900",children:V}),e.jsx("button",{type:"button",onClick:()=>v(se),className:"text-blue-600 hover:text-blue-800",children:e.jsx(be,{className:"w-4 h-4"})})]},se))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Specifications"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:g,onChange:V=>S(V.target.value),placeholder:"Spec name (e.g., Material)",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("input",{type:"text",value:w,onChange:V=>C(V.target.value),onKeyPress:V=>V.key==="Enter"&&(V.preventDefault(),q()),placeholder:"Value (e.g., Steel)",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:e.jsx($t,{className:"w-5 h-5"})})]}),a.specifications&&Object.keys(a.specifications).length>0&&e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:Object.entries(a.specifications).map(([V,se])=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-200 last:border-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[V,":"]}),e.jsx("span",{className:"text-sm text-gray-600 ml-2",children:String(se)})]}),e.jsx("button",{type:"button",onClick:()=>B(V),className:"text-red-600 hover:text-red-800",children:e.jsx(Xt,{className:"w-4 h-4"})})]},V))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tags"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:y,onChange:V=>j(V.target.value),onKeyPress:V=>V.key==="Enter"&&(V.preventDefault(),D()),placeholder:"Add a tag...",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:e.jsx($t,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(te=a.tags)==null?void 0:te.map((V,se)=>e.jsxs("div",{className:"bg-gray-100 border border-gray-300 rounded-lg px-3 py-1 flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["#",V]}),e.jsx("button",{type:"button",onClick:()=>U(se),className:"text-gray-500 hover:text-gray-700",children:e.jsx(be,{className:"w-3 h-3"})})]},se))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-green-100 hover:to-emerald-100 transition-colors",onClick:()=>Y("pricing"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Be,{className:"w-5 h-5 text-green-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Pricing Information"}),e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full font-medium",children:"Required"})]}),h.pricing?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.pricing&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Price per Unit *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.price_per_unit||"",onChange:V=>E("price_per_unit",V.target.value),placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${o.price_per_unit?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`})]}),o.price_per_unit&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.price_per_unit})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Unit of Measure *"}),e.jsx("input",{type:"text",value:a.unit_of_measure,onChange:V=>P("unit_of_measure",V.target.value),placeholder:"e.g., piece, bag, box",className:`w-full px-4 py-3 rounded-lg border-2 ${o.unit_of_measure?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 outline-none transition-all`}),o.unit_of_measure&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.unit_of_measure})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cost Price (Your Cost)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.cost_price||"",onChange:V=>E("cost_price",V.target.value),placeholder:"0.00",className:"w-full pl-8 pr-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Optional - for profit margin tracking"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bulk Pricing Tiers"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Offer discounts for larger quantities"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:_,onChange:V=>$(V.target.value),placeholder:"Tier (e.g., 10+, 50+)",className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsxs("div",{className:"relative flex-1",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:F,onChange:V=>T(V.target.value),placeholder:"Price",className:"w-full pl-8 pr-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:e.jsx($t,{className:"w-5 h-5"})})]}),a.bulk_pricing&&Object.keys(a.bulk_pricing).length>0&&e.jsx("div",{className:"bg-green-50 rounded-lg p-4 space-y-2",children:Object.entries(a.bulk_pricing).map(([V,se])=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-green-200 last:border-0",children:[e.jsxs("span",{className:"text-sm font-medium text-green-900",children:[V," units"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm text-green-700",children:["$",se.toFixed(2)]}),e.jsx("button",{type:"button",onClick:()=>I(V),className:"text-red-600 hover:text-red-800",children:e.jsx(Xt,{className:"w-4 h-4"})})]})]},V))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-amber-100 hover:to-orange-100 transition-colors",onClick:()=>Y("inventory"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Zk,{className:"w-5 h-5 text-amber-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Inventory Management"})]}),h.inventory?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.inventory&&e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Stock Quantity"}),e.jsx("input",{type:"number",min:"0",value:a.stock_quantity||"",onChange:V=>E("stock_quantity",V.target.value),placeholder:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Low Stock Alert"}),e.jsx("input",{type:"number",min:"0",value:a.low_stock_threshold||"",onChange:V=>E("low_stock_threshold",V.target.value),placeholder:"10",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Alert when stock falls below this"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Handling Time (Days)"}),e.jsx("input",{type:"number",min:"1",value:a.handling_time_days||"",onChange:V=>E("handling_time_days",V.target.value),placeholder:"1",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-indigo-100 hover:to-purple-100 transition-colors",onClick:()=>Y("images"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Cd,{className:"w-5 h-5 text-indigo-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Images"})]}),h.images?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.images&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Upload Product Images"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-blue-400 transition-colors",children:[e.jsx(dr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("span",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Click to upload"}),e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:z,className:"hidden"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"PNG, JPG, WEBP up to 5MB each"})]})]}),i.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Uploaded Images (",i.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:i.map((V,se)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:V,alt:`Product ${se+1}`,className:`w-full h-32 object-cover rounded-lg border-2 ${a.primary_image_url===V?"border-blue-500 ring-4 ring-blue-100":"border-gray-200"}`}),a.primary_image_url===V&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-md font-medium",children:"Primary"}),e.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-opacity rounded-lg flex items-center justify-center space-x-2 opacity-0 group-hover:opacity-100",children:[a.primary_image_url!==V&&e.jsx("button",{type:"button",onClick:()=>b(V),className:"bg-white text-gray-900 px-3 py-1 rounded-md text-xs font-medium hover:bg-gray-100 transition-colors",children:"Set Primary"}),e.jsx("button",{type:"button",onClick:()=>O(V),className:"bg-red-600 text-white p-2 rounded-md hover:bg-red-700 transition-colors",children:e.jsx(Xt,{className:"w-4 h-4"})})]})]},se))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-gray-100 hover:to-slate-100 transition-colors",onClick:()=>Y("additional"),children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Additional Details"}),h.additional?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.additional&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Weight (lbs)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.weight||"",onChange:V=>E("weight",V.target.value),placeholder:"0.00",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Material"}),e.jsx("input",{type:"text",value:a.material||"",onChange:V=>P("material",V.target.value||null),placeholder:"e.g., Steel, Wood, Concrete",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Warranty Information"}),e.jsx("textarea",{value:a.warranty_information||"",onChange:V=>P("warranty_information",V.target.value||null),rows:3,placeholder:"Warranty details...",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all resize-none"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-teal-100 hover:to-cyan-100 transition-colors",onClick:()=>Y("sales"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ps,{className:"w-5 h-5 text-teal-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Sales Settings"})]}),h.sales?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.sales&&e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Minimum Order Quantity"}),e.jsx("input",{type:"number",min:"1",value:a.minimum_order_quantity||"",onChange:V=>E("minimum_order_quantity",V.target.value),placeholder:"1",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Maximum Order Quantity"}),e.jsx("input",{type:"number",min:"1",value:a.maximum_order_quantity||"",onChange:V=>E("maximum_order_quantity",V.target.value),placeholder:"No limit",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between cursor-pointer hover:from-rose-100 hover:to-pink-100 transition-colors",onClick:()=>Y("visibility"),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Lt,{className:"w-5 h-5 text-rose-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Visibility & Status"})]}),h.visibility?e.jsx(ds,{className:"w-5 h-5 text-gray-600"}):e.jsx(Br,{className:"w-5 h-5 text-gray-600"})]}),!h.visibility&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Product Status"}),e.jsxs("select",{value:a.status,onChange:V=>P("status",V.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Available For"}),e.jsxs("select",{value:a.customer_type_availability,onChange:V=>P("customer_type_availability",V.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"all",children:"All Customers"}),e.jsx("option",{value:"retail",children:"Retail Only"}),e.jsx("option",{value:"trade",children:"Trade Only"})]})]})]}),e.jsxs("div",{className:"space-y-4 bg-gray-50 rounded-lg p-4",children:[e.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:"Featured Product"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Show in featured sections"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:a.is_featured,onChange:V=>P("is_featured",V.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("label",{className:"flex items-center justify-between cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:"Searchable"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Include in search results"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",checked:a.searchable,onChange:V=>P("searchable",V.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsx(G,{to:"/supplier/products",className:"w-full sm:w-auto px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-all duration-200 text-center",children:"Cancel"}),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full sm:w-auto space-y-3 sm:space-y-0 sm:space-x-3",children:[e.jsxs("button",{type:"button",onClick:()=>x(!0),className:"w-full sm:w-auto px-6 py-3 bg-purple-100 text-purple-700 rounded-lg font-medium hover:bg-purple-200 transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(Lt,{className:"w-5 h-5"}),e.jsx("span",{children:"Preview"})]}),e.jsx("button",{type:"submit",disabled:M.isPending,className:"w-full sm:w-auto px-8 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center space-x-2",children:M.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Publishing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"w-5 h-5"}),e.jsx("span",{children:"Publish Product"})]})})]})]})})]}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Product Preview"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-600 hover:text-gray-900",children:e.jsx(be,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[a.primary_image_url?e.jsx("img",{src:a.primary_image_url,alt:a.product_name,className:"w-full h-96 object-cover rounded-lg border-2 border-gray-200"}):e.jsx("div",{className:"w-full h-96 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Cd,{className:"w-16 h-16 text-gray-400"})}),i.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:i.slice(0,4).map((V,se)=>e.jsx("img",{src:V,alt:`Thumbnail ${se+1}`,className:"w-full h-20 object-cover rounded-lg border border-gray-200"},se))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:a.product_name||"Product Name"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SKU: ",a.sku||"N/A"]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-4xl font-bold text-blue-600",children:["$",a.price_per_unit.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["per ",a.unit_of_measure||"unit"]})]}),a.bulk_pricing&&Object.keys(a.bulk_pricing).length>0&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-semibold text-green-900 mb-2",children:"Volume Pricing"}),Object.entries(a.bulk_pricing).map(([V,se])=>e.jsxs("div",{className:"text-xs text-green-700 flex justify-between",children:[e.jsx("span",{children:V}),e.jsxs("span",{className:"font-medium",children:["$",se.toFixed(2),"/unit"]})]},V))]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Stock"}),e.jsxs("p",{className:"text-sm text-gray-700",children:[a.stock_quantity," units available"]})]}),a.key_features&&a.key_features.length>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Key Features"}),e.jsx("ul",{className:"space-y-1",children:a.key_features.map((V,se)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),V]},se))})]}),a.description&&e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:a.description})]})]})]})})]})})]})})})},yD=async(t,s)=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/products/${t}`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,bD=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories",{params:{is_active:"true"},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,vD=async(t,s,r)=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/products/${t}`,s,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,jD=async(t,s)=>{const r={category_id:t.category_id,sku:`${t.sku}_COPY`,product_name:`${t.product_name} (Copy)`,description:t.description,key_features:t.key_features,specifications:t.specifications,price_per_unit:t.price_per_unit,unit_of_measure:t.unit_of_measure,bulk_pricing:t.bulk_pricing,stock_quantity:0,low_stock_threshold:t.low_stock_threshold,images:t.images,primary_image_url:t.primary_image_url,status:"inactive",brand:t.brand,minimum_order_quantity:t.minimum_order_quantity,handling_time_days:t.handling_time_days,tags:t.tags,weight:t.weight,material:t.material,warranty_information:t.warranty_information,customer_type_availability:t.customer_type_availability};return(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products",r,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data},ND=()=>{var Y;const{product_id:t}=an(),s=Xe(),r=Fe(),a=ae(K=>K.authentication_state.auth_token),n=ae(K=>K.authentication_state.supplier_profile),[i,l]=k.useState(null),[o,c]=k.useState([]),[d,m]=k.useState({}),[u,x]=k.useState(!1),[h,f]=k.useState(!1),[p,N]=k.useState(""),[y,j]=k.useState(""),[g,S]=k.useState(""),[w,C]=k.useState(""),{data:_,isLoading:$,error:F}=ie({queryKey:["product",t],queryFn:()=>yD(t,a),enabled:!!t&&!!a,staleTime:0,retry:1}),{data:T=[],isLoading:R}=ie({queryKey:["categories","active"],queryFn:()=>bD(a),enabled:!!a,staleTime:5*60*1e3}),A=ue({mutationFn:K=>vD(t,K,a),onSuccess:K=>{r.invalidateQueries({queryKey:["product",t]}),r.invalidateQueries({queryKey:["supplier-products"]}),x(!1),c([]),m({}),f(!0),setTimeout(()=>f(!1),3e3)},onError:K=>{var te,V;(V=(te=K.response)==null?void 0:te.data)!=null&&V.errors&&m(K.response.data.errors)}}),M=ue({mutationFn:()=>jD(_,a),onSuccess:K=>{r.invalidateQueries({queryKey:["supplier-products"]}),s(`/supplier/products/${K.product_id}/edit`)}});k.useEffect(()=>{if(_){if(n&&_.supplier_id!==n.supplier_id){alert("Access denied - product does not belong to your shop"),s("/supplier/products");return}l({product_id:_.product_id,category_id:_.category_id,product_name:_.product_name,description:_.description,key_features:_.key_features,specifications:_.specifications,price_per_unit:_.price_per_unit,unit_of_measure:_.unit_of_measure,bulk_pricing:_.bulk_pricing,stock_quantity:_.stock_quantity,low_stock_threshold:_.low_stock_threshold,expected_restock_date:_.expected_restock_date,images:_.images,primary_image_url:_.primary_image_url,status:_.status,is_featured:_.is_featured,tags:_.tags,weight:_.weight,material:_.material,warranty_information:_.warranty_information,minimum_order_quantity:_.minimum_order_quantity,maximum_order_quantity:_.maximum_order_quantity,handling_time_days:_.handling_time_days,searchable:_.searchable,customer_type_availability:_.customer_type_availability})}},[_,n,s]),k.useEffect(()=>{if(!_||!i)return;const K=JSON.stringify(i)!==JSON.stringify({product_id:_.product_id,category_id:_.category_id,product_name:_.product_name,description:_.description,key_features:_.key_features,specifications:_.specifications,price_per_unit:_.price_per_unit,unit_of_measure:_.unit_of_measure,bulk_pricing:_.bulk_pricing,stock_quantity:_.stock_quantity,low_stock_threshold:_.low_stock_threshold,expected_restock_date:_.expected_restock_date,images:_.images,primary_image_url:_.primary_image_url,status:_.status,is_featured:_.is_featured,tags:_.tags,weight:_.weight,material:_.material,warranty_information:_.warranty_information,minimum_order_quantity:_.minimum_order_quantity,maximum_order_quantity:_.maximum_order_quantity,handling_time_days:_.handling_time_days,searchable:_.searchable,customer_type_availability:_.customer_type_availability});x(K)},[i,_]),k.useEffect(()=>{const K=te=>{u&&(te.preventDefault(),te.returnValue="")};return window.addEventListener("beforeunload",K),()=>window.removeEventListener("beforeunload",K)},[u]);const P=k.useCallback((K,te,V)=>{JSON.stringify(te)!==JSON.stringify(V)&&c(se=>[...se,{field_name:K,old_value:te,new_value:V,timestamp:new Date().toISOString()}])},[]),E=k.useCallback((K,te)=>{!i||!_||(l(V=>{if(!V)return V;const se=V[K];return P(K,se,te),{...V,[K]:te}}),m(V=>{const se={...V};return delete se[K],se}))},[i,_,P]),z=async K=>{if(K.preventDefault(),!i)return;const te={};i.category_id!==(_==null?void 0:_.category_id)&&(te.category_id=i.category_id),i.product_name!==(_==null?void 0:_.product_name)&&(te.product_name=i.product_name),i.description!==(_==null?void 0:_.description)&&(te.description=i.description),JSON.stringify(i.key_features)!==JSON.stringify(_==null?void 0:_.key_features)&&(te.key_features=i.key_features),JSON.stringify(i.specifications)!==JSON.stringify(_==null?void 0:_.specifications)&&(te.specifications=i.specifications),i.price_per_unit!==(_==null?void 0:_.price_per_unit)&&(te.price_per_unit=i.price_per_unit),i.unit_of_measure!==(_==null?void 0:_.unit_of_measure)&&(te.unit_of_measure=i.unit_of_measure),JSON.stringify(i.bulk_pricing)!==JSON.stringify(_==null?void 0:_.bulk_pricing)&&(te.bulk_pricing=i.bulk_pricing),i.stock_quantity!==(_==null?void 0:_.stock_quantity)&&(te.stock_quantity=i.stock_quantity),i.low_stock_threshold!==(_==null?void 0:_.low_stock_threshold)&&(te.low_stock_threshold=i.low_stock_threshold),i.expected_restock_date!==(_==null?void 0:_.expected_restock_date)&&(te.expected_restock_date=i.expected_restock_date),JSON.stringify(i.images)!==JSON.stringify(_==null?void 0:_.images)&&(te.images=i.images),i.primary_image_url!==(_==null?void 0:_.primary_image_url)&&(te.primary_image_url=i.primary_image_url),i.status!==(_==null?void 0:_.status)&&(te.status=i.status),i.is_featured!==(_==null?void 0:_.is_featured)&&(te.is_featured=i.is_featured),JSON.stringify(i.tags)!==JSON.stringify(_==null?void 0:_.tags)&&(te.tags=i.tags),i.weight!==(_==null?void 0:_.weight)&&(te.weight=i.weight),i.material!==(_==null?void 0:_.material)&&(te.material=i.material),i.warranty_information!==(_==null?void 0:_.warranty_information)&&(te.warranty_information=i.warranty_information),i.minimum_order_quantity!==(_==null?void 0:_.minimum_order_quantity)&&(te.minimum_order_quantity=i.minimum_order_quantity),i.maximum_order_quantity!==(_==null?void 0:_.maximum_order_quantity)&&(te.maximum_order_quantity=i.maximum_order_quantity),i.handling_time_days!==(_==null?void 0:_.handling_time_days)&&(te.handling_time_days=i.handling_time_days),i.searchable!==(_==null?void 0:_.searchable)&&(te.searchable=i.searchable),i.customer_type_availability!==(_==null?void 0:_.customer_type_availability)&&(te.customer_type_availability=i.customer_type_availability),await A.mutateAsync(te)},O=()=>{if(!p.trim()||!i)return;const te=[...i.images||[],p.trim()];E("images",te),i.primary_image_url||E("primary_image_url",p.trim()),N("")},b=K=>{if(!i)return;const te=i.images||[],V=te.filter((J,oe)=>oe!==K),se=te[K];E("images",V),i.primary_image_url===se&&E("primary_image_url",V[0]||null)},L=K=>{E("primary_image_url",K)},v=()=>{if(!y.trim()||!i)return;const K=i.tags||[];K.includes(y.trim())||(E("tags",[...K,y.trim()]),j(""))},D=K=>{if(!i)return;const te=i.tags||[];E("tags",te.filter(V=>V!==K))},U=()=>{if(!g.trim()||!w.trim()||!i)return;const K=parseFloat(w);if(isNaN(K)||K<=0)return;const te=i.bulk_pricing||{};E("bulk_pricing",{...te,[g]:K}),S(""),C("")},q=K=>{if(!i)return;const te={...i.bulk_pricing||{}};delete te[K],E("bulk_pricing",Object.keys(te).length>0?te:null)},B=()=>{if(!i)return;const K=i.key_features||[];E("key_features",[...K,""])},W=(K,te)=>{if(!i)return;const se=[...i.key_features||[]];se[K]=te,E("key_features",se)},I=K=>{if(!i)return;const te=i.key_features||[];E("key_features",te.filter((V,se)=>se!==K))},Q=async()=>{_&&window.confirm("Create a duplicate of this product? The copy will be inactive with 0 stock.")&&await M.mutateAsync()};return $||R?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading product..."})]})})}):F?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(he,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Product Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The product you're trying to edit could not be found."}),e.jsxs(G,{to:"/supplier/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(Ya,{className:"w-5 h-5 mr-2"}),"Back to Products"]})]})})}):!i||!_?null:e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(G,{to:"/supplier/products",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(Ya,{className:"w-5 h-5 mr-2"}),"Back to Products"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Product"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["SKU: ",_.sku]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[u&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"Unsaved changes"]}),e.jsxs("button",{type:"button",onClick:Q,disabled:M.isPending,className:"inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:[e.jsx(kv,{className:"w-5 h-5 mr-2"}),"Duplicate"]})]})]})]}),h&&e.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600 mr-3"}),e.jsx("p",{className:"text-green-800 font-medium",children:"Product updated successfully!"})]}),e.jsxs("form",{onSubmit:z,className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"product_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"product_name",value:i.product_name||"",onChange:K=>E("product_name",K.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0}),d.product_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.product_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category_id",value:i.category_id||"",onChange:K=>E("category_id",K.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),T.map(K=>e.jsx("option",{value:K.category_id,children:K.category_name},K.category_id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU (cannot be changed)"}),e.jsx("input",{type:"text",id:"sku",value:_.sku,readOnly:!0,className:"w-full px-4 py-3 border-2 border-gray-100 rounded-lg bg-gray-50 text-gray-500 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{id:"description",value:i.description||"",onChange:K=>E("description",K.target.value),rows:6,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Detailed product description..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Features"}),e.jsxs("div",{className:"space-y-2",children:[(i.key_features||[]).map((K,te)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:K,onChange:V=>W(te,V.target.value),className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",placeholder:"Feature description"}),e.jsx("button",{type:"button",onClick:()=>I(te),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(Xt,{className:"w-5 h-5"})})]},te)),e.jsxs("button",{type:"button",onClick:B,className:"inline-flex items-center px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors font-medium",children:[e.jsx($t,{className:"w-5 h-5 mr-2"}),"Add Feature"]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"price_per_unit",className:"block text-sm font-medium text-gray-700 mb-2",children:["Price per Unit ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-3 text-gray-500",children:"$"}),e.jsx("input",{type:"number",id:"price_per_unit",value:i.price_per_unit||"",onChange:K=>E("price_per_unit",Number(K.target.value)),step:"0.01",min:"0",className:"w-full pl-8 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"unit_of_measure",className:"block text-sm font-medium text-gray-700 mb-2",children:["Unit of Measure ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"unit_of_measure",value:i.unit_of_measure||"",onChange:K=>E("unit_of_measure",K.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",placeholder:"piece, bag, yard, etc.",required:!0})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bulk Pricing (optional)"}),e.jsxs("div",{className:"space-y-2",children:[i.bulk_pricing&&Object.entries(i.bulk_pricing).map(([K,te])=>e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-50 p-3 rounded-lg",children:[e.jsxs("span",{className:"text-gray-700 font-medium",children:[K,"+:"]}),e.jsxs("span",{className:"text-gray-900 font-semibold",children:["$",Number(te).toFixed(2)]}),e.jsx("button",{type:"button",onClick:()=>q(K),className:"ml-auto p-1 text-red-600 hover:bg-red-50 rounded transition-colors",children:e.jsx(be,{className:"w-4 h-4"})})]},K)),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:g,onChange:K=>S(K.target.value),placeholder:"Quantity (e.g., 10)",className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),e.jsx("input",{type:"number",value:w,onChange:K=>C(K.target.value),placeholder:"Price",step:"0.01",className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),e.jsx("button",{type:"button",onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Add"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Inventory"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"stock_quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:["Stock Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",id:"stock_quantity",value:i.stock_quantity??0,onChange:K=>E("stock_quantity",Number(K.target.value)),min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"low_stock_threshold",className:"block text-sm font-medium text-gray-700 mb-2",children:"Low Stock Alert"}),e.jsx("input",{type:"number",id:"low_stock_threshold",value:i.low_stock_threshold??10,onChange:K=>E("low_stock_threshold",Number(K.target.value)),min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"expected_restock_date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Restock Date"}),e.jsx("input",{type:"date",id:"expected_restock_date",value:((Y=i.expected_restock_date)==null?void 0:Y.split("T")[0])||"",onChange:K=>E("expected_restock_date",K.target.value?new Date(K.target.value).toISOString():null),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Product Images"}),i.images&&i.images.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:i.images.map((K,te)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:K,alt:`Product ${te+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200"}),i.primary_image_url===K&&e.jsx("span",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs font-medium rounded",children:"Primary"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex space-x-2",children:[i.primary_image_url!==K&&e.jsx("button",{type:"button",onClick:()=>L(K),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Set Primary"}),e.jsx("button",{type:"button",onClick:()=>b(te),className:"px-3 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"Remove"})]})})]},te))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"url",value:p,onChange:K=>N(K.target.value),placeholder:"Enter image URL",className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),e.jsxs("button",{type:"button",onClick:O,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[e.jsx(dr,{className:"w-5 h-5 mr-2"}),"Add Image"]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Note: Image upload endpoint not yet available. Please enter image URLs manually."})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Product Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),e.jsx("input",{type:"text",id:"brand",value:i.brand||"",onChange:K=>E("brand",K.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"material",className:"block text-sm font-medium text-gray-700 mb-2",children:"Material"}),e.jsx("input",{type:"text",id:"material",value:i.material||"",onChange:K=>E("material",K.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (lbs)"}),e.jsx("input",{type:"number",id:"weight",value:i.weight??"",onChange:K=>E("weight",K.target.value?Number(K.target.value):null),step:"0.01",min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:(i.tags||[]).map(K=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[K,e.jsx("button",{type:"button",onClick:()=>D(K),className:"ml-2 hover:text-blue-900",children:e.jsx(be,{className:"w-4 h-4"})})]},K))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:y,onChange:K=>j(K.target.value),onKeyPress:K=>K.key==="Enter"&&(K.preventDefault(),v()),placeholder:"Add tag",className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),e.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Add"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{htmlFor:"warranty_information",className:"block text-sm font-medium text-gray-700 mb-2",children:"Warranty Information"}),e.jsx("textarea",{id:"warranty_information",value:i.warranty_information||"",onChange:K=>E("warranty_information",K.target.value),rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",placeholder:"Warranty terms and conditions..."})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Order & Delivery Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"minimum_order_quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order"}),e.jsx("input",{type:"number",id:"minimum_order_quantity",value:i.minimum_order_quantity??1,onChange:K=>E("minimum_order_quantity",Number(K.target.value)),min:"1",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"maximum_order_quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Order"}),e.jsx("input",{type:"number",id:"maximum_order_quantity",value:i.maximum_order_quantity??"",onChange:K=>E("maximum_order_quantity",K.target.value?Number(K.target.value):null),min:"1",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"handling_time_days",className:"block text-sm font-medium text-gray-700 mb-2",children:"Handling Time (days)"}),e.jsx("input",{type:"number",id:"handling_time_days",value:i.handling_time_days??1,onChange:K=>E("handling_time_days",Number(K.target.value)),min:"1",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Status & Visibility"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-2",children:["Product Status ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"status",value:i.status||"active",onChange:K=>E("status",K.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customer_type_availability",className:"block text-sm font-medium text-gray-700 mb-2",children:"Available To"}),e.jsxs("select",{id:"customer_type_availability",value:i.customer_type_availability||"all",onChange:K=>E("customer_type_availability",K.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"all",children:"All Customers"}),e.jsx("option",{value:"retail",children:"Retail Only"}),e.jsx("option",{value:"trade",children:"Trade Only"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Featured Product"}),e.jsx("input",{type:"checkbox",checked:i.is_featured||!1,onChange:K=>E("is_featured",K.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Searchable"}),e.jsx("input",{type:"checkbox",checked:i.searchable??!0,onChange:K=>E("searchable",K.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-white border-t-4 border-blue-600 rounded-xl shadow-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[u&&e.jsxs("span",{className:"text-amber-700 font-medium flex items-center",children:[e.jsx(he,{className:"w-5 h-5 mr-2"}),"You have unsaved changes"]}),o.length>0&&e.jsxs("span",{className:"text-gray-600 text-sm",children:[o.length," change",o.length!==1?"s":""," made"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{to:"/supplier/products",className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:A.isPending||!u,className:"inline-flex items-center px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:A.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"w-5 h-5 mr-2"}),"Save Changes"]})})]})]})})]})]})})})},wD=()=>{const t=ae(A=>{var M;return(M=A.authentication_state.supplier_profile)==null?void 0:M.supplier_id}),s=ae(A=>A.authentication_state.auth_token),[r,a]=k.useState("upload"),[n,i]=k.useState({file:null,file_name:null,file_size:null}),[l,o]=k.useState({is_valid:!0,errors:[],warnings:[],total_rows:0,valid_rows:0}),[c,d]=k.useState([]),[m,u]=k.useState({uploading:!1,processing:!1,importing:!1,progress_percent:0}),[x,h]=k.useState({success_count:0,error_count:0,created_product_ids:[],error_details:[]}),[f,p]=k.useState(!1),N=k.useCallback(()=>{const M="https://123create-construction-app-with-a.launchpulse.ai/api/supplier/products/bulk-template?template_type=basic",P=document.createElement("a");P.href=M,P.download="product_bulk_upload_template.csv",document.body.appendChild(P),P.click(),document.body.removeChild(P)},[]),y=ue({mutationFn:async A=>{const M="https://123create-construction-app-with-a.launchpulse.ai/api",P=new FormData;return P.append("csv_file",A),(await H.post(`${M}/supplier/products/bulk-upload-validate`,P,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"multipart/form-data"}})).data},onSuccess:A=>{o({is_valid:A.is_valid,errors:A.validation_errors||[],warnings:A.validation_warnings||[],total_rows:A.total_rows,valid_rows:A.valid_rows}),d(A.preview_data.map(M=>({product_id:M.product_id||null,sku:M.sku,product_name:M.product_name,price_per_unit:Number(M.price_per_unit||0),stock_quantity:Number(M.stock_quantity||0),category_id:M.category_id,status:M.status||"active",description:M.description,unit_of_measure:M.unit_of_measure,brand:M.brand}))),u(M=>({...M,uploading:!1,processing:!1})),a("preview")},onError:A=>{var M,P;u(E=>({...E,uploading:!1,processing:!1})),alert(((P=(M=A.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to validate CSV file")}}),j=ue({mutationFn:async()=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/supplier/products/bulk-import",{supplier_id:t,validated_products:c,import_settings:{update_existing:!0,create_missing_categories:!1}},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,onSuccess:A=>{var M;h({success_count:A.created_count||0,error_count:A.failed_count||0,created_product_ids:((M=A.created_products)==null?void 0:M.map(P=>P.product_id))||[],error_details:A.errors||[]}),u(P=>({...P,importing:!1})),a("results")},onError:A=>{var M,P;u(E=>({...E,importing:!1})),alert(((P=(M=A.response)==null?void 0:M.data)==null?void 0:P.message)||"Failed to import products")}}),g=A=>{var P;const M=(P=A.target.files)==null?void 0:P[0];M&&S(M)},S=A=>{if(!A.name.endsWith(".csv")){alert("Please upload a CSV file");return}const M=5*1024*1024;if(A.size>M){alert("File size must be less than 5MB");return}i({file:A,file_name:A.name,file_size:A.size}),u({uploading:!0,processing:!0,importing:!1,progress_percent:50}),y.mutate(A)},w=A=>{A.preventDefault(),A.stopPropagation(),p(!0)},C=A=>{A.preventDefault(),A.stopPropagation(),p(!1)},_=A=>{A.preventDefault(),A.stopPropagation()},$=A=>{var P;A.preventDefault(),A.stopPropagation(),p(!1);const M=(P=A.dataTransfer.files)==null?void 0:P[0];M&&S(M)},F=()=>{u(A=>({...A,importing:!0,progress_percent:75})),j.mutate()},T=()=>{i({file:null,file_name:null,file_size:null}),o({is_valid:!0,errors:[],warnings:[],total_rows:0,valid_rows:0}),d([]),u({uploading:!1,processing:!1,importing:!1,progress_percent:0}),h({success_count:0,error_count:0,created_product_ids:[],error_details:[]}),a("upload")},R=A=>A<1024?A+" B":A<1024*1024?(A/1024).toFixed(2)+" KB":(A/(1024*1024)).toFixed(2)+" MB";return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Bulk Product Upload"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Upload multiple products at once using our CSV template"})]}),e.jsxs(G,{to:"/supplier/products",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Back to Products"]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:`flex items-center ${r!=="upload"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${r==="upload"?"bg-blue-100":"bg-green-100"}`,children:r!=="upload"?e.jsx(fe,{className:"w-5 h-5"}):"1"}),e.jsx("span",{className:"ml-2 font-medium",children:"Upload CSV"})]}),e.jsx("div",{className:`h-1 w-24 ${r!=="upload"?"bg-green-600":"bg-gray-300"}`}),e.jsxs("div",{className:`flex items-center ${r==="preview"?"text-blue-600":r==="results"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${r==="preview"?"bg-blue-100":r==="results"?"bg-green-100":"bg-gray-100"}`,children:r==="results"?e.jsx(fe,{className:"w-5 h-5"}):"2"}),e.jsx("span",{className:"ml-2 font-medium",children:"Preview & Validate"})]}),e.jsx("div",{className:`h-1 w-24 ${r==="results"?"bg-green-600":"bg-gray-300"}`}),e.jsxs("div",{className:`flex items-center ${r==="results"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${r==="results"?"bg-green-100":"bg-gray-100"}`,children:r==="results"?e.jsx(fe,{className:"w-5 h-5"}):"3"}),e.jsx("span",{className:"ml-2 font-medium",children:"Import Complete"})]})]})}),r==="upload"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(gs,{className:"w-6 h-6 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Step 1: Download CSV Template"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Download our template to ensure your CSV file has the correct format and required columns."}),e.jsxs("button",{onClick:N,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:[e.jsx(gs,{className:"w-5 h-5 mr-2"}),"Download Template"]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Template Columns:"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-blue-800",children:[e.jsx("div",{children:" SKU (required)"}),e.jsx("div",{children:" Product Name (required)"}),e.jsx("div",{children:" Category ID (required)"}),e.jsx("div",{children:" Price Per Unit (required)"}),e.jsx("div",{children:" Stock Quantity (required)"}),e.jsx("div",{children:" Unit of Measure (required)"}),e.jsx("div",{children:" Description"}),e.jsx("div",{children:" Brand"}),e.jsx("div",{children:" Status"})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("div",{className:"flex items-start space-x-4 mb-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(dr,{className:"w-6 h-6 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Step 2: Upload Your CSV File"}),e.jsx("p",{className:"text-gray-600",children:"Upload your completed CSV file. We'll validate the data and show you a preview before importing."})]})]}),e.jsx("div",{className:`border-2 border-dashed rounded-xl p-12 text-center transition-all ${f?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 bg-gray-50"}`,onDragEnter:w,onDragLeave:C,onDragOver:_,onDrop:$,children:n.file?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(We,{className:"w-16 h-16 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n.file_name}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n.file_size?R(n.file_size):""})]}),e.jsx("button",{onClick:()=>i({file:null,file_name:null,file_size:null}),className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove file"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(dr,{className:"w-16 h-16 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:"Drag and drop your CSV file here"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"or"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(dr,{className:"w-5 h-5 mr-2"}),"Browse Files"]}),e.jsx("input",{id:"file-upload",type:"file",accept:".csv",onChange:g,className:"hidden"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"CSV files only, maximum 5MB"})]})}),n.file&&!m.uploading&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{onClick:()=>{n.file&&(u({uploading:!0,processing:!0,importing:!1,progress_percent:25}),y.mutate(n.file))},className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg hover:shadow-xl",children:["Validate & Preview",e.jsx(cr,{className:"w-5 h-5 ml-2"})]})}),m.uploading&&e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:m.processing?"Validating CSV...":"Uploading file..."}),e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[m.progress_percent,"%"]})]}),e.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.progress_percent}%`}})})]})})]})]}),r==="preview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Rows"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:l.total_rows})]}),e.jsx(We,{className:"w-12 h-12 text-blue-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Valid Rows"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:l.valid_rows})]}),e.jsx(fe,{className:"w-12 h-12 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Errors"}),e.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:l.errors.length})]}),e.jsx(rt,{className:"w-12 h-12 text-red-600"})]})})]}),(l.errors.length>0||l.warnings.length>0)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Validation Issues"}),l.errors.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(rt,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsxs("h3",{className:"font-semibold text-red-900",children:["Errors (",l.errors.length,")"]})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.errors.map((A,M)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-red-900",children:[e.jsxs("span",{className:"font-semibold",children:["Row ",A.row,":"]})," ",A.message,A.field&&e.jsxs("span",{className:"text-red-700",children:[" (Field: ",A.field,")"]})]})},M))})]}),l.warnings.length>0&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx(he,{className:"w-5 h-5 text-yellow-600 mr-2"}),e.jsxs("h3",{className:"font-semibold text-yellow-900",children:["Warnings (",l.warnings.length,")"]})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:l.warnings.map((A,M)=>e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-900",children:[e.jsxs("span",{className:"font-semibold",children:["Row ",A.row,":"]})," ",A.message,A.field&&e.jsxs("span",{className:"text-yellow-700",children:[" (Field: ",A.field,")"]})]})},M))})]})]}),c.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Product Preview"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Review the products before importing. ",l.valid_rows," products will be imported."]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.slice(0,10).map((A,M)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.sku}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.jsx("div",{className:"max-w-xs truncate",children:A.product_name})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",A.price_per_unit.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:A.stock_quantity}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${A.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.status})})]},M))})]})}),c.length>10&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Showing first 10 of ",c.length," products"]})})]}),c.length>0&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:T,className:"inline-flex items-center px-6 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors font-medium",children:[e.jsx(Ya,{className:"w-5 h-5 mr-2"}),"Upload Different File"]}),e.jsx("button",{onClick:F,disabled:!l.is_valid||m.importing,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:m.importing?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Importing..."]}):e.jsxs(e.Fragment,{children:["Import ",l.valid_rows," Products",e.jsx(cr,{className:"w-5 h-5 ml-2"})]})})]})]}),r==="results"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-10 h-10 text-green-600"})})}),e.jsx("h2",{className:"text-3xl font-bold text-green-900 mb-2",children:"Import Complete!"}),e.jsxs("p",{className:"text-green-700 text-lg",children:["Successfully imported ",x.success_count," products to your catalog"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Successfully Imported"}),e.jsx("p",{className:"text-4xl font-bold text-green-600 mt-2",children:x.success_count})]}),e.jsx(fe,{className:"w-16 h-16 text-green-600"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed to Import"}),e.jsx("p",{className:"text-4xl font-bold text-red-600 mt-2",children:x.error_count})]}),e.jsx(rt,{className:"w-16 h-16 text-red-600"})]})})]}),x.error_count>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Import Errors"}),e.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:x.error_details.map((A,M)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-red-900",children:[e.jsxs("span",{className:"font-semibold",children:["Row ",A.row," (SKU: ",A.sku,"):"]})," ",A.error]})},M))})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:T,className:"inline-flex items-center px-6 py-3 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors font-medium",children:"Upload Another File"}),e.jsxs(G,{to:"/supplier/products",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:["View Product Catalog",e.jsx(cr,{className:"w-5 h-5 ml-2"})]})]})]}),e.jsx("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(he,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Need Help?"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Make sure your CSV file uses the exact column headers from the template"}),e.jsx("li",{children:" SKU must be unique across your product catalog"}),e.jsx("li",{children:" Category IDs must match existing categories in the system"}),e.jsx("li",{children:" Prices must be positive numbers, stock must be non-negative integers"}),e.jsx("li",{children:" Maximum file size is 5MB"})]}),e.jsx("div",{className:"mt-4",children:e.jsx(G,{to:"/help",className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"View detailed documentation "})})]})]})})]})})})},_D=async(t,s)=>{const r=new URLSearchParams;return s.search_query&&r.append("search_query",s.search_query),s.category_filter&&r.append("category_filter",s.category_filter),s.low_stock_only?r.append("status_filter","low_stock"):s.out_of_stock_only&&r.append("status_filter","out_of_stock"),r.append("sort_by","stock_quantity"),r.append("sort_order","asc"),r.append("limit","1000"),(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products?${r.toString()}`,{headers:{Authorization:`Bearer ${t}`}})).data},kD=async(t,s,r)=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/products/${s}`,{stock_quantity:r,last_updated_timestamp:new Date().toISOString()},{headers:{Authorization:`Bearer ${t}`}})).data,SD=async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories?is_active=true")).data,CD=()=>{const t=ae(b=>b.authentication_state.auth_token),s=ae(b=>b.authentication_state.supplier_profile),[r,a]=Ie(),n=Fe(),[i,l]=k.useState({low_stock_only:r.get("low_stock_only")==="true",out_of_stock_only:r.get("out_of_stock_only")==="true",search_query:r.get("search_query")||"",category_filter:r.get("category_filter")||null}),[o,c]=k.useState({selected_product_ids:[],bulk_action:null,bulk_value:null,processing:!1}),[d,m]=k.useState(null),[u,x]=k.useState(0);k.useEffect(()=>{const b=new URLSearchParams;i.low_stock_only&&b.set("low_stock_only","true"),i.out_of_stock_only&&b.set("out_of_stock_only","true"),i.search_query&&b.set("search_query",i.search_query),i.category_filter&&b.set("category_filter",i.category_filter),a(b,{replace:!0})},[i,a]);const{data:h,isLoading:f,error:p,refetch:N}=ie({queryKey:["supplier-inventory",i],queryFn:()=>_D(t,i),enabled:!!t&&!!s,staleTime:3e4,refetchOnWindowFocus:!0}),{data:y}=ie({queryKey:["categories"],queryFn:SD,staleTime:3e5}),j=k.useMemo(()=>{if(!(h!=null&&h.products))return[];let b=h.products;return i.low_stock_only&&(b=b.filter(L=>L.stock_quantity<=L.low_stock_threshold&&L.stock_quantity>0)),i.out_of_stock_only&&(b=b.filter(L=>L.stock_quantity===0)),b},[h,i]),g=k.useMemo(()=>{if(!(h!=null&&h.products))return{total_products:0,total_stock_value:0,low_stock_count:0,out_of_stock_count:0};const b=h.products;return{total_products:b.length,total_stock_value:b.reduce((L,v)=>L+(v.stock_quantity||0)*(v.cost_price||v.price_per_unit||0),0),low_stock_count:b.filter(L=>L.stock_quantity<=L.low_stock_threshold&&L.stock_quantity>0).length,out_of_stock_count:b.filter(L=>L.stock_quantity===0).length}},[h]),S=ue({mutationFn:({product_id:b,stock_quantity:L})=>kD(t,b,L),onSuccess:()=>{n.invalidateQueries({queryKey:["supplier-inventory"]}),m(null)}}),w=b=>{l(L=>({...L,...b}))},C=b=>{w({search_query:b})},_=b=>{w({category_filter:b})},$=()=>{l({low_stock_only:!1,out_of_stock_only:!1,search_query:"",category_filter:null})},F=b=>{m(b.product_id),x(b.stock_quantity)},T=()=>{m(null),x(0)},R=async b=>{if(u<0){alert("Stock quantity cannot be negative");return}try{await S.mutateAsync({product_id:b,stock_quantity:u})}catch(L){console.error("Failed to update stock:",L),alert("Failed to update stock. Please try again.")}},A=(b,L)=>{b.key==="Enter"?R(L):b.key==="Escape"&&T()},M=b=>{c(L=>({...L,selected_product_ids:L.selected_product_ids.includes(b)?L.selected_product_ids.filter(v=>v!==b):[...L.selected_product_ids,b]}))},P=()=>{o.selected_product_ids.length===j.length?c(b=>({...b,selected_product_ids:[]})):c(b=>({...b,selected_product_ids:j.map(L=>L.product_id)}))},E=b=>b.stock_quantity===0?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Out of Stock"}):b.stock_quantity<=b.low_stock_threshold?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Low Stock"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"In Stock"}),z=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b),O=b=>{const L=new Date(b),D=new Date().getTime()-L.getTime(),U=Math.floor(D/6e4),q=Math.floor(D/36e5),B=Math.floor(D/864e5);return U<1?"Just now":U<60?`${U} min ago`:q<24?`${q} hour${q>1?"s":""} ago`:B<7?`${B} day${B>1?"s":""} ago`:L.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return!t||!s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"Please log in to access inventory management."}),e.jsx(G,{to:"/login",className:"mt-4 inline-block text-blue-600 hover:text-blue-700",children:"Go to Login"})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Inventory Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Track and manage your product stock levels"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[o.selected_product_ids.length>0&&e.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 border border-blue-200 rounded-lg px-4 py-2",children:[e.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[o.selected_product_ids.length," selected"]}),e.jsx("button",{onClick:()=>c(b=>({...b,selected_product_ids:[]})),className:"text-blue-600 hover:text-blue-700",children:e.jsx(be,{className:"w-4 h-4"})})]}),e.jsxs("button",{onClick:()=>N(),disabled:f,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors disabled:opacity-50",children:[e.jsx(Ht,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:g.total_products})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Se,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Stock Value"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:z(g.total_stock_value)})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Be,{className:"w-6 h-6 text-green-600"})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Low Stock Items"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-yellow-600",children:g.low_stock_count})]}),e.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:e.jsx(as,{className:"w-6 h-6 text-yellow-600"})})]}),g.low_stock_count>0&&e.jsx("button",{onClick:()=>w({low_stock_only:!0,out_of_stock_only:!1}),className:"mt-3 text-xs text-yellow-700 hover:text-yellow-800 font-medium",children:"View low stock items "})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Out of Stock"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-red-600",children:g.out_of_stock_count})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(Ad,{className:"w-6 h-6 text-red-600"})})]}),g.out_of_stock_count>0&&e.jsx("button",{onClick:()=>w({out_of_stock_only:!0,low_stock_only:!1}),className:"mt-3 text-xs text-red-700 hover:text-red-800 font-medium",children:"View out of stock "})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or SKU...",value:i.search_query,onChange:b=>C(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx($r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"}),e.jsxs("select",{value:i.category_filter||"",onChange:b=>_(b.target.value||null),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm appearance-none bg-white",children:[e.jsx("option",{value:"",children:"All Categories"}),y==null?void 0:y.map(b=>e.jsx("option",{value:b.category_id,children:b.category_name},b.category_id))]}),e.jsx(ds,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.low_stock_only,onChange:b=>w({low_stock_only:b.target.checked,out_of_stock_only:!1}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Low Stock"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.out_of_stock_only,onChange:b=>w({out_of_stock_only:b.target.checked,low_stock_only:!1}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Out of Stock"})]})]})]}),(i.search_query||i.category_filter||i.low_stock_only||i.out_of_stock_only)&&e.jsx("button",{onClick:$,className:"text-sm text-gray-600 hover:text-gray-900 font-medium whitespace-nowrap",children:"Clear Filters"})]})}),p&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(as,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load inventory"}),e.jsx("p",{className:"mt-1 text-sm text-red-700",children:p instanceof Error?p.message:"An error occurred"}),e.jsx("button",{onClick:()=>N(),className:"mt-2 text-sm font-medium text-red-800 hover:text-red-900",children:"Try again "})]})]})}),f&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(Ht,{className:"w-8 h-8 text-blue-600 animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}),!f&&j.length>0&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:o.selected_product_ids.length===j.length&&j.length>0,onChange:P,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Threshold"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Updated"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock Value"}),e.jsx("th",{scope:"col",className:"relative px-6 py-3",children:e.jsx("span",{className:"sr-only",children:"Actions"})})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:o.selected_product_ids.includes(b.product_id),onChange:()=>M(b.product_id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[b.primary_image_url?e.jsx("img",{src:b.primary_image_url,alt:b.product_name,className:"w-10 h-10 rounded-lg object-cover mr-3"}):e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 flex items-center justify-center mr-3",children:e.jsx(Se,{className:"w-5 h-5 text-gray-400"})}),e.jsxs("div",{className:"max-w-xs",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:b.product_name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[z(b.price_per_unit),"/",b.unit_of_measure]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("p",{className:"text-sm text-gray-900 font-mono",children:b.sku})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d===b.product_id?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",min:"0",value:u,onChange:L=>x(Number(L.target.value)),onKeyPress:L=>A(L,b.product_id),onBlur:()=>R(b.product_id),autoFocus:!0,className:"w-24 px-2 py-1 border border-blue-500 rounded focus:ring-2 focus:ring-blue-500 text-sm"}),e.jsx("button",{onClick:()=>R(b.product_id),disabled:S.isPending,className:"p-1 text-green-600 hover:text-green-700 disabled:opacity-50",children:e.jsx(Ce,{className:"w-4 h-4"})}),e.jsx("button",{onClick:T,className:"p-1 text-red-600 hover:text-red-700",children:e.jsx(be,{className:"w-4 h-4"})})]}):e.jsxs("button",{onClick:()=>F(b),className:"group flex items-center space-x-2 hover:bg-gray-100 rounded px-2 py-1 transition-colors",children:[e.jsx("span",{className:`text-sm font-semibold ${b.stock_quantity===0?"text-red-600":b.stock_quantity<=b.low_stock_threshold?"text-yellow-600":"text-gray-900"}`,children:b.stock_quantity}),e.jsx(xa,{className:"w-3 h-3 text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("p",{className:"text-sm text-gray-600",children:b.low_stock_threshold})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(b)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(nt,{className:"w-4 h-4 mr-1.5 text-gray-400"}),O(b.last_updated_timestamp)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:z((b.stock_quantity||0)*(b.cost_price||b.price_per_unit||0))})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(G,{to:`/supplier/products/${b.product_id}/edit`,className:"text-blue-600 hover:text-blue-700 transition-colors",children:"Edit"})})]},b.product_id))})]})})}),!f&&j.length===0&&!p&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"p-4 bg-gray-100 rounded-full mb-4",children:e.jsx(Zk,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.search_query||i.category_filter||i.low_stock_only||i.out_of_stock_only?"No products match your filters":"No products in inventory yet"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:i.search_query||i.category_filter||i.low_stock_only||i.out_of_stock_only?"Try adjusting your filters to see more results.":"Start by adding products to your catalog."}),i.search_query||i.category_filter||i.low_stock_only||i.out_of_stock_only?e.jsx("button",{onClick:$,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Clear all filters"}):e.jsx(G,{to:"/supplier/products/add",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Add Your First Product"})]})}),!f&&j.length>0&&e.jsxs("div",{className:"mt-6 flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("span",{children:["Showing ",j.length," of ",g.total_products," products"]}),o.selected_product_ids.length>0&&e.jsxs("span",{className:"text-blue-600 font-medium",children:[o.selected_product_ids.length," selected"]})]}),e.jsx(G,{to:"/supplier/products",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Manage All Products "})]})]})]})})},PD=async(t,s,r)=>{if(!r)throw new Error("Authentication required");const a=new URLSearchParams;return t.status_filter&&a.append("status_filter",t.status_filter),t.date_range&&a.append("date_range",t.date_range),t.customer_search&&a.append("query",t.customer_search),a.append("limit",s.limit.toString()),a.append("offset",((s.current_page-1)*s.limit).toString()),a.append("sort_by","order_date"),a.append("sort_order","desc"),(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders?${a.toString()}`,{headers:{Authorization:`Bearer ${r}`}})).data},AD=async t=>{if(!t)throw new Error("Authentication required");const r=(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/orders",{headers:{Authorization:`Bearer ${t}`}})).data.orders||[],a=new Date().toISOString().split("T")[0];return{pending_acceptance:r.filter(i=>i.status==="pending").length,in_progress:r.filter(i=>["processing","shipped","in_transit"].includes(i.status)).length,completed_today:r.filter(i=>i.status==="delivered"&&i.order_date.split("T")[0]===a).length,total_revenue_today:r.filter(i=>i.order_date.split("T")[0]===a&&i.payment_status==="paid").reduce((i,l)=>i+l.total_amount,0)}},OD=async(t,s)=>{if(!s)throw new Error("Authentication required");return(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}`,{status:"processing"},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data},$D=async(t,s,r)=>{if(!r)throw new Error("Authentication required");return(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}`,{status:"cancelled"},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data},TD=async(t,s,r)=>{if(!r)throw new Error("Authentication required");return(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}`,{status:s},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data},ED=()=>{const t=ae(I=>I.authentication_state.auth_token),[s,r]=Ie(),[a,n]=k.useState({status_filter:s.get("status_filter")||null,date_range:s.get("date_range")||null,customer_search:s.get("customer_search")||null}),[i,l]=k.useState({current_page:parseInt(s.get("page")||"1",10),total_pages:1,total_count:0,limit:50}),[o,c]=k.useState({selected_order_ids:[],bulk_operation:null,processing:!1}),[d,m]=k.useState(null),[u,x]=k.useState(!1),[h,f]=k.useState(null),[p,N]=k.useState(""),y=Fe(),{data:j,isLoading:g,error:S,refetch:w}=ie({queryKey:["supplier-orders",a,i.current_page],queryFn:()=>PD(a,i,t),enabled:!!t,staleTime:6e4,select:I=>({orders:I.orders.map(Q=>({...Q,total_amount:Number(Q.total_amount||0),items_count:Number(Q.items_count||0)})),total:I.total,page:I.page||i.current_page,limit:I.limit||i.limit})}),{data:C,isLoading:_}=ie({queryKey:["order-summary"],queryFn:()=>AD(t),enabled:!!t,staleTime:3e4,select:I=>({...I,total_revenue_today:Number(I.total_revenue_today||0)})}),$=ue({mutationFn:I=>OD(I,t),onSuccess:()=>{y.invalidateQueries({queryKey:["supplier-orders"]}),y.invalidateQueries({queryKey:["order-summary"]})}}),F=ue({mutationFn:({orderId:I,reason:Q})=>$D(I,Q,t),onSuccess:()=>{y.invalidateQueries({queryKey:["supplier-orders"]}),y.invalidateQueries({queryKey:["order-summary"]}),x(!1),f(null),N("")}}),T=ue({mutationFn:({orderId:I,status:Q})=>TD(I,Q,t),onSuccess:()=>{y.invalidateQueries({queryKey:["supplier-orders"]}),y.invalidateQueries({queryKey:["order-summary"]})}});k.useEffect(()=>{j&&l(I=>({...I,total_pages:Math.ceil(j.total/I.limit),total_count:j.total}))},[j]),k.useEffect(()=>{const I=new URLSearchParams;a.status_filter&&I.set("status_filter",a.status_filter),a.date_range&&I.set("date_range",a.date_range),a.customer_search&&I.set("customer_search",a.customer_search),i.current_page>1&&I.set("page",i.current_page.toString()),r(I)},[a,i.current_page,r]);const R=(I,Q)=>{n(Z=>({...Z,[I]:Q})),l(Z=>({...Z,current_page:1}))},A=I=>{l(Q=>({...Q,current_page:I})),window.scrollTo({top:0,behavior:"smooth"})},M=I=>{c(Q=>{const Z=Q.selected_order_ids.includes(I);return{...Q,selected_order_ids:Z?Q.selected_order_ids.filter(Y=>Y!==I):[...Q.selected_order_ids,I]}})},P=()=>{if(!(j!=null&&j.orders))return;const I=j.orders.map(Z=>Z.order_id),Q=o.selected_order_ids.length===I.length;c(Z=>({...Z,selected_order_ids:Q?[]:I}))},E=async I=>{try{await $.mutateAsync(I)}catch(Q){console.error("Failed to accept order:",Q)}},z=I=>{f(I),x(!0)},O=async()=>{if(!(!h||!p))try{await F.mutateAsync({orderId:h,reason:p})}catch(I){console.error("Failed to reject order:",I)}},b=async(I,Q)=>{try{await T.mutateAsync({orderId:I,status:Q})}catch(Z){console.error("Failed to update order status:",Z)}},L=I=>{m(Q=>Q===I?null:I)},v=I=>({pending:"bg-amber-100 text-amber-800 border-amber-200",processing:"bg-blue-100 text-blue-800 border-blue-200",shipped:"bg-indigo-100 text-indigo-800 border-indigo-200",in_transit:"bg-purple-100 text-purple-800 border-purple-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",refunded:"bg-gray-100 text-gray-800 border-gray-200"})[I]||"bg-gray-100 text-gray-800 border-gray-200",D=I=>({pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"})[I]||"bg-gray-100 text-gray-800",U=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),q=I=>new Date(I).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),B=(j==null?void 0:j.orders)||[],W=C||{pending_acceptance:0,in_progress:0,completed_today:0,total_revenue_today:0};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 leading-tight",children:"Order Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Process and track your customer orders"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>w(),className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors font-medium",children:"Refresh"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-lg hover:shadow-xl",children:[e.jsx(gs,{className:"inline-block w-4 h-4 mr-2"}),"Export"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Acceptance"}),e.jsx("p",{className:"text-3xl font-bold text-amber-600 mt-2",children:_?"...":W.pending_acceptance})]}),e.jsx("div",{className:"bg-amber-100 p-3 rounded-lg",children:e.jsx(nt,{className:"w-6 h-6 text-amber-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:_?"...":W.in_progress})]}),e.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:e.jsx(Se,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Today"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:_?"...":W.completed_today})]}),e.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:e.jsx(fe,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenue Today"}),e.jsx("p",{className:"text-3xl font-bold text-indigo-600 mt-2",children:_?"...":U(W.total_revenue_today)})]}),e.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg",children:e.jsx(Be,{className:"w-6 h-6 text-indigo-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Status"}),e.jsxs("select",{id:"status-filter",value:a.status_filter||"",onChange:I=>R("status_filter",I.target.value||null),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Orders"}),e.jsx("option",{value:"pending",children:"Pending Acceptance"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"in_transit",children:"In Transit"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"date-range",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{id:"date-range",value:a.date_range||"",onChange:I=>R("date_range",I.target.value||null),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_3_months",children:"Last 3 Months"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"customer-search",className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Customer"}),e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{id:"customer-search",type:"text",value:a.customer_search||"",onChange:I=>R("customer_search",I.target.value||null),placeholder:"Search by name or order #...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]})]}),(a.status_filter||a.date_range||a.customer_search)&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Active filters:"}),a.status_filter&&e.jsxs("button",{onClick:()=>R("status_filter",null),className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium hover:bg-blue-200 transition-colors",children:["Status: ",a.status_filter,e.jsx(rt,{className:"w-3 h-3 ml-2"})]}),a.date_range&&e.jsxs("button",{onClick:()=>R("date_range",null),className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium hover:bg-blue-200 transition-colors",children:["Date: ",a.date_range.replace("_"," "),e.jsx(rt,{className:"w-3 h-3 ml-2"})]}),a.customer_search&&e.jsxs("button",{onClick:()=>R("customer_search",null),className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium hover:bg-blue-200 transition-colors",children:['Search: "',a.customer_search,'"',e.jsx(rt,{className:"w-3 h-3 ml-2"})]}),e.jsx("button",{onClick:()=>n({status_filter:null,date_range:null,customer_search:null}),className:"text-sm text-gray-600 hover:text-gray-800 font-medium underline",children:"Clear all"})]})]}),o.selected_order_ids.length>0&&e.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-4 mb-6 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-blue-900 font-semibold",children:[o.selected_order_ids.length," order",o.selected_order_ids.length>1?"s":""," selected"]}),e.jsx("button",{onClick:()=>c({selected_order_ids:[],bulk_operation:null,processing:!1}),className:"text-blue-700 hover:text-blue-900 text-sm font-medium",children:"Clear selection"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Accept Selected"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Mark as Shipped"}),e.jsx("button",{className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"Print Labels"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Orders (",i.total_count,")"]}),e.jsx("div",{className:"flex items-center space-x-2",children:B.length>0&&e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.selected_order_ids.length===B.length,onChange:P,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700 font-medium",children:"Select All"})]})})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:g?e.jsx("div",{className:"space-y-4 p-6",children:[1,2,3,4,5].map(I=>e.jsxs("div",{className:"animate-pulse flex items-center space-x-4",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-24"})]},I))}):S?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(rt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Orders"}),e.jsx("p",{className:"text-gray-600 mb-4",children:S instanceof Error?S.message:"An error occurred"}),e.jsx("button",{onClick:()=>w(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Try Again"})]}):B.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Se,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Orders Found"}),e.jsx("p",{className:"text-gray-600",children:a.status_filter||a.date_range||a.customer_search?"Try adjusting your filters to see more results.":"You don't have any orders yet."})]}):B.map(I=>e.jsx("div",{className:"hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"checkbox",checked:o.selected_order_ids.includes(I.order_id),onChange:()=>M(I.order_id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>L(I.order_id),className:"font-semibold text-gray-900 hover:text-blue-600 transition-colors flex items-center space-x-2",children:[e.jsx("span",{children:I.order_number}),d===I.order_id?e.jsx(Br,{className:"w-4 h-4"}):e.jsx(ds,{className:"w-4 h-4"})]}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ${v(I.status)}`,children:I.status.replace("_"," ")}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${D(I.payment_status)}`,children:I.payment_status})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("span",{className:"text-lg font-bold text-gray-900",children:U(I.total_amount)})})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Se,{className:"w-4 h-4 mr-1"}),I.items_count," item",I.items_count>1?"s":""]}),e.jsx("span",{children:""}),e.jsx("span",{children:q(I.order_date)}),I.customer_name&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("span",{className:"font-medium text-gray-700",children:I.customer_name})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[I.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>E(I.order_id),disabled:$.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:$.isPending?"Accepting...":"Accept"}),e.jsx("button",{onClick:()=>z(I.order_id),disabled:F.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:"Reject"})]}),I.status==="processing"&&e.jsxs("button",{onClick:()=>b(I.order_id,"shipped"),disabled:T.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Zt,{className:"inline-block w-4 h-4 mr-2"}),"Mark as Shipped"]}),e.jsxs(G,{to:`/supplier/orders/${I.order_id}`,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:[e.jsx(Lt,{className:"inline-block w-4 h-4 mr-2"}),"View Details"]}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(u9,{className:"w-5 h-5"})})]})]}),d===I.order_id&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 bg-gray-50 -mx-6 px-6 py-4 rounded-b-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Customer ID:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:I.customer_id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Payment Status:"}),e.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${D(I.payment_status)}`,children:I.payment_status})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Items:"}),e.jsxs("span",{className:"ml-2 text-gray-900",children:[I.items_count," items"]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",children:[e.jsx(hs,{className:"w-4 h-4 mr-1"}),"Contact Customer"]}),e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center",children:[e.jsx(gs,{className:"w-4 h-4 mr-1"}),"Download Invoice"]})]})]})]})},I.order_id))}),!g&&!S&&B.length>0&&e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(i.current_page-1)*i.limit+1," to"," ",Math.min(i.current_page*i.limit,i.total_count)," of"," ",i.total_count," orders"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>A(i.current_page-1),disabled:i.current_page===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(5,i.total_pages))].map((I,Q)=>{const Z=i.current_page<=3?Q+1:i.current_page+Q-2;return Z>i.total_pages?null:e.jsx("button",{onClick:()=>A(Z),className:`px-3 py-2 rounded-lg font-medium transition-colors ${Z===i.current_page?"bg-blue-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:Z},Z)})}),e.jsx("button",{onClick:()=>A(i.current_page+1),disabled:i.current_page===i.total_pages,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Next"})]})]})})]})]})]}),u&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:()=>x(!1)}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full p-6 z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Order"}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(rt,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please provide a reason for rejecting this order. The customer will be notified."}),e.jsx("textarea",{value:p,onChange:I=>N(I.target.value),placeholder:"e.g., Out of stock, Cannot fulfill delivery window...",rows:4,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-red-500 focus:ring-4 focus:ring-red-100 transition-all resize-none"}),e.jsxs("div",{className:"mt-6 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{x(!1),N("")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:O,disabled:!p||F.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?"Rejecting...":"Reject Order"})]})]})]})})]})};function MD(){var W;const{order_id:t}=an(),s=Xe(),r=Fe(),a=ae(I=>I.authentication_state.auth_token),n=ae(I=>I.authentication_state.current_user),i=(n==null?void 0:n.user_type)==="supplier"?ae(I=>{var Q;return(Q=I.authentication_state.current_user)==null?void 0:Q.user_id}):null,[l,o]=k.useState(""),[c,d]=k.useState(""),[m,u]=k.useState(""),[x,h]=k.useState(""),[f,p]=k.useState(!1),[N,y]=k.useState(!1),j=async I=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${I}`,{headers:{Authorization:`Bearer ${a}`}})).data,{data:g,isLoading:S,isError:w,error:C,refetch:_}=ie({queryKey:["supplier_order",t],queryFn:()=>j(t),enabled:!!t&&!!a,staleTime:6e4,refetchOnWindowFocus:!1,select:I=>{const Q=I.items.filter(Y=>Y.supplier_id===i),Z=Q.reduce((Y,K)=>Y+K.line_total,0);return{...I,items:Q,supplier_subtotal:Z}}}),$=ue({mutationFn:async I=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${t}`,{status:I},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{r.invalidateQueries({queryKey:["supplier_order",t]})}}),F=ue({mutationFn:async I=>{var Z;return(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/deliveries/${(Z=g==null?void 0:g.delivery)==null?void 0:Z.delivery_id}`,I,{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data},onSuccess:()=>{r.invalidateQueries({queryKey:["supplier_order",t]}),p(!1),o(""),d("")}}),T=ue({mutationFn:async I=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/chat/conversations",{conversation_type:"customer_supplier",customer_id:I,related_entity_type:"order",related_entity_id:t},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data,onSuccess:()=>{s("/supplier/messages")}}),R=g==null?void 0:g.order,A=(g==null?void 0:g.items)||[],M=g==null?void 0:g.delivery,P=(g==null?void 0:g.timeline)||[],E=(g==null?void 0:g.supplier_subtotal)||0,z=R?{customer_id:R.customer_id,first_name:"Customer",last_name:"Name",phone_number:"+1 (555) 000-0000",email:"customer@example.com",account_type:"trade"}:null,O=R?{can_accept:R.status==="pending",can_reject:R.status==="pending",can_ship:R.status==="processing",can_update_tracking:["shipped","in_transit"].includes(R.status),can_contact_customer:!0}:{can_accept:!1,can_reject:!1,can_ship:!1,can_update_tracking:!1,can_contact_customer:!1},b=()=>{window.confirm("Accept this order and start processing?")&&$.mutate("processing")},L=()=>{window.confirm("Are you sure you want to reject this order? This cannot be undone.")&&$.mutate("cancelled")},v=()=>{if(!l||!c){alert("Please enter tracking number and carrier before marking as shipped");return}F.mutate({tracking_number:l,carrier:c,delivery_status:"out_for_delivery"}),$.mutate("shipped")},D=()=>{z&&T.mutate(z.customer_id)},U=I=>({pending:"bg-orange-100 text-orange-800 border-orange-200",processing:"bg-blue-100 text-blue-800 border-blue-200",shipped:"bg-indigo-100 text-indigo-800 border-indigo-200",in_transit:"bg-purple-100 text-purple-800 border-purple-200",delivered:"bg-green-100 text-green-800 border-green-200",cancelled:"bg-red-100 text-red-800 border-red-200",refunded:"bg-gray-100 text-gray-800 border-gray-200"})[I]||"bg-gray-100 text-gray-800 border-gray-200",q=I=>new Date(I).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I);return S?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"}),e.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})})})}):w?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[e.jsx(he,{className:"w-16 h-16 text-red-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-2",children:"Error Loading Order"}),e.jsx("p",{className:"text-red-700 mb-6",children:H.isAxiosError(C)&&((W=C.response)==null?void 0:W.status)===404?"Order not found. It may have been deleted or you do not have access to it.":"Failed to load order details. Please try again."}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{onClick:()=>_(),className:"px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors",children:"Retry"}),e.jsx(G,{to:"/supplier/orders",className:"px-6 py-3 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors",children:"Back to Orders"})]})]})})})}):R?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(G,{to:"/supplier/orders",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[e.jsx(Ya,{className:"w-4 h-4 mr-2"}),"Back to Orders"]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Order ",R.order_number]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-1"}),q(R.order_date)]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${U(R.status)}`,children:R.status.replace("_"," ").toUpperCase()})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 md:mt-0",children:[O.can_accept&&!N&&e.jsxs("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg hover:shadow-xl flex items-center",children:[e.jsx(fe,{className:"w-5 h-5 mr-2"}),"Accept Order"]}),O.can_reject&&e.jsxs("button",{onClick:L,disabled:$.isPending,className:"px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(rt,{className:"w-5 h-5 mr-2"}),"Reject Order"]}),O.can_ship&&e.jsxs("button",{onClick:()=>p(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl flex items-center",children:[e.jsx(Zt,{className:"w-5 h-5 mr-2"}),"Mark as Shipped"]}),O.can_contact_customer&&e.jsxs("button",{onClick:D,disabled:T.isPending,className:"px-6 py-3 bg-gray-600 text-white rounded-lg font-medium hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[e.jsx(hs,{className:"w-5 h-5 mr-2"}),"Contact Customer"]})]})]})]}),N&&e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-4",children:"Accept Order"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Fulfillment Date"}),e.jsx("input",{type:"date",value:m,onChange:I=>u(I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:x,onChange:I=>h(I.target.value),rows:3,placeholder:"Add any notes for the customer...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:b,disabled:$.isPending,className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:$.isPending?"Accepting...":"Confirm Accept"}),e.jsx("button",{onClick:()=>y(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),f&&e.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Add Shipping Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tracking Number *"}),e.jsx("input",{type:"text",value:l,onChange:I=>o(I.target.value),placeholder:"Enter tracking number",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Carrier *"}),e.jsx("input",{type:"text",value:c,onChange:I=>d(I.target.value),placeholder:"e.g., FedEx, UPS, USPS",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:v,disabled:F.isPending||!l||!c,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?"Updating...":"Mark as Shipped"}),e.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),($.isError||F.isError||T.isError)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:e.jsx("p",{className:"text-sm font-medium",children:"Action failed. Please try again."})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Se,{className:"w-6 h-6 mr-2 text-blue-600"}),"Order Items (",A.length,")"]})}),e.jsx("div",{className:"p-6",children:A.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Se,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{children:"No items from your inventory in this order"})]}):e.jsxs("div",{className:"space-y-4",children:[A.map(I=>e.jsxs("div",{className:"flex items-start space-x-4 p-4 border border-gray-200 rounded-lg hover:border-blue-300 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Se,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:I.product_name}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["SKU: ",I.sku]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-700",children:[e.jsxs("span",{children:["Qty: ",I.quantity]}),e.jsx("span",{children:""}),e.jsx("span",{children:B(I.price_per_unit)})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("p",{className:"text-lg font-bold text-gray-900",children:B(I.line_total)})})]},I.order_item_id)),e.jsx("div",{className:"border-t-2 border-gray-200 pt-4 mt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Supplier Subtotal"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:B(E)})]})})]})})]}),M&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Zt,{className:"w-6 h-6 mr-2 text-blue-600"}),"Delivery Details"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Delivery Window"}),e.jsx("p",{className:"text-base text-gray-900",children:q(M.delivery_window_start)}),e.jsxs("p",{className:"text-sm text-gray-600",children:["to ",q(M.delivery_window_end)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Delivery Method"}),e.jsx("p",{className:"text-base text-gray-900 capitalize",children:M.delivery_method.replace("_"," ")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Delivery Fee"}),e.jsx("p",{className:"text-base text-gray-900",children:B(M.delivery_fee)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Delivery Status"}),e.jsx("p",{className:`text-base font-medium capitalize ${M.delivery_status==="delivered"?"text-green-600":M.delivery_status==="out_for_delivery"?"text-blue-600":"text-gray-900"}`,children:M.delivery_status.replace("_"," ")})]})]}),M.tracking_number?e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Tracking Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-base text-blue-900",children:[e.jsx("span",{className:"font-medium",children:"Tracking #:"})," ",M.tracking_number]}),M.carrier&&e.jsxs("p",{className:"text-base text-blue-900",children:[e.jsx("span",{className:"font-medium",children:"Carrier:"})," ",M.carrier]})]})]}):O.can_update_tracking&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-amber-800 mb-3",children:"No tracking information added yet"}),e.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-amber-600 text-white rounded-lg text-sm font-medium hover:bg-amber-700 transition-colors",children:"Add Tracking Info"})]})]})]}),P.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Order Timeline"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:P.map((I,Q)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 mr-4",children:I.status==="completed"?e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(fe,{className:"w-5 h-5 text-green-600"})}):e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(nt,{className:"w-5 h-5 text-gray-400"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-base font-medium text-gray-900 capitalize",children:I.milestone.replace("_"," ")}),I.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:q(I.timestamp)})]})]},Q))})})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[z&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Bs,{className:"w-6 h-6 mr-2 text-blue-600"}),"Customer Information"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Name"}),e.jsxs("p",{className:"text-base font-semibold text-gray-900",children:[z.first_name," ",z.last_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex items-center",children:[e.jsx(Ra,{className:"w-4 h-4 mr-1"}),"Phone"]}),e.jsx("p",{className:"text-base text-gray-900",children:z.phone_number})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-600 mb-1 flex items-center",children:[e.jsx(Kt,{className:"w-4 h-4 mr-1"}),"Email"]}),e.jsx("p",{className:"text-base text-gray-900 break-words",children:z.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Account Type"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${z.account_type==="trade"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:z.account_type.toUpperCase()})]}),e.jsxs("button",{onClick:D,disabled:T.isPending,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:[e.jsx(hs,{className:"w-5 h-5 mr-2"}),T.isPending?"Opening Chat...":"Contact Customer"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(Be,{className:"w-6 h-6 mr-2 text-blue-600"}),"Payment Details"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:B(R.subtotal_amount)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Fee"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:B(R.delivery_fee_total)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Tax"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:B(R.tax_amount)})]}),R.discount_amount>0&&e.jsxs("div",{className:"flex justify-between items-center py-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Discount"}),e.jsxs("span",{className:"text-base font-semibold text-green-600",children:["-",B(R.discount_amount)]})]}),e.jsx("div",{className:"border-t-2 border-gray-200 pt-4 mt-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total Amount"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:B(R.total_amount)})]})}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(tr,{className:"w-4 h-4 mr-2"}),"Payment Method"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:R.payment_method.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Status"}),e.jsx("span",{className:`text-sm font-medium capitalize ${R.payment_status==="paid"?"text-green-600":R.payment_status==="pending"?"text-amber-600":"text-red-600"}`,children:R.payment_status})]})]})]})]}),R.customer_notes&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-base font-semibold text-amber-900 mb-2 flex items-center",children:[e.jsx(he,{className:"w-5 h-5 mr-2"}),"Customer Notes"]}),e.jsx("p",{className:"text-sm text-amber-800 leading-relaxed",children:R.customer_notes})]})]})]})]})})}):null}const FD=async t=>{const{data:s}=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/delivery/settings",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return s},RD=async(t,s)=>{await H.put("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/delivery/zones",{delivery_zones:s},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})},LD=async t=>{const s=new Date().toISOString().split("T")[0],r=new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],{data:a}=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/deliveries",{params:{status:"scheduled,preparing,out_for_delivery",date_from:s,date_to:r},headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return a},DD=async(t,s,r)=>{await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/deliveries/${s}`,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})},ID=async(t,s,r)=>{await H.put(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/delivery/carriers/${s}`,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})},BD=()=>{var U;const t=Fe(),s=ae(q=>q.authentication_state.auth_token),r=ae(q=>{var B;return(B=q.authentication_state.supplier_profile)==null?void 0:B.supplier_id}),[a,n]=k.useState("zones"),[i,l]=k.useState(!1),[o,c]=k.useState(null),[d,m]=k.useState(!1),[u,x]=k.useState(null),[h,f]=k.useState({zone_name:"",postal_codes:"",radius_miles:25,delivery_fee:50,estimated_days:2,is_active:!0}),[p,N]=k.useState({api_key:"",api_secret:"",account_number:"",service_level:"standard"}),[y,j]=k.useState({}),{data:g,isLoading:S,error:w}=ie({queryKey:["delivery-configuration",r],queryFn:()=>FD(s),enabled:!!s&&!!r,staleTime:5*60*1e3,select:q=>({delivery_zones:q.delivery_zones||[],logistics_settings:q.delivery_methods||{standard_delivery:{enabled:!1,base_fee:0,estimated_days:0},express_delivery:{enabled:!1,base_fee:0,estimated_days:0},same_day_delivery:{enabled:!1,base_fee:0,cutoff_time:""},pickup_available:!1,freight_delivery:{enabled:!1,minimum_weight:0}},carrier_integrations:q.carrier_integrations||[]})}),{data:C,isLoading:_}=ie({queryKey:["active-deliveries",r],queryFn:()=>LD(s),enabled:!!s&&!!r&&a==="deliveries",refetchInterval:3e4,select:q=>({active_deliveries:q.deliveries||[],delivery_calendar:q.calendar_view||[]})}),$=ue({mutationFn:q=>RD(s,q),onSuccess:()=>{t.invalidateQueries({queryKey:["delivery-configuration"]}),l(!1),c(null),R()}}),F=ue({mutationFn:({deliveryId:q,updates:B})=>DD(s,q,B),onSuccess:()=>{t.invalidateQueries({queryKey:["active-deliveries"]})}}),T=ue({mutationFn:({carrier:q,config:B})=>ID(s,q,B),onSuccess:()=>{t.invalidateQueries({queryKey:["delivery-configuration"]}),m(!1),x(null),A()}}),R=()=>{f({zone_name:"",postal_codes:"",radius_miles:25,delivery_fee:50,estimated_days:2,is_active:!0}),j({})},A=()=>{N({api_key:"",api_secret:"",account_number:"",service_level:"standard"}),j({})},M=()=>{const q={};if(h.zone_name.trim()||(q.zone_name="Zone name is required"),h.postal_codes.trim()||(q.postal_codes="At least one postal code is required"),h.delivery_fee<0&&(q.delivery_fee="Delivery fee must be positive"),Object.keys(q).length>0){j(q);return}const B={zone_id:`zone_${Date.now()}`,zone_name:h.zone_name,postal_codes:h.postal_codes.split(",").map(I=>I.trim()),radius_miles:h.radius_miles,delivery_fee:h.delivery_fee,estimated_days:h.estimated_days,is_active:h.is_active},W=[...(g==null?void 0:g.delivery_zones)||[],B];$.mutate(W)},P=()=>{if(!o)return;const q={};if(h.zone_name.trim()||(q.zone_name="Zone name is required"),h.postal_codes.trim()||(q.postal_codes="At least one postal code is required"),Object.keys(q).length>0){j(q);return}const B=(g==null?void 0:g.delivery_zones.map(W=>W.zone_id===o.zone_id?{...W,zone_name:h.zone_name,postal_codes:h.postal_codes.split(",").map(I=>I.trim()),radius_miles:h.radius_miles,delivery_fee:h.delivery_fee,estimated_days:h.estimated_days,is_active:h.is_active}:W))||[];$.mutate(B)},E=q=>{if(!confirm("Are you sure you want to delete this delivery zone?"))return;const B=(g==null?void 0:g.delivery_zones.filter(W=>W.zone_id!==q))||[];$.mutate(B)},z=q=>{const B=(g==null?void 0:g.delivery_zones.map(W=>W.zone_id===q?{...W,is_active:!W.is_active}:W))||[];$.mutate(B)},O=q=>{c(q),f({zone_name:q.zone_name,postal_codes:q.postal_codes.join(", "),radius_miles:q.radius_miles,delivery_fee:q.delivery_fee,estimated_days:q.estimated_days,is_active:q.is_active}),l(!0)},b=(q,B)=>{F.mutate({deliveryId:q,updates:{delivery_status:B}})},L=()=>{if(!u)return;const q={};if(p.api_key.trim()||(q.api_key="API Key is required"),Object.keys(q).length>0){j(q);return}T.mutate({carrier:u,config:{api_credentials:{api_key:p.api_key,api_secret:p.api_secret,account_number:p.account_number},service_settings:{service_level:p.service_level}}})},v=q=>new Date(q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),D=q=>new Date(q).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return S?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading delivery management..."})]})})}):w?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(be,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Failed to Load Delivery Settings"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your delivery configuration. Please try again."}),e.jsx("button",{onClick:()=>t.invalidateQueries({queryKey:["delivery-configuration"]}),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Delivery Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure delivery zones, manage logistics, and track deliveries"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("div",{className:"bg-blue-50 px-4 py-2 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:[((U=g==null?void 0:g.delivery_zones)==null?void 0:U.filter(q=>q.is_active).length)||0," Active Zones"]})})})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>n("zones"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="zones"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fs,{className:"w-5 h-5"}),e.jsx("span",{children:"Delivery Zones"})]})}),e.jsx("button",{onClick:()=>n("deliveries"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="deliveries"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{className:"w-5 h-5"}),e.jsx("span",{children:"Active Deliveries"}),C&&C.active_deliveries.length>0&&e.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:C.active_deliveries.length})]})}),e.jsx("button",{onClick:()=>n("carriers"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="carriers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{className:"w-5 h-5"}),e.jsx("span",{children:"Carrier Integration"})]})}),e.jsx("button",{onClick:()=>n("performance"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${a==="performance"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ya,{className:"w-5 h-5"}),e.jsx("span",{children:"Performance"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a==="zones"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delivery Coverage Zones"}),e.jsxs("button",{onClick:()=>{c(null),R(),l(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-md hover:shadow-lg",children:[e.jsx($t,{className:"w-5 h-5"}),e.jsx("span",{children:"Add New Zone"})]})]}),(g==null?void 0:g.delivery_zones.length)===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-12 text-center",children:[e.jsx(y9,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Delivery Zones Configured"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set up your delivery coverage areas to start accepting orders"}),e.jsx("button",{onClick:()=>{R(),l(!0)},className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create First Zone"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:g==null?void 0:g.delivery_zones.map(q=>e.jsxs("div",{className:`bg-white rounded-xl shadow-md border p-6 transition-all ${q.is_active?"border-green-200":"border-gray-200 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:q.zone_name}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${q.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:q.is_active?"Active":"Inactive"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[q.postal_codes.length," postal code",q.postal_codes.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>O(q),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit zone",children:e.jsx(xa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>E(q.zone_id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete zone",children:e.jsx(Xt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Fee:"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",q.delivery_fee.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Radius:"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[q.radius_miles," miles"]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Est. Delivery:"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[q.estimated_days," day",q.estimated_days!==1?"s":""]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Postal Codes:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[q.postal_codes.slice(0,5).map((B,W)=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded",children:B},W)),q.postal_codes.length>5&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-500 text-xs rounded",children:["+",q.postal_codes.length-5," more"]})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("button",{onClick:()=>z(q.zone_id),className:`w-full px-4 py-2 rounded-lg font-medium text-sm transition-colors ${q.is_active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-600 text-white hover:bg-green-700"}`,children:q.is_active?"Deactivate Zone":"Activate Zone"})})]},q.zone_id))})]}),a==="deliveries"&&e.jsx("div",{className:"space-y-6",children:_?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):(C==null?void 0:C.active_deliveries.length)===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-12 text-center",children:[e.jsx(Ft,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Active Deliveries"}),e.jsx("p",{className:"text-gray-600",children:"You don't have any scheduled or in-progress deliveries"})]}):e.jsx("div",{className:"space-y-4",children:C==null?void 0:C.active_deliveries.map(q=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",q.order_number]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q.delivery_status==="delivered"?"bg-green-100 text-green-800":q.delivery_status==="out_for_delivery"?"bg-blue-100 text-blue-800":q.delivery_status==="preparing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:q.delivery_status.replace(/_/g," ").toUpperCase()})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",e.jsx("span",{className:"font-medium",children:q.customer_name})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[q.items_count," item",q.items_count!==1?"s":""]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Delivery Window"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:v(q.delivery_window_start)}),e.jsxs("p",{className:"text-sm text-gray-600",children:[D(q.delivery_window_start)," - ",D(q.delivery_window_end)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Delivery Address"}),e.jsx("p",{className:"text-sm text-gray-700",children:q.delivery_address})]})]}),q.delivery_status!=="delivered"&&e.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-100",children:[q.delivery_status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>b(q.delivery_id,"preparing"),className:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg font-medium hover:bg-yellow-700 transition-colors text-sm",children:"Mark as Preparing"}),e.jsx("button",{onClick:()=>b(q.delivery_id,"cancelled"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors text-sm",children:"Cancel"})]}),q.delivery_status==="preparing"&&e.jsx("button",{onClick:()=>b(q.delivery_id,"out_for_delivery"),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm",children:"Mark as Out for Delivery"}),q.delivery_status==="out_for_delivery"&&e.jsx("button",{onClick:()=>b(q.delivery_id,"delivered"),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors text-sm",children:"Mark as Delivered"})]})]},q.delivery_id))})}),a==="carriers"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g==null?void 0:g.carrier_integrations.map(q=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:q.carrier_name}),e.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${q.integration_status==="active"?"bg-green-100 text-green-800":q.integration_status==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:q.integration_status})]})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"API Status:"}),e.jsx("span",{className:`font-medium ${q.api_key_status==="valid"?"text-green-600":q.api_key_status==="invalid"?"text-red-600":"text-gray-600"}`,children:q.api_key_status})]}),q.last_sync&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Last Sync:"}),e.jsx("span",{className:"text-gray-900",children:v(q.last_sync)})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Supported Services:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:q.supported_services.map((B,W)=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-700 text-xs rounded",children:B},W))})]})]}),e.jsx("button",{onClick:()=>{x(q.carrier_name),A(),m(!0)},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors text-sm",children:q.integration_status==="active"?"Reconfigure":"Set Up Integration"})]},q.carrier_name)),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border-2 border-dashed border-blue-300 p-6 flex flex-col items-center justify-center text-center",children:[e.jsx(Ps,{className:"w-12 h-12 text-blue-600 mb-3"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Need Another Carrier?"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Contact support to add custom carriers"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm",children:"Contact Support"})]})]})}),a==="performance"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"On-Time Rate"}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Ce,{className:"w-6 h-6 text-green-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"98.5%"}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:" 2.3% from last month"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Delivery Time"}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Zt,{className:"w-6 h-6 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"2.1 days"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" 0.3 days faster"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(ya,{className:"w-6 h-6 text-yellow-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"4.8/5.0"}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Based on 156 reviews"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Issues"}),e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(be,{className:"w-6 h-6 text-red-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"3"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This month"})]})]})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o?"Edit Delivery Zone":"Add New Delivery Zone"}),e.jsx("button",{onClick:()=>{l(!1),c(null),R()},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(be,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"zone_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Zone Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"zone_name",value:h.zone_name,onChange:q=>{f(B=>({...B,zone_name:q.target.value})),j(B=>({...B,zone_name:""}))},placeholder:"e.g., Austin Metro Area",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${y.zone_name?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),y.zone_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.zone_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"postal_codes",className:"block text-sm font-medium text-gray-700 mb-2",children:["Postal Codes ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"postal_codes",value:h.postal_codes,onChange:q=>{f(B=>({...B,postal_codes:q.target.value})),j(B=>({...B,postal_codes:""}))},placeholder:"Enter postal codes separated by commas (e.g., 78701, 78702, 78703)",rows:3,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${y.postal_codes?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),y.postal_codes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.postal_codes}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Separate multiple postal codes with commas"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"radius_miles",className:"block text-sm font-medium text-gray-700 mb-2",children:"Radius (miles)"}),e.jsx("input",{type:"number",id:"radius_miles",value:h.radius_miles,onChange:q=>f(B=>({...B,radius_miles:Number(q.target.value)})),min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_fee",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Fee ($)"}),e.jsx("input",{type:"number",id:"delivery_fee",value:h.delivery_fee,onChange:q=>{f(B=>({...B,delivery_fee:Number(q.target.value)})),j(B=>({...B,delivery_fee:""}))},min:"0",step:"0.01",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${y.delivery_fee?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),y.delivery_fee&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.delivery_fee})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"estimated_days",className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Delivery Days"}),e.jsx("input",{type:"number",id:"estimated_days",value:h.estimated_days,onChange:q=>f(B=>({...B,estimated_days:Number(q.target.value)})),min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:h.is_active,onChange:q=>f(B=>({...B,is_active:q.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Activate zone immediately"})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{l(!1),c(null),R()},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:o?P:M,disabled:$.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:$.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):o?"Update Zone":"Add Zone"})]})]})}),d&&u&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Configure ",u]}),e.jsx("button",{onClick:()=>{m(!1),x(null),A()},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(be,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"api_key",className:"block text-sm font-medium text-gray-700 mb-2",children:["API Key ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"api_key",value:p.api_key,onChange:q=>{N(B=>({...B,api_key:q.target.value})),j(B=>({...B,api_key:""}))},placeholder:"Enter carrier API key",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${y.api_key?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),y.api_key&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.api_key})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"api_secret",className:"block text-sm font-medium text-gray-700 mb-2",children:"API Secret"}),e.jsx("input",{type:"password",id:"api_secret",value:p.api_secret,onChange:q=>N(B=>({...B,api_secret:q.target.value})),placeholder:"Enter carrier API secret",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),e.jsx("input",{type:"text",id:"account_number",value:p.account_number,onChange:q=>N(B=>({...B,account_number:q.target.value})),placeholder:"Enter carrier account number",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service_level",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Service Level"}),e.jsxs("select",{id:"service_level",value:p.service_level,onChange:q=>N(B=>({...B,service_level:q.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"standard",children:"Standard Delivery"}),e.jsx("option",{value:"express",children:"Express Delivery"}),e.jsx("option",{value:"same_day",children:"Same Day Delivery"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 border-t border-gray-200 rounded-b-xl",children:[e.jsx("button",{onClick:()=>{m(!1),x(null),A()},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:L,disabled:T.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:T.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Configuration"})]})]})})]})})},qD=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/products",{headers:{Authorization:`Bearer ${t}`},params:{limit:100,offset:0,sort_by:"product_name",sort_order:"asc"}})).data.products||[],zD=async(t,s)=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/promotions",{headers:{Authorization:`Bearer ${t}`},params:{supplier_id:s,is_active:"true"}})).data||[],UD=async(t,s,r)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/promotions",{supplier_id:s,promotion_name:r.promotion_name,promotion_type:r.promotion_type,discount_type:r.discount_type,discount_value:Number(r.discount_value),start_date:r.start_date,end_date:r.end_date,applicable_products:r.applicable_products.length>0?r.applicable_products:null,promo_code:r.promo_code||null,minimum_purchase_amount:r.minimum_purchase_amount?Number(r.minimum_purchase_amount):null,is_active:!0},{headers:{Authorization:`Bearer ${t}`}})).data,WD=async(t,s,r,a)=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/products/${s}`,{price_per_unit:Number(r),bulk_pricing:a},{headers:{Authorization:`Bearer ${t}`}})).data,VD=()=>{const t=ae(b=>b.authentication_state.auth_token),s=ae(b=>b.authentication_state.current_user),r=ae(b=>b.authentication_state.supplier_profile),a=Fe(),n=(r==null?void 0:r.supplier_id)||(s==null?void 0:s.user_id)||"",[i,l]=k.useState("pricing"),[o,c]=k.useState(!1),[d,m]=k.useState(null),[u,x]=k.useState(""),[h,f]=k.useState(""),[p,N]=k.useState(null),[y,j]=k.useState({promotion_name:"",promotion_type:"seasonal",discount_type:"percentage",discount_value:0,start_date:"",end_date:"",applicable_products:[],promo_code:"",minimum_purchase_amount:null}),{data:g=[],isLoading:S,error:w}=ie({queryKey:["supplier-products",n],queryFn:()=>qD(t||""),enabled:!!t&&!!n,staleTime:6e4,select:b=>b.map(L=>({...L,price_per_unit:Number(L.price_per_unit||0),cost_price:L.cost_price?Number(L.cost_price):null}))}),{data:C=[],isLoading:_,error:$}=ie({queryKey:["supplier-promotions",n],queryFn:()=>zD(t||"",n),enabled:!!t&&!!n,staleTime:3e4,select:b=>b.map(L=>({...L,discount_value:Number(L.discount_value||0),usage_count:Number(L.usage_count||0)}))}),F=ue({mutationFn:b=>UD(t||"",n,b),onSuccess:()=>{a.invalidateQueries({queryKey:["supplier-promotions"]}),c(!1),j({promotion_name:"",promotion_type:"seasonal",discount_type:"percentage",discount_value:0,start_date:"",end_date:"",applicable_products:[],promo_code:"",minimum_purchase_amount:null}),N({type:"success",text:"Promotion created successfully!"}),setTimeout(()=>N(null),3e3)},onError:b=>{var L,v;N({type:"error",text:((v=(L=b.response)==null?void 0:L.data)==null?void 0:v.message)||"Failed to create promotion"}),setTimeout(()=>N(null),5e3)}}),T=ue({mutationFn:({productId:b,price:L,bulkPricing:v})=>WD(t||"",b,L,v),onSuccess:()=>{a.invalidateQueries({queryKey:["supplier-products"]}),m(null),x(""),N({type:"success",text:"Price updated successfully!"}),setTimeout(()=>N(null),3e3)},onError:b=>{var L,v;N({type:"error",text:((v=(L=b.response)==null?void 0:L.data)==null?void 0:v.message)||"Failed to update price"}),setTimeout(()=>N(null),5e3)}}),R=k.useMemo(()=>g.map(b=>({...b,margin_percentage:b.cost_price&&b.price_per_unit>0?(b.price_per_unit-b.cost_price)/b.price_per_unit*100:null})),[g]),A=k.useMemo(()=>{if(!h)return R;const b=h.toLowerCase();return R.filter(L=>L.product_name.toLowerCase().includes(b)||L.sku.toLowerCase().includes(b))},[R,h]),M=b=>{m(b.product_id),x(b.price_per_unit.toString())},P=()=>{m(null),x("")},E=b=>{const L=parseFloat(u);if(isNaN(L)||L<=0){N({type:"error",text:"Please enter a valid price"}),setTimeout(()=>N(null),3e3);return}T.mutate({productId:b.product_id,price:L,bulkPricing:b.bulk_pricing})},z=b=>{if(b.preventDefault(),!y.promotion_name.trim()){N({type:"error",text:"Promotion name is required"}),setTimeout(()=>N(null),3e3);return}if(y.discount_value<=0){N({type:"error",text:"Discount value must be greater than zero"}),setTimeout(()=>N(null),3e3);return}if(!y.start_date||!y.end_date){N({type:"error",text:"Start and end dates are required"}),setTimeout(()=>N(null),3e3);return}if(new Date(y.end_date)<=new Date(y.start_date)){N({type:"error",text:"End date must be after start date"}),setTimeout(()=>N(null),3e3);return}F.mutate(y)},O=(b,L)=>{j(v=>({...v,[b]:L}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Be,{className:"w-8 h-8 text-blue-600"}),"Pricing & Promotions"]}),e.jsx("p",{className:"mt-2 text-base text-gray-600",children:"Manage your product pricing, bulk discounts, and promotional campaigns"})]}),i==="promotions"&&e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx($t,{className:"w-5 h-5"}),"Create Promotion"]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>l("pricing"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i==="pricing"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4"}),"Product Pricing"]})}),e.jsx("button",{onClick:()=>l("promotions"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i==="promotions"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(go,{className:"w-4 h-4"}),"Promotions (",C.length,")"]})}),e.jsx("button",{onClick:()=>l("analytics"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${i==="analytics"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"w-4 h-4"}),"Analytics"]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p&&e.jsx("div",{className:`fixed top-20 right-4 z-50 px-6 py-4 rounded-lg shadow-xl border ${p.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[p.type==="success"?e.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full"}):e.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full"}),e.jsx("p",{className:"font-medium",children:p.text})]})}),i==="pricing"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search products by name or SKU...",value:h,onChange:b=>f(b.target.value),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"}),e.jsx("button",{className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Search"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Product Pricing (",A.length,")"]})}),S?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]}):w?e.jsx("div",{className:"p-12 text-center",children:e.jsx("p",{className:"text-red-600",children:"Failed to load products. Please try again."})}):A.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Se,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No products found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Margin"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.product_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600",children:b.sku})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d===b.product_id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:u,onChange:L=>x(L.target.value),className:"w-24 px-2 py-1 border-2 border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-100",autoFocus:!0})]}):e.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",b.price_per_unit.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-600",children:b.cost_price?`$${b.cost_price.toFixed(2)}`:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.margin_percentage!==null?e.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${b.margin_percentage>=30?"bg-green-100 text-green-800":b.margin_percentage>=15?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[b.margin_percentage.toFixed(1),"%"]}):e.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${b.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:d===b.product_id?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>E(b),disabled:T.isPending,className:"inline-flex items-center gap-1 text-green-600 hover:text-green-900 transition-colors disabled:opacity-50",children:[e.jsx(ws,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{onClick:P,disabled:T.isPending,className:"inline-flex items-center gap-1 text-gray-600 hover:text-gray-900 transition-colors disabled:opacity-50",children:[e.jsx(be,{className:"w-4 h-4"}),"Cancel"]})]}):e.jsxs("button",{onClick:()=>M(b),className:"inline-flex items-center gap-1 text-blue-600 hover:text-blue-900 transition-colors",children:[e.jsx(xa,{className:"w-4 h-4"}),"Edit Price"]})})]},b.product_id))})]})})]})]}),i==="promotions"&&e.jsx("div",{className:"space-y-6",children:_?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading promotions..."})]}):$?e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:e.jsx("p",{className:"text-red-600",children:"Failed to load promotions. Please try again."})}):C.length===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx(go,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Active Promotions"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first promotional campaign to boost sales"}),e.jsxs("button",{onClick:()=>c(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx($t,{className:"w-5 h-5"}),"Create First Promotion"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map(b=>e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:b.promotion_name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:b.promotion_type.replace("_"," ")})]}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${b.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b9,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Discount"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b.discount_type==="percentage"?`${b.discount_value}% off`:`$${b.discount_value.toFixed(2)} off`})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[new Date(b.start_date).toLocaleDateString()," - ",new Date(b.end_date).toLocaleDateString()]})]})]}),b.promo_code&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(nS,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Promo Code"}),e.jsx("p",{className:"text-sm font-mono font-semibold text-gray-900 bg-gray-100 px-2 py-1 rounded inline-block",children:b.promo_code})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Usage Count"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.usage_count," times"]})]})})]})]})},b.promotion_id))})}),i==="analytics"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx(Ve,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Pricing Analytics Coming Soon"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Advanced pricing analytics including conversion rates, margin analysis, and pricing optimization recommendations will be available soon."})]})})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Promotion"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(be,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:z,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promotion Name *"}),e.jsx("input",{type:"text",required:!0,value:y.promotion_name,onChange:b=>O("promotion_name",b.target.value),placeholder:"e.g., Summer Sale 2024",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promotion Type *"}),e.jsxs("select",{required:!0,value:y.promotion_type,onChange:b=>O("promotion_type",b.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"seasonal",children:"Seasonal"}),e.jsx("option",{value:"volume_discount",children:"Volume Discount"}),e.jsx("option",{value:"new_customer",children:"New Customer"}),e.jsx("option",{value:"trade_exclusive",children:"Trade Exclusive"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type *"}),e.jsxs("select",{required:!0,value:y.discount_type,onChange:b=>O("discount_type",b.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all",children:[e.jsx("option",{value:"percentage",children:"Percentage"}),e.jsx("option",{value:"fixed",children:"Fixed Amount"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Value *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",required:!0,value:y.discount_value||"",onChange:b=>O("discount_value",parseFloat(b.target.value)||0),placeholder:y.discount_type==="percentage"?"10":"50.00",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date *"}),e.jsx("input",{type:"datetime-local",required:!0,value:y.start_date,onChange:b=>O("start_date",b.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date *"}),e.jsx("input",{type:"datetime-local",required:!0,value:y.end_date,onChange:b=>O("end_date",b.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code (Optional)"}),e.jsx("input",{type:"text",value:y.promo_code,onChange:b=>O("promo_code",b.target.value.toUpperCase()),placeholder:"e.g., SUMMER2024",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all font-mono"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Leave empty for automatic discount application"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Purchase Amount (Optional)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:y.minimum_purchase_amount||"",onChange:b=>O("minimum_purchase_amount",parseFloat(b.target.value)||null),placeholder:"0.00",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 outline-none transition-all"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),disabled:F.isPending,className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:F.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:F.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx($t,{className:"w-5 h-5"}),"Create Promotion"]})})]})]})]})})]})},HD=async(t,s,r)=>{const a=new URLSearchParams;a.append("conversation_type","customer_supplier"),t&&t!=="all"&&a.append("status",t);const i=(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/chat/conversations?${a.toString()}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data.map(l=>({conversation_id:l.conversation_id,customer_id:l.customer_id,customer_name:l.customer_name||"Unknown Customer",conversation_type:l.conversation_type,status:l.status,last_message_at:l.last_message_at,unread_count:l.unread_messages_count||0,related_entity_type:l.related_entity_type,related_entity_id:l.related_entity_id}));return s?i.filter(l=>l.unread_count>0):i},KD=async(t,s)=>(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/chat/conversations/${t}/messages?limit=50&offset=0`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,GD=async(t,s,r,a)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/chat/conversations/${t}/messages`,{message_text:s,attachments:r.length>0?r:null},{headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}})).data,YD=()=>{const t=ae(M=>M.authentication_state.auth_token),s=ae(M=>M.authentication_state.supplier_profile),r=ae(M=>M.websocket_connection),[a,n]=Ie(),i=Fe(),[l,o]=k.useState(null),[c,d]=k.useState({message_text:"",attachments:[],is_sending:!1}),[m,u]=k.useState({filter_type:a.get("conversation_filter")||"all",search_query:"",date_range:null}),x=k.useRef(null),h=a.get("unread_only")==="true",{data:f=[],isLoading:p,error:N,refetch:y}=ie({queryKey:["supplier-conversations",m.filter_type,h],queryFn:()=>HD(m.filter_type,h,t),enabled:!!t,staleTime:3e4,refetchOnWindowFocus:!0}),{data:j=[],isLoading:g,error:S}=ie({queryKey:["conversation-messages",l==null?void 0:l.conversation_id],queryFn:()=>KD(l.conversation_id,t),enabled:!!t&&!!l,staleTime:1e4,refetchInterval:3e4}),w=ue({mutationFn:({conversationId:M,messageText:P,attachments:E})=>GD(M,P,E,t),onMutate:()=>{d(M=>({...M,is_sending:!0}))},onSuccess:M=>{i.setQueryData(["conversation-messages",l==null?void 0:l.conversation_id],(P=[])=>[...P,M]),d({message_text:"",attachments:[],is_sending:!1}),y(),C()},onError:M=>{console.error("Failed to send message:",M),d(P=>({...P,is_sending:!1})),alert("Failed to send message. Please try again.")}});k.useEffect(()=>{if(!r||!l)return;const M=r;M.emit("join_conversation",{conversation_id:l.conversation_id});const P=E=>{E.conversation_id===l.conversation_id&&(i.setQueryData(["conversation-messages",l.conversation_id],(z=[])=>z.some(O=>O.message_id===E.message_id)?z:[...z,{message_id:E.message_id,conversation_id:E.conversation_id,sender_id:E.sender_id,sender_type:E.sender_type,message_text:E.message_text,attachments:E.attachments||null,is_read:E.is_read,timestamp:E.timestamp}]),setTimeout(C,100)),y()};return M.on("chat_message_received",P),()=>{M.off("chat_message_received",P),M.emit("leave_conversation",{conversation_id:l.conversation_id})}},[r,l,i,y]);const C=()=>{var M;(M=x.current)==null||M.scrollIntoView({behavior:"smooth"})},_=k.useCallback(M=>{o(M)},[]),$=k.useCallback(M=>{M.preventDefault(),!(!l||!c.message_text.trim())&&w.mutate({conversationId:l.conversation_id,messageText:c.message_text.trim(),attachments:c.attachments})},[l,c,w]),F=M=>{u(E=>({...E,filter_type:M}));const P=new URLSearchParams(a);M!=="all"?P.set("conversation_filter",M):P.delete("conversation_filter"),n(P)},T=()=>{const M=new URLSearchParams(a);h?M.delete("unread_only"):M.set("unread_only","true"),n(M)},R=M=>{if(!M)return"Never";const P=new Date(M),z=new Date().getTime()-P.getTime(),O=Math.floor(z/6e4),b=Math.floor(z/36e5),L=Math.floor(z/864e5);return O<1?"Just now":O<60?`${O}m ago`:b<24?`${b}h ago`:L<7?`${L}d ago`:P.toLocaleDateString()},A=(M,P)=>!M||!P?null:M==="order"?e.jsxs(G,{to:`/supplier/orders/${P}`,className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded-md text-xs hover:bg-blue-100 transition-colors",children:[e.jsx(Je,{className:"w-3 h-3"}),"Order"]}):M==="product"?e.jsxs(G,{to:`/product/${P}`,className:"inline-flex items-center gap-1 px-2 py-1 bg-green-50 text-green-700 rounded-md text-xs hover:bg-green-100 transition-colors",children:[e.jsx(Se,{className:"w-3 h-3"}),"Product"]}):null;return k.useEffect(()=>{j.length>0&&C()},[j]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-16 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Messages"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage customer inquiries and communications"})]}),f.length>0&&e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:f.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Total Conversations"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.filter(M=>M.unread_count>0).length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Unread"})]}),(s==null?void 0:s.response_time_average)&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s==null?void 0:s.response_time_average.toFixed(1),"h"]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Avg Response Time"})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-lg border border-gray-200 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:m.search_query,onChange:M=>u(P=>({...P,search_query:M.target.value})),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>F("all"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${m.filter_type==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),e.jsx("button",{onClick:()=>F("active"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${m.filter_type==="active"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Active"}),e.jsx("button",{onClick:()=>F("archived"),className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${m.filter_type==="archived"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Archived"}),e.jsx("button",{onClick:T,className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${h?"bg-amber-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Unread Only"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[p&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),N&&e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-700",children:"Failed to load conversations"})})}),!p&&!N&&f.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[e.jsx(Cs,{className:"w-16 h-16 text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"No conversations yet"}),e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Customer messages will appear here"})]}),!p&&!N&&f.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:f.filter(M=>m.search_query===""||M.customer_name.toLowerCase().includes(m.search_query.toLowerCase())).map(M=>e.jsx("button",{onClick:()=>_(M),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${(l==null?void 0:l.conversation_id)===M.conversation_id?"bg-blue-50 border-l-4 border-blue-600":""}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Bs,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("p",{className:`text-sm font-medium truncate ${M.unread_count>0?"text-gray-900":"text-gray-700"}`,children:M.customer_name}),M.unread_count>0&&e.jsx("span",{className:"flex-shrink-0 inline-flex items-center justify-center px-2 py-0.5 bg-blue-600 text-white rounded-full text-xs font-medium",children:M.unread_count})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[A(M.related_entity_type,M.related_entity_id),e.jsx("span",{className:"text-xs text-gray-500",children:R(M.last_message_at)})]}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${M.status==="active"?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:M.status})})]})]})},M.conversation_id))})]})]}),e.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg border border-gray-200 flex flex-col overflow-hidden",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Bs,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.customer_name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A(l.related_entity_type,l.related_entity_id),e.jsx("span",{className:"text-xs text-gray-500",children:""}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${l.status==="active"?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:l.status})]})]})]}),e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(d9,{className:"w-5 h-5 text-gray-600"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gray-50",children:[g&&e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}),S&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-red-700",children:"Failed to load messages"})}),!g&&!S&&j.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600",children:"No messages yet"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Start the conversation below"})]}),!g&&!S&&j.length>0&&e.jsxs(e.Fragment,{children:[j.map(M=>{const P=M.sender_type==="supplier";return e.jsx("div",{className:`flex ${P?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[75%] ${P?"order-2":"order-1"}`,children:[e.jsx("div",{className:`text-xs text-gray-600 mb-1 ${P?"text-right":"text-left"}`,children:P?"You":l.customer_name}),e.jsxs("div",{className:`rounded-2xl px-4 py-3 ${P?"bg-blue-600 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:M.message_text}),M.attachments&&M.attachments.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:M.attachments.map((E,z)=>e.jsxs("a",{href:E,target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-2 text-xs underline ${P?"text-blue-100":"text-blue-600"}`,children:[e.jsx(po,{className:"w-3 h-3"}),"Attachment ",z+1]},z))})]}),e.jsxs("div",{className:`flex items-center gap-1 mt-1 text-xs text-gray-500 ${P?"justify-end":"justify-start"}`,children:[e.jsx("span",{children:R(M.timestamp)}),P&&M.is_read&&e.jsx(l9,{className:"w-3 h-3 text-blue-600"})]})]})},M.message_id)}),e.jsx("div",{ref:x})]})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 bg-white",children:e.jsxs("form",{onSubmit:$,className:"space-y-3",children:[e.jsx("div",{className:"relative",children:e.jsx("textarea",{value:c.message_text,onChange:M=>{d(P=>({...P,message_text:M.target.value}))},placeholder:"Type your message...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:c.is_sending,onKeyDown:M=>{(M.ctrlKey||M.metaKey)&&M.key==="Enter"&&(M.preventDefault(),$(M))}})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{type:"button",className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Attach file (coming soon)",disabled:!0,children:e.jsx(po,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-xs text-gray-500",children:"Press Ctrl+Enter to send"})]}),e.jsx("button",{type:"submit",disabled:c.is_sending||!c.message_text.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg font-medium text-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:c.is_sending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Cv,{className:"w-4 h-4"}),"Send Message"]})})]})]})})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8",children:[e.jsx(Cs,{className:"w-20 h-20 text-gray-300 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select a conversation"}),e.jsx("p",{className:"text-gray-600 text-center max-w-md",children:"Choose a customer conversation from the list to view messages and respond"})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-6",children:e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(nt,{className:"w-4 h-4 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Response Time Best Practices"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Quick responses improve customer satisfaction. Aim to reply within 2 hours during business hours.",(s==null?void 0:s.response_time_average)&&e.jsxs(e.Fragment,{children:[" Your current average response time is ",e.jsxs("strong",{children:[s==null?void 0:s.response_time_average.toFixed(1)," hours"]}),"."]})]})]})]})})})]})})},QD=async(t,s,r)=>{const a={supplier_id:t,status:"published",limit:r.limit.toString(),offset:r.offset.toString(),sort_by:"review_date",sort_order:"desc"};r.min_rating&&(a.min_rating=r.min_rating.toString());const n=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/reviews",{params:a,headers:{Authorization:`Bearer ${s}`}});let i=n.data.reviews||[];return r.response_needed&&(i=i.filter(l=>!l.supplier_response)),{reviews:i,total:n.data.total||0,average_rating:n.data.average_rating||0}},XD=async(t,s,r)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/reviews/${t}/response`,{supplier_response:s},{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data,ZD=()=>{const t=Fe(),[s,r]=Ie(),a=ae(T=>T.authentication_state.supplier_profile),n=ae(T=>T.authentication_state.auth_token),[i,l]=k.useState(null),[o,c]=k.useState(""),[d,m]=k.useState(""),u=s.get("rating_filter")?parseInt(s.get("rating_filter")):void 0,x=s.get("response_needed")==="true",h=parseInt(s.get("page")||"1"),f=15,{data:p,isLoading:N,error:y}=ie({queryKey:["supplier-reviews",a==null?void 0:a.supplier_id,u,x,h],queryFn:()=>QD((a==null?void 0:a.supplier_id)||"",n||"",{min_rating:u,response_needed:x,limit:f,offset:(h-1)*f}),enabled:!!(a!=null&&a.supplier_id)&&!!n,staleTime:3e4,retry:1}),j=k.useMemo(()=>{if(!(p!=null&&p.reviews))return{total_reviews:0,average_rating:0,rating_distribution:{5:0,4:0,3:0,2:0,1:0},response_rate:0,avg_response_time_hours:0};const T=p.reviews,R={5:0,4:0,3:0,2:0,1:0};let A=0,M=0;return T.forEach(P=>{if(R[P.rating_overall]++,P.supplier_response&&P.supplier_response_date){M++;const E=new Date(P.review_date).getTime(),z=new Date(P.supplier_response_date).getTime();A+=(z-E)/(1e3*60*60)}}),{total_reviews:p.total,average_rating:p.average_rating,rating_distribution:R,response_rate:T.length>0?M/T.length*100:0,avg_response_time_hours:M>0?A/M:0}},[p]),g=ue({mutationFn:T=>XD(T.review_id,T.response_text,n||""),onSuccess:()=>{t.invalidateQueries({queryKey:["supplier-reviews"]}),l(null),c("")},onError:T=>{console.error("Failed to submit response:",T)}}),S=(T,R)=>{const A=new URLSearchParams(s);T==="rating_filter"&&R?A.set("rating_filter",R.toString()):T==="response_needed"&&(R?A.set("response_needed","true"):A.delete("response_needed")),A.set("page","1"),r(A)},w=T=>{const R=new URLSearchParams(s);R.set("page",T.toString()),r(R)},C=T=>{o.trim()&&g.mutate({review_id:T,response_text:o.trim()})},_=k.useMemo(()=>{if(!(p!=null&&p.reviews))return[];let T=[...p.reviews];return d&&(T=T.filter(R=>{var A,M,P;return((A=R.review_text)==null?void 0:A.toLowerCase().includes(d.toLowerCase()))||((M=R.customer_name)==null?void 0:M.toLowerCase().includes(d.toLowerCase()))||((P=R.product_name)==null?void 0:P.toLowerCase().includes(d.toLowerCase()))})),T},[p,d]),$=Math.ceil(((p==null?void 0:p.total)||0)/f),F=(T,R="md")=>{const A={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return e.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(M=>e.jsx(De,{className:`${A[R]} ${M<=T?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},M))})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reviews & Reputation"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage customer reviews and track your reputation performance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Reviews"}),e.jsx(hs,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:j.total_reviews}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Average Rating"}),e.jsx(De,{className:"w-5 h-5 text-yellow-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:j.average_rating.toFixed(1)}),e.jsx("div",{className:"flex",children:F(Math.round(j.average_rating),"sm")})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Out of 5.0"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Response Rate"}),e.jsx(Ve,{className:"w-5 h-5 text-green-600"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[j.response_rate.toFixed(0),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:j.response_rate>=80?"Excellent":j.response_rate>=50?"Good":"Needs improvement"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Response Time"}),e.jsx(ya,{className:"w-5 h-5 text-purple-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:j.avg_response_time_hours>0?j.avg_response_time_hours.toFixed(1):"-"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hours"})]})]}),j.total_reviews>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Rating Distribution"}),e.jsx("div",{className:"space-y-3",children:[5,4,3,2,1].map(T=>{const R=j.rating_distribution[T],A=j.total_reviews>0?R/j.total_reviews*100:0;return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1 w-20",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:T}),e.jsx(De,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"})]}),e.jsx("div",{className:"flex-1 h-6 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-300",style:{width:`${A}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-600 w-16 text-right",children:[R," (",A.toFixed(0),"%)"]})]},T)})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 md:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search reviews...",value:d,onChange:T=>m(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:u||"",onChange:T=>S("rating_filter",T.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Ratings"}),e.jsx("option",{value:"5",children:"5 Stars Only"}),e.jsx("option",{value:"4",children:"4+ Stars"}),e.jsx("option",{value:"3",children:"3+ Stars"}),e.jsx("option",{value:"2",children:"2+ Stars"}),e.jsx("option",{value:"1",children:"1+ Stars"})]}),e.jsxs("button",{onClick:()=>S("response_needed",!x),className:`flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors ${x?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[e.jsx($r,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Needs Response"})]})]})]}),(u||x||d)&&e.jsxs("div",{className:"mt-4 flex items-center flex-wrap gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),u&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u,"+ Stars",e.jsx("button",{onClick:()=>S("rating_filter",""),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]}),x&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Needs Response",e.jsx("button",{onClick:()=>S("response_needed",!1),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]}),d&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:['Search: "',d,'"',e.jsx("button",{onClick:()=>m(""),className:"ml-2 text-blue-600 hover:text-blue-800",children:""})]})]})]}),N?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading reviews..."})]}):y?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-red-800 font-semibold",children:"Failed to load reviews"}),e.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Please try again later"})]})]})}):_.length===0?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[e.jsx(hs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No reviews found"}),e.jsx("p",{className:"text-gray-600",children:u||x||d?"Try adjusting your filters":"Reviews from customers will appear here"})]}):e.jsx("div",{className:"space-y-4",children:_.map(T=>{var R;return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-3 mb-2",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:T.customer_name||"Anonymous Customer"}),T.verified_purchase&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Verified Purchase"]})]})}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[F(T.rating_overall),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{children:new Date(T.review_date).toLocaleDateString()}),T.product_name&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-700",children:T.product_name})]})]})]}),T.supplier_response?e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Responded"}):e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"Needs Response"})]}),(T.rating_product||T.rating_service||T.rating_delivery)&&e.jsxs("div",{className:"flex items-center space-x-6 mb-4 pb-4 border-b border-gray-100",children:[T.rating_product&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Product:"}),F(T.rating_product,"sm")]}),T.rating_service&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Service:"}),F(T.rating_service,"sm")]}),T.rating_delivery&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Delivery:"}),F(T.rating_delivery,"sm")]})]}),T.review_text&&e.jsx("div",{className:"mb-4",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:T.review_text})}),T.photos&&T.photos.length>0&&e.jsx("div",{className:"flex space-x-2 mb-4",children:T.photos.map((A,M)=>e.jsx("img",{src:A,alt:`Review photo ${M+1}`,className:"w-20 h-20 object-cover rounded-lg border border-gray-200"},M))}),T.helpful_votes>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:"text-sm text-gray-600",children:[T.helpful_votes," ",T.helpful_votes===1?"customer":"customers"," found this helpful"]})}),T.supplier_response?e.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 mt-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:((R=a==null?void 0:a.business_name)==null?void 0:R.charAt(0))||"S"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:(a==null?void 0:a.business_name)||"Your Business"}),e.jsx("span",{className:"text-xs text-gray-500",children:T.supplier_response_date?new Date(T.supplier_response_date).toLocaleDateString():""})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:T.supplier_response})]})]})}):i===T.review_id?e.jsxs("div",{className:"mt-4 border-t border-gray-200 pt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Response"}),e.jsx("textarea",{value:o,onChange:A=>c(A.target.value),placeholder:"Write a professional response to this review...",rows:4,maxLength:1e3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none"}),e.jsxs("div",{className:"flex items-center justify-between mt-3",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:[o.length,"/1000 characters"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>{l(null),c("")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>C(T.review_id),disabled:!o.trim()||g.isPending,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Response"})]})]})]}):e.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>{l(T.review_id),c("")},className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 transition-colors",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsx("span",{children:"Respond to Review"})]}),e.jsxs("button",{disabled:!0,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-gray-400 bg-gray-50 border border-gray-200 rounded-lg cursor-not-allowed",title:"Flag for moderation (coming soon)",children:[e.jsx(Bi,{className:"w-4 h-4"}),e.jsx("span",{children:"Flag"})]})]})]},T.review_id)})}),$>1&&e.jsxs("div",{className:"flex items-center justify-between bg-white rounded-xl border border-gray-200 px-6 py-4 shadow-sm",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(h-1)*f+1," to ",Math.min(h*f,(p==null?void 0:p.total)||0)," of ",(p==null?void 0:p.total)||0," reviews"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>w(h-1),disabled:h===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,$)},(T,R)=>{let A;return $<=5||h<=3?A=R+1:h>=$-2?A=$-4+R:A=h-2+R,e.jsx("button",{onClick:()=>w(A),className:`px-3 py-1 text-sm font-medium rounded-lg transition-colors ${A===h?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:A},A)})}),e.jsx("button",{onClick:()=>w(h+1),disabled:h===$,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),e.jsxs("div",{className:"mt-8 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx(Ve,{className:"w-5 h-5 text-blue-600 mr-2"}),"Tips for Managing Reviews"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),e.jsx("span",{children:"Respond to all reviews within 24 hours to show customers you care"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),e.jsx("span",{children:"Thank customers for positive reviews and address concerns in negative ones"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),e.jsx("span",{children:"Keep responses professional, concise, and solution-focused"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:""}),e.jsx("span",{children:"Use reviews as feedback to improve your products and services"})]})]})]})]})})})},JD=async t=>{const s=localStorage.getItem("auth_token");return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/analytics/dashboard",{params:{date_range:t},headers:{Authorization:`Bearer ${s}`}})).data},eI=async t=>{const s=localStorage.getItem("auth_token");return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/analytics/sales",{params:{date_range:t},headers:{Authorization:`Bearer ${s}`}})).data},tI=async t=>{const s=localStorage.getItem("auth_token");return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/analytics/products",{params:{date_range:t},headers:{Authorization:`Bearer ${s}`}})).data},sI=async t=>{const s=localStorage.getItem("auth_token");return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/analytics/customers",{params:{date_range:t},headers:{Authorization:`Bearer ${s}`}})).data},rI=async t=>{const s=localStorage.getItem("auth_token");return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/analytics/financials",{params:{date_range:t},headers:{Authorization:`Bearer ${s}`}})).data},aI=async(t,s,r)=>{const a=localStorage.getItem("auth_token");return(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/analytics/export",{format:t,date_range:s,sections:r},{headers:{Authorization:`Bearer ${a}`},responseType:"blob"})).data},nI=()=>{var q,B,W,I,Q,Z,Y,K,te,V,se,J,oe,je,ve,Te,Ke,ys;const[t,s]=Ie(),r=ae(re=>re.authentication_state.supplier_profile),[a,n]=k.useState(t.get("metric_category")||"dashboard"),[i,l]=k.useState({range_type:t.get("date_range")||"last_30_days",custom_start:null,custom_end:null,comparison_period:null}),[o]=k.useState(t.get("comparison_enabled")==="true"),[c,d]=k.useState(!1),[m]=k.useState("pdf"),[u,x]=k.useState(!1),{data:h,isLoading:f,error:p,refetch:N}=ie({queryKey:["supplier-analytics-dashboard",i.range_type],queryFn:()=>JD(i.range_type),enabled:a==="dashboard",staleTime:5*60*1e3,retry:1,select:re=>({total_sales:Number(re.total_sales||0),total_orders:Number(re.total_orders||0),avg_order_value:Number(re.avg_order_value||0),fulfillment_rate:Number(re.fulfillment_rate||0),customer_count:Number(re.customer_count||0),product_count:Number(re.product_count||0),rating_average:Number(re.rating_average||0)})}),{data:y,isLoading:j,error:g,refetch:S}=ie({queryKey:["supplier-analytics-sales",i.range_type],queryFn:()=>eI(i.range_type),enabled:a==="sales",staleTime:5*60*1e3,retry:1}),{data:w,isLoading:C,error:_,refetch:$}=ie({queryKey:["supplier-analytics-products",i.range_type],queryFn:()=>tI(i.range_type),enabled:a==="products",staleTime:5*60*1e3,retry:1}),{data:F,isLoading:T,error:R,refetch:A}=ie({queryKey:["supplier-analytics-customers",i.range_type],queryFn:()=>sI(i.range_type),enabled:a==="customers",staleTime:5*60*1e3,retry:1}),{data:M,isLoading:P,error:E,refetch:z}=ie({queryKey:["supplier-analytics-financial",i.range_type],queryFn:()=>rI(i.range_type),enabled:a==="financial",staleTime:5*60*1e3,retry:1});k.useEffect(()=>{const re={};a!=="dashboard"&&(re.metric_category=a),i.range_type!=="last_30_days"&&(re.date_range=i.range_type),o&&(re.comparison_enabled="true"),s(re,{replace:!0})},[a,i.range_type,o,s]);const O=re=>{n(re)},b=re=>{l(xe=>({...xe,range_type:re,custom_start:null,custom_end:null})),d(!1)},L=async()=>{if(!u){x(!0);try{const re=[a],xe=await aI(m,i.range_type,re),Ue=window.URL.createObjectURL(xe),Us=document.createElement("a");Us.href=Ue,Us.download=`analytics-${a}-${i.range_type}.${m}`,document.body.appendChild(Us),Us.click(),Us.remove(),window.URL.revokeObjectURL(Ue)}catch(re){console.error("Export failed:",re),alert("Export failed. Please try again.")}finally{x(!1)}}},v=re=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(re),D=re=>`${re.toFixed(1)}%`,U=()=>({today:"Today",last_7_days:"Last 7 Days",last_30_days:"Last 30 Days",last_90_days:"Last 90 Days",custom:"Custom Range"})[i.range_type]||"Last 30 Days";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Analytics"}),e.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Comprehensive performance insights for ",e.jsx("span",{className:"font-medium",children:r==null?void 0:r.business_name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>d(!c),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(Ft,{className:"h-4 w-4 mr-2"}),U(),e.jsx(ds,{className:"ml-2 h-4 w-4"})]}),c&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:e.jsx("div",{className:"py-1",children:[{value:"today",label:"Today"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"last_90_days",label:"Last 90 Days"}].map(re=>e.jsx("button",{onClick:()=>b(re.value),className:`block w-full text-left px-4 py-2 text-sm transition-colors ${i.range_type===re.value?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:re.label},re.value))})})]}),e.jsx("button",{onClick:L,disabled:u,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg bg-blue-600 text-sm font-medium text-white hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:u?e.jsxs(e.Fragment,{children:[e.jsx(Ht,{className:"animate-spin h-4 w-4 mr-2"}),"Exporting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Export"]})})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8 overflow-x-auto","aria-label":"Analytics tabs",children:[{id:"dashboard",label:"Dashboard",icon:ya},{id:"sales",label:"Sales",icon:Ve},{id:"products",label:"Products",icon:Se},{id:"customers",label:"Customers",icon:Tt},{id:"financial",label:"Financial",icon:Be}].map(re=>e.jsxs("button",{onClick:()=>O(re.id),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${a===re.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[e.jsx(re.icon,{className:"h-5 w-5 mr-2"}),re.label]},re.id))})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a==="dashboard"&&e.jsx("div",{className:"space-y-6",children:f?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(7)].map((re,xe)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},xe))}):p?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load dashboard metrics"}),e.jsx("p",{className:"mt-1 text-sm text-red-700",children:H.isAxiosError(p)?((B=(q=p.response)==null?void 0:q.data)==null?void 0:B.message)||p.message:"An unknown error occurred"}),e.jsxs("button",{onClick:()=>N(),className:"mt-3 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 transition-colors",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Be,{className:"h-6 w-6 text-blue-600"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Sales"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v((h==null?void 0:h.total_sales)||0)})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Je,{className:"h-6 w-6 text-green-600"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(h==null?void 0:h.total_orders)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ve,{className:"h-6 w-6 text-purple-600"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Avg Order Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v((h==null?void 0:h.avg_order_value)||0)})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(Se,{className:"h-6 w-6 text-amber-600"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Fulfillment Rate"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D((h==null?void 0:h.fulfillment_rate)||0)})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:e.jsx(Tt,{className:"h-6 w-6 text-indigo-600"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Customers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(h==null?void 0:h.customer_count)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-pink-100 rounded-lg",children:e.jsx(Se,{className:"h-6 w-6 text-pink-600"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Active Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(h==null?void 0:h.product_count)||0})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(De,{className:"h-6 w-6 text-yellow-600"})})}),e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:"Average Rating"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[((h==null?void 0:h.rating_average)||0).toFixed(1),e.jsx(De,{className:"h-5 w-5 text-yellow-500 ml-1 fill-current"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(G,{to:"/supplier/products",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Se,{className:"h-8 w-8 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Manage Products"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Update inventory & pricing"})]})]}),e.jsxs(G,{to:"/supplier/orders",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Je,{className:"h-8 w-8 text-green-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"View Orders"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Process pending orders"})]})]}),e.jsxs(G,{to:"/supplier/financials",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Be,{className:"h-8 w-8 text-purple-600 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Financial Details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"View payouts & earnings"})]})]})]})]})]})}),a==="sales"&&e.jsx("div",{className:"space-y-6",children:j?e.jsx("div",{className:"space-y-6",children:[...Array(3)].map((re,xe)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]},xe))}):g?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load sales analytics"}),e.jsx("p",{className:"mt-1 text-sm text-red-700",children:H.isAxiosError(g)?((I=(W=g.response)==null?void 0:W.data)==null?void 0:I.message)||g.message:"An unknown error occurred"}),e.jsxs("button",{onClick:()=>S(),className:"mt-3 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 transition-colors",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(n9,{className:"h-5 w-5 mr-2 text-blue-600"}),"Revenue Trends"]}),e.jsx("div",{className:"space-y-2",children:y!=null&&y.revenue_trends&&y.revenue_trends.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Orders"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.revenue_trends.slice(0,10).map((re,xe)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:re.date}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:v(re.revenue)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 text-right",children:re.orders})]},xe))})]})}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No sales data available for this period"})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Daily Sales Summary"}),e.jsx("div",{className:"space-y-3",children:y!=null&&y.daily_sales&&y.daily_sales.length>0?y.daily_sales.slice(0,7).map((re,xe)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:re.date}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[re.orders," orders"]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:v(re.revenue)})]})]},xe)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No daily sales data available"})})]})]})}),a==="products"&&e.jsx("div",{className:"space-y-6",children:C?e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((re,xe)=>e.jsx("div",{className:"h-16 bg-gray-200 rounded"},xe))})]}):_?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load product analytics"}),e.jsx("p",{className:"mt-1 text-sm text-red-700",children:H.isAxiosError(_)?((Z=(Q=_.response)==null?void 0:Q.data)==null?void 0:Z.message)||_.message:"An unknown error occurred"}),e.jsxs("button",{onClick:()=>$(),className:"mt-3 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 transition-colors",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Ve,{className:"h-5 w-5 mr-2 text-green-600"}),"Top Performing Products"]}),e.jsx("div",{className:"overflow-x-auto",children:w!=null&&w.top_performers&&w.top_performers.length>0?e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sales"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Views"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Margin"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.top_performers.slice(0,10).map(re=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.jsx(G,{to:`/supplier/products/${re.product_id}/edit`,className:"font-medium text-blue-600 hover:text-blue-800",children:re.product_name})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:re.sales_count}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 text-right",children:re.views_count}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:v(re.revenue)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${re.profit_margin>=30?"bg-green-100 text-green-800":re.profit_margin>=20?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D(re.profit_margin)})})]},re.product_id))})]}):e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No product performance data available"})})]}),(w==null?void 0:w.underperformers)&&w.underperformers.length>0&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(he,{className:"h-5 w-5 mr-2 text-amber-600"}),"Products Needing Attention"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Sales"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Views"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Revenue"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.underperformers.slice(0,5).map(re=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.jsx(G,{to:`/supplier/products/${re.product_id}/edit`,className:"font-medium text-blue-600 hover:text-blue-800",children:re.product_name})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 text-right",children:re.sales_count}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 text-right",children:re.views_count}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 text-right",children:v(re.revenue)})]},re.product_id))})]})})]})]})}),a==="customers"&&e.jsx("div",{className:"space-y-6",children:T?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(4)].map((re,xe)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),e.jsx("div",{className:"h-32 bg-gray-200 rounded"})]},xe))}):R?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load customer analytics"}),e.jsx("p",{className:"mt-1 text-sm text-red-700",children:H.isAxiosError(R)?((K=(Y=R.response)==null?void 0:Y.data)==null?void 0:K.message)||R.message:"An unknown error occurred"}),e.jsxs("button",{onClick:()=>A(),className:"mt-3 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 transition-colors",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Acquisition"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"New Customers"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:((te=F==null?void 0:F.acquisition_metrics)==null?void 0:te.new_customers)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Conversion Rate"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:D(((V=F==null?void 0:F.acquisition_metrics)==null?void 0:V.conversion_rate)||0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Avg Acquisition Cost"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:v(((se=F==null?void 0:F.acquisition_metrics)==null?void 0:se.acquisition_cost)||0)})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Retention"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Repeat Customers"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:((J=F==null?void 0:F.retention_metrics)==null?void 0:J.repeat_customers)||0})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Retention Rate"}),e.jsx("span",{className:"text-xl font-bold text-green-600",children:D(((oe=F==null?void 0:F.retention_metrics)==null?void 0:oe.retention_rate)||0)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Churn Rate"}),e.jsx("span",{className:"text-xl font-bold text-red-600",children:D(((je=F==null?void 0:F.retention_metrics)==null?void 0:je.churn_rate)||0)})]})]})]})]}),(F==null?void 0:F.customer_segments)&&F.customer_segments.length>0&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Customer Segments"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Segment"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Customers"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Avg Order"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Total Revenue"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:F.customer_segments.map((re,xe)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:re.segment_name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:re.customer_count}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right",children:v(re.avg_order_value)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:v(re.total_revenue)})]},xe))})]})})]})]})}),a==="financial"&&e.jsx("div",{className:"space-y-6",children:P?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((re,xe)=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},xe))}):E?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Failed to load financial analytics"}),e.jsx("p",{className:"mt-1 text-sm text-red-700",children:H.isAxiosError(E)?((Te=(ve=E.response)==null?void 0:ve.data)==null?void 0:Te.message)||E.message:"An unknown error occurred"}),e.jsxs("button",{onClick:()=>z(),className:"mt-3 inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 transition-colors",children:[e.jsx(Ht,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Gross Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v((M==null?void 0:M.gross_revenue)||0)})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Platform Fees"}),e.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["-",v((M==null?void 0:M.commission_costs)||0)]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Net Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:v((M==null?void 0:M.net_revenue)||0)})]})]}),(M==null?void 0:M.payout_history)&&M.payout_history.length>0&&e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Payouts"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.payout_history.slice(0,10).map(re=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:new Date(re.scheduled_date).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:v(re.amount)}),e.jsx("td",{className:"px-4 py-3 text-sm text-right",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${re.status==="completed"?"bg-green-100 text-green-800":re.status==="processing"?"bg-blue-100 text-blue-800":re.status==="scheduled"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:re.status})})]},re.payout_id))})]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:["For detailed financial reports and payout management, visit the"," ",e.jsx(G,{to:"/supplier/financials",className:"font-medium underline hover:text-blue-900",children:"Financials dashboard"})]})})]})}),!f&&!j&&!C&&!T&&!P&&a==="sales"&&(!y||((Ke=y.daily_sales)==null?void 0:Ke.length)===0&&((ys=y.revenue_trends)==null?void 0:ys.length)===0)&&e.jsxs("div",{className:"bg-white rounded-xl p-12 shadow-sm border border-gray-200 text-center",children:[e.jsx(ya,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Analytics Data Available"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start making sales to see your analytics data here."}),e.jsx(G,{to:"/supplier/products",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition-colors",children:"Manage Products"})]})]})]})})},iI=async(t,s)=>{const r={supplier_id:t,limit:50,offset:0,sort_by:"scheduled_date",sort_order:"desc"};return s.payout_status&&(r.status=s.payout_status),(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/payouts",{params:r,headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).data},lI=async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).data,oI=async t=>(await H.patch("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me",t,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})).data,cI=t=>{const s=new Date,r=s.getFullYear(),a=s.getMonth(),n=t.filter(x=>new Date(x.scheduled_date).getFullYear()===r&&x.status!=="failed"),i=t.filter(x=>{const h=new Date(x.scheduled_date);return h.getFullYear()===r&&h.getMonth()===a&&x.status!=="failed"}),l=t.filter(x=>x.status==="scheduled"||x.status==="processing"),o=n.reduce((x,h)=>x+h.net_amount,0),c=i.reduce((x,h)=>x+h.net_amount,0),d=l.reduce((x,h)=>x+h.net_amount,0),m=n.reduce((x,h)=>x+h.platform_commission,0),u=t.filter(x=>x.status==="scheduled").sort((x,h)=>new Date(x.scheduled_date).getTime()-new Date(h.scheduled_date).getTime())[0];return{total_earnings_ytd:o,current_month_earnings:c,pending_payout_amount:d,next_payout_date:(u==null?void 0:u.scheduled_date)||null,available_balance:d,total_commission_paid:m}},dI=()=>{const[t,s]=Ie(),r=Fe(),a=ae(A=>A.authentication_state.supplier_profile),[n,i]=k.useState({date_range:t.get("period")||"current_month",transaction_type:null,payout_status:null}),[l,o]=k.useState(t.get("section")||"overview"),[c,d]=k.useState(!1),[m,u]=k.useState({bank_account_info:"",payout_frequency:"monthly"}),x=(a==null?void 0:a.supplier_id)||"";k.useEffect(()=>{const A={};l!=="overview"&&(A.section=l),n.date_range!=="current_month"&&(A.period=n.date_range),s(A,{replace:!0})},[l,n.date_range,s]);const{data:h=[],isLoading:f}=ie({queryKey:["payouts",x,n],queryFn:()=>iI(x,n),enabled:!!x&&l==="payouts",staleTime:6e4}),{data:p,isLoading:N}=ie({queryKey:["supplier-profile",x],queryFn:lI,enabled:!!x,staleTime:3e5}),y=X.useMemo(()=>!h||h.length===0?{total_earnings_ytd:0,current_month_earnings:0,pending_payout_amount:0,next_payout_date:null,available_balance:0,total_commission_paid:0}:cI(h),[h]);k.useEffect(()=>{p&&l==="settings"&&u({bank_account_info:p.bank_account_info||"",payout_frequency:p.payout_frequency||"monthly"})},[p,l]);const j=ue({mutationFn:oI,onSuccess:()=>{r.invalidateQueries({queryKey:["supplier-profile"]}),d(!1),alert("Payout settings updated successfully!")},onError:A=>{var M,P;alert(`Failed to update settings: ${((P=(M=A.response)==null?void 0:M.data)==null?void 0:P.message)||A.message}`)}}),g=A=>{o(A)},S=(A,M)=>{i(P=>({...P,[A]:M}))},w=()=>{j.mutate(m)},C=()=>{alert("Tax document generation requires backend implementation (POST /suppliers/me/tax-documents)")},_=()=>{alert("Early payout request requires backend implementation (POST /suppliers/me/payouts/early-request)")},$=()=>{alert("Financial statement download requires backend implementation (GET /suppliers/me/statements/{period})")},F=A=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(A),T=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),R=A=>{const P={scheduled:{color:"blue",icon:nt,text:"Scheduled"},processing:{color:"yellow",icon:nt,text:"Processing"},completed:{color:"green",icon:fe,text:"Completed"},failed:{color:"red",icon:rt,text:"Failed"}}[A],E=(P==null?void 0:P.icon)||he;return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium
        ${P.color==="blue"?"bg-blue-100 text-blue-800":""}
        ${P.color==="yellow"?"bg-yellow-100 text-yellow-800":""}
        ${P.color==="green"?"bg-green-100 text-green-800":""}
        ${P.color==="red"?"bg-red-100 text-red-800":""}
      `,children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),(P==null?void 0:P.text)||A]})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Financial Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Track your earnings, manage payouts, and access financial reports"})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px space-x-8 px-6","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>g("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Be,{className:"w-5 h-5 inline-block mr-2"}),"Overview"]}),e.jsxs("button",{onClick:()=>g("payouts"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="payouts"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ve,{className:"w-5 h-5 inline-block mr-2"}),"Payouts"]}),e.jsxs("button",{onClick:()=>g("transactions"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="transactions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(We,{className:"w-5 h-5 inline-block mr-2"}),"Transactions"]}),e.jsxs("button",{onClick:()=>g("settings"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l==="settings"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ps,{className:"w-5 h-5 inline-block mr-2"}),"Settings"]})]})})}),l==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Total Earnings YTD"}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Be,{className:"w-5 h-5 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:F(y.total_earnings_ytd)}),e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Commission paid: ",F(y.total_commission_paid)]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"This Month"}),e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ve,{className:"w-5 h-5 text-green-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:F(y.current_month_earnings)}),e.jsxs("p",{className:"text-sm text-green-600 mt-2 font-medium",children:[y.current_month_earnings>0?"+":"",(y.current_month_earnings/Math.max(y.total_earnings_ytd||1,1)*100).toFixed(1),"% of YTD"]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Pending Payout"}),e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(nt,{className:"w-5 h-5 text-amber-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:F(y.pending_payout_amount)}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:y.next_payout_date?e.jsxs(e.Fragment,{children:["Next payout: ",T(y.next_payout_date)]}):"No scheduled payouts"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:$,className:"flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(gs,{className:"w-5 h-5 mr-2"}),"Download Statement"]}),e.jsxs("button",{onClick:C,className:"flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(We,{className:"w-5 h-5 mr-2"}),"Generate Tax Docs"]}),e.jsxs("button",{onClick:_,className:"flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(Ve,{className:"w-5 h-5 mr-2"}),"Request Early Payout"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Payouts"}),e.jsx("button",{onClick:()=>g("payouts"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All "})]}),f?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Be,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{children:"No payout records yet"})]}):e.jsx("div",{className:"space-y-3",children:h.slice(0,5).map(A=>{var M;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[R(A.status),e.jsx("span",{className:"text-sm text-gray-600",children:T(A.scheduled_date)})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[((M=A.included_orders)==null?void 0:M.length)||0," orders included"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:F(A.net_amount)}),e.jsxs("p",{className:"text-xs text-gray-500",children:["-",F(A.platform_commission)," commission"]})]})]},A.payout_id)})})]})]}),l==="payouts"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{value:n.date_range,onChange:A=>S("date_range",A.target.value),className:"block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"current_month",children:"Current Month"}),e.jsx("option",{value:"last_month",children:"Last Month"}),e.jsx("option",{value:"last_3_months",children:"Last 3 Months"}),e.jsx("option",{value:"last_6_months",children:"Last 6 Months"}),e.jsx("option",{value:"ytd",children:"Year to Date"}),e.jsx("option",{value:"all_time",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Status"}),e.jsxs("select",{value:n.payout_status||"",onChange:A=>S("payout_status",A.target.value||null),className:"block w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"scheduled",children:"Scheduled"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"failed",children:"Failed"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>i({date_range:"current_month",transaction_type:null,payout_status:null}),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors w-full",children:"Reset Filters"})})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payout History"})}),f?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):h.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Be,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-lg font-medium",children:"No payouts found"}),e.jsx("p",{className:"text-sm mt-2",children:"Payouts matching your filters will appear here"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:h.map(A=>{var M;return e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[R(A.status),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["Payout ID: ",A.payout_id.substring(0,8)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Scheduled:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:T(A.scheduled_date)})]}),A.processed_date&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Processed:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:T(A.processed_date)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Orders:"}),e.jsx("span",{className:"ml-2 text-gray-900",children:((M=A.included_orders)==null?void 0:M.length)||0})]}),A.transaction_reference&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Reference:"}),e.jsx("span",{className:"ml-2 text-gray-900 font-mono text-xs",children:A.transaction_reference})]})]}),A.failure_reason&&e.jsx("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Failure Reason:"})," ",A.failure_reason]})})]}),e.jsxs("div",{className:"text-right ml-6",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F(A.net_amount)}),e.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[e.jsxs("p",{className:"text-gray-600",children:["Gross: ",F(A.amount)]}),e.jsxs("p",{className:"text-red-600",children:["Commission: -",F(A.platform_commission)]})]})]})]})},A.payout_id)})})]})]}),l==="transactions"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Transaction History"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"This feature requires backend implementation. A dedicated transaction history endpoint (GET /suppliers/me/transactions) is needed to display order-level financial details."})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction Ledger"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gross"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payout"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(We,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{children:"Transaction history endpoint not yet implemented"}),e.jsx("p",{className:"text-sm mt-2",children:"Contact support for transaction details"})]})})})]})})]})]}),l==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Bank Account & Payout Settings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure your payment method and payout preferences"})]}),!c&&e.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Edit Settings"})]}),N?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Account Information"}),e.jsx("input",{type:"text",value:m.bank_account_info,onChange:A=>u(M=>({...M,bank_account_info:A.target.value})),placeholder:"Bank Name - Account ending in XXXX",className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'For security, only enter masked account information (e.g., "Chase Bank - ****1234")'})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Frequency"}),e.jsxs("select",{value:m.payout_frequency,onChange:A=>u(M=>({...M,payout_frequency:A.target.value})),className:"block w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"bi-weekly",children:"Bi-Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{onClick:w,disabled:j.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:j.isPending?"Saving...":"Save Changes"}),e.jsx("button",{onClick:()=>d(!1),disabled:j.isPending,className:"px-6 py-3 bg-gray-100 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Yn,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Bank Account"}),e.jsx("p",{className:"text-sm text-gray-600",children:(p==null?void 0:p.bank_account_info)||"Not configured"})]})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${p!=null&&p.bank_account_info?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:p!=null&&p.bank_account_info?"Configured":"Setup Required"})]}),e.jsx("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ft,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Payout Frequency"}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:(p==null?void 0:p.payout_frequency)||"monthly"})]})]})}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Automatic Payouts"}),e.jsx("p",{className:"mt-1",children:"Payouts are processed automatically based on your frequency setting. Minimum threshold: $100.00"})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tax Documentation"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Annual Tax Forms"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Generate 1099 forms and annual income reports"})]}),e.jsx("button",{onClick:C,className:"px-4 py-2 bg-gray-100 text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Generate Forms"})]})}),e.jsx("div",{className:"p-4 bg-amber-50 border border-amber-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"w-5 h-5 text-amber-600 mt-0.5 mr-3"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("p",{className:"font-medium",children:"Business Registration"}),e.jsxs("p",{className:"mt-1",children:["Tax ID: ",(p==null?void 0:p.business_registration_number)||"Not provided"]})]})]})})]})]})]}),!["overview","payouts","settings"].includes(l)&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx(he,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Content Not Available"}),e.jsx("p",{className:"text-gray-600",children:"This section is under development"})]})]})})})},uI=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me",{headers:{Authorization:`Bearer ${t}`}})).data,mI=async(t,s)=>(await H.patch("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me",t,{headers:{Authorization:`Bearer ${s}`}})).data,hI=async t=>[],xI=async t=>({success:!0,member_id:`member_${Date.now()}`}),pI=async t=>({success:!0}),gI=()=>{var q;const t=ae(B=>B.authentication_state.auth_token);ae(B=>B.authentication_state.current_user),ae(B=>B.authentication_state.supplier_profile);const[s,r]=Ie(),a=s.get("section")||"profile",n=B=>{r({section:B})},[i,l]=k.useState({}),[o,c]=k.useState(!1),[d,m]=k.useState({email:"",role:"staff"}),[u,x]=k.useState({new_orders:{email:!0,sms:!0,push:!0},low_stock_alerts:{email:!0,sms:!1,push:!0},customer_messages:{email:!0,sms:!1,push:!0},payment_updates:{email:!0,sms:!1},marketing_emails:!1}),[h,f]=k.useState({inventory_sync_enabled:!1,inventory_api_key:null,last_sync_timestamp:null,webhooks_enabled:!1,webhook_url:null}),[p,N]=k.useState({}),[y,j]=k.useState(!1),[g,S]=k.useState(null),[w,C]=k.useState(null),_=Fe(),{data:$,isLoading:F,error:T}=ie({queryKey:["supplier-profile"],queryFn:()=>uI(t),enabled:!!t,staleTime:6e4,refetchOnWindowFocus:!1}),{data:R=[],isLoading:A}=ie({queryKey:["team-members"],queryFn:()=>hI(),enabled:!!t&&a==="team",staleTime:6e4}),M=ue({mutationFn:B=>mI(B,t),onSuccess:()=>{_.invalidateQueries({queryKey:["supplier-profile"]}),S("Profile updated successfully!"),setTimeout(()=>S(null),3e3)},onError:B=>{var W,I;C(((I=(W=B.response)==null?void 0:W.data)==null?void 0:I.message)||"Failed to update profile"),setTimeout(()=>C(null),5e3)}}),P=ue({mutationFn:B=>xI(),onSuccess:()=>{_.invalidateQueries({queryKey:["team-members"]}),c(!1),m({email:"",role:"staff"}),S("Team member invited successfully!"),setTimeout(()=>S(null),3e3)},onError:B=>{var W,I;C(((I=(W=B.response)==null?void 0:W.data)==null?void 0:I.message)||"Failed to add team member"),setTimeout(()=>C(null),5e3)}}),E=ue({mutationFn:B=>pI(),onSuccess:()=>{_.invalidateQueries({queryKey:["team-members"]}),S("Team member removed successfully!"),setTimeout(()=>S(null),3e3)}});k.useEffect(()=>{$&&l({business_name:$.business_name,business_description:$.business_description,logo_url:$.logo_url,cover_photo_url:$.cover_photo_url,operating_hours:$.operating_hours,service_areas:$.service_areas,return_policy:$.return_policy,shipping_policy:$.shipping_policy,minimum_order_value:$.minimum_order_value})},[$]);const z=B=>{B.preventDefault(),M.mutate(i)},O=B=>{B.preventDefault(),M.mutate({}),S("Notification preferences updated!"),setTimeout(()=>S(null),3e3)},b=B=>{B.preventDefault(),P.mutate({email:d.email,role:d.role,permissions:{manage_products:d.role!=="staff",manage_orders:!0,manage_inventory:!0,view_analytics:d.role!=="staff",manage_team:!1}})},L=B=>{confirm("Are you sure you want to remove this team member?")&&E.mutate(B)},v=B=>{B.preventDefault(),S("Bank account information updated!"),j(!1),setTimeout(()=>S(null),3e3)},D=B=>{B.preventDefault(),S("Integration settings updated!"),setTimeout(()=>S(null),3e3)},U=[{id:"profile",label:"Business Profile",icon:Yn},{id:"team",label:"Team Management",icon:Tt},{id:"notifications",label:"Notifications",icon:Fs},{id:"integrations",label:"Integrations",icon:c9},{id:"billing",label:"Billing & Payouts",icon:tr}];return F?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading settings..."})]})})}):T?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-red-700",children:[e.jsx(he,{className:"h-6 w-6"}),e.jsx("p",{className:"font-medium",children:"Failed to load settings"})]}),e.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please try refreshing the page"})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[e.jsx(Ps,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{children:"Settings"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your business configuration and preferences"})]}),e.jsx(G,{to:"/supplier/dashboard",className:"text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-2 transition-colors",children:e.jsx("span",{children:" Back to Dashboard"})})]})}),g&&e.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-green-700 font-medium",children:g})]}),w&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[e.jsx(he,{className:"h-5 w-5 text-red-600"}),e.jsx("p",{className:"text-red-700 font-medium",children:w})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:U.map(B=>{const W=B.icon,I=a===B.id;return e.jsxs("button",{onClick:()=>n(B.id),className:`
                        py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors
                        ${I?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                      `,children:[e.jsx(W,{className:"h-5 w-5"}),e.jsx("span",{children:B.label})]},B.id)})})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[a==="profile"&&e.jsxs("form",{onSubmit:z,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Business Profile"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),e.jsx("input",{type:"text",id:"business_name",value:i.business_name||"",onChange:B=>l(W=>({...W,business_name:B.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"business_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Description"}),e.jsx("textarea",{id:"business_description",value:i.business_description||"",onChange:B=>l(W=>({...W,business_description:B.target.value})),rows:4,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Tell customers about your business..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"logo_url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"url",id:"logo_url",value:i.logo_url||"",onChange:B=>l(W=>({...W,logo_url:B.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://..."}),i.logo_url&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:i.logo_url,alt:"Logo preview",className:"h-20 w-20 object-cover rounded-lg border-2 border-gray-200"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cover_photo_url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Photo URL"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"url",id:"cover_photo_url",value:i.cover_photo_url||"",onChange:B=>l(W=>({...W,cover_photo_url:B.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://..."}),i.cover_photo_url&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:i.cover_photo_url,alt:"Cover preview",className:"h-20 w-full object-cover rounded-lg border-2 border-gray-200"})})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"service_areas",className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas (comma-separated postal codes or cities)"}),e.jsx("input",{type:"text",id:"service_areas",value:((q=i.service_areas)==null?void 0:q.join(", "))||"",onChange:B=>l(W=>({...W,service_areas:B.target.value.split(",").map(I=>I.trim()).filter(Boolean)})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"78701, 78702, Austin, Round Rock"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"return_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Policy"}),e.jsx("textarea",{id:"return_policy",value:i.return_policy||"",onChange:B=>l(W=>({...W,return_policy:B.target.value})),rows:3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Describe your return policy..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"shipping_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Policy"}),e.jsx("textarea",{id:"shipping_policy",value:i.shipping_policy||"",onChange:B=>l(W=>({...W,shipping_policy:B.target.value})),rows:3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Describe your shipping policy..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"minimum_order_value",className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Value ($)"}),e.jsx("input",{type:"number",id:"minimum_order_value",value:i.minimum_order_value||"",onChange:B=>l(W=>({...W,minimum_order_value:B.target.value?Number(B.target.value):null})),step:"0.01",min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"0.00"})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsx("button",{type:"submit",disabled:M.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:M.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Changes"})]})})})]}),a==="team"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Team Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage team members and their permissions"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx($t,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Team Member"})]})]}),A?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading team members..."})]}):R.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(Tt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No team members yet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Invite team members to help manage your business"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(B=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:B.full_name.split(" ").map(W=>W[0]).join("").toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.full_name}),e.jsx("div",{className:"text-sm text-gray-500",children:B.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`
                                px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                                ${B.role==="admin"?"bg-purple-100 text-purple-800":""}
                                ${B.role==="manager"?"bg-blue-100 text-blue-800":""}
                                ${B.role==="staff"?"bg-gray-100 text-gray-800":""}
                              `,children:B.role.charAt(0).toUpperCase()+B.role.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`
                                px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                                ${B.status==="active"?"bg-green-100 text-green-800":""}
                                ${B.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                                ${B.status==="inactive"?"bg-gray-100 text-gray-800":""}
                              `,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.last_active?new Date(B.last_active).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{type:"button",onClick:()=>L(B.member_id),className:"text-red-600 hover:text-red-700 transition-colors",children:e.jsx(Xt,{className:"h-5 w-5"})})})]},B.member_id))})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Team Member"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(be,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"team_email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",id:"team_email",value:d.email,onChange:B=>m(W=>({...W,email:B.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"team_role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),e.jsxs("select",{id:"team_role",value:d.role,onChange:B=>m(W=>({...W,role:B.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"staff",children:"Staff - Basic access"}),e.jsx("option",{value:"manager",children:"Manager - Full access except team"}),e.jsx("option",{value:"admin",children:"Admin - Full access"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:P.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?"Adding...":"Add Member"})]})]})]})})]}),a==="notifications"&&e.jsxs("form",{onSubmit:O,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Choose how you want to be notified about important events"}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(Be,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"New Orders"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.new_orders.email,onChange:B=>x(W=>({...W,new_orders:{...W.new_orders,email:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.new_orders.sms,onChange:B=>x(W=>({...W,new_orders:{...W.new_orders,sms:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ra,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.new_orders.push,onChange:B=>x(W=>({...W,new_orders:{...W.new_orders,push:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Um,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push"})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 text-amber-600"}),e.jsx("span",{children:"Low Stock Alerts"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.low_stock_alerts.email,onChange:B=>x(W=>({...W,low_stock_alerts:{...W.low_stock_alerts,email:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.low_stock_alerts.sms,onChange:B=>x(W=>({...W,low_stock_alerts:{...W.low_stock_alerts,sms:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ra,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.low_stock_alerts.push,onChange:B=>x(W=>({...W,low_stock_alerts:{...W.low_stock_alerts,push:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Um,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push"})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(Kt,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Customer Messages"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.customer_messages.email,onChange:B=>x(W=>({...W,customer_messages:{...W.customer_messages,email:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.customer_messages.sms,onChange:B=>x(W=>({...W,customer_messages:{...W.customer_messages,sms:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ra,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.customer_messages.push,onChange:B=>x(W=>({...W,customer_messages:{...W.customer_messages,push:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Um,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push"})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(tr,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Payment Updates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.payment_updates.email,onChange:B=>x(W=>({...W,payment_updates:{...W.payment_updates,email:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.payment_updates.sms,onChange:B=>x(W=>({...W,payment_updates:{...W.payment_updates,sms:B.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ra,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]})]})]}),e.jsx("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.marketing_emails,onChange:B=>x(W=>({...W,marketing_emails:B.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Marketing Emails"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive tips, updates, and promotional content"})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all flex items-center space-x-2",children:[e.jsx(ws,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Preferences"})]})})]}),a==="integrations"&&e.jsxs("form",{onSubmit:D,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"API Integrations"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Connect external systems to automate inventory management"}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Inventory Synchronization"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically sync stock levels from your system"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.inventory_sync_enabled,onChange:B=>f(W=>({...W,inventory_sync_enabled:B.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),h.inventory_sync_enabled&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"password",value:h.inventory_api_key||"",onChange:B=>f(W=>({...W,inventory_api_key:B.target.value})),className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your API key"}),e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Generate"})]})]}),h.last_sync_timestamp&&e.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[e.jsx(nt,{className:"h-4 w-4"}),e.jsxs("span",{children:["Last synced: ",new Date(h.last_sync_timestamp).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Webhooks"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive real-time notifications about events"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:h.webhooks_enabled,onChange:B=>f(W=>({...W,webhooks_enabled:B.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),h.webhooks_enabled&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL"}),e.jsx("input",{type:"url",value:h.webhook_url||"",onChange:B=>f(W=>({...W,webhook_url:B.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://your-server.com/webhook"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all flex items-center space-x-2",children:[e.jsx(ws,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Integration Settings"})]})})]}),a==="billing"&&$&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Billing & Payouts"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your subscription and payout settings"}),e.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Current Subscription"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Plan"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:$.subscription_plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Billing Cycle"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Monthly"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Commission Rate"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[$.commission_rate,"%"]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payout Settings"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"payout_frequency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Frequency"}),e.jsxs("select",{id:"payout_frequency",value:i.payout_frequency||$.payout_frequency,onChange:B=>l(W=>({...W,payout_frequency:B.target.value})),className:"w-full md:w-64 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"bi-weekly",children:"Bi-weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Bank Account"}),e.jsx("button",{type:"button",onClick:()=>j(!y),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:y?"Cancel":"Update Account"})]}),y?e.jsxs("form",{onSubmit:v,className:"space-y-4 bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Holder Name"}),e.jsx("input",{type:"text",value:p.account_holder_name||"",onChange:B=>N(W=>({...W,account_holder_name:B.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),e.jsx("input",{type:"text",value:p.bank_name||"",onChange:B=>N(W=>({...W,bank_name:B.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),e.jsxs("select",{value:p.account_type||"checking",onChange:B=>N(W=>({...W,account_type:B.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"checking",children:"Checking"}),e.jsx("option",{value:"savings",children:"Savings"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>j(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Update Account"})]})]}):e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Account ending in  1234"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Bank: Sample Bank"})]})]}),i.payout_frequency!==$.payout_frequency&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{type:"button",onClick:()=>M.mutate({payout_frequency:i.payout_frequency}),disabled:M.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(ws,{className:"h-5 w-5"}),e.jsx("span",{children:"Update Payout Frequency"})]})})]})]})})]})]})})})},fI=async(t,s,r)=>{const a=new URLSearchParams;return s&&a.append("resource_type",s),r&&a.append("search_query",r),(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/resources?${a.toString()}`,{headers:{Authorization:`Bearer ${t}`}})).data},yI=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/webinars?status=upcoming",{headers:{Authorization:`Bearer ${t}`}})).data,bI=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/webinars/recorded",{headers:{Authorization:`Bearer ${t}`}})).data,vI=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/community",{headers:{Authorization:`Bearer ${t}`}})).data,jI=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/updates",{headers:{Authorization:`Bearer ${t}`}})).data,NI=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/progress",s,{headers:{Authorization:`Bearer ${t}`}})).data,wI=async(t,s)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/webinars/${s}/register`,{},{headers:{Authorization:`Bearer ${t}`}})).data,_I=async(t,s)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/education/updates/${s}/acknowledge`,{},{headers:{Authorization:`Bearer ${t}`}})).data,kI=()=>{const t=ae(v=>v.authentication_state.auth_token),[s,r]=Ie(),a=s.get("resource_type"),n=s.get("search_query"),[i,l]=k.useState("resources"),[o,c]=k.useState(n||""),[d,m]=k.useState(a||"all"),[u,x]=k.useState(null),h=Fe(),{data:f=[],isLoading:p}=ie({queryKey:["education-resources",d,o],queryFn:()=>fI(t,d!=="all"?d:void 0,o||void 0),enabled:!!t&&i==="resources",staleTime:5*60*1e3}),{data:N=[],isLoading:y}=ie({queryKey:["webinar-schedule"],queryFn:()=>yI(t),enabled:!!t&&i==="live",staleTime:2*60*1e3}),{data:j=[],isLoading:g}=ie({queryKey:["recorded-webinars"],queryFn:()=>bI(t),enabled:!!t&&i==="recorded",staleTime:5*60*1e3}),{data:S=[],isLoading:w}=ie({queryKey:["community-posts"],queryFn:()=>vI(t),enabled:!!t&&i==="community",staleTime:2*60*1e3}),{data:C=[],isLoading:_}=ie({queryKey:["platform-updates"],queryFn:()=>jI(t),enabled:!!t&&i==="updates",staleTime:5*60*1e3}),$=ue({mutationFn:v=>NI(t,v),onSuccess:()=>{h.invalidateQueries({queryKey:["education-resources"]})}}),F=ue({mutationFn:v=>wI(t,v),onSuccess:()=>{h.invalidateQueries({queryKey:["webinar-schedule"]})}}),T=ue({mutationFn:v=>_I(t,v),onSuccess:()=>{h.invalidateQueries({queryKey:["platform-updates"]})}});k.useEffect(()=>{const v=new URLSearchParams;d!=="all"&&v.set("resource_type",d),o&&v.set("search_query",o),r(v)},[d,o,r]);const R=v=>{v.preventDefault()},A=v=>{$.mutate({resource_id:v,completion_status:"completed",progress_percentage:100})},M=v=>{F.mutate(v)},P=v=>{T.mutate(v)},E=v=>{switch(v){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-blue-100 text-blue-800";case"advanced":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},z=v=>{switch(v){case"critical":return"bg-red-100 text-red-800 border-red-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},O=45,b=12;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 text-white py-12 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Training & Resource Center"}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Expand your skills and grow your business on BuildEasy"})]}),e.jsxs("div",{className:"hidden lg:block bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsxs("div",{className:"text-3xl font-bold",children:[O,"%"]}),e.jsx("div",{className:"text-sm text-blue-100",children:"Training Complete"})]}),e.jsx("div",{className:"w-48 bg-white/20 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-white rounded-full h-2 transition-all duration-300",style:{width:`${O}%`}})}),e.jsxs("div",{className:"text-xs text-blue-100 text-center",children:[b," of ",27," resources completed"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("form",{onSubmit:R,className:"relative",children:[e.jsx(ut,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:o,onChange:v=>c(v.target.value),placeholder:"Search training materials, webinars, articles...",className:"w-full pl-12 pr-4 py-4 rounded-xl border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})}),e.jsx("div",{className:"mb-8 border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>l("resources"),className:`pb-4 px-2 border-b-2 font-medium transition-colors ${i==="resources"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(im,{className:"w-5 h-5"}),e.jsx("span",{children:"Resources"})]})}),e.jsx("button",{onClick:()=>l("live"),className:`pb-4 px-2 border-b-2 font-medium transition-colors ${i==="live"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($0,{className:"w-5 h-5"}),e.jsx("span",{children:"Live Training"}),N.length>0&&e.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full",children:N.length})]})}),e.jsx("button",{onClick:()=>l("recorded"),className:`pb-4 px-2 border-b-2 font-medium transition-colors ${i==="recorded"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Hw,{className:"w-5 h-5"}),e.jsx("span",{children:"Recorded Sessions"})]})}),e.jsx("button",{onClick:()=>l("community"),className:`pb-4 px-2 border-b-2 font-medium transition-colors ${i==="community"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5"}),e.jsx("span",{children:"Community"})]})}),e.jsx("button",{onClick:()=>l("updates"),className:`pb-4 px-2 border-b-2 font-medium transition-colors ${i==="updates"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fs,{className:"w-5 h-5"}),e.jsx("span",{children:"Updates"}),C.filter(v=>!v.acknowledged&&v.acknowledgment_required).length>0&&e.jsx("span",{className:"ml-2 bg-red-600 text-white text-xs px-2 py-0.5 rounded-full",children:C.filter(v=>!v.acknowledged&&v.acknowledgment_required).length})]})})]})}),i==="resources"&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6 flex items-center space-x-4",children:[e.jsx($r,{className:"w-5 h-5 text-gray-400"}),e.jsx("div",{className:"flex space-x-2",children:["all","article","video","guide","tutorial"].map(v=>e.jsx("button",{onClick:()=>m(v),className:`px-4 py-2 rounded-lg font-medium transition-all ${d===v?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:v.charAt(0).toUpperCase()+v.slice(1)},v))})]}),p?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(v=>e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-4 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4 w-5/6"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-20"}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]})]},v))}):f.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[e.jsx(im,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No resources found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your filters or search terms"}),e.jsx("button",{onClick:()=>{m("all"),c("")},className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Clear Filters"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(v=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 hover:shadow-xl transition-all duration-200 cursor-pointer group",onClick:()=>x(v.resource_id),children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 p-6 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[v.resource_type==="video"?e.jsx($0,{className:"w-5 h-5 text-blue-600"}):v.resource_type==="article"?e.jsx(im,{className:"w-5 h-5 text-blue-600"}):e.jsx(im,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase",children:v.resource_type})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${E(v.difficulty_level)}`,children:v.difficulty_level})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:v.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:v.description})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[v.duration_minutes&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(nt,{className:"w-4 h-4"}),e.jsxs("span",{children:[v.duration_minutes," min"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ve,{className:"w-4 h-4"}),e.jsxs("span",{children:[v.view_count," views"]})]}),v.rating>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(De,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:v.rating.toFixed(1)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[v.content_url&&e.jsx("a",{href:v.content_url,target:"_blank",rel:"noopener noreferrer",onClick:D=>D.stopPropagation(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors text-center text-sm",children:"View Resource"}),e.jsx("button",{onClick:D=>{D.stopPropagation(),A(v.resource_id)},className:"px-4 py-2 border-2 border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",title:"Mark as complete",children:e.jsx(fe,{className:"w-5 h-5 text-gray-400 hover:text-green-600"})})]})]})]},v.resource_id))})]}),i==="live"&&e.jsx("div",{children:y?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2].map(v=>e.jsxs("div",{className:"bg-white rounded-xl p-8 border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded mb-4 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-6 w-5/6"}),e.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},v))}):N.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[e.jsx(Ft,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No upcoming webinars"}),e.jsx("p",{className:"text-gray-600",children:"Check back soon for new training sessions"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:N.map(v=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 hover:shadow-xl transition-all duration-200",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-purple-600 p-6 text-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2",children:e.jsx("div",{className:"text-xs font-semibold uppercase",children:"Live Session"})}),v.registration_required&&e.jsx("div",{className:"bg-yellow-400 text-yellow-900 text-xs px-2 py-1 rounded-full font-semibold",children:"Registration Required"})]}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:v.title}),e.jsx("p",{className:"text-indigo-100",children:v.description})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Ft,{className:"w-5 h-5 mr-3 text-gray-400"}),e.jsx("span",{className:"font-medium",children:new Date(v.scheduled_date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(nt,{className:"w-5 h-5 mr-3 text-gray-400"}),e.jsxs("span",{children:[v.duration_minutes," minutes"]})]}),e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Mf,{className:"w-5 h-5 mr-3 text-gray-400"}),e.jsxs("span",{children:["Presenter: ",v.presenter_name]})]}),v.max_attendees&&e.jsxs("div",{className:"flex items-center text-gray-700",children:[e.jsx(Tt,{className:"w-5 h-5 mr-3 text-gray-400"}),e.jsxs("span",{children:[v.registration_count||0," / ",v.max_attendees," registered"]})]})]}),e.jsx("button",{onClick:()=>M(v.webinar_id),disabled:F.isPending,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?"Registering...":"Register for Webinar"})]})]},v.webinar_id))})}),i==="recorded"&&e.jsx("div",{children:g?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(v=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"aspect-video bg-gray-200"}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3 w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]})]},v))}):j.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[e.jsx($0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No recorded sessions yet"}),e.jsx("p",{className:"text-gray-600",children:"Recorded webinars will appear here after live sessions"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(v=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-100 hover:shadow-xl transition-all duration-200 group",children:[e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"bg-blue-600 rounded-full p-4 group-hover:scale-110 transition-transform",children:e.jsx(Hw,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:[v.duration_minutes," min"]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:v.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:v.description}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Mf,{className:"w-4 h-4"}),e.jsx("span",{children:v.presenter_name})]}),v.rating&&v.rating>0&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(De,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{children:v.rating.toFixed(1)})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Recorded: ",new Date(v.recorded_date).toLocaleDateString()]}),v.video_url?e.jsx("a",{href:v.video_url,target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors text-center",children:"Watch Recording"}):e.jsx("button",{disabled:!0,className:"w-full bg-gray-100 text-gray-400 px-4 py-2 rounded-lg font-medium cursor-not-allowed",children:"Video Processing..."})]})]},v.webinar_id))})}),i==="community"&&e.jsx("div",{children:w?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(v=>e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3 w-2/3"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]},v))}):S.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[e.jsx(hs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No community posts yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to start a discussion!"}),e.jsx("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Discussion"})]}):e.jsx("div",{className:"space-y-4",children:S.map(v=>e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 hover:shadow-lg transition-all duration-200 cursor-pointer",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 hover:text-blue-600 transition-colors",children:v.title}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800 font-medium",children:v.category})]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-3",children:v.content}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium text-gray-700",children:v.author_name}),v.author_type==="admin"&&e.jsx("span",{className:"bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full font-semibold",children:"BuildEasy Team"}),e.jsx("span",{children:new Date(v.created_date).toLocaleDateString()})]})]})}),e.jsxs("div",{className:"flex items-center space-x-6 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(hs,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[v.reply_count," replies"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[e.jsx(Ol,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[v.like_count," likes"]})]})]})]},v.post_id))})}),i==="updates"&&e.jsx("div",{children:_?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(v=>e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]},v))}):C.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-200",children:[e.jsx(Fs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"You're all caught up!"}),e.jsx("p",{className:"text-gray-600",children:"No new platform updates"})]}):e.jsxs("div",{className:"space-y-4",children:[C.filter(v=>!v.acknowledged&&v.acknowledgment_required).map(v=>e.jsxs("div",{className:`bg-white rounded-xl p-6 border-2 ${z(v.importance)}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:v.title}),e.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-semibold uppercase ${v.importance==="critical"?"bg-red-600 text-white":v.importance==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:v.importance}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600 font-medium",children:v.update_type})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:v.description}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Published: ",new Date(v.published_date).toLocaleDateString()]})]}),e.jsx(he,{className:`w-6 h-6 flex-shrink-0 ml-4 ${v.importance==="critical"?"text-red-600":v.importance==="warning"?"text-yellow-600":"text-blue-600"}`})]}),v.acknowledgment_required&&!v.acknowledged&&e.jsx("button",{onClick:()=>P(v.update_id),disabled:T.isPending,className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:T.isPending?"Acknowledging...":"I Understand - Acknowledge Update"})]},v.update_id)),C.filter(v=>v.acknowledged||!v.acknowledgment_required).map(v=>e.jsx("div",{className:"bg-white rounded-xl p-6 border border-gray-100 opacity-75",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:v.title}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600 font-medium",children:v.update_type}),v.acknowledged&&e.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"Acknowledged"})]})]}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-2",children:v.description}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(v.published_date).toLocaleDateString()})]})})},v.update_id))]})})]}),e.jsx("div",{className:"bg-white border-t border-gray-200 py-8 mt-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:b}),e.jsx("div",{className:"text-sm text-gray-600",children:"Resources Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:N.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming Webinars"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:j.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recorded Sessions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:[O,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Training Progress"})]})]})})})]})})},SI=async(t,s)=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/dashboard",{headers:{Authorization:`Bearer ${t}`},params:{date_range:s}})).data,CI=async t=>({api_status:"operational",database_status:"operational",payment_gateway_status:"operational",email_service_status:"operational",sms_service_status:"operational",cdn_status:"operational",overall_status:"operational",last_checked:new Date().toISOString()}),PI=async t=>[],AI=async t=>[],OI=async(t,s)=>({period:s,user_growth:[],revenue_growth:[],order_volume:[]}),$I=async(t,s)=>{await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/alerts/${s}`,{status:"dismissed"},{headers:{Authorization:`Bearer ${t}`}})};function TI(){var P,E,z,O;const t=ae(b=>b.authentication_state.current_user),[s,r]=Ie(),a=Fe(),n=s.get("date_range")||"last_30_days",{data:i,isLoading:l,error:o,refetch:c}=ie({queryKey:["platformMetrics",n],queryFn:()=>SI(authToken,n),enabled:!!authToken,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),{data:d,isLoading:m,refetch:u}=ie({queryKey:["systemHealth"],queryFn:()=>CI(authToken),enabled:!!authToken,refetchInterval:3e4,refetchOnWindowFocus:!1}),{data:x=[],isLoading:h,refetch:f}=ie({queryKey:["recentActivity"],queryFn:()=>PI(authToken),enabled:!!authToken,staleTime:60*1e3,refetchOnWindowFocus:!1}),{data:p=[],isLoading:N,refetch:y}=ie({queryKey:["activeAlerts"],queryFn:()=>AI(authToken),enabled:!!authToken,staleTime:60*1e3,refetchOnWindowFocus:!1}),{data:j,isLoading:g,refetch:S}=ie({queryKey:["growthMetrics",n],queryFn:()=>OI(authToken,n),enabled:!!authToken,staleTime:5*60*1e3,refetchOnWindowFocus:!1}),w=ue({mutationFn:b=>$I(authToken,b),onSuccess:()=>{a.invalidateQueries({queryKey:["activeAlerts"]})}}),C=b=>{r(L=>{const v=new URLSearchParams(L);return v.set("date_range",b),v})},_=b=>{w.mutate(b)},$=()=>{c(),u(),f(),y(),S()},F=k.useMemo(()=>({pending_supplier_applications:0,open_disputes:(i==null?void 0:i.pending_disputes)||0,flagged_content:0,failed_payments:0,system_errors:0}),[i]),T=b=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(b),R=b=>new Intl.NumberFormat("en-US").format(b),A=b=>{switch(b){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},M=b=>{const L=new Date(b),D=new Date().getTime()-L.getTime(),U=Math.floor(D/6e4);if(U<1)return"Just now";if(U<60)return`${U}m ago`;const q=Math.floor(U/60);return q<24?`${q}h ago`:`${Math.floor(q/24)}d ago`};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Operations Center"}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Welcome back, ",t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:n,onChange:b=>C(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_quarter",children:"Last Quarter"}),e.jsx("option",{value:"last_year",children:"Last Year"})]}),e.jsxs("button",{onClick:$,disabled:l||m,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[e.jsx(Ht,{className:`w-4 h-4 ${l||m?"animate-spin":""}`}),e.jsx("span",{children:"Refresh"})]})]})]})}),d&&e.jsx("div",{className:`mb-6 p-4 rounded-lg border-2 ${d.overall_status==="operational"?"bg-green-50 border-green-200":d.overall_status==="degraded"?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[d.overall_status==="operational"?e.jsx(fe,{className:"w-6 h-6 text-green-600"}):d.overall_status==="degraded"?e.jsx(as,{className:"w-6 h-6 text-yellow-600"}):e.jsx(rt,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsxs("h3",{className:`font-semibold ${d.overall_status==="operational"?"text-green-900":d.overall_status==="degraded"?"text-yellow-900":"text-red-900"}`,children:["System Status: ",d.overall_status.charAt(0).toUpperCase()+d.overall_status.slice(1)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Last checked: ",M(d.last_checked)]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tS,{className:`w-4 h-4 ${d.api_status==="operational"?"text-green-600":"text-red-600"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"API"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vh,{className:`w-4 h-4 ${d.database_status==="operational"?"text-green-600":"text-red-600"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"DB"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tr,{className:`w-4 h-4 ${d.payment_gateway_status==="operational"?"text-green-600":"text-red-600"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Payments"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Kt,{className:`w-4 h-4 ${d.email_service_status==="operational"?"text-green-600":"text-red-600"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Email"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Um,{className:`w-4 h-4 ${d.sms_service_status==="operational"?"text-green-600":"text-red-600"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"SMS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(o9,{className:`w-4 h-4 ${d.cdn_status==="operational"?"text-green-600":"text-red-600"}`}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"CDN"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:l?e.jsx("span",{className:"animate-pulse",children:"-"}):R((i==null?void 0:i.total_users)||0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[R((i==null?void 0:i.total_customers)||0)," customers  ",R((i==null?void 0:i.total_suppliers)||0)," suppliers"]})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Tt,{className:"w-8 h-8 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:l?e.jsx("span",{className:"animate-pulse",children:"-"}):R((i==null?void 0:i.total_orders)||0)}),e.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[R((i==null?void 0:i.active_orders)||0)," active"]})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Je,{className:"w-8 h-8 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:l?e.jsx("span",{className:"animate-pulse",children:"-"}):T((i==null?void 0:i.total_revenue)||0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["GMV: ",T((i==null?void 0:i.gmv)||0)]})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Be,{className:"w-8 h-8 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Disputes"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:l?e.jsx("span",{className:"animate-pulse",children:"-"}):R((i==null?void 0:i.pending_disputes)||0)}),e.jsxs(G,{to:"/admin/disputes",className:"text-xs text-blue-600 hover:text-blue-800 mt-1 inline-flex items-center space-x-1",children:[e.jsx("span",{children:"View all"}),e.jsx(Ff,{className:"w-3 h-3"})]})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(as,{className:"w-8 h-8 text-orange-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[e.jsx(G,{to:"/admin/supplier-applications?status_filter=pending_review",className:"bg-white rounded-lg shadow border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Pending Applications"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:F.pending_supplier_applications})]}),e.jsx(We,{className:"w-6 h-6 text-blue-600"})]})}),e.jsx(G,{to:"/admin/disputes?status_filter=open",className:"bg-white rounded-lg shadow border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Open Disputes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:F.open_disputes})]}),e.jsx(he,{className:"w-6 h-6 text-orange-600"})]})}),e.jsx(G,{to:"/admin/reviews?flagged_only=true",className:"bg-white rounded-lg shadow border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Flagged Content"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:F.flagged_content})]}),e.jsx(Bi,{className:"w-6 h-6 text-red-600"})]})}),e.jsx(G,{to:"/admin/financials?section=failed_payments",className:"bg-white rounded-lg shadow border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"Failed Payments"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:F.failed_payments})]}),e.jsx(rt,{className:"w-6 h-6 text-red-600"})]})}),e.jsx(G,{to:"/admin/system-logs?log_level=error",className:"bg-white rounded-lg shadow border border-gray-200 p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-600",children:"System Errors"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:F.system_errors})]}),e.jsx(oa,{className:"w-6 h-6 text-gray-600"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Growth Trends"}),e.jsx(Ve,{className:"w-5 h-5 text-blue-600"})]}),g?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"User Growth"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[((P=j==null?void 0:j.user_growth)==null?void 0:P.length)||0," data points"]})]}),e.jsx("div",{className:"h-32 flex items-end space-x-1",children:((E=j==null?void 0:j.user_growth)==null?void 0:E.slice(-30).map((b,L)=>e.jsx("div",{className:"flex-1 bg-blue-500 rounded-t hover:bg-blue-600 transition-colors cursor-pointer",style:{height:`${(b.users||0)/Math.max(...j.user_growth.map(v=>v.users||0),1)*100}%`},title:`${b.date}: ${b.users} users`},L)))||e.jsx("div",{className:"w-full text-center text-gray-400 py-12",children:"No growth data available"})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Revenue Growth"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[((z=j==null?void 0:j.revenue_growth)==null?void 0:z.length)||0," data points"]})]}),e.jsx("div",{className:"h-32 flex items-end space-x-1",children:((O=j==null?void 0:j.revenue_growth)==null?void 0:O.slice(-30).map((b,L)=>e.jsx("div",{className:"flex-1 bg-green-500 rounded-t hover:bg-green-600 transition-colors cursor-pointer",style:{height:`${(b.revenue||0)/Math.max(...j.revenue_growth.map(v=>v.revenue||0),1)*100}%`},title:`${b.date}: ${T(b.revenue||0)}`},L)))||e.jsx("div",{className:"w-full text-center text-gray-400 py-12",children:"No revenue data available"})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),e.jsx("button",{onClick:()=>f(),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Refresh"})]}),h?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):x.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(oa,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No recent activity"})]}):e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:x.map(b=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:e.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900",children:b.description}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M(b.timestamp)})]}),b.entity_type&&b.entity_id&&e.jsx(G,{to:`/admin/${b.entity_type}s/${b.entity_id}`,className:"text-blue-600 hover:text-blue-800",children:e.jsx(Ff,{className:"w-4 h-4"})})]},b.activity_id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Active Alerts"}),e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-semibold rounded-full",children:p.length})]}),N?e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):p.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fe,{className:"w-12 h-12 mx-auto mb-3 text-green-500"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"All systems normal"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"No active alerts"})]}):e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:p.map(b=>e.jsx("div",{className:`p-4 rounded-lg border-2 ${A(b.severity)}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${A(b.severity)}`,children:b.severity.toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-500",children:M(b.created_date)})]}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:b.title}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:b.description}),b.affected_users&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Affects ",R(b.affected_users)," users"]})]}),e.jsx("button",{onClick:()=>_(b.alert_id),disabled:w.isPending,className:"ml-2 text-gray-400 hover:text-gray-600 focus:outline-none disabled:opacity-50",children:e.jsx(be,{className:"w-4 h-4"})})]})},b.alert_id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"System Performance"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Platform Uptime"}),e.jsxs("span",{className:"text-sm font-bold text-green-600",children:[((i==null?void 0:i.platform_uptime)||99.9).toFixed(2),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all",style:{width:`${(i==null?void 0:i.platform_uptime)||99.9}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Avg Response Time"}),e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[(i==null?void 0:i.avg_response_time)||0,"ms"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${((i==null?void 0:i.avg_response_time)||0)<200?"bg-green-600":((i==null?void 0:i.avg_response_time)||0)<500?"bg-yellow-600":"bg-red-600"}`,style:{width:`${Math.min(((i==null?void 0:i.avg_response_time)||0)/1e3*100,100)}%`}})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{to:"/admin/customers",className:"block text-sm text-blue-600 hover:text-blue-800 hover:underline",children:" Manage Customers"}),e.jsx(G,{to:"/admin/suppliers",className:"block text-sm text-blue-600 hover:text-blue-800 hover:underline",children:" Manage Suppliers"}),e.jsx(G,{to:"/admin/orders",className:"block text-sm text-blue-600 hover:text-blue-800 hover:underline",children:" View All Orders"}),e.jsx(G,{to:"/admin/analytics",className:"block text-sm text-blue-600 hover:text-blue-800 hover:underline",children:" Detailed Analytics"}),e.jsx(G,{to:"/admin/settings",className:"block text-sm text-blue-600 hover:text-blue-800 hover:underline",children:" Platform Settings"})]})]})]})]})]})]}),o&&e.jsx("div",{className:"mt-6 bg-red-50 border-2 border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(rt,{className:"w-6 h-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900",children:"Failed to load platform metrics"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:o instanceof Error?o.message:"An error occurred"}),e.jsx("button",{onClick:()=>c(),className:"mt-3 text-sm font-medium text-red-600 hover:text-red-800 underline",children:"Try again"})]})]})})]})})})}const EI=async(t,s,r)=>{if(!r)throw new Error("No auth token");const a=new URLSearchParams;a.append("user_type","customer"),t.query&&a.append("query",t.query),t.status&&a.append("status",t.status),a.append("limit",s.limit.toString()),a.append("offset",((s.current_page-1)*s.limit).toString()),a.append("sort_by",t.sort_by),a.append("sort_order",t.sort_order);const n=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/users?${a.toString()}`,{headers:{Authorization:`Bearer ${r}`}}),i=n.data.users.map(o=>{var c,d,m,u,x;return{user_id:o.user_id,customer_id:((c=o.customer)==null?void 0:c.customer_id)||null,email:o.email,first_name:o.first_name,last_name:o.last_name,account_type:((d=o.customer)==null?void 0:d.account_type)||null,trade_credit_status:((m=o.customer)==null?void 0:m.trade_credit_status)||null,total_orders:((u=o.customer)==null?void 0:u.total_orders)||0,total_spent:((x=o.customer)==null?void 0:x.total_spent)||0,registration_date:o.registration_date,last_login_date:o.last_login_date,status:o.status,email_verified:o.email_verified}}),l={current_page:Math.floor(n.data.offset/n.data.limit)+1,total_pages:Math.ceil(n.data.total/n.data.limit),total_count:n.data.total,limit:n.data.limit};return{customers_list:i,pagination:l}},MI=async(t,s)=>{var a,n,i,l,o,c,d,m,u,x;if(!s)throw new Error("No auth token");const r=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/users/${t}`,{headers:{Authorization:`Bearer ${s}`}});return{user_id:r.data.user_id,customer_id:((a=r.data.customer)==null?void 0:a.customer_id)||null,email:r.data.email,first_name:r.data.first_name,last_name:r.data.last_name,phone_number:r.data.phone_number,account_type:((n=r.data.customer)==null?void 0:n.account_type)||null,trade_credit_limit:((i=r.data.customer)==null?void 0:i.trade_credit_limit)||null,trade_credit_balance:((l=r.data.customer)==null?void 0:l.trade_credit_balance)||null,trade_credit_used:((o=r.data.customer)==null?void 0:o.trade_credit_used)||null,trade_credit_status:((c=r.data.customer)==null?void 0:c.trade_credit_status)||null,total_orders:((d=r.data.customer)==null?void 0:d.total_orders)||0,total_spent:((m=r.data.customer)==null?void 0:m.total_spent)||0,avg_order_value:((u=r.data.customer)==null?void 0:u.total_orders)>0?(((x=r.data.customer)==null?void 0:x.total_spent)||0)/r.data.customer.total_orders:0,registration_date:r.data.registration_date,last_login_date:r.data.last_login_date,status:r.data.status,email_verified:r.data.email_verified,addresses:r.data.addresses||[],payment_methods:r.data.payment_methods||[],recent_orders:r.data.recent_orders||[]}},FI=async(t,s,r)=>{if(!r)throw new Error("No auth token");await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/users/${t}`,{status:s},{headers:{Authorization:`Bearer ${r}`}})},m_=()=>{var B;const t=Fe(),[s,r]=Ie(),a=ae(W=>W.authentication_state.auth_token),n=ae(W=>W.authentication_state.current_user),[i,l]=k.useState({query:s.get("search_query")||null,status:s.get("status_filter")||null,account_type:s.get("account_type_filter")||null,date_range:s.get("registration_date_range")||null,spending_tier:s.get("spending_tier")||null,sort_by:s.get("sort_by")||"registration_date",sort_order:s.get("sort_order")||"desc"}),[o,c]=k.useState({current_page:parseInt(s.get("page")||"1"),total_pages:1,total_count:0,limit:50}),[d,m]=k.useState(!1),[u,x]=k.useState(null),[h,f]=k.useState([]),[p,N]=k.useState(i.query||""),[y,j]=k.useState(!1);k.useEffect(()=>{const W=new URLSearchParams;i.query&&W.set("search_query",i.query),i.status&&W.set("status_filter",i.status),i.account_type&&W.set("account_type_filter",i.account_type),i.date_range&&W.set("registration_date_range",i.date_range),i.spending_tier&&W.set("spending_tier",i.spending_tier),o.current_page>1&&W.set("page",o.current_page.toString()),i.sort_by&&W.set("sort_by",i.sort_by),i.sort_order&&W.set("sort_order",i.sort_order),r(W,{replace:!0})},[i,o.current_page,r]),k.useEffect(()=>{const W=setTimeout(()=>{p!==i.query&&(l(I=>({...I,query:p||null})),c(I=>({...I,current_page:1})))},500);return()=>clearTimeout(W)},[p]);const{data:g,isLoading:S,error:w,refetch:C}=ie({queryKey:["admin-customers",i,o.current_page],queryFn:()=>EI(i,o,a),enabled:!!a&&(n==null?void 0:n.user_type)==="admin",staleTime:6e4});k.useEffect(()=>{g!=null&&g.pagination&&c(W=>({...W,...g.pagination}))},[g]);const _=(g==null?void 0:g.customers_list)||[],{data:$,isLoading:F,error:T}=ie({queryKey:["admin-customer-detail",u],queryFn:()=>MI(u,a),enabled:!!u&&!!a,staleTime:3e4}),R=ue({mutationFn:({userId:W,newStatus:I})=>FI(W,I,a),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-customers"]}),t.invalidateQueries({queryKey:["admin-customer-detail",u]})}}),A=(W,I)=>{l(Q=>({...Q,[W]:I})),c(Q=>({...Q,current_page:1}))},M=W=>{c(I=>({...I,current_page:W})),window.scrollTo({top:0,behavior:"smooth"})},P=W=>{x(W),m(!0)},E=()=>{m(!1),x(null)},z=W=>{f(I=>I.includes(W)?I.filter(Q=>Q!==W):[...I,W])},O=()=>{h.length===_.length?f([]):f(_.map(W=>W.user_id))},b=async(W,I)=>{try{await R.mutateAsync({userId:W,newStatus:I})}catch(Q){console.error("Failed to update status:",Q)}},L=async W=>{try{await Promise.all(h.map(I=>R.mutateAsync({userId:I,newStatus:W}))),f([])}catch(I){console.error("Bulk update failed:",I)}},v=async()=>{const W=[["Email","Name","Account Type","Status","Total Orders","Total Spent","Registration Date"].join(","),..._.map(Y=>[Y.email,`${Y.first_name||""} ${Y.last_name||""}`.trim(),Y.account_type||"N/A",Y.status,Y.total_orders,Y.total_spent.toFixed(2),new Date(Y.registration_date).toLocaleDateString()].join(","))].join(`
`),I=new Blob([W],{type:"text/csv"}),Q=window.URL.createObjectURL(I),Z=document.createElement("a");Z.href=Q,Z.download=`customers-export-${new Date().toISOString().split("T")[0]}.csv`,Z.click(),window.URL.revokeObjectURL(Q)},D=W=>W.first_name&&W.last_name?`${W.first_name} ${W.last_name}`:W.email,U=W=>{switch(W){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-gray-100 text-gray-800 border-gray-200";case"suspended":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},q=W=>W?W==="trade"?"bg-blue-100 text-blue-800 border-blue-200":"bg-purple-100 text-purple-800 border-purple-200":null;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customer Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage customer accounts, monitor activity, and provide support"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:v,disabled:S,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),h.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm text-gray-700 font-medium",children:[h.length," selected"]}),e.jsxs("button",{onClick:()=>L("suspended"),disabled:R.isPending,className:"inline-flex items-center px-3 py-2 border border-red-300 rounded-lg text-sm font-medium text-red-700 bg-red-50 hover:bg-red-100 transition-colors",children:[e.jsx(e9,{className:"h-4 w-4 mr-1"}),"Suspend"]}),e.jsxs("button",{onClick:()=>L("active"),disabled:R.isPending,className:"inline-flex items-center px-3 py-2 border border-green-300 rounded-lg text-sm font-medium text-green-700 bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(fe,{className:"h-4 w-4 mr-1"}),"Activate"]})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-lg",children:e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name or email...",value:p,onChange:W=>N(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),p&&e.jsx("button",{onClick:()=>{N(""),l(W=>({...W,query:null}))},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(be,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>j(!y),className:`inline-flex items-center px-4 py-2 border rounded-lg text-sm font-medium transition-colors ${y?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"}`,children:[e.jsx($r,{className:"h-4 w-4 mr-2"}),"Filters",(i.status||i.account_type||i.spending_tier)&&e.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full",children:[i.status,i.account_type,i.spending_tier].filter(Boolean).length})]}),e.jsxs("select",{value:`${i.sort_by}:${i.sort_order}`,onChange:W=>{const[I,Q]=W.target.value.split(":");l(Z=>({...Z,sort_by:I,sort_order:Q}))},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"registration_date:desc",children:"Newest First"}),e.jsx("option",{value:"registration_date:asc",children:"Oldest First"}),e.jsx("option",{value:"last_login_date:desc",children:"Recent Activity"}),e.jsx("option",{value:"total_spent:desc",children:"Highest Spending"}),e.jsx("option",{value:"total_orders:desc",children:"Most Orders"})]}),e.jsx("button",{onClick:()=>C(),disabled:S,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 transition-colors",children:e.jsx(Ht,{className:`h-4 w-4 ${S?"animate-spin":""}`})})]})]}),y&&e.jsx("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Status"}),e.jsxs("select",{value:i.status||"",onChange:W=>A("status",W.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),e.jsxs("select",{value:i.account_type||"",onChange:W=>A("account_type",W.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"retail",children:"Retail"}),e.jsx("option",{value:"trade",children:"Trade"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Spending Tier"}),e.jsxs("select",{value:i.spending_tier||"",onChange:W=>A("spending_tier",W.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Tiers"}),e.jsx("option",{value:"high",children:"High Value ($10k+)"}),e.jsx("option",{value:"medium",children:"Medium Value ($1k-$10k)"}),e.jsx("option",{value:"low",children:"Low Value (<$1k)"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{l({query:null,status:null,account_type:null,date_range:null,spending_tier:null,sort_by:"registration_date",sort_order:"desc"}),N("")},className:"w-full px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Clear All Filters"})})]})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Customers"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:o.total_count.toLocaleString()})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Bs,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Accounts"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-green-600",children:_.filter(W=>W.status==="active").length})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(fe,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Verified Emails"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-blue-600",children:_.filter(W=>W.email_verified).length})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Kt,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Trade Accounts"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-purple-600",children:_.filter(W=>W.account_type==="trade").length})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Lf,{className:"h-6 w-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Customer Accounts",i.query&&e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500",children:['- Results for "',i.query,'"']})]}),_.length>0&&e.jsx("button",{onClick:O,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:h.length===_.length?"Deselect All":"Select All"})]})}),S&&e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading customers..."})]})}),w&&e.jsx("div",{className:"py-12 px-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsx("p",{className:"text-red-800",children:"Failed to load customers. Please try again."})]})})}),!S&&!w&&_.length===0&&e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(Bs,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No customers found"}),e.jsx("p",{className:"text-gray-600",children:i.query?"Try adjusting your search or filters":"No customer accounts in the system yet"})]}),!S&&!w&&_.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:h.length===_.length&&_.length>0,onChange:O,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Account Type"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Spent"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registered"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(W=>{var I;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>P(W.user_id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",onClick:Q=>Q.stopPropagation(),children:e.jsx("input",{type:"checkbox",checked:h.includes(W.user_id),onChange:()=>z(W.user_id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-sm",children:(((I=W.first_name)==null?void 0:I[0])||W.email[0]).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:D(W)}),e.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[W.email,!W.email_verified&&e.jsx(rt,{className:"h-3 w-3 text-amber-500 ml-1","aria-label":"Email not verified"})]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:W.account_type&&e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${q(W.account_type)}`,children:W.account_type==="trade"?"Trade":"Retail"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${U(W.status)}`,children:W.status.charAt(0).toUpperCase()+W.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:W.total_orders}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["$",W.total_spent.toFixed(2)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(W.registration_date).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:Q=>Q.stopPropagation(),children:e.jsx("button",{onClick:()=>P(W.user_id),className:"text-blue-600 hover:text-blue-900 mr-3",children:e.jsx(Lt,{className:"h-4 w-4 inline"})})})]},W.user_id)})})]})}),!S&&_.length>0&&o.total_pages>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(o.current_page-1)*o.limit+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(o.current_page*o.limit,o.total_count)})," of"," ",e.jsx("span",{className:"font-medium",children:o.total_count})," customers"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>M(o.current_page-1),disabled:o.current_page===1,className:"p-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ms,{className:"h-5 w-5"})}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",o.current_page," of ",o.total_pages]}),e.jsx("button",{onClick:()=>M(o.current_page+1),disabled:o.current_page===o.total_pages,className:"p-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Qe,{className:"h-5 w-5"})})]})]})})]})]}),d&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Details"}),e.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(be,{className:"h-6 w-6 text-gray-500"})})]})}),F&&e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading customer details..."})]})}),T&&e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-800",children:"Failed to load customer details"})})}),!F&&!T&&$&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:(((B=$.first_name)==null?void 0:B[0])||$.email[0]).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:$.first_name&&$.last_name?`${$.first_name} ${$.last_name}`:"No name provided"}),e.jsx("p",{className:"text-gray-600",children:$.email}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${U($.status)}`,children:$.status}),$.email_verified?e.jsxs("span",{className:"inline-flex items-center text-xs text-green-700",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),"Verified"]}):e.jsxs("span",{className:"inline-flex items-center text-xs text-amber-600",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Unverified"]})]})]})]}),e.jsx("div",{className:"flex flex-col space-y-2",children:e.jsxs("select",{value:$.status,onChange:W=>b($.user_id,W.target.value),disabled:R.isPending,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"suspended",children:"Suspended"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Account Type"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:$.account_type?e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border ${q($.account_type)}`,children:$.account_type==="trade"?"Trade":"Retail"}):"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Total Orders"}),e.jsx("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:$.total_orders})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Total Spent"}),e.jsxs("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:["$",$.total_spent.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Avg Order Value"}),e.jsxs("p",{className:"mt-1 text-sm font-semibold text-gray-900",children:["$",$.avg_order_value.toFixed(2)]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Contact Information"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Email:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:$.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Phone:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:$.phone_number||"Not provided"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Registered:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date($.registration_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Login:"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:$.last_login_date?new Date($.last_login_date).toLocaleDateString():"Never"})]})]})]}),$.account_type==="trade"&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Trade Credit"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 uppercase tracking-wide",children:"Credit Limit"}),e.jsxs("p",{className:"mt-1 text-lg font-bold text-blue-900",children:["$",($.trade_credit_limit||0).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 uppercase tracking-wide",children:"Used"}),e.jsxs("p",{className:"mt-1 text-lg font-bold text-blue-900",children:["$",($.trade_credit_used||0).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-blue-700 uppercase tracking-wide",children:"Available"}),e.jsxs("p",{className:"mt-1 text-lg font-bold text-green-700",children:["$",($.trade_credit_balance||0).toFixed(2)]})]})]}),$.trade_credit_status&&e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-xs text-blue-700",children:"Status: "}),e.jsx("span",{className:"text-xs font-semibold text-blue-900",children:$.trade_credit_status.replace(/_/g," ").toUpperCase()})]})]})]}),$.addresses&&$.addresses.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Saved Addresses"}),e.jsx("div",{className:"space-y-2",children:$.addresses.map((W,I)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-3",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[W.street_address,W.apt_suite&&`, ${W.apt_suite}`]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[W.city,", ",W.state," ",W.postal_code]}),W.is_default&&e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Default"})]},I))})]}),$.recent_orders&&$.recent_orders.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Recent Orders"}),e.jsx("div",{className:"space-y-2",children:$.recent_orders.slice(0,5).map((W,I)=>{var Q,Z;return e.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Order #",W.order_number||((Q=W.order_id)==null?void 0:Q.substring(0,8))]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(W.order_date).toLocaleDateString()})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["$",((Z=W.total_amount)==null?void 0:Z.toFixed(2))||"0.00"]}),e.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-medium rounded ${W.status==="delivered"?"bg-green-100 text-green-800":W.status==="cancelled"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:W.status})]})]},I)})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Admin Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(G,{to:`/admin/orders?customer_id=${$.customer_id}`,className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Ff,{className:"h-4 w-4 mr-2"}),"View All Orders"]}),e.jsxs("button",{onClick:()=>{alert("Impersonation feature - would open customer session")},className:"inline-flex items-center justify-center px-4 py-2 border border-blue-300 rounded-lg text-sm font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",children:[e.jsx(Lf,{className:"h-4 w-4 mr-2"}),"Impersonate Account"]}),e.jsxs("button",{onClick:()=>{alert("Send message feature")},className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Kt,{className:"h-4 w-4 mr-2"}),"Send Message"]}),e.jsx("button",{onClick:E,className:"inline-flex items-center justify-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Close"})]})]})]})]})})]})})},Pu="https://123create-construction-app-with-a.launchpulse.ai/api",RI=async(t,s,r,a=50,n=0)=>{const i={limit:a,offset:n};return s&&(i.application_status=s),r&&(i.assigned_reviewer_id=r),(await H.get(`${Pu}/admin/supplier-applications`,{headers:{Authorization:`Bearer ${t}`},params:i})).data},LI=async(t,s)=>(await H.get(`${Pu}/admin/supplier-applications/${s}`,{headers:{Authorization:`Bearer ${t}`}})).data,DI=async(t,s)=>(await H.post(`${Pu}/admin/supplier-applications/${s}/approve`,{},{headers:{Authorization:`Bearer ${t}`}})).data,II=async(t,s,r)=>(await H.post(`${Pu}/admin/supplier-applications/${s}/reject`,{rejection_reason:r},{headers:{Authorization:`Bearer ${t}`}})).data,BI=async(t,s,r)=>(await H.patch(`${Pu}/admin/supplier-applications/${s}`,{verification_checklist:r},{headers:{Authorization:`Bearer ${t}`}})).data,qI=()=>{const t=Fe(),[s,r]=Ie(),a=ae(I=>I.authentication_state.auth_token),[n,i]=k.useState(null),[l,o]=k.useState(!1),[c,d]=k.useState(""),[m,u]=k.useState(""),[x,h]=k.useState(!1),[f,p]=k.useState(""),N=s.get("status_filter"),y=s.get("assigned_reviewer"),j=parseInt(s.get("page")||"1",10),g=50,{data:S,isLoading:w,error:C}=ie({queryKey:["admin-supplier-applications",N,y,j],queryFn:()=>RI(a,N,y,g,(j-1)*g),enabled:!!a,staleTime:3e4,select:I=>({...I,applications:I.applications||[]})}),{data:_,isLoading:$}=ie({queryKey:["supplier-application-details",n],queryFn:()=>LI(a,n),enabled:!!a&&!!n,staleTime:3e4}),F=ue({mutationFn:I=>DI(a,I),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-supplier-applications"]}),t.invalidateQueries({queryKey:["supplier-application-details"]}),i(null)}}),T=ue({mutationFn:({application_id:I,reason:Q})=>II(a,I,Q),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-supplier-applications"]}),t.invalidateQueries({queryKey:["supplier-application-details"]}),o(!1),d(""),u(""),i(null)}}),R=ue({mutationFn:({application_id:I,checklist:Q})=>BI(a,I,Q),onSuccess:()=>{t.invalidateQueries({queryKey:["supplier-application-details",n]})}}),A=(S==null?void 0:S.applications)||[],M=(S==null?void 0:S.total)||0,P=Math.ceil(M/g),E=(I,Q)=>{const Z=new URLSearchParams(s);Q?Z.set(I,Q):Z.delete(I),Z.set("page","1"),r(Z)},z=I=>{const Q=new URLSearchParams(s);Q.set("page",I.toString()),r(Q)},O=I=>{i(I)},b=I=>{if(!_)return;const Q={..._.verification_checklist,[I]:!_.verification_checklist[I]};R.mutate({application_id:_.application_id,checklist:Q})},L=()=>{_&&window.confirm(`Are you sure you want to approve ${_.business_name}?`)&&F.mutate(_.application_id)},v=()=>{o(!0)},D=()=>{!_||!c.trim()||T.mutate({application_id:_.application_id,reason:c.trim()})},U=I=>{p(I),h(!0)},q=I=>{switch(I){case"pending_review":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"under_review":return"bg-blue-100 text-blue-800 border-blue-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},B=I=>I.split("_").map(Q=>Q.charAt(0).toUpperCase()+Q.slice(1)).join(" "),W=I=>{if(!I)return 0;const Q=Object.keys(I).length,Z=Object.values(I).filter(Boolean).length;return Math.round(Z/Q*100)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supplier Applications"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Review and approve supplier applications for platform onboarding"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:[e.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:A.filter(I=>I.application_status==="pending_review").length})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-4 py-2",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Under Review"}),e.jsx("p",{className:"text-2xl font-bold text-blue-700",children:A.filter(I=>I.application_status==="under_review").length})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx($r,{className:"w-5 h-5 text-gray-600"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filters"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Application Status"}),e.jsxs("select",{value:N||"",onChange:I=>E("status_filter",I.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"pending_review",children:"Pending Review"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),(N||y)&&e.jsx("button",{onClick:()=>{r({})},className:"w-full px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear Filters"})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[w?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading applications..."})]}):C?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(he,{className:"w-12 h-12 text-red-500 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-red-600",children:"Failed to load applications"})]}):A.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(We,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No applications found"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:A.map(I=>e.jsxs("button",{onClick:()=>O(I.application_id),className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${n===I.application_id?"bg-blue-50 border-l-4 border-l-blue-600":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:I.business_name}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full border ${q(I.application_status)}`,children:B(I.application_status)})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:I.business_type}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Submitted: ",new Date(I.submitted_date).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all",style:{width:`${W(I.verification_checklist)}%`}})}),e.jsxs("span",{className:"text-xs",children:[W(I.verification_checklist),"%"]})]})]})]},I.application_id))}),P>1&&e.jsxs("div",{className:"border-t border-gray-200 bg-gray-50 px-4 py-3 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>z(j-1),disabled:j===1,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[e.jsx(ms,{className:"w-4 h-4"}),e.jsx("span",{children:"Previous"})]}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",j," of ",P]}),e.jsxs("button",{onClick:()=>z(j+1),disabled:j===P,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",children:[e.jsx("span",{children:"Next"}),e.jsx(Qe,{className:"w-4 h-4"})]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:n?$?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Loading application details..."})]}):_?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:_.business_name}),e.jsx("p",{className:"text-blue-100 text-sm",children:_.business_type})]}),e.jsx("span",{className:`text-sm px-3 py-1 rounded-full border ${q(_.application_status)} bg-white`,children:B(_.application_status)})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Yn,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Registration Number"}),e.jsx("p",{className:"text-sm text-gray-900",children:_.business_registration_number})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Bs,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Contact Person"}),e.jsx("p",{className:"text-sm text-gray-900",children:_.contact_person_name})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(fs,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Business Address"}),e.jsx("p",{className:"text-sm text-gray-900",children:_.business_address})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(nt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Submitted Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:new Date(_.submitted_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),_.business_description&&e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2",children:"Business Description"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:_.business_description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Verification Checklist"}),e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[W(_.verification_checklist),"% Complete"]})]}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${W(_.verification_checklist)}%`}})})]}),e.jsx("div",{className:"p-6 space-y-3",children:Object.entries(_.verification_checklist).map(([I,Q])=>e.jsxs("button",{onClick:()=>b(I),disabled:R.isPending||_.application_status!=="under_review",className:"w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[Q?e.jsx(_9,{className:"w-5 h-5 text-green-600"}):e.jsx(k9,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:`text-sm font-medium ${Q?"text-gray-900":"text-gray-600"}`,children:I.split("_").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1)).join(" ")})]}),Q&&e.jsx(fe,{className:"w-5 h-5 text-green-600"})]},I))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Submitted Documents"})}),e.jsx("div",{className:"p-6 space-y-3",children:Object.entries(_.submitted_documents||{}).map(([I,Q])=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"w-5 h-5 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:I.split("_").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1)).join(" ")})]}),Q?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>U(Q),className:"flex items-center space-x-1 px-3 py-1.5 text-xs font-medium text-blue-700 bg-blue-50 hover:bg-blue-100 rounded-md transition-colors",children:[e.jsx(Lt,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"View"})]}),e.jsxs("a",{href:Q,download:!0,className:"flex items-center space-x-1 px-3 py-1.5 text-xs font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:[e.jsx(gs,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Download"})]})]}):e.jsx("span",{className:"text-xs text-gray-400",children:"Not provided"})]},I))})]}),_.application_status==="pending_review"||_.application_status==="under_review"?e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Review Actions"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:L,disabled:F.isPending||W(_.verification_checklist)<100,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 focus:outline-none focus:ring-4 focus:ring-green-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:F.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Approving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Approve Application"})]})}),e.jsxs("button",{onClick:v,disabled:T.isPending,className:"flex-1 flex items-center justify-center space-x-2 px-6 py-3 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-4 focus:ring-red-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(rt,{className:"w-5 h-5"}),e.jsx("span",{children:"Reject Application"})]})]}),W(_.verification_checklist)<100&&e.jsxs("p",{className:"mt-3 text-xs text-amber-600 flex items-center space-x-1",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Complete all verification items before approving"})]})]}):_.application_status==="approved"?e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(fe,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-900",children:"Application Approved"}),e.jsxs("p",{className:"text-xs text-green-700",children:["Approved on ",_.approved_date?new Date(_.approved_date).toLocaleDateString():"N/A"]})]})]})}):_.application_status==="rejected"?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(rt,{className:"w-6 h-6 text-red-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-red-900 mb-1",children:"Application Rejected"}),_.rejection_reason&&e.jsxs("p",{className:"text-sm text-red-700 bg-red-100 rounded-md p-3 mt-2",children:[e.jsx("strong",{children:"Reason:"})," ",_.rejection_reason]})]})]})}):null]}):e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-12 text-center",children:[e.jsx(he,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Application Not Found"}),e.jsx("p",{className:"text-gray-600",children:"Unable to load application details"})]}):e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-12 text-center",children:[e.jsx(We,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Application Selected"}),e.jsx("p",{className:"text-gray-600",children:"Select an application from the list to view details and begin review"})]})})]})})]}),l&&_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reject Application"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Provide a reason for rejecting ",_.business_name]})]}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"rejection_reason",className:"block text-sm font-medium text-gray-700 mb-2",children:["Rejection Reason ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"rejection_reason",value:c,onChange:I=>d(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"incomplete_documentation",children:"Incomplete Documentation"}),e.jsx("option",{value:"failed_verification",children:"Failed Verification"}),e.jsx("option",{value:"business_type_not_eligible",children:"Business Type Not Eligible"}),e.jsx("option",{value:"duplicate_application",children:"Duplicate Application"}),e.jsx("option",{value:"suspicious_activity",children:"Suspicious Activity"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"rejection_notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes (Optional)"}),e.jsx("textarea",{id:"rejection_notes",value:m,onChange:I=>u(I.target.value),rows:4,placeholder:"Provide additional details about the rejection...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none"})]})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{o(!1),d(""),u("")},disabled:T.isPending,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:D,disabled:T.isPending||!c.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:T.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Rejecting..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{children:"Confirm Rejection"})]})})]})]})}),x&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Document Preview"}),e.jsx("button",{onClick:()=>{h(!1),p("")},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(rt,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-auto bg-gray-100 p-4",children:f.match(/\.(jpg|jpeg|png|gif|webp)$/i)?e.jsx("img",{src:f,alt:"Document",className:"max-w-full h-auto mx-auto rounded-lg shadow-lg"}):f.match(/\.pdf$/i)?e.jsx("iframe",{src:f,className:"w-full h-full min-h-[600px] rounded-lg",title:"PDF Document"}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Preview not available for this file type"}),e.jsxs("a",{href:f,download:!0,className:"mt-4 inline-flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(gs,{className:"w-4 h-4"}),e.jsx("span",{children:"Download File"})]})]})})]})})]})},zI=()=>{const t=ae(q=>q.authentication_state.auth_token),[s,r]=Ie(),a=Fe(),[n,i]=k.useState(""),[l,o]=k.useState(null),[c,d]=k.useState(!1),[m,u]=k.useState(""),[x,h]=k.useState("all"),f=k.useMemo(()=>({supplier_id:s.get("supplier_filter")||null,category_id:s.get("category_filter")||null,status:s.get("status")||null,flagged_only:s.get("flagged_only")==="true"}),[s]),p=k.useMemo(()=>({current_page:Number(s.get("page"))||1,total_pages:1,total_count:0,limit:50}),[s]),{data:N}=ie({queryKey:["admin","categories"],queryFn:async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories",{params:{is_active:!0},headers:t?{Authorization:`Bearer ${t}`}:{}})).data,staleTime:5*60*1e3,enabled:!!t}),y=N||[],{data:j,isLoading:g,error:S}=ie({queryKey:["admin","products",f,p.current_page,n],queryFn:async()=>{const q={limit:p.limit,offset:(p.current_page-1)*p.limit,sort_by:"created_at",sort_order:"desc"};f.supplier_id&&(q.supplier_id=f.supplier_id),f.category_id&&(q.category=f.category_id),f.status&&(q.status=f.status),n&&(q.search_query=n);const B=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/products",{params:q,headers:t?{Authorization:`Bearer ${t}`}:{}});return{products:B.data.products,total:B.data.total}},staleTime:60*1e3,enabled:!!t&&x==="all"}),w=(j==null?void 0:j.products)||[],C=(j==null?void 0:j.total)||0,_=Math.ceil(C/p.limit),{data:$,isLoading:F}=ie({queryKey:["admin","products","flagged"],queryFn:async()=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/reviews/flagged",{headers:t?{Authorization:`Bearer ${t}`}:{}})).data,staleTime:2*60*1e3,enabled:!!t&&x==="flagged"}),T=$||[],R=k.useMemo(()=>({pending_count:w.filter(q=>q.status==="active").length,flagged_count:T.length,reviewed_count:C-T.length}),[w,T,C]),A=ue({mutationFn:async({product_id:q,action:B,reason:W})=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/reviews/${q}/moderate`,{action:B,reason:W},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{a.invalidateQueries({queryKey:["admin","products"]}),a.invalidateQueries({queryKey:["admin","products","flagged"]}),d(!1),o(null),u("")}}),M=ue({mutationFn:async({product_id:q,status:B})=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/products/${q}`,{status:B},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{a.invalidateQueries({queryKey:["admin","products"]})}}),P=(q,B)=>{const W=new URLSearchParams(s);B===null||B===""?W.delete(q==="supplier_id"?"supplier_filter":q==="category_id"?"category_filter":q):q==="supplier_id"?W.set("supplier_filter",B):q==="category_id"?W.set("category_filter",B):q==="flagged_only"?W.set("flagged_only",B.toString()):W.set(q,B),W.set("page","1"),r(W)},E=q=>{const B=new URLSearchParams(s);B.set("page",q.toString()),r(B)},z=q=>{o(q),d(!0)},O=q=>{l&&A.mutate({product_id:l.product_id,action:q,reason:m||`${q} by admin`})},b=(q,B)=>{M.mutate({product_id:q,status:B})},L=q=>{q.preventDefault();const B=new URLSearchParams(s);n?B.set("search",n):B.delete("search"),B.set("page","1"),r(B)},v=()=>{i(""),r({})},D=g||F,U=A.isPending||M.isPending;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Product Moderation"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Review and moderate product listings to maintain platform quality standards"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(G,{to:"/admin",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Back to Dashboard"})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Review"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:R.pending_count})]}),e.jsx("div",{className:"h-12 w-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx(Lt,{className:"h-6 w-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Flagged Products"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:R.flagged_count})]}),e.jsx("div",{className:"h-12 w-12 bg-red-100 rounded-lg flex items-center justify-center",children:e.jsx(Bi,{className:"h-6 w-6 text-red-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:C})]}),e.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(fe,{className:"h-6 w-6 text-green-600"})})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex space-x-8 px-6",children:[e.jsx("button",{onClick:()=>h("all"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"All Products"}),e.jsxs("button",{onClick:()=>h("flagged"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x==="flagged"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Flagged (",R.flagged_count,")"]})]})}),e.jsxs("div",{className:"p-6 border-b border-gray-200 space-y-4",children:[e.jsxs("form",{onSubmit:L,className:"flex space-x-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:n,onChange:q=>i(q.target.value),placeholder:"Search products by name, SKU, or description...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Search"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{value:f.category_id||"",onChange:q=>P("category_id",q.target.value||null),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Categories"}),y.map(q=>e.jsx("option",{value:q.category_id,children:q.category_name},q.category_id))]}),e.jsxs("select",{value:f.status||"",onChange:q=>P("status",q.target.value||null),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]}),e.jsxs("label",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-50 rounded-lg border-2 border-gray-200 cursor-pointer hover:bg-gray-100 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:f.flagged_only,onChange:q=>P("flagged_only",q.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Flagged Only"})]}),(f.category_id||f.status||f.flagged_only||n)&&e.jsx("button",{onClick:v,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 font-medium",children:"Clear All Filters"})]})]}),x==="all"?e.jsx("div",{className:"overflow-x-auto",children:D?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading products..."})]}):w.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("p",{className:"text-gray-600",children:"No products found matching your filters."}),e.jsx("button",{onClick:v,className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Clear filters"})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(q=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100",children:q.primary_image_url?e.jsx("img",{src:q.primary_image_url,alt:q.product_name,className:"h-12 w-12 object-cover"}):e.jsx("div",{className:"h-12 w-12 flex items-center justify-center text-gray-400",children:e.jsx(Lt,{className:"h-6 w-6"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.product_name}),e.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",q.sku]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:q.category_name||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:q.business_name||"Unknown"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",Number(q.price_per_unit||0).toFixed(2)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["per ",q.unit_of_measure]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:q.stock_quantity})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("select",{value:q.status,onChange:B=>b(q.product_id,B.target.value),className:`px-3 py-1 text-xs font-medium rounded-full border-2 ${q.status==="active"?"bg-green-100 text-green-800 border-green-200":q.status==="inactive"?"bg-gray-100 text-gray-800 border-gray-200":q.status==="out_of_stock"?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,disabled:U,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"out_of_stock",children:"Out of Stock"}),e.jsx("option",{value:"discontinued",children:"Discontinued"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>z(q),className:"text-blue-600 hover:text-blue-900 transition-colors",children:"Review"})})]},q.product_id))})]})}):e.jsx("div",{className:"overflow-x-auto",children:F?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading flagged products..."})]}):T.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(fe,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"No flagged products"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"All products are in good standing"})]}):e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Flag Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Flag Count"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Flagged Date"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(q=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.product_name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:q.supplier_id})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-700",children:q.flag_reason})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:[q.flag_count," flags"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-500",children:new Date(q.flagged_date).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{onClick:()=>{const B=w.find(W=>W.product_id===q.product_id);B&&z(B)},className:"text-blue-600 hover:text-blue-900 transition-colors",children:"Review"})})]},q.product_id))})]})}),x==="all"&&_>1&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(p.current_page-1)*p.limit+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(p.current_page*p.limit,C)})," ","of ",e.jsx("span",{className:"font-medium",children:C})," products"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E(p.current_page-1),disabled:p.current_page===1,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(ms,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(Math.min(5,_))].map((q,B)=>{const W=B+1;return e.jsx("button",{onClick:()=>E(W),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${p.current_page===W?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:W},W)})}),e.jsx("button",{onClick:()=>E(p.current_page+1),disabled:p.current_page>=_,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.jsx(Qe,{className:"h-5 w-5"})})]})]})})]})})]}),c&&l&&e.jsx("div",{className:"fixed inset-0 overflow-hidden z-50",children:e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:()=>d(!1)}),e.jsx("div",{className:"fixed inset-y-0 right-0 pl-10 max-w-full flex",children:e.jsx("div",{className:"w-screen max-w-2xl",children:e.jsxs("div",{className:"h-full flex flex-col bg-white shadow-xl overflow-y-scroll",children:[e.jsx("div",{className:"px-6 py-6 bg-gray-50 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Product Moderation Review"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Review product details and take moderation actions"})]}),e.jsxs("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-500 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})}),e.jsxs("div",{className:"flex-1 px-6 py-6 space-y-6",children:[l.primary_image_url&&e.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:e.jsx("img",{src:l.primary_image_url,alt:l.product_name,className:"w-full h-64 object-cover"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.product_name}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SKU: ",l.sku]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Price"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 mt-1",children:["$",Number(l.price_per_unit||0).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Stock"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900 mt-1",children:[l.stock_quantity," ",l.unit_of_measure]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-700 mt-2 leading-relaxed",children:l.description||"No description provided"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Current Status"}),e.jsx("span",{className:`inline-flex mt-2 px-3 py-1 text-xs font-medium rounded-full ${l.status==="active"?"bg-green-100 text-green-800":l.status==="inactive"?"bg-gray-100 text-gray-800":l.status==="out_of_stock"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:l.status})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"moderation_reason",className:"block text-sm font-medium text-gray-700 mb-2",children:"Moderation Reason/Notes"}),e.jsx("textarea",{id:"moderation_reason",value:m,onChange:q=>u(q.target.value),rows:4,placeholder:"Enter reason for moderation action...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsxs("button",{onClick:()=>O("flag"),disabled:U,className:"px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(Bi,{className:"h-4 w-4"}),e.jsx("span",{children:"Flag for Review"})]}),e.jsxs("button",{onClick:()=>O("reject"),disabled:U,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(rt,{className:"h-4 w-4"}),e.jsx("span",{children:"Reject"})]}),e.jsxs("button",{onClick:()=>O("approve"),disabled:U,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:"Approve"})]})]})})]})})})]})})]})},UI=async(t,s,r)=>{const a=new URLSearchParams;s.status&&a.append("status_filter",s.status),s.has_issues!==null&&a.append("issue_flag",String(s.has_issues)),a.append("limit",String(r.limit)),a.append("offset",String(r.offset));const n=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/orders?${a.toString()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{orders:n.data.orders||[],total:n.data.total||0}},WI=async(t,s)=>{const r=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${s}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{order:r.data.order,items:r.data.items||[],delivery:r.data.delivery||null,timeline:r.data.timeline||[]}},VI=async(t,s,r,a)=>(await H.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/orders/${s}`,{status:r,admin_notes:a},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,HI=async t=>{const s=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/dashboard?metric_type=orders",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),r=s.data.total_orders||0,a=s.data.active_orders||0,n=s.data.pending_disputes||0;return{total_orders:r,completion_rate:r>0?(r-a)/r*100:0,avg_fulfillment_time:48,issue_rate:r>0?n/r*100:0}},KI=()=>{const[t,s]=Ie(),r=Fe(),a=ae(L=>L.authentication_state.auth_token),n=ae(L=>L.authentication_state.current_user),[i,l]=k.useState(null),[o,c]=k.useState(!1),[d,m]=k.useState(!1),[u,x]=k.useState(""),[h,f]=k.useState(""),[p,N]=k.useState(""),[y,j]=k.useState({status:t.get("status_filter")||null,min_total:null,max_total:null,has_issues:t.get("issue_flag")==="true"?!0:null});k.useEffect(()=>{const L=t.get("value_range");L==="high_value"?j(v=>({...v,min_total:1e3,max_total:null})):L==="medium_value"?j(v=>({...v,min_total:100,max_total:1e3})):L==="low_value"&&j(v=>({...v,min_total:null,max_total:100}))},[t]);const[g,S]=k.useState({current_page:1,total_pages:1,total_count:0,limit:50}),{data:w,isLoading:C,error:_}=ie({queryKey:["admin-orders",y,g.current_page,g.limit],queryFn:()=>UI(a,y,{limit:g.limit,offset:(g.current_page-1)*g.limit}),enabled:!!a&&(n==null?void 0:n.user_type)==="admin",staleTime:6e4,refetchOnWindowFocus:!1,select:L=>({orders:L.orders,total:L.total})});k.useEffect(()=>{(w==null?void 0:w.total)!==void 0&&S(L=>({...L,total_count:w.total,total_pages:Math.ceil(w.total/L.limit)}))},[w==null?void 0:w.total]);const{data:$,isLoading:F}=ie({queryKey:["order-details",i],queryFn:()=>WI(a,i),enabled:!!a&&!!i,staleTime:3e4}),{data:T}=ie({queryKey:["admin-order-analytics"],queryFn:()=>HI(a),enabled:!!a&&(n==null?void 0:n.user_type)==="admin",staleTime:12e4,select:L=>({total_orders:L.total_orders,completion_rate:Number(L.completion_rate.toFixed(1)),avg_fulfillment_time:Number(L.avg_fulfillment_time.toFixed(1)),issue_rate:Number(L.issue_rate.toFixed(1))})}),R=ue({mutationFn:({order_id:L,new_status:v,admin_notes:D})=>VI(a,L,v,D),onSuccess:()=>{r.invalidateQueries({queryKey:["admin-orders"]}),r.invalidateQueries({queryKey:["order-details",i]}),m(!1),f(""),x("")}}),A=(L,v)=>{const D={...y,[L]:v};j(D),S(q=>({...q,current_page:1}));const U=new URLSearchParams(t);L==="status"&&v?U.set("status_filter",v):L==="status"&&!v&&U.delete("status_filter"),L==="has_issues"&&v!==null?U.set("issue_flag",String(v)):L==="has_issues"&&v===null&&U.delete("issue_flag"),s(U)},M=L=>{l(L),c(!0)},P=L=>{L.preventDefault(),!(!i||!u)&&R.mutate({order_id:i,new_status:u,admin_notes:h})},E=()=>{c(!1),l(null)},z=()=>{m(!1),x(""),f("")},O=L=>({pending:"bg-yellow-100 text-yellow-800 border border-yellow-200",processing:"bg-blue-100 text-blue-800 border border-blue-200",shipped:"bg-purple-100 text-purple-800 border border-purple-200",in_transit:"bg-indigo-100 text-indigo-800 border border-indigo-200",delivered:"bg-green-100 text-green-800 border border-green-200",cancelled:"bg-red-100 text-red-800 border border-red-200",refunded:"bg-gray-100 text-gray-800 border border-gray-200"})[L]||"bg-gray-100 text-gray-800",b=L=>({pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"})[L]||"bg-gray-100 text-gray-800";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Order Oversight"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Monitor and manage all platform orders with administrative controls"})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsxs("button",{onClick:()=>r.invalidateQueries({queryKey:["admin-orders"]}),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:(T==null?void 0:T.total_orders.toLocaleString())||"0"})]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:e.jsx(Be,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),e.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:[(T==null?void 0:T.completion_rate)||0,"%"]})]}),e.jsx("div",{className:"bg-green-50 rounded-lg p-3",children:e.jsx(fe,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Fulfillment"}),e.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:[(T==null?void 0:T.avg_fulfillment_time)||0,"h"]})]}),e.jsx("div",{className:"bg-purple-50 rounded-lg p-3",children:e.jsx(nt,{className:"h-6 w-6 text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Issue Rate"}),e.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:[(T==null?void 0:T.issue_rate)||0,"%"]})]}),e.jsx("div",{className:"bg-red-50 rounded-lg p-3",children:e.jsx(he,{className:"h-6 w-6 text-red-600"})})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by order number or customer...",value:p,onChange:L=>N(L.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($r,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"})]}),e.jsxs("select",{value:y.status||"",onChange:L=>A("status",L.target.value||null),className:"px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"All Orders"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"in_transit",children:"In Transit"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"refunded",children:"Refunded"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:y.has_issues===!0,onChange:L=>A("has_issues",L.target.checked?!0:null),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"}),e.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:"Issues Only"})]})})]}),(y.status||y.has_issues)&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[y.status&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:["Status: ",y.status,e.jsx("button",{onClick:()=>A("status",null),className:"ml-2 hover:text-blue-900",children:e.jsx(be,{className:"h-3 w-3"})})]}),y.has_issues&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800",children:["Has Issues",e.jsx("button",{onClick:()=>A("has_issues",null),className:"ml-2 hover:text-red-900",children:e.jsx(be,{className:"h-3 w-3"})})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Orders List",(w==null?void 0:w.total)!==void 0&&e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-600",children:["(",w.total.toLocaleString()," total)"]})]})}),C&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading orders..."})]}),_&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(he,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600 font-medium",children:"Failed to load orders"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Please try again later"})]}),!C&&!_&&(!(w!=null&&w.orders)||w.orders.length===0)&&e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No orders found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Try adjusting your filters"})]}),!C&&!_&&(w==null?void 0:w.orders)&&w.orders.length>0&&e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.orders.map(L=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>M(L.order_id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:L.order_number}),e.jsxs("span",{className:"text-xs text-gray-500",children:[L.order_id.substring(0,8),"..."]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900",children:new Date(L.order_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${O(L.status)}`,children:L.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${b(L.payment_status)}`,children:L.payment_status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",L.total_amount.toFixed(2)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{onClick:v=>{v.stopPropagation(),M(L.order_id)},className:"text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"View Details"})})]},L.order_id))})]})}),!C&&w&&w.orders.length>0&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(g.current_page-1)*g.limit+1," to"," ",Math.min(g.current_page*g.limit,g.total_count)," of"," ",g.total_count," orders"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>S(L=>({...L,current_page:Math.max(1,L.current_page-1)})),disabled:g.current_page===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["Page ",g.current_page," of ",g.total_pages]}),e.jsx("button",{onClick:()=>S(L=>({...L,current_page:Math.min(L.total_pages,L.current_page+1)})),disabled:g.current_page===g.total_pages,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})})]})}),o&&i&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:E}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Details"}),e.jsx("button",{onClick:E,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(be,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6",children:[F&&e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading order details..."})]}),!F&&$&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Order Number"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:$.order.order_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Order Date"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date($.order.order_date).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${O($.order.status)}`,children:$.order.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),e.jsx("span",{className:`inline-flex px-3 py-1 text-sm font-semibold rounded-full ${b($.order.payment_status)}`,children:$.order.payment_status})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Items"}),e.jsx("div",{className:"bg-gray-50 rounded-lg divide-y divide-gray-200",children:$.items.map(L=>e.jsxs("div",{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:L.product_name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["SKU: ",L.sku]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",L.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["$",L.line_total.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["$",L.price_per_unit.toFixed(2)," each"]})]})]},L.order_item_id))})]}),e.jsx("div",{className:"bg-blue-50 rounded-lg p-6 mb-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Subtotal"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",$.order.subtotal_amount.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Delivery Fee"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",$.order.delivery_fee_total.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Tax"}),e.jsxs("span",{className:"font-medium text-gray-900",children:["$",$.order.tax_amount.toFixed(2)]})]}),$.order.discount_amount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Discount"}),e.jsxs("span",{className:"font-medium text-green-600",children:["-$",$.order.discount_amount.toFixed(2)]})]}),e.jsxs("div",{className:"border-t border-blue-200 pt-2 mt-2 flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",$.order.total_amount.toFixed(2)]})]})]})}),$.delivery&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Information"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Method"}),e.jsx("p",{className:"font-medium text-gray-900",children:$.delivery.delivery_method})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Status"}),e.jsx("span",{className:`inline-flex px-3 py-1 text-xs font-semibold rounded-full ${O($.delivery.delivery_status)}`,children:$.delivery.delivery_status})]}),$.delivery.tracking_number&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Tracking Number"}),e.jsx("p",{className:"font-medium text-gray-900",children:$.delivery.tracking_number})]}),$.delivery.carrier&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Carrier"}),e.jsx("p",{className:"font-medium text-gray-900",children:$.delivery.carrier})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-6 border-t border-gray-200",children:[e.jsx("button",{onClick:L=>{L.stopPropagation(),m(!0)},className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:"Intervene Order"}),e.jsx(G,{to:`/orders/${$.order.order_id}`,className:"px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors border border-gray-300",children:"View Full Order"})]})]})]})]})]})}),d&&i&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:z}),e.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Order Intervention"}),e.jsx("button",{onClick:z,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(be,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:P,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Order Status *"}),e.jsxs("select",{value:u,onChange:L=>x(L.target.value),required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"",children:"Select status..."}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"processing",children:"Processing"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"in_transit",children:"In Transit"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"}),e.jsx("option",{value:"refunded",children:"Refunded"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Notes *"}),e.jsx("textarea",{value:h,onChange:L=>f(L.target.value),required:!0,rows:4,placeholder:"Provide reason for intervention...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(he,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"This action will update the order status and notify relevant parties."})})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[e.jsx("button",{type:"button",onClick:z,className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:R.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:R.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):"Submit Intervention"})]})]})]})]})})]})})},GI=async(t,s,r)=>{const a=new URLSearchParams;s.status&&a.append("status",s.status),s.issue_type&&a.append("issue_type",s.issue_type),s.assigned_admin_id&&a.append("assigned_admin",s.assigned_admin_id),a.append("limit",r.limit.toString()),a.append("offset",((r.current_page-1)*r.limit).toString());const n=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/disputes?${a.toString()}`,{headers:{Authorization:`Bearer ${t}`}});return{issues:n.data,total:n.data.length}},YI=async(t,s)=>{const r=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/issues/${s}`,{headers:{Authorization:`Bearer ${t}`}});return{issue:r.data.issue||r.data,messages:r.data.messages||[]}},QI=async(t,s,r)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/disputes/${s}/resolve`,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,XI=async(t,s,r)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/issues/${s}/messages`,r,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).data,ZI=()=>{const[t,s]=Ie(),r=Fe(),a=ae(O=>O.authentication_state.auth_token),[n,i]=k.useState(null),[l,o]=k.useState("details"),[c,d]=k.useState(""),[m,u]=k.useState({status:t.get("status_filter"),issue_type:t.get("dispute_type"),assigned_admin_id:t.get("assigned_admin")}),[x,h]=k.useState({resolution_type:"",resolution_amount:null,resolution_description:"",admin_notes:""}),[f,p]=k.useState({current_page:1,total_pages:1,total_count:0,limit:50});k.useEffect(()=>{const O=new URLSearchParams;m.status&&O.set("status_filter",m.status),m.issue_type&&O.set("dispute_type",m.issue_type),m.assigned_admin_id&&O.set("assigned_admin",m.assigned_admin_id),s(O,{replace:!0})},[m,s]);const{data:N,isLoading:y,error:j}=ie({queryKey:["admin_disputes",m,f.current_page],queryFn:()=>GI(a,m,f),enabled:!!a,staleTime:3e4}),g=(N==null?void 0:N.issues)||[],{data:S,isLoading:w}=ie({queryKey:["dispute_details",n==null?void 0:n.issue_id],queryFn:()=>YI(a,n.issue_id),enabled:!!a&&!!n,staleTime:1e4}),C=(S==null?void 0:S.messages)||[],_=ue({mutationFn:O=>QI(a,O.issue_id,O.resolution_data),onSuccess:O=>{r.invalidateQueries({queryKey:["admin_disputes"]}),r.invalidateQueries({queryKey:["dispute_details"]}),i(O),h({resolution_type:"",resolution_amount:null,resolution_description:"",admin_notes:""}),alert("Dispute resolved successfully!")},onError:O=>{var b,L;alert(((L=(b=O.response)==null?void 0:b.data)==null?void 0:L.message)||"Failed to resolve dispute")}}),$=ue({mutationFn:O=>XI(a,O.issue_id,O.message_data),onSuccess:()=>{r.invalidateQueries({queryKey:["dispute_details"]}),d("")},onError:O=>{var b,L;alert(((L=(b=O.response)==null?void 0:b.data)==null?void 0:L.message)||"Failed to send message")}}),F=(O,b)=>{u(L=>({...L,[O]:b})),p(L=>({...L,current_page:1}))},T=O=>{i(O),o("details")},R=O=>{if(O.preventDefault(),!n||!x.resolution_type){alert("Please fill in required fields");return}_.mutate({issue_id:n.issue_id,resolution_data:{resolution_offered:x.resolution_type,resolution_amount:x.resolution_amount,admin_notes:x.admin_notes}})},A=O=>{O.preventDefault(),!(!n||!c.trim())&&$.mutate({issue_id:n.issue_id,message_data:{message_text:c,attachments:[]}})},M={open_disputes_count:g.filter(O=>O.status==="open"||O.status==="under_review").length,avg_resolution_time:g.filter(O=>O.resolved_date).reduce((O,b)=>{const L=new Date(b.opened_date).getTime(),v=new Date(b.resolved_date).getTime();return O+(v-L)/(1e3*60*60)},0)/(g.filter(O=>O.resolved_date).length||1),resolution_outcomes:g.filter(O=>O.resolution_offered).reduce((O,b)=>(O[b.resolution_offered]=(O[b.resolution_offered]||0)+1,O),{})},P=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=O=>{switch(O){case"open":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"under_review":return"bg-blue-100 text-blue-800 border-blue-200";case"resolved":return"bg-green-100 text-green-800 border-green-200";case"closed":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},z=O=>({late_delivery:"Late Delivery",wrong_item:"Wrong Item",damaged_item:"Damaged Item",missing_item:"Missing Item",quality_issue:"Quality Issue",billing_issue:"Billing Issue",delivery_not_attempted:"Delivery Not Attempted",other:"Other"})[O]||O;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dispute Resolution Center"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and resolve customer disputes with mediation tools"})]}),e.jsxs("div",{className:"mt-4 md:mt-0 flex space-x-4",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg px-4 py-2",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:M.open_disputes_count}),e.jsx("div",{className:"text-xs text-yellow-600",children:"Open Disputes"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg px-4 py-2",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-800",children:[M.avg_resolution_time.toFixed(1),"h"]}),e.jsx("div",{className:"text-xs text-blue-600",children:"Avg Resolution Time"})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"status-filter",className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status-filter",value:m.status||"",onChange:O=>F("status",O.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"awaiting_response",children:"Awaiting Response"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"type-filter",className:"block text-xs font-medium text-gray-700 mb-1",children:"Issue Type"}),e.jsxs("select",{id:"type-filter",value:m.issue_type||"",onChange:O=>F("issue_type",O.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"late_delivery",children:"Late Delivery"}),e.jsx("option",{value:"wrong_item",children:"Wrong Item"}),e.jsx("option",{value:"damaged_item",children:"Damaged Item"}),e.jsx("option",{value:"missing_item",children:"Missing Item"}),e.jsx("option",{value:"quality_issue",children:"Quality Issue"}),e.jsx("option",{value:"billing_issue",children:"Billing Issue"}),e.jsx("option",{value:"delivery_not_attempted",children:"Delivery Not Attempted"}),e.jsx("option",{value:"other",children:"Other"})]})]}),(m.status||m.issue_type||m.assigned_admin_id)&&e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{u({status:null,issue_type:null,assigned_admin_id:null})},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear Filters"})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[e.jsx("div",{className:"lg:col-span-5 space-y-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Disputes"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[g.length," dispute",g.length!==1?"s":""," found"]})]}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(100vh - 400px)"},children:y?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):j?e.jsx("div",{className:"p-6 text-center",children:e.jsx("p",{className:"text-red-600 text-sm",children:"Failed to load disputes"})}):g.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"No disputes found"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:g.map(O=>e.jsx("div",{onClick:()=>T(O),className:`p-4 cursor-pointer transition-all hover:bg-gray-50 ${(n==null?void 0:n.issue_id)===O.issue_id?"bg-blue-50 border-l-4 border-blue-600":""}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${E(O.status)}`,children:O.status.replace("_"," ").toUpperCase()}),e.jsx("span",{className:"text-xs text-gray-500",children:z(O.issue_type)})]}),e.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:["Order #",O.order_id.slice(-8)]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:O.description}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500",children:[e.jsx("span",{children:P(O.opened_date)}),O.escalated_to_admin&&e.jsxs("span",{className:"inline-flex items-center text-red-600 font-medium",children:[e.jsx("svg",{className:"h-3 w-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Escalated"]})]})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},O.issue_id))})}),g.length>0&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[e.jsx("button",{onClick:()=>p(O=>({...O,current_page:Math.max(1,O.current_page-1)})),disabled:f.current_page===1,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",f.current_page]}),e.jsx("button",{onClick:()=>p(O=>({...O,current_page:O.current_page+1})),disabled:g.length<f.limit,className:"px-3 py-1 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})}),e.jsx("div",{className:"lg:col-span-7",children:n?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Issue #",n.issue_id.slice(-8)]}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${E(n.status)}`,children:n.status.replace("_"," ").toUpperCase()})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Order #",n.order_id.slice(-8),"  ",z(n.issue_type)]})]}),e.jsx("button",{onClick:()=>i(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:["details","evidence","communication","resolution"].map(O=>e.jsx("button",{onClick:()=>o(O),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${l===O?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:O.charAt(0).toUpperCase()+O.slice(1).replace("_"," ")},O))})}),e.jsx("div",{className:"p-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 450px)"},children:w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs(e.Fragment,{children:[l==="details"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 rounded-lg p-4",children:n.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Opened Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:P(n.opened_date)})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Desired Resolution"}),e.jsx("p",{className:"text-sm text-gray-900 capitalize",children:n.desired_resolution.replace("_"," ")})]}),n.resolved_date&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Resolved Date"}),e.jsx("p",{className:"text-sm text-gray-900",children:P(n.resolved_date)})]}),n.assigned_admin_id&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-1",children:"Assigned Admin"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.assigned_admin_id})]})]}),n.affected_items.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Affected Items"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:e.jsx("ul",{className:"list-disc list-inside text-sm text-gray-900 space-y-1",children:n.affected_items.map((O,b)=>e.jsx("li",{children:O},b))})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx(G,{to:`/admin/orders?order_id=${n.order_id}`,className:"text-sm font-medium text-blue-600 hover:text-blue-700",children:"View Related Order "})})]}),l==="evidence"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Evidence Photos"}),n.evidence_photos.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"No evidence photos uploaded"})]}):e.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.evidence_photos.map((O,b)=>e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:O,alt:`Evidence ${b+1}`,className:"w-full h-full object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(O,"_blank")})},b))})]}),l==="communication"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"space-y-4 mb-6",style:{maxHeight:"400px",overflowY:"auto"},children:C.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-sm text-gray-600",children:"No messages yet"})}):C.map(O=>e.jsx("div",{className:`flex ${O.sender_type==="admin"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-lg ${O.sender_type==="admin"?"bg-blue-600 text-white":O.sender_type==="customer"?"bg-gray-100 text-gray-900":"bg-green-100 text-gray-900"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xs font-medium opacity-75",children:O.sender_type.charAt(0).toUpperCase()+O.sender_type.slice(1)}),e.jsx("span",{className:"text-xs opacity-60",children:P(O.timestamp)})]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:O.message_text}),O.attachments.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:O.attachments.map((b,L)=>e.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"block text-xs underline opacity-75 hover:opacity-100",children:["Attachment ",L+1]},L))})]})},O.message_id))}),e.jsx("form",{onSubmit:A,className:"border-t border-gray-200 pt-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:c,onChange:O=>d(O.target.value),placeholder:"Type your message...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),e.jsx("button",{type:"submit",disabled:!c.trim()||$.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:$.isPending?"Sending...":"Send"})]})})]}),l==="resolution"&&e.jsx("form",{onSubmit:R,className:"space-y-6",children:n.status==="resolved"||n.status==="closed"?e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Dispute Resolved"}),n.resolution_offered&&e.jsxs("div",{className:"space-y-2 text-sm text-green-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Resolution:"})," ",n.resolution_offered]}),n.resolution_amount&&e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," $",n.resolution_amount.toFixed(2)]}),n.resolved_date&&e.jsxs("p",{children:[e.jsx("strong",{children:"Resolved on:"})," ",P(n.resolved_date)]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resolution-type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Resolution Type *"}),e.jsxs("select",{id:"resolution-type",value:x.resolution_type,onChange:O=>h(b=>({...b,resolution_type:O.target.value})),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select resolution..."}),e.jsx("option",{value:"full_refund",children:"Full Refund"}),e.jsx("option",{value:"partial_refund",children:"Partial Refund"}),e.jsx("option",{value:"replacement",children:"Replacement Item"}),e.jsx("option",{value:"credit",children:"Store Credit"}),e.jsx("option",{value:"other",children:"Other"})]})]}),(x.resolution_type==="full_refund"||x.resolution_type==="partial_refund"||x.resolution_type==="credit")&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resolution-amount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount (USD)"}),e.jsx("input",{id:"resolution-amount",type:"number",step:"0.01",min:"0",value:x.resolution_amount||"",onChange:O=>h(b=>({...b,resolution_amount:O.target.value?parseFloat(O.target.value):null})),placeholder:"Enter amount",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"resolution-description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Resolution Description"}),e.jsx("textarea",{id:"resolution-description",value:x.resolution_description,onChange:O=>h(b=>({...b,resolution_description:O.target.value})),rows:4,placeholder:"Explain the resolution to the customer...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Internal Admin Notes"}),e.jsx("textarea",{id:"admin-notes",value:x.admin_notes,onChange:O=>h(b=>({...b,admin_notes:O.target.value})),rows:3,placeholder:"Internal notes (not visible to customer/supplier)...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"flex space-x-3 pt-4",children:e.jsx("button",{type:"submit",disabled:!x.resolution_type||_.isPending,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:_.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resolving..."]}):"Resolve Dispute"})})]})})]})})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No Dispute Selected"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Select a dispute from the list to view details and manage resolution"})]})})]})})]})})},JI=async(t,s,r)=>{const a=new URLSearchParams;s.status&&a.append("status",s.status),s.min_rating!==null&&a.append("min_rating",s.min_rating.toString()),s.verification_status!==null&&a.append("verified_purchase",s.verification_status.toString()),a.append("limit",r.limit.toString()),a.append("offset",((r.current_page-1)*r.limit).toString()),a.append("sort_by","review_date"),a.append("sort_order","desc");const n=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/reviews?${a.toString()}`,{headers:{Authorization:`Bearer ${t}`}});return{reviews:n.data.reviews||[],total:n.data.total||0}},eB=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/reviews/flagged",{headers:{Authorization:`Bearer ${t}`}})).data||[],tB=async(t,s,r,a)=>(await H.post(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/reviews/${s}/moderate`,{action:r,reason:a},{headers:{Authorization:`Bearer ${t}`}})).data,sB=async t=>(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/dashboard?metric_type=content_moderation",{headers:{Authorization:`Bearer ${t}`}})).data,rB=()=>{var D;const t=Fe(),[s,r]=Ie(),a=ae(U=>U.authentication_state.auth_token),[n,i]=k.useState(s.get("flagged_only")==="true"?"flagged":"all"),[l,o]=k.useState({status:s.get("review_type")||null,flagged_only:s.get("flagged_only")==="true",min_rating:null,verification_status:null}),[c,d]=k.useState({current_page:1,total_pages:1,total_count:0,limit:50}),[m,u]=k.useState(null),[x,h]=k.useState(!1),[f,p]=k.useState(null),[N,y]=k.useState(""),[j,g]=k.useState([]),[S,w]=k.useState(!1),{data:C,isLoading:_,error:$}=ie({queryKey:["admin-reviews",l,c.current_page,n],queryFn:async()=>{if(!a)throw new Error("No auth token");if(n==="flagged"){const U=await eB(a);return{reviews:U,total:U.length}}return JI(a,l,c)},staleTime:6e4,enabled:!!a}),{data:F}=ie({queryKey:["moderation-stats"],queryFn:async()=>{if(!a)throw new Error("No auth token");return sB(a)},staleTime:3e4,enabled:!!a,select:U=>({total_flagged:(U==null?void 0:U.total_flagged)||0,pending_moderation:(U==null?void 0:U.pending_moderation)||0,moderated_today:(U==null?void 0:U.moderated_today)||0})}),T=ue({mutationFn:async U=>{if(!a)throw new Error("No auth token");return tB(a,U.reviewId,U.action,U.reason)},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-reviews"]}),t.invalidateQueries({queryKey:["moderation-stats"]}),h(!1),u(null),y(""),p(null)}});k.useEffect(()=>{C&&d(U=>({...U,total_count:C.total,total_pages:Math.ceil(C.total/U.limit)}))},[C]),k.useEffect(()=>{const U=new URLSearchParams;l.flagged_only&&U.set("flagged_only","true"),l.status&&U.set("review_type",l.status),r(U,{replace:!0})},[l,r]);const R=U=>{i(U),o(q=>({...q,flagged_only:U==="flagged"})),d(q=>({...q,current_page:1})),g([])},A=(U,q)=>{o(B=>({...B,[U]:q})),d(B=>({...B,current_page:1}))},M=U=>{d(q=>({...q,current_page:U})),window.scrollTo({top:0,behavior:"smooth"})},P=(U,q)=>{u(U),p(q),h(!0)},E=()=>{h(!1),u(null),p(null),y("")},z=async()=>{!m||!f||await T.mutateAsync({reviewId:m.review_id,action:f,reason:N})},O=U=>{g(q=>q.includes(U)?q.filter(B=>B!==U):[...q,U])},b=()=>{if(!(C!=null&&C.reviews))return;const U=C.reviews.map(q=>q.review_id);g(q=>q.length===U.length?[]:U)},L=(C==null?void 0:C.reviews)||[],v=F||{total_flagged:0,pending_moderation:0,moderated_today:0};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Review Moderation"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage and moderate customer reviews and ratings"})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:v.total_flagged}),e.jsx("div",{className:"text-xs text-gray-600",children:"Flagged"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.pending_moderation}),e.jsx("div",{className:"text-xs text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.moderated_today}),e.jsx("div",{className:"text-xs text-gray-600",children:"Today"})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx($r,{className:"w-5 h-5 mr-2 text-gray-600"}),"Filters"]}),e.jsx("button",{onClick:()=>w(!S),className:"lg:hidden text-gray-600 hover:text-gray-900",children:e.jsx(Qe,{className:`w-5 h-5 transform transition-transform ${S?"rotate-90":""}`})})]}),e.jsxs("div",{className:`space-y-4 ${S?"block":"hidden lg:block"}`,children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Review Status"}),e.jsxs("select",{value:l.status||"",onChange:U=>A("status",U.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"flagged",children:"Flagged"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),e.jsxs("select",{value:((D=l.min_rating)==null?void 0:D.toString())||"",onChange:U=>A("min_rating",U.target.value?Number(U.target.value):null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"Any Rating"}),e.jsx("option",{value:"1",children:"1+ Stars"}),e.jsx("option",{value:"2",children:"2+ Stars"}),e.jsx("option",{value:"3",children:"3+ Stars"}),e.jsx("option",{value:"4",children:"4+ Stars"}),e.jsx("option",{value:"5",children:"5 Stars Only"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Status"}),e.jsxs("select",{value:l.verification_status===null?"":l.verification_status.toString(),onChange:U=>A("verification_status",U.target.value===""?null:U.target.value==="true"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"All Reviews"}),e.jsx("option",{value:"true",children:"Verified Only"}),e.jsx("option",{value:"false",children:"Unverified Only"})]})]}),e.jsx("button",{onClick:()=>{o({status:null,flagged_only:n==="flagged",min_rating:null,verification_status:null})},className:"w-full px-4 py-2 text-sm text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Clear All Filters"})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"bg-white rounded-t-xl shadow-sm border-x border-t border-gray-200",children:[e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>R("all"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${n==="all"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["All Reviews (",c.total_count,")"]}),e.jsxs("button",{onClick:()=>R("flagged"),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors relative ${n==="flagged"?"text-amber-600 border-b-2 border-amber-600 bg-amber-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:["Flagged Reviews",v.total_flagged>0&&e.jsx("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-1 text-xs font-bold text-white bg-amber-600 rounded-full",children:v.total_flagged})]})]}),j.length>0&&e.jsxs("div",{className:"bg-blue-50 border-b border-blue-200 px-6 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:j.length})," review",j.length!==1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g([]),className:"px-3 py-1.5 text-sm text-blue-700 hover:text-blue-900 font-medium",children:"Clear Selection"}),e.jsx("button",{className:"px-4 py-1.5 text-sm bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Approve Selected"}),e.jsx("button",{className:"px-4 py-1.5 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Reject Selected"})]})]}),L.length>0&&e.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 flex items-center justify-between bg-gray-50",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j.length===L.length,onChange:b,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Select all on this page"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",L.length," of ",c.total_count," reviews"]})]})]}),e.jsxs("div",{className:"bg-white rounded-b-xl shadow-sm border-x border-b border-gray-200",children:[_&&e.jsx("div",{className:"py-12 text-center",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 text-gray-600",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Loading reviews..."})]})}),$&&e.jsx("div",{className:"py-12 px-6",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsx("p",{className:"text-sm text-red-700",children:"Failed to load reviews. Please try again."})]})})}),!_&&!$&&L.length===0&&e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(hs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reviews found"}),e.jsx("p",{className:"text-sm text-gray-600",children:n==="flagged"?"No flagged reviews require moderation":"Try adjusting your filters"})]}),!_&&L.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:L.map(U=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("input",{type:"checkbox",checked:j.includes(U.review_id),onChange:()=>O(U.review_id),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("div",{className:"flex items-center",children:[[1,2,3,4,5].map(q=>e.jsx(De,{className:`w-4 h-4 ${q<=U.rating_overall?"text-yellow-400 fill-current":"text-gray-300"}`},q)),e.jsxs("span",{className:"ml-2 text-sm font-medium text-gray-900",children:[U.rating_overall,".0"]})]}),U.verified_purchase&&e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(xs,{className:"w-3 h-3 mr-1"}),"Verified Purchase"]}),e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${U.status==="published"?"bg-green-100 text-green-800":U.status==="flagged"?"bg-amber-100 text-amber-800":U.status==="rejected"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:U.status})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[U.is_anonymous?e.jsx("span",{className:"font-medium",children:"Anonymous"}):e.jsxs("span",{className:"font-medium",children:["Customer ID: ",U.customer_id.substring(0,8),"..."]}),e.jsx("span",{className:"mx-2",children:""}),e.jsx("time",{dateTime:U.review_date,children:new Date(U.review_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),e.jsx("span",{className:"mx-2",children:""}),e.jsxs("span",{children:["Order: ",U.order_id.substring(0,8),"..."]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[e.jsx(Ol,{className:"w-4 h-4"}),e.jsx("span",{children:U.helpful_votes})]})]}),U.review_text&&e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"text-gray-900 leading-relaxed",children:U.review_text})}),(U.rating_product||U.rating_service||U.rating_delivery)&&e.jsxs("div",{className:"mb-3 flex flex-wrap gap-3 text-sm",children:[U.rating_product&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"Product:"}),e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(q=>e.jsx(De,{className:`w-3 h-3 ${q<=U.rating_product?"text-yellow-400 fill-current":"text-gray-300"}`},q))})]}),U.rating_service&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"Service:"}),e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(q=>e.jsx(De,{className:`w-3 h-3 ${q<=U.rating_service?"text-yellow-400 fill-current":"text-gray-300"}`},q))})]}),U.rating_delivery&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"Delivery:"}),e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(q=>e.jsx(De,{className:`w-3 h-3 ${q<=U.rating_delivery?"text-yellow-400 fill-current":"text-gray-300"}`},q))})]})]}),U.photos&&U.photos.length>0&&e.jsxs("div",{className:"mb-3 flex items-center space-x-2",children:[e.jsx(Cd,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[U.photos.length," photo",U.photos.length!==1?"s":""]})]}),U.supplier_response&&e.jsxs("div",{className:"mt-3 bg-blue-50 border-l-4 border-blue-600 p-3 rounded-r",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(hs,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Supplier Response"}),U.supplier_response_date&&e.jsx("span",{className:"ml-2 text-xs text-blue-700",children:new Date(U.supplier_response_date).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-blue-900",children:U.supplier_response})]}),n==="flagged"&&"flag_reason"in U&&e.jsxs("div",{className:"mt-3 bg-amber-50 border-l-4 border-amber-600 p-3 rounded-r",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(Bi,{className:"w-4 h-4 text-amber-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Flagged Reason"})]}),e.jsx("p",{className:"text-sm text-amber-900",children:U.flag_reason})]}),e.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>P(U,"approve"),disabled:U.status==="published",className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-green-700 bg-green-100 hover:bg-green-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(fe,{className:"w-4 h-4 mr-1.5"}),"Approve"]}),e.jsxs("button",{onClick:()=>P(U,"reject"),disabled:U.status==="rejected",className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(rt,{className:"w-4 h-4 mr-1.5"}),"Reject"]}),e.jsxs("button",{onClick:()=>P(U,"flag"),disabled:U.status==="flagged",className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-amber-700 bg-amber-100 hover:bg-amber-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Bi,{className:"w-4 h-4 mr-1.5"}),"Flag"]}),e.jsxs(G,{to:`/admin/orders?order_id=${U.order_id}`,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors",children:[e.jsx(Lt,{className:"w-4 h-4 mr-1.5"}),"View Order"]}),U.product_id&&e.jsx(G,{to:`/product/${U.product_id}`,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"View Product"})]})]})]})},U.review_id))}),!_&&L.length>0&&c.total_pages>1&&e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",c.current_page," of ",c.total_pages]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>M(c.current_page-1),disabled:c.current_page===1,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(ms,{className:"w-4 h-4 mr-1"}),"Previous"]}),e.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Math.min(5,c.total_pages)},(U,q)=>{let B;return c.total_pages<=5||c.current_page<=3?B=q+1:c.current_page>=c.total_pages-2?B=c.total_pages-4+q:B=c.current_page-2+q,e.jsx("button",{onClick:()=>M(B),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${B===c.current_page?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:B},B)})}),e.jsxs("button",{onClick:()=>M(c.current_page+1),disabled:c.current_page===c.total_pages,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Next",e.jsx(Qe,{className:"w-4 h-4 ml-1"})]})]})]})]})]})]})}),x&&m&&f&&e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 transition-opacity",onClick:E}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-xl text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[e.jsxs("div",{className:"bg-white px-6 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs("div",{className:`flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full ${f==="approve"?"bg-green-100":f==="reject"?"bg-red-100":"bg-amber-100"}`,children:[f==="approve"&&e.jsx(fe,{className:"w-6 h-6 text-green-600"}),f==="reject"&&e.jsx(rt,{className:"w-6 h-6 text-red-600"}),f==="flag"&&e.jsx(Bi,{className:"w-6 h-6 text-amber-600"})]}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f==="approve"?"Approve Review":f==="reject"?"Reject Review":"Flag Review"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Review ID: ",m.review_id.substring(0,12),"..."]})]})]}),e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex items-center mb-2",children:[1,2,3,4,5].map(U=>e.jsx(De,{className:`w-4 h-4 ${U<=m.rating_overall?"text-yellow-400 fill-current":"text-gray-300"}`},U))}),m.review_text&&e.jsx("p",{className:"text-sm text-gray-900 line-clamp-3",children:m.review_text})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"moderation-reason",className:"block text-sm font-medium text-gray-700 mb-2",children:f==="approve"?"Approval Notes (Optional)":"Reason for Action (Required)"}),e.jsx("textarea",{id:"moderation-reason",value:N,onChange:U=>y(U.target.value),rows:3,required:f!=="approve",placeholder:f==="approve"?"Add any notes about this approval...":f==="reject"?"Explain why this review is being rejected...":"Describe the policy violation...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:E,disabled:T.isPending,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),e.jsx("button",{onClick:z,disabled:T.isPending||f!=="approve"&&!N.trim(),className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${f==="approve"?"bg-green-600 hover:bg-green-700":f==="reject"?"bg-red-600 hover:bg-red-700":"bg-amber-600 hover:bg-amber-700"}`,children:T.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):e.jsxs(e.Fragment,{children:[f==="approve"&&"Approve Review",f==="reject"&&"Reject Review",f==="flag"&&"Flag Review"]})})]})]})]})})]})})},aB=async(t,s,r,a)=>{const n=new URLSearchParams;s&&n.append("date_from",s),r&&n.append("date_to",r),n.append("period",a);const l=(await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/dashboard?${n.toString()}`,{headers:{Authorization:`Bearer ${t}`}})).data,o=(l.gmv||0)*.085,c=0,d=(l.total_revenue||0)*.029+.3,m=(l.total_revenue||0)-d;return{total_revenue:l.total_revenue||0,commission_revenue:o,subscription_revenue:c,payment_processing_fees:d,net_revenue:m,revenue_trend:[]}},nB=async t=>{const r=(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/payouts?status=scheduled,processing,failed&limit=100",{headers:{Authorization:`Bearer ${t}`}})).data,a=r.filter(l=>l.status==="scheduled"),n=r.filter(l=>l.status==="processing"),i=r.filter(l=>l.status==="failed");return{scheduled_payouts:a,pending_payouts:n,failed_payouts:i,payout_summary:{total_scheduled_amount:a.reduce((l,o)=>l+o.amount,0),total_pending_amount:n.reduce((l,o)=>l+o.amount,0)}}},iB=async t=>{var l;const r=(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings?setting_category=commission",{headers:{Authorization:`Bearer ${t}`}})).data||[],a=r.find(o=>o.setting_key==="default_commission_rate"),n=r.find(o=>o.setting_key==="tier_commission_rates"),i=r.find(o=>o.setting_key==="custom_supplier_rates");return{default_commission_rate:((l=a==null?void 0:a.setting_value)==null?void 0:l.rate)||8.5,tier_rates:(n==null?void 0:n.setting_value)||{},custom_supplier_rates:(i==null?void 0:i.setting_value)||[],commission_exemptions:[]}},lB=async(t,s)=>{await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/payouts/process-batch",{payout_ids:s},{headers:{Authorization:`Bearer ${t}`}})},oB=async(t,s,r)=>{await H.put("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{setting_key:"default_commission_rate",setting_value:{rate:s},setting_category:"commission"},{headers:{Authorization:`Bearer ${t}`}}),Object.keys(r).length>0&&await H.put("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{setting_key:"tier_commission_rates",setting_value:r,setting_category:"commission"},{headers:{Authorization:`Bearer ${t}`}})};function cB(){var M,P,E,z,O,b,L,v,D,U,q,B,W,I;const[t,s]=Ie(),r=t.get("period")||"current_month",a=t.get("report_type")||"revenue_overview",n=ae(Q=>Q.authentication_state.auth_token),[i,l]=k.useState(a==="commission_summary"?"commission":a==="payout_report"?"payouts":a==="transaction_ledger"?"transactions":"revenue"),[o,c]=k.useState({start_date:null,end_date:null,preset:r}),[d,m]=k.useState([]),[u,x]=k.useState(!1),[h,f]=k.useState(8.5),p=Fe(),N=k.useMemo(()=>{const Q=new Date,Z=new Date;switch(o.preset){case"today":Z.setHours(0,0,0,0);break;case"week":Z.setDate(Q.getDate()-7);break;case"current_month":Z.setDate(1);break;case"quarter":const Y=Math.floor(Q.getMonth()/3);Z.setMonth(Y*3),Z.setDate(1);break;case"year":Z.setMonth(0),Z.setDate(1);break;case"custom":return{start:o.start_date,end:o.end_date};default:Z.setDate(1)}return{start:Z.toISOString().split("T")[0],end:Q.toISOString().split("T")[0]}},[o.preset,o.start_date,o.end_date]),y=ie({queryKey:["admin-revenue-metrics",N.start,N.end,r],queryFn:()=>aB(n,N.start,N.end,r),enabled:!!n&&i==="revenue",staleTime:5*60*1e3}),j=ie({queryKey:["admin-payouts"],queryFn:()=>nB(n),enabled:!!n&&i==="payouts",staleTime:2*60*1e3}),g=ie({queryKey:["admin-commission-settings"],queryFn:()=>iB(n),enabled:!!n&&i==="commission",staleTime:10*60*1e3}),S=ue({mutationFn:Q=>lB(n,Q),onSuccess:()=>{p.invalidateQueries({queryKey:["admin-payouts"]}),m([])}}),w=ue({mutationFn:({defaultRate:Q,tierRates:Z})=>oB(n,Q,Z),onSuccess:()=>{p.invalidateQueries({queryKey:["admin-commission-settings"]}),x(!1)}}),C=Q=>{c(Y=>({...Y,preset:Q}));const Z=new URLSearchParams(t);Z.set("period",Q),s(Z)},_=Q=>{l(Q);const Z=new URLSearchParams(t);Q==="commission"?Z.set("report_type","commission_summary"):Q==="payouts"?Z.set("report_type","payout_report"):Q==="transactions"?Z.set("report_type","transaction_ledger"):Z.set("report_type","revenue_overview"),s(Z)},$=Q=>{m(Z=>Z.includes(Q)?Z.filter(Y=>Y!==Q):[...Z,Q])},F=()=>{d.length!==0&&confirm(`Process ${d.length} payout(s)?`)&&S.mutate(d)},T=()=>{w.mutate({defaultRate:h,tierRates:{}})};k.useEffect(()=>{g.data&&f(g.data.default_commission_rate)},[g.data]);const R=Q=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(Q),A=Q=>new Date(Q).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Financials"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Revenue tracking, commission management, and payout processing"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ft,{className:"h-5 w-5 text-gray-400"}),e.jsxs("select",{value:o.preset,onChange:Q=>C(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"current_month",children:"This Month"}),e.jsx("option",{value:"quarter",children:"This Quarter"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]})]}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"revenue",label:"Revenue Overview",icon:Ve},{id:"commission",label:"Commission Settings",icon:Ps},{id:"payouts",label:"Payouts",icon:Be},{id:"transactions",label:"Transactions",icon:tr},{id:"reports",label:"Reports",icon:We}].map(Q=>{const Z=Q.icon;return e.jsxs("button",{onClick:()=>_(Q.id),className:`
                        flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
                        ${i===Q.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                      `,"aria-current":i===Q.id?"page":void 0,children:[e.jsx(Z,{className:"h-5 w-5"}),e.jsx("span",{children:Q.label})]},Q.id)})})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i==="revenue"&&e.jsxs("div",{className:"space-y-6",children:[y.isLoading?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(Q=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},Q))}):y.error?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 text-red-600"}),e.jsx("p",{className:"text-sm text-red-700",children:"Failed to load revenue metrics"})]})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:R(((M=y.data)==null?void 0:M.total_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Be,{className:"h-8 w-8 text-blue-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[e.jsx(Ve,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Platform gross revenue"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commission Revenue"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:R(((P=y.data)==null?void 0:P.commission_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Ve,{className:"h-8 w-8 text-green-600"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:e.jsx("span",{children:"Platform earnings"})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Processing Fees"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:R(((E=y.data)==null?void 0:E.payment_processing_fees)||0)})]}),e.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:e.jsx(tr,{className:"h-8 w-8 text-amber-600"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:e.jsx("span",{children:"Payment gateway fees"})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Net Revenue"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:R(((z=y.data)==null?void 0:z.net_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Ve,{className:"h-8 w-8 text-purple-600"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:e.jsx("span",{children:"After processing fees"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Breakdown"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gross Marketplace Volume (GMV)"})]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:R(((O=y.data)==null?void 0:O.total_revenue)||0)})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Platform Commission (8.5%)"})]}),e.jsxs("span",{className:"text-sm font-bold text-green-600",children:["+",R(((b=y.data)==null?void 0:b.commission_revenue)||0)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Processing Fees (~2.9%)"})]}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:["-",R(((L=y.data)==null?void 0:L.payment_processing_fees)||0)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 pt-4",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Net Platform Revenue"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:R(((v=y.data)==null?void 0:v.net_revenue)||0)})]})]})]})]}),i==="commission"&&e.jsx("div",{className:"space-y-6",children:g.isLoading?e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Commission Rate Configuration"}),u?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{var Q;x(!1),f(((Q=g.data)==null?void 0:Q.default_commission_rate)||8.5)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:T,disabled:w.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:w.isPending?"Saving...":"Save Changes"})]}):e.jsx("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Edit Rates"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Commission Rate"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:h,onChange:Q=>f(parseFloat(Q.target.value)),disabled:!u,className:"w-32 px-4 py-2 border border-gray-300 rounded-lg text-lg font-semibold text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Applied to all supplier transactions unless custom rate set"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Calculation Example"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Order Total:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"$1,000.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:["Commission (",h,"%):"]}),e.jsxs("span",{className:"font-medium text-green-600",children:["$",(1e3*h/100).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Supplier Receives:"}),e.jsxs("span",{className:"font-bold text-gray-900",children:["$",(1e3-1e3*h/100).toFixed(2)]})]})]})]}),((D=g.data)==null?void 0:D.custom_supplier_rates)&&g.data.custom_supplier_rates.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Custom Supplier Rates"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Custom Rate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Effective Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.data.custom_supplier_rates.map(Q=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:Q.business_name}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[Q.rate,"%"]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"Immediate"})]},Q.supplier_id))})]})})]})]})]})}),i==="payouts"&&e.jsx("div",{className:"space-y-6",children:j.isLoading?e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(Q=>e.jsx("div",{className:"h-16 bg-gray-200 rounded"},Q))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled Payouts"}),e.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900",children:((U=j.data)==null?void 0:U.scheduled_payouts.length)||0})]}),e.jsx(nt,{className:"h-8 w-8 text-blue-600"})]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[R(((q=j.data)==null?void 0:q.payout_summary.total_scheduled_amount)||0)," total"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Processing"}),e.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900",children:((B=j.data)==null?void 0:B.pending_payouts.length)||0})]}),e.jsx(Kw,{className:"h-8 w-8 text-amber-600 animate-spin"})]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[R(((W=j.data)==null?void 0:W.payout_summary.total_pending_amount)||0)," total"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),e.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900",children:((I=j.data)==null?void 0:I.failed_payouts.length)||0})]}),e.jsx(rt,{className:"h-8 w-8 text-red-600"})]}),e.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Requires attention"})]})]}),j.data&&j.data.scheduled_payouts.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scheduled Payouts"}),d.length>0&&e.jsx("button",{onClick:F,disabled:S.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition-colors",children:S.isPending?"Processing...":`Process ${d.length} Payout(s)`})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:d.length===j.data.scheduled_payouts.length,onChange:Q=>{Q.target.checked?m(j.data.scheduled_payouts.map(Z=>Z.payout_id)):m([])},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.data.scheduled_payouts.map(Q=>{var Z;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:d.includes(Q.payout_id),onChange:()=>$(Q.payout_id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Q.supplier_name||Q.supplier_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R(Q.amount)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:["-",R(Q.platform_commission)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:R(Q.net_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A(Q.scheduled_date)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[((Z=Q.included_orders)==null?void 0:Z.length)||0," orders"]})]},Q.payout_id)})})]})})]}),j.data&&j.data.pending_payouts.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Processing Payouts"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction Ref"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.data.pending_payouts.map(Q=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Q.supplier_name||Q.supplier_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R(Q.net_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[e.jsx(Kw,{className:"h-3 w-3 mr-1 animate-spin"}),"Processing"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-mono",children:Q.transaction_reference||"Pending..."})]},Q.payout_id))})]})})]}),j.data&&j.data.failed_payouts.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200",children:[e.jsx("div",{className:"p-6 border-b border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-5 w-5 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Failed Payouts - Requires Attention"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Failure Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.data.failed_payouts.map(Q=>e.jsxs("tr",{className:"bg-red-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Q.supplier_name||Q.supplier_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R(Q.net_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A(Q.scheduled_date)}),e.jsx("td",{className:"px-6 py-4 text-sm text-red-700",children:Q.failure_reason||"Unknown error"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Retry"})})]},Q.payout_id))})]})})]})]})}),i==="transactions"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction Ledger"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[e.jsx($r,{className:"h-4 w-4"}),e.jsx("span",{children:"Filter"})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:"Export CSV"})]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transaction History"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Detailed transaction ledger will be available in the next release"}),e.jsxs(G,{to:"/admin/orders",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(Lt,{className:"h-4 w-4 mr-2"}),"View All Orders"]})]})})]})}),i==="reports"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Reports"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Revenue Report"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Comprehensive revenue breakdown with commission details"})]}),e.jsx(We,{className:"h-6 w-6 text-blue-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Payout Report"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Supplier payout history and reconciliation"})]}),e.jsx(Be,{className:"h-6 w-6 text-green-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Tax Summary"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Sales tax collected and payment processing fees"})]}),e.jsx(We,{className:"h-6 w-6 text-purple-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Audit Trail"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Complete financial transaction audit log"})]}),e.jsx(We,{className:"h-6 w-6 text-gray-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-4",children:"Recent Reports"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(We,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No reports generated yet"})]})]})]})]})})]})]})})}const dB=async(t,s)=>{const r={};return(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{headers:{Authorization:`Bearer ${t}`},params:r})).data},uB=async(t,s,r,a)=>(await H.put("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{setting_key:s,setting_value:r,setting_category:a},{headers:{Authorization:`Bearer ${t}`}})).data,h_=async(t,s,r)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/integrations/test",{integration_type:s,config:r},{headers:{Authorization:`Bearer ${t}`}})).data,mB=()=>{var Q,Z;const[t,s]=Ie(),r=Xe(),a=Fe(),n=t.get("section")||"general",i=ae(Y=>Y.authentication_state.auth_token),[l,o]=k.useState({platform_name:"BuildEasy",logo_url:"",support_email:"",operating_regions:[],default_currency:"USD",default_language:"en"}),[c,d]=k.useState({default_commission_rate:5,tier_based_rates:{},subscription_pricing:{},transaction_fees:{},payment_processing_rates:{}}),[m,u]=k.useState({registration_approval_required:!1,email_verification_required:!0,password_policy:{min_length:8,require_uppercase:!0,require_lowercase:!0,require_numbers:!0,require_special_chars:!0},session_timeout_minutes:1440,two_factor_required:!1}),[x,h]=k.useState({minimum_order_value:0,maximum_order_value:1e5,order_cancellation_window_hours:24,automatic_refund_enabled:!0,delivery_sla_hours:72}),[f,p]=k.useState({available_payment_methods:[],payment_gateway_config:{},escrow_hold_period_days:3,auto_capture_enabled:!0,refund_policy:{}}),[N,y]=k.useState({email_provider_config:{},sms_provider_config:{},notification_templates:[],default_notification_preferences:{},rate_limits:{}}),[j,g]=k.useState({logistics_integrations:[],payment_gateways:[],mapping_service_config:{},analytics_integrations:[]}),[S,w]=k.useState({has_changes:!1,changed_sections:[]}),[C,_]=k.useState(!1),[$,F]=k.useState(""),[T,R]=k.useState(null),{data:A,isLoading:M,error:P}=ie({queryKey:["platform-settings",n],queryFn:()=>dB(i),enabled:!!i,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),E=ue({mutationFn:({key:Y,value:K,category:te})=>uB(i,Y,K,te),onSuccess:()=>{a.invalidateQueries({queryKey:["platform-settings"]}),w({has_changes:!1,changed_sections:[]}),F("Settings updated successfully"),_(!0),setTimeout(()=>_(!1),3e3)},onError:Y=>{console.error("Failed to update settings:",Y)}});k.useEffect(()=>{if(!A)return;const Y={general_settings:A.filter(K=>K.setting_category==="general").reduce((K,te)=>({...K,[te.setting_key]:te.setting_value}),{}),commission_fee_settings:A.filter(K=>K.setting_category==="commission").reduce((K,te)=>({...K,[te.setting_key]:te.setting_value}),{}),user_settings:A.filter(K=>K.setting_category==="user_policy").reduce((K,te)=>({...K,[te.setting_key]:te.setting_value}),{}),order_settings:A.filter(K=>K.setting_category==="order_policy").reduce((K,te)=>({...K,[te.setting_key]:te.setting_value}),{}),payment_settings:A.filter(K=>K.setting_category==="payment").reduce((K,te)=>({...K,[te.setting_key]:te.setting_value}),{}),notification_settings:A.filter(K=>K.setting_category==="notifications").reduce((K,te)=>({...K,[te.setting_key]:te.setting_value}),{}),integration_settings:A.filter(K=>K.setting_category==="integrations").reduce((K,te)=>({...K,[te.setting_key]:te.setting_value}),{})};Object.keys(Y.general_settings).length>0&&o(K=>({...K,...Y.general_settings})),Object.keys(Y.commission_fee_settings).length>0&&d(K=>({...K,...Y.commission_fee_settings})),Object.keys(Y.user_settings).length>0&&u(K=>({...K,...Y.user_settings})),Object.keys(Y.order_settings).length>0&&h(K=>({...K,...Y.order_settings})),Object.keys(Y.payment_settings).length>0&&p(K=>({...K,...Y.payment_settings})),Object.keys(Y.notification_settings).length>0&&y(K=>({...K,...Y.notification_settings})),Object.keys(Y.integration_settings).length>0&&g(K=>({...K,...Y.integration_settings}))},[A]);const z=Y=>{if(S.has_changes){if(!window.confirm("You have unsaved changes. Discard them?"))return;w({has_changes:!1,changed_sections:[]})}s({section:Y})},O=Y=>{w(K=>({has_changes:!0,changed_sections:K.changed_sections.includes(Y)?K.changed_sections:[...K.changed_sections,Y]}))},b=async()=>{const Y=Object.entries(l).map(([K,te])=>E.mutateAsync({key:K,value:te,category:"general"}));await Promise.all(Y)},L=async()=>{const Y=Object.entries(c).map(([K,te])=>E.mutateAsync({key:K,value:te,category:"commission"}));await Promise.all(Y)},v=async()=>{const Y=Object.entries(m).map(([K,te])=>E.mutateAsync({key:K,value:te,category:"user_policy"}));await Promise.all(Y)},D=async()=>{const Y=Object.entries(x).map(([K,te])=>E.mutateAsync({key:K,value:te,category:"order_policy"}));await Promise.all(Y)},U=async()=>{const Y=Object.entries(f).map(([K,te])=>E.mutateAsync({key:K,value:te,category:"payment"}));await Promise.all(Y)},q=async()=>{const Y=Object.entries(N).map(([K,te])=>E.mutateAsync({key:K,value:te,category:"notifications"}));await Promise.all(Y)},B=async()=>{const Y=Object.entries(j).map(([K,te])=>E.mutateAsync({key:K,value:te,category:"integrations"}));await Promise.all(Y)},W=()=>{a.invalidateQueries({queryKey:["platform-settings"]}),w({has_changes:!1,changed_sections:[]})};if(!i)return r("/login"),null;const I=[{id:"general",label:"General",icon:Ps},{id:"commission",label:"Commission & Fees",icon:Be},{id:"user_policy",label:"User Policies",icon:Tt},{id:"order_policy",label:"Order Policies",icon:Je},{id:"payment",label:"Payment Settings",icon:tr},{id:"notifications",label:"Notifications",icon:Fs},{id:"integrations",label:"Integrations",icon:$l}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Settings"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure system-wide settings and integrations"})]}),S.has_changes&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(he,{className:"h-4 w-4 text-amber-600 mr-2"}),e.jsxs("span",{className:"text-sm text-amber-700 font-medium",children:[S.changed_sections.length," unsaved change",S.changed_sections.length>1?"s":""]})]}),e.jsx("button",{onClick:W,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Discard"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsx("nav",{className:"space-y-1",children:I.map(Y=>{const K=Y.icon,te=n===Y.id,V=S.changed_sections.includes(Y.id);return e.jsxs("button",{onClick:()=>z(Y.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all ${te?"bg-blue-50 text-blue-700 border-2 border-blue-200":"text-gray-700 hover:bg-gray-100 border-2 border-transparent"}`,children:[e.jsx(K,{className:`h-5 w-5 mr-3 ${te?"text-blue-600":"text-gray-400"}`}),e.jsx("span",{className:"flex-1 text-left",children:Y.label}),V&&e.jsx("div",{className:"h-2 w-2 bg-amber-500 rounded-full"})]},Y.id)})})}),e.jsx("div",{className:"flex-1",children:M?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(Et,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]}):P?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-8",children:[e.jsxs("div",{className:"flex items-center text-red-700 mb-2",children:[e.jsx(he,{className:"h-5 w-5 mr-2"}),e.jsx("h3",{className:"font-semibold",children:"Error Loading Settings"})]}),e.jsx("p",{className:"text-sm text-red-600",children:(P==null?void 0:P.message)||"Failed to load platform settings"})]}):e.jsxs(e.Fragment,{children:[n==="general"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"General Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Platform branding and basic configuration"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform Name"}),e.jsx("input",{type:"text",value:l.platform_name,onChange:Y=>{o(K=>({...K,platform_name:Y.target.value})),O("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"BuildEasy"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),e.jsx("input",{type:"url",value:l.logo_url,onChange:Y=>{o(K=>({...K,logo_url:Y.target.value})),O("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://cdn.example.com/logo.png"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Email"}),e.jsx("input",{type:"email",value:l.support_email,onChange:Y=>{o(K=>({...K,support_email:Y.target.value})),O("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"support@buildeasy.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Currency"}),e.jsxs("select",{value:l.default_currency,onChange:Y=>{o(K=>({...K,default_currency:Y.target.value})),O("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"GBP",children:"GBP - British Pound"}),e.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Language"}),e.jsxs("select",{value:l.default_language,onChange:Y=>{o(K=>({...K,default_language:Y.target.value})),O("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:b,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Save General Settings"]})})})]})]}),n==="commission"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Commission & Fees"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure platform revenue and supplier fees"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Commission Rate (%)"}),e.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:c.default_commission_rate,onChange:Y=>{d(K=>({...K,default_commission_rate:parseFloat(Y.target.value)||0})),O("commission")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"5.0"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Platform commission on each transaction"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Tier-Based Rates"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Advanced commission tiers based on supplier performance (configure in future release)"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Subscription Pricing"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Supplier subscription plan pricing (configure in future release)"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:L,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Save Commission Settings"]})})})]})]}),n==="user_policy"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Policies"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Registration and account management rules"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email Verification Required"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Users must verify email before full access"})]}),e.jsx("button",{onClick:()=>{u(Y=>({...Y,email_verification_required:!Y.email_verification_required})),O("user_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.email_verification_required?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.email_verification_required?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Registration Approval Required"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Admin must approve new accounts"})]}),e.jsx("button",{onClick:()=>{u(Y=>({...Y,registration_approval_required:!Y.registration_approval_required})),O("user_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.registration_approval_required?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.registration_approval_required?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication Required"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Require 2FA for all user accounts"})]}),e.jsx("button",{onClick:()=>{u(Y=>({...Y,two_factor_required:!Y.two_factor_required})),O("user_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${m.two_factor_required?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${m.two_factor_required?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",min:"5",max:"10080",value:m.session_timeout_minutes,onChange:Y=>{u(K=>({...K,session_timeout_minutes:parseInt(Y.target.value)||1440})),O("user_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"1440"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"1440 minutes = 24 hours"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Password Policy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Minimum length: ",m.password_policy.min_length," characters"]}),e.jsx("input",{type:"number",min:"6",max:"128",value:m.password_policy.min_length,onChange:Y=>{u(K=>({...K,password_policy:{...K.password_policy,min_length:parseInt(Y.target.value)||8}})),O("user_policy")},className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"})]}),["require_uppercase","require_lowercase","require_numbers","require_special_chars"].map(Y=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:Y.replace(/_/g," ").replace(/\b\w/g,K=>K.toUpperCase())}),e.jsx("input",{type:"checkbox",checked:m.password_policy[Y],onChange:K=>{u(te=>({...te,password_policy:{...te.password_policy,[Y]:K.target.checked}})),O("user_policy")},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]},Y))]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:v,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Save User Policy Settings"]})})})]})]}),n==="order_policy"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Policies"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Order processing and fulfillment rules"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Value ($)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:x.minimum_order_value,onChange:Y=>{h(K=>({...K,minimum_order_value:parseFloat(Y.target.value)||0})),O("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Order Value ($)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:x.maximum_order_value,onChange:Y=>{h(K=>({...K,maximum_order_value:parseFloat(Y.target.value)||1e5})),O("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"100000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Cancellation Window (hours)"}),e.jsx("input",{type:"number",min:"0",max:"168",value:x.order_cancellation_window_hours,onChange:Y=>{h(K=>({...K,order_cancellation_window_hours:parseInt(Y.target.value)||24})),O("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"24"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Time window for customers to cancel orders"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery SLA (hours)"}),e.jsx("input",{type:"number",min:"1",max:"720",value:x.delivery_sla_hours,onChange:Y=>{h(K=>({...K,delivery_sla_hours:parseInt(Y.target.value)||72})),O("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"72"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Expected delivery timeframe"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Automatic Refund Processing"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Process refunds automatically for eligible cancellations"})]}),e.jsx("button",{onClick:()=>{h(Y=>({...Y,automatic_refund_enabled:!Y.automatic_refund_enabled})),O("order_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${x.automatic_refund_enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x.automatic_refund_enabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:D,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Save Order Policy Settings"]})})})]})]}),n==="payment"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Payment gateway and processing configuration"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Payment Methods"}),e.jsx("div",{className:"space-y-2",children:["credit_card","debit_card","trade_credit","paypal","apple_pay","google_pay"].map(Y=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:Y,checked:f.available_payment_methods.includes(Y),onChange:K=>{p(te=>({...te,available_payment_methods:K.target.checked?[...te.available_payment_methods,Y]:te.available_payment_methods.filter(V=>V!==Y)})),O("payment")},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:Y,className:"ml-3 text-sm text-gray-700",children:Y.replace(/_/g," ").replace(/\b\w/g,K=>K.toUpperCase())})]},Y))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Escrow Hold Period (days)"}),e.jsx("input",{type:"number",min:"0",max:"30",value:f.escrow_hold_period_days,onChange:Y=>{p(K=>({...K,escrow_hold_period_days:parseInt(Y.target.value)||3})),O("payment")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"3"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Hold payment before releasing to supplier"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Auto-Capture Payments"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Automatically capture payment on order placement"})]}),e.jsx("button",{onClick:()=>{p(Y=>({...Y,auto_capture_enabled:!Y.auto_capture_enabled})),O("payment")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${f.auto_capture_enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${f.auto_capture_enabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:U,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Save Payment Settings"]})})})]})]}),n==="notifications"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Email, SMS, and push notification configuration"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Email Provider Configuration"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Configure SendGrid, Mailgun, or custom SMTP settings (advanced configuration)"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"SMS Provider Configuration"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Configure Twilio or custom SMS gateway (advanced configuration)"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Rate Limits"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Prevent notification spam by setting rate limits"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Email (per hour)"}),e.jsx("input",{type:"number",min:"1",value:((Q=N.rate_limits)==null?void 0:Q.email_per_hour)||10,onChange:Y=>{y(K=>({...K,rate_limits:{...K.rate_limits,email_per_hour:parseInt(Y.target.value)||10}})),O("notifications")},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"SMS (per hour)"}),e.jsx("input",{type:"number",min:"1",value:((Z=N.rate_limits)==null?void 0:Z.sms_per_hour)||5,onChange:Y=>{y(K=>({...K,rate_limits:{...K.rate_limits,sms_per_hour:parseInt(Y.target.value)||5}})),O("notifications")},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:q,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})})]})]}),n==="integrations"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Third-Party Integrations"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure external service integrations"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stripe Payment Gateway"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Payment processing integration"})]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Active"})]}),e.jsx("button",{onClick:async()=>{R("stripe");try{await h_(i,"stripe",{}),F("Stripe integration test successful"),_(!0),setTimeout(()=>_(!1),3e3)}catch(Y){console.error("Integration test failed:",Y)}finally{R(null)}},disabled:T==="stripe",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-all flex items-center",children:T==="stripe"?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx($l,{className:"h-4 w-4 mr-2"}),"Test Connection"]})})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Google Maps API"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Location and geocoding services"})]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Active"})]}),e.jsx("button",{onClick:async()=>{R("google_maps");try{await h_(i,"google_maps",{}),F("Google Maps integration test successful"),_(!0),setTimeout(()=>_(!1),3e3)}catch(Y){console.error("Integration test failed:",Y)}finally{R(null)}},disabled:T==="google_maps",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-all flex items-center",children:T==="google_maps"?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx($l,{className:"h-4 w-4 mr-2"}),"Test Connection"]})})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"SendGrid Email Service"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Transactional email delivery"})]}),e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:"Inactive"})]}),e.jsxs("button",{disabled:!0,className:"px-4 py-2 bg-gray-300 text-gray-500 text-sm font-medium rounded-lg cursor-not-allowed flex items-center",children:[e.jsx($l,{className:"h-4 w-4 mr-2"}),"Configure to Test"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:B,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:E.isPending?e.jsxs(e.Fragment,{children:[e.jsx(Et,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"Save Integration Settings"]})})})]})]})]})})]})}),C&&e.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:e.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 rounded-lg shadow-xl flex items-center space-x-3",children:[e.jsx(Ce,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:$})]})})]})})};function dS(t){var s,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(r=dS(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function qe(){for(var t,s,r=0,a="",n=arguments.length;r<n;r++)(t=arguments[r])&&(s=dS(t))&&(a&&(a+=" "),a+=s);return a}var hB=Array.isArray,sr=hB,xB=typeof Lu=="object"&&Lu&&Lu.Object===Object&&Lu,uS=xB,pB=uS,gB=typeof self=="object"&&self&&self.Object===Object&&self,fB=pB||gB||Function("return this")(),ja=fB,yB=ja,bB=yB.Symbol,Au=bB,x_=Au,mS=Object.prototype,vB=mS.hasOwnProperty,jB=mS.toString,Sc=x_?x_.toStringTag:void 0;function NB(t){var s=vB.call(t,Sc),r=t[Sc];try{t[Sc]=void 0;var a=!0}catch{}var n=jB.call(t);return a&&(s?t[Sc]=r:delete t[Sc]),n}var wB=NB,_B=Object.prototype,kB=_B.toString;function SB(t){return kB.call(t)}var CB=SB,p_=Au,PB=wB,AB=CB,OB="[object Null]",$B="[object Undefined]",g_=p_?p_.toStringTag:void 0;function TB(t){return t==null?t===void 0?$B:OB:g_&&g_ in Object(t)?PB(t):AB(t)}var nn=TB;function EB(t){return t!=null&&typeof t=="object"}var ln=EB,MB=nn,FB=ln,RB="[object Symbol]";function LB(t){return typeof t=="symbol"||FB(t)&&MB(t)==RB}var tc=LB,DB=sr,IB=tc,BB=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qB=/^\w*$/;function zB(t,s){if(DB(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||IB(t)?!0:qB.test(t)||!BB.test(t)||s!=null&&t in Object(s)}var Ev=zB;function UB(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}var ti=UB;const sc=ot(ti);var WB=nn,VB=ti,HB="[object AsyncFunction]",KB="[object Function]",GB="[object GeneratorFunction]",YB="[object Proxy]";function QB(t){if(!VB(t))return!1;var s=WB(t);return s==KB||s==GB||s==HB||s==YB}var Mv=QB;const Me=ot(Mv);var XB=ja,ZB=XB["__core-js_shared__"],JB=ZB,L0=JB,f_=function(){var t=/[^.]+$/.exec(L0&&L0.keys&&L0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function eq(t){return!!f_&&f_ in t}var tq=eq,sq=Function.prototype,rq=sq.toString;function aq(t){if(t!=null){try{return rq.call(t)}catch{}try{return t+""}catch{}}return""}var hS=aq,nq=Mv,iq=tq,lq=ti,oq=hS,cq=/[\\^$.*+?()[\]{}|]/g,dq=/^\[object .+?Constructor\]$/,uq=Function.prototype,mq=Object.prototype,hq=uq.toString,xq=mq.hasOwnProperty,pq=RegExp("^"+hq.call(xq).replace(cq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gq(t){if(!lq(t)||iq(t))return!1;var s=nq(t)?pq:dq;return s.test(oq(t))}var fq=gq;function yq(t,s){return t==null?void 0:t[s]}var bq=yq,vq=fq,jq=bq;function Nq(t,s){var r=jq(t,s);return vq(r)?r:void 0}var nl=Nq,wq=nl,_q=wq(Object,"create"),Zx=_q,y_=Zx;function kq(){this.__data__=y_?y_(null):{},this.size=0}var Sq=kq;function Cq(t){var s=this.has(t)&&delete this.__data__[t];return this.size-=s?1:0,s}var Pq=Cq,Aq=Zx,Oq="__lodash_hash_undefined__",$q=Object.prototype,Tq=$q.hasOwnProperty;function Eq(t){var s=this.__data__;if(Aq){var r=s[t];return r===Oq?void 0:r}return Tq.call(s,t)?s[t]:void 0}var Mq=Eq,Fq=Zx,Rq=Object.prototype,Lq=Rq.hasOwnProperty;function Dq(t){var s=this.__data__;return Fq?s[t]!==void 0:Lq.call(s,t)}var Iq=Dq,Bq=Zx,qq="__lodash_hash_undefined__";function zq(t,s){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Bq&&s===void 0?qq:s,this}var Uq=zq,Wq=Sq,Vq=Pq,Hq=Mq,Kq=Iq,Gq=Uq;function rc(t){var s=-1,r=t==null?0:t.length;for(this.clear();++s<r;){var a=t[s];this.set(a[0],a[1])}}rc.prototype.clear=Wq;rc.prototype.delete=Vq;rc.prototype.get=Hq;rc.prototype.has=Kq;rc.prototype.set=Gq;var Yq=rc;function Qq(){this.__data__=[],this.size=0}var Xq=Qq;function Zq(t,s){return t===s||t!==t&&s!==s}var Fv=Zq,Jq=Fv;function ez(t,s){for(var r=t.length;r--;)if(Jq(t[r][0],s))return r;return-1}var Jx=ez,tz=Jx,sz=Array.prototype,rz=sz.splice;function az(t){var s=this.__data__,r=tz(s,t);if(r<0)return!1;var a=s.length-1;return r==a?s.pop():rz.call(s,r,1),--this.size,!0}var nz=az,iz=Jx;function lz(t){var s=this.__data__,r=iz(s,t);return r<0?void 0:s[r][1]}var oz=lz,cz=Jx;function dz(t){return cz(this.__data__,t)>-1}var uz=dz,mz=Jx;function hz(t,s){var r=this.__data__,a=mz(r,t);return a<0?(++this.size,r.push([t,s])):r[a][1]=s,this}var xz=hz,pz=Xq,gz=nz,fz=oz,yz=uz,bz=xz;function ac(t){var s=-1,r=t==null?0:t.length;for(this.clear();++s<r;){var a=t[s];this.set(a[0],a[1])}}ac.prototype.clear=pz;ac.prototype.delete=gz;ac.prototype.get=fz;ac.prototype.has=yz;ac.prototype.set=bz;var ep=ac,vz=nl,jz=ja,Nz=vz(jz,"Map"),Rv=Nz,b_=Yq,wz=ep,_z=Rv;function kz(){this.size=0,this.__data__={hash:new b_,map:new(_z||wz),string:new b_}}var Sz=kz;function Cz(t){var s=typeof t;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?t!=="__proto__":t===null}var Pz=Cz,Az=Pz;function Oz(t,s){var r=t.__data__;return Az(s)?r[typeof s=="string"?"string":"hash"]:r.map}var tp=Oz,$z=tp;function Tz(t){var s=$z(this,t).delete(t);return this.size-=s?1:0,s}var Ez=Tz,Mz=tp;function Fz(t){return Mz(this,t).get(t)}var Rz=Fz,Lz=tp;function Dz(t){return Lz(this,t).has(t)}var Iz=Dz,Bz=tp;function qz(t,s){var r=Bz(this,t),a=r.size;return r.set(t,s),this.size+=r.size==a?0:1,this}var zz=qz,Uz=Sz,Wz=Ez,Vz=Rz,Hz=Iz,Kz=zz;function nc(t){var s=-1,r=t==null?0:t.length;for(this.clear();++s<r;){var a=t[s];this.set(a[0],a[1])}}nc.prototype.clear=Uz;nc.prototype.delete=Wz;nc.prototype.get=Vz;nc.prototype.has=Hz;nc.prototype.set=Kz;var Lv=nc,xS=Lv,Gz="Expected a function";function Dv(t,s){if(typeof t!="function"||s!=null&&typeof s!="function")throw new TypeError(Gz);var r=function(){var a=arguments,n=s?s.apply(this,a):a[0],i=r.cache;if(i.has(n))return i.get(n);var l=t.apply(this,a);return r.cache=i.set(n,l)||i,l};return r.cache=new(Dv.Cache||xS),r}Dv.Cache=xS;var pS=Dv;const Yz=ot(pS);var Qz=pS,Xz=500;function Zz(t){var s=Qz(t,function(a){return r.size===Xz&&r.clear(),a}),r=s.cache;return s}var Jz=Zz,eU=Jz,tU=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,sU=/\\(\\)?/g,rU=eU(function(t){var s=[];return t.charCodeAt(0)===46&&s.push(""),t.replace(tU,function(r,a,n,i){s.push(n?i.replace(sU,"$1"):a||r)}),s}),aU=rU;function nU(t,s){for(var r=-1,a=t==null?0:t.length,n=Array(a);++r<a;)n[r]=s(t[r],r,t);return n}var Iv=nU,v_=Au,iU=Iv,lU=sr,oU=tc,j_=v_?v_.prototype:void 0,N_=j_?j_.toString:void 0;function gS(t){if(typeof t=="string")return t;if(lU(t))return iU(t,gS)+"";if(oU(t))return N_?N_.call(t):"";var s=t+"";return s=="0"&&1/t==-1/0?"-0":s}var cU=gS,dU=cU;function uU(t){return t==null?"":dU(t)}var fS=uU,mU=sr,hU=Ev,xU=aU,pU=fS;function gU(t,s){return mU(t)?t:hU(t,s)?[t]:xU(pU(t))}var yS=gU,fU=tc;function yU(t){if(typeof t=="string"||fU(t))return t;var s=t+"";return s=="0"&&1/t==-1/0?"-0":s}var sp=yU,bU=yS,vU=sp;function jU(t,s){s=bU(s,t);for(var r=0,a=s.length;t!=null&&r<a;)t=t[vU(s[r++])];return r&&r==a?t:void 0}var Bv=jU,NU=Bv;function wU(t,s,r){var a=t==null?void 0:NU(t,s);return a===void 0?r:a}var bS=wU;const ur=ot(bS);function _U(t){return t==null}var kU=_U;const Re=ot(kU);var SU=nn,CU=sr,PU=ln,AU="[object String]";function OU(t){return typeof t=="string"||!CU(t)&&PU(t)&&SU(t)==AU}var $U=OU;const Xi=ot($U);var vS={exports:{}},ct={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv=Symbol.for("react.element"),zv=Symbol.for("react.portal"),rp=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),ip=Symbol.for("react.provider"),lp=Symbol.for("react.context"),TU=Symbol.for("react.server_context"),op=Symbol.for("react.forward_ref"),cp=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),mp=Symbol.for("react.lazy"),EU=Symbol.for("react.offscreen"),jS;jS=Symbol.for("react.module.reference");function Mr(t){if(typeof t=="object"&&t!==null){var s=t.$$typeof;switch(s){case qv:switch(t=t.type,t){case rp:case np:case ap:case cp:case dp:return t;default:switch(t=t&&t.$$typeof,t){case TU:case lp:case op:case mp:case up:case ip:return t;default:return s}}case zv:return s}}}ct.ContextConsumer=lp;ct.ContextProvider=ip;ct.Element=qv;ct.ForwardRef=op;ct.Fragment=rp;ct.Lazy=mp;ct.Memo=up;ct.Portal=zv;ct.Profiler=np;ct.StrictMode=ap;ct.Suspense=cp;ct.SuspenseList=dp;ct.isAsyncMode=function(){return!1};ct.isConcurrentMode=function(){return!1};ct.isContextConsumer=function(t){return Mr(t)===lp};ct.isContextProvider=function(t){return Mr(t)===ip};ct.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qv};ct.isForwardRef=function(t){return Mr(t)===op};ct.isFragment=function(t){return Mr(t)===rp};ct.isLazy=function(t){return Mr(t)===mp};ct.isMemo=function(t){return Mr(t)===up};ct.isPortal=function(t){return Mr(t)===zv};ct.isProfiler=function(t){return Mr(t)===np};ct.isStrictMode=function(t){return Mr(t)===ap};ct.isSuspense=function(t){return Mr(t)===cp};ct.isSuspenseList=function(t){return Mr(t)===dp};ct.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rp||t===np||t===ap||t===cp||t===dp||t===EU||typeof t=="object"&&t!==null&&(t.$$typeof===mp||t.$$typeof===up||t.$$typeof===ip||t.$$typeof===lp||t.$$typeof===op||t.$$typeof===jS||t.getModuleId!==void 0)};ct.typeOf=Mr;vS.exports=ct;var MU=vS.exports,FU=nn,RU=ln,LU="[object Number]";function DU(t){return typeof t=="number"||RU(t)&&FU(t)==LU}var NS=DU;const IU=ot(NS);var BU=NS;function qU(t){return BU(t)&&t!=+t}var zU=qU;const ic=ot(zU);var Rs=function(s){return s===0?0:s>0?1:-1},wi=function(s){return Xi(s)&&s.indexOf("%")===s.length-1},pe=function(s){return IU(s)&&!ic(s)},UU=function(s){return Re(s)},Qt=function(s){return pe(s)||Xi(s)},WU=0,lc=function(s){var r=++WU;return"".concat(s||"").concat(r)},Ls=function(s,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(s)&&!Xi(s))return a;var i;if(wi(s)){var l=s.indexOf("%");i=r*parseFloat(s.slice(0,l))/100}else i=+s;return ic(i)&&(i=a),n&&i>r&&(i=r),i},bn=function(s){if(!s)return null;var r=Object.keys(s);return r&&r.length?s[r[0]]:null},VU=function(s){if(!Array.isArray(s))return!1;for(var r=s.length,a={},n=0;n<r;n++)if(!a[s[n]])a[s[n]]=!0;else return!0;return!1},Ks=function(s,r){return pe(s)&&pe(r)?function(a){return s+a*(r-s)}:function(){return r}};function Nh(t,s,r){return!t||!t.length?null:t.find(function(a){return a&&(typeof s=="function"?s(a):ur(a,s))===r})}var HU=function(s,r){return pe(s)&&pe(r)?s-r:Xi(s)&&Xi(r)?s.localeCompare(r):s instanceof Date&&r instanceof Date?s.getTime()-r.getTime():String(s).localeCompare(String(r))};function Ul(t,s){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(s,r)||t[r]!==s[r]))return!1;for(var a in s)if({}.hasOwnProperty.call(s,a)&&!{}.hasOwnProperty.call(t,a))return!1;return!0}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},If(t)}var KU=["viewBox","children"],GU=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],w_=["points","pathLength"],D0={svg:KU,polygon:w_,polyline:w_},Uv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wh=function(s,r){if(!s||typeof s=="function"||typeof s=="boolean")return null;var a=s;if(k.isValidElement(s)&&(a=s.props),!sc(a))return null;var n={};return Object.keys(a).forEach(function(i){Uv.includes(i)&&(n[i]=r||function(l){return a[i](a,l)})}),n},YU=function(s,r,a){return function(n){return s(r,a,n),null}},Zi=function(s,r,a){if(!sc(s)||If(s)!=="object")return null;var n=null;return Object.keys(s).forEach(function(i){var l=s[i];Uv.includes(i)&&typeof l=="function"&&(n||(n={}),n[i]=YU(l,r,a))}),n},QU=["children"],XU=["children"];function __(t,s){if(t==null)return{};var r=ZU(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function ZU(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function Bf(t){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Bf(t)}var k_={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qa=function(s){return typeof s=="string"?s:s?s.displayName||s.name||"Component":""},S_=null,I0=null,Wv=function t(s){if(s===S_&&Array.isArray(I0))return I0;var r=[];return k.Children.forEach(s,function(a){Re(a)||(MU.isFragment(a)?r=r.concat(t(a.props.children)):r.push(a))}),I0=r,S_=s,r};function Cr(t,s){var r=[],a=[];return Array.isArray(s)?a=s.map(function(n){return qa(n)}):a=[qa(s)],Wv(t).forEach(function(n){var i=ur(n,"type.displayName")||ur(n,"type.name");a.indexOf(i)!==-1&&r.push(n)}),r}function nr(t,s){var r=Cr(t,s);return r&&r[0]}var C_=function(s){if(!s||!s.props)return!1;var r=s.props,a=r.width,n=r.height;return!(!pe(a)||a<=0||!pe(n)||n<=0)},JU=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eW=function(s){return s&&s.type&&Xi(s.type)&&JU.indexOf(s.type)>=0},tW=function(s){return s&&Bf(s)==="object"&&"clipDot"in s},sW=function(s,r,a,n){var i,l=(i=D0==null?void 0:D0[n])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Me(s)&&(n&&l.includes(r)||GU.includes(r))||a&&Uv.includes(r)},$e=function(s,r,a){if(!s||typeof s=="function"||typeof s=="boolean")return null;var n=s;if(k.isValidElement(s)&&(n=s.props),!sc(n))return null;var i={};return Object.keys(n).forEach(function(l){var o;sW((o=n)===null||o===void 0?void 0:o[l],l,r,a)&&(i[l]=n[l])}),i},qf=function t(s,r){if(s===r)return!0;var a=k.Children.count(s);if(a!==k.Children.count(r))return!1;if(a===0)return!0;if(a===1)return P_(Array.isArray(s)?s[0]:s,Array.isArray(r)?r[0]:r);for(var n=0;n<a;n++){var i=s[n],l=r[n];if(Array.isArray(i)||Array.isArray(l)){if(!t(i,l))return!1}else if(!P_(i,l))return!1}return!0},P_=function(s,r){if(Re(s)&&Re(r))return!0;if(!Re(s)&&!Re(r)){var a=s.props||{},n=a.children,i=__(a,QU),l=r.props||{},o=l.children,c=__(l,XU);return n&&o?Ul(i,c)&&qf(n,o):!n&&!o?Ul(i,c):!1}return!1},A_=function(s,r){var a=[],n={};return Wv(s).forEach(function(i,l){if(eW(i))a.push(i);else if(i){var o=qa(i.type),c=r[o]||{},d=c.handler,m=c.once;if(d&&(!m||!n[o])){var u=d(i,o,l);a.push(u),n[o]=!0}}}),a},rW=function(s){var r=s&&s.type;return r&&k_[r]?k_[r]:null},aW=function(s,r){return Wv(r).indexOf(s)},nW=["children","width","height","viewBox","className","style","title","desc"];function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},zf.apply(this,arguments)}function iW(t,s){if(t==null)return{};var r=lW(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function lW(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function Uf(t){var s=t.children,r=t.width,a=t.height,n=t.viewBox,i=t.className,l=t.style,o=t.title,c=t.desc,d=iW(t,nW),m=n||{width:r,height:a,x:0,y:0},u=qe("recharts-surface",i);return X.createElement("svg",zf({},$e(d,!0,"svg"),{className:u,width:r,height:a,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),X.createElement("title",null,o),X.createElement("desc",null,c),s)}var oW=["children","className"];function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Wf.apply(this,arguments)}function cW(t,s){if(t==null)return{};var r=dW(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function dW(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}var Ze=X.forwardRef(function(t,s){var r=t.children,a=t.className,n=cW(t,oW),i=qe("recharts-layer",a);return X.createElement("g",Wf({className:i},$e(n,!0),{ref:s}),r)}),Xr=function(s,r){for(var a=arguments.length,n=new Array(a>2?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i]};function uW(t,s,r){var a=-1,n=t.length;s<0&&(s=-s>n?0:n+s),r=r>n?n:r,r<0&&(r+=n),n=s>r?0:r-s>>>0,s>>>=0;for(var i=Array(n);++a<n;)i[a]=t[a+s];return i}var mW=uW,hW=mW;function xW(t,s,r){var a=t.length;return r=r===void 0?a:r,!s&&r>=a?t:hW(t,s,r)}var pW=xW,gW="\\ud800-\\udfff",fW="\\u0300-\\u036f",yW="\\ufe20-\\ufe2f",bW="\\u20d0-\\u20ff",vW=fW+yW+bW,jW="\\ufe0e\\ufe0f",NW="\\u200d",wW=RegExp("["+NW+gW+vW+jW+"]");function _W(t){return wW.test(t)}var wS=_W;function kW(t){return t.split("")}var SW=kW,_S="\\ud800-\\udfff",CW="\\u0300-\\u036f",PW="\\ufe20-\\ufe2f",AW="\\u20d0-\\u20ff",OW=CW+PW+AW,$W="\\ufe0e\\ufe0f",TW="["+_S+"]",Vf="["+OW+"]",Hf="\\ud83c[\\udffb-\\udfff]",EW="(?:"+Vf+"|"+Hf+")",kS="[^"+_S+"]",SS="(?:\\ud83c[\\udde6-\\uddff]){2}",CS="[\\ud800-\\udbff][\\udc00-\\udfff]",MW="\\u200d",PS=EW+"?",AS="["+$W+"]?",FW="(?:"+MW+"(?:"+[kS,SS,CS].join("|")+")"+AS+PS+")*",RW=AS+PS+FW,LW="(?:"+[kS+Vf+"?",Vf,SS,CS,TW].join("|")+")",DW=RegExp(Hf+"(?="+Hf+")|"+LW+RW,"g");function IW(t){return t.match(DW)||[]}var BW=IW,qW=SW,zW=wS,UW=BW;function WW(t){return zW(t)?UW(t):qW(t)}var VW=WW,HW=pW,KW=wS,GW=VW,YW=fS;function QW(t){return function(s){s=YW(s);var r=KW(s)?GW(s):void 0,a=r?r[0]:s.charAt(0),n=r?HW(r,1).join(""):s.slice(1);return a[t]()+n}}var XW=QW,ZW=XW,JW=ZW("toUpperCase"),eV=JW;const hp=ot(eV);function xt(t){return function(){return t}}const OS=Math.cos,_h=Math.sin,ea=Math.sqrt,kh=Math.PI,xp=2*kh,Kf=Math.PI,Gf=2*Kf,hi=1e-6,tV=Gf-hi;function $S(t){this._+=t[0];for(let s=1,r=t.length;s<r;++s)this._+=arguments[s]+t[s]}function sV(t){let s=Math.floor(t);if(!(s>=0))throw new Error(`invalid digits: ${t}`);if(s>15)return $S;const r=10**s;return function(a){this._+=a[0];for(let n=1,i=a.length;n<i;++n)this._+=Math.round(arguments[n]*r)/r+a[n]}}class rV{constructor(s){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=s==null?$S:sV(s)}moveTo(s,r){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(s,r){this._append`L${this._x1=+s},${this._y1=+r}`}quadraticCurveTo(s,r,a,n){this._append`Q${+s},${+r},${this._x1=+a},${this._y1=+n}`}bezierCurveTo(s,r,a,n,i,l){this._append`C${+s},${+r},${+a},${+n},${this._x1=+i},${this._y1=+l}`}arcTo(s,r,a,n,i){if(s=+s,r=+r,a=+a,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=a-s,d=n-r,m=l-s,u=o-r,x=m*m+u*u;if(this._x1===null)this._append`M${this._x1=s},${this._y1=r}`;else if(x>hi)if(!(Math.abs(u*c-d*m)>hi)||!i)this._append`L${this._x1=s},${this._y1=r}`;else{let h=a-l,f=n-o,p=c*c+d*d,N=h*h+f*f,y=Math.sqrt(p),j=Math.sqrt(x),g=i*Math.tan((Kf-Math.acos((p+x-N)/(2*y*j)))/2),S=g/j,w=g/y;Math.abs(S-1)>hi&&this._append`L${s+S*m},${r+S*u}`,this._append`A${i},${i},0,0,${+(u*h>m*f)},${this._x1=s+w*c},${this._y1=r+w*d}`}}arc(s,r,a,n,i,l){if(s=+s,r=+r,a=+a,l=!!l,a<0)throw new Error(`negative radius: ${a}`);let o=a*Math.cos(n),c=a*Math.sin(n),d=s+o,m=r+c,u=1^l,x=l?n-i:i-n;this._x1===null?this._append`M${d},${m}`:(Math.abs(this._x1-d)>hi||Math.abs(this._y1-m)>hi)&&this._append`L${d},${m}`,a&&(x<0&&(x=x%Gf+Gf),x>tV?this._append`A${a},${a},0,1,${u},${s-o},${r-c}A${a},${a},0,1,${u},${this._x1=d},${this._y1=m}`:x>hi&&this._append`A${a},${a},0,${+(x>=Kf)},${u},${this._x1=s+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(s,r,a,n){this._append`M${this._x0=this._x1=+s},${this._y0=this._y1=+r}h${a=+a}v${+n}h${-a}Z`}toString(){return this._}}function Vv(t){let s=3;return t.digits=function(r){if(!arguments.length)return s;if(r==null)s=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);s=a}return t},()=>new rV(s)}function Hv(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function TS(t){this._context=t}TS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:this._context.lineTo(t,s);break}}};function pp(t){return new TS(t)}function ES(t){return t[0]}function MS(t){return t[1]}function FS(t,s){var r=xt(!0),a=null,n=pp,i=null,l=Vv(o);t=typeof t=="function"?t:t===void 0?ES:xt(t),s=typeof s=="function"?s:s===void 0?MS:xt(s);function o(c){var d,m=(c=Hv(c)).length,u,x=!1,h;for(a==null&&(i=n(h=l())),d=0;d<=m;++d)!(d<m&&r(u=c[d],d,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+t(u,d,c),+s(u,d,c));if(h)return i=null,h+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:xt(+c),o):t},o.y=function(c){return arguments.length?(s=typeof c=="function"?c:xt(+c),o):s},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:xt(!!c),o):r},o.curve=function(c){return arguments.length?(n=c,a!=null&&(i=n(a)),o):n},o.context=function(c){return arguments.length?(c==null?a=i=null:i=n(a=c),o):a},o}function cm(t,s,r){var a=null,n=xt(!0),i=null,l=pp,o=null,c=Vv(d);t=typeof t=="function"?t:t===void 0?ES:xt(+t),s=typeof s=="function"?s:xt(s===void 0?0:+s),r=typeof r=="function"?r:r===void 0?MS:xt(+r);function d(u){var x,h,f,p=(u=Hv(u)).length,N,y=!1,j,g=new Array(p),S=new Array(p);for(i==null&&(o=l(j=c())),x=0;x<=p;++x){if(!(x<p&&n(N=u[x],x,u))===y)if(y=!y)h=x,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),f=x-1;f>=h;--f)o.point(g[f],S[f]);o.lineEnd(),o.areaEnd()}y&&(g[x]=+t(N,x,u),S[x]=+s(N,x,u),o.point(a?+a(N,x,u):g[x],r?+r(N,x,u):S[x]))}if(j)return o=null,j+""||null}function m(){return FS().defined(n).curve(l).context(i)}return d.x=function(u){return arguments.length?(t=typeof u=="function"?u:xt(+u),a=null,d):t},d.x0=function(u){return arguments.length?(t=typeof u=="function"?u:xt(+u),d):t},d.x1=function(u){return arguments.length?(a=u==null?null:typeof u=="function"?u:xt(+u),d):a},d.y=function(u){return arguments.length?(s=typeof u=="function"?u:xt(+u),r=null,d):s},d.y0=function(u){return arguments.length?(s=typeof u=="function"?u:xt(+u),d):s},d.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:xt(+u),d):r},d.lineX0=d.lineY0=function(){return m().x(t).y(s)},d.lineY1=function(){return m().x(t).y(r)},d.lineX1=function(){return m().x(a).y(s)},d.defined=function(u){return arguments.length?(n=typeof u=="function"?u:xt(!!u),d):n},d.curve=function(u){return arguments.length?(l=u,i!=null&&(o=l(i)),d):l},d.context=function(u){return arguments.length?(u==null?i=o=null:o=l(i=u),d):i},d}class RS{constructor(s,r){this._context=s,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(s,r){switch(s=+s,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(s,r):this._context.moveTo(s,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+s)/2,this._y0,this._x0,r,s,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,s,this._y0,s,r);break}}this._x0=s,this._y0=r}}function aV(t){return new RS(t,!0)}function nV(t){return new RS(t,!1)}const Kv={draw(t,s){const r=ea(s/kh);t.moveTo(r,0),t.arc(0,0,r,0,xp)}},iV={draw(t,s){const r=ea(s/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},LS=ea(1/3),lV=LS*2,oV={draw(t,s){const r=ea(s/lV),a=r*LS;t.moveTo(0,-r),t.lineTo(a,0),t.lineTo(0,r),t.lineTo(-a,0),t.closePath()}},cV={draw(t,s){const r=ea(s),a=-r/2;t.rect(a,a,r,r)}},dV=.8908130915292852,DS=_h(kh/10)/_h(7*kh/10),uV=_h(xp/10)*DS,mV=-OS(xp/10)*DS,hV={draw(t,s){const r=ea(s*dV),a=uV*r,n=mV*r;t.moveTo(0,-r),t.lineTo(a,n);for(let i=1;i<5;++i){const l=xp*i/5,o=OS(l),c=_h(l);t.lineTo(c*r,-o*r),t.lineTo(o*a-c*n,c*a+o*n)}t.closePath()}},B0=ea(3),xV={draw(t,s){const r=-ea(s/(B0*3));t.moveTo(0,r*2),t.lineTo(-B0*r,-r),t.lineTo(B0*r,-r),t.closePath()}},pr=-.5,gr=ea(3)/2,Yf=1/ea(12),pV=(Yf/2+1)*3,gV={draw(t,s){const r=ea(s/pV),a=r/2,n=r*Yf,i=a,l=r*Yf+r,o=-i,c=l;t.moveTo(a,n),t.lineTo(i,l),t.lineTo(o,c),t.lineTo(pr*a-gr*n,gr*a+pr*n),t.lineTo(pr*i-gr*l,gr*i+pr*l),t.lineTo(pr*o-gr*c,gr*o+pr*c),t.lineTo(pr*a+gr*n,pr*n-gr*a),t.lineTo(pr*i+gr*l,pr*l-gr*i),t.lineTo(pr*o+gr*c,pr*c-gr*o),t.closePath()}};function fV(t,s){let r=null,a=Vv(n);t=typeof t=="function"?t:xt(t||Kv),s=typeof s=="function"?s:xt(s===void 0?64:+s);function n(){let i;if(r||(r=i=a()),t.apply(this,arguments).draw(r,+s.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(t=typeof i=="function"?i:xt(i),n):t},n.size=function(i){return arguments.length?(s=typeof i=="function"?i:xt(+i),n):s},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function Sh(){}function Ch(t,s,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+s)/6,(t._y0+4*t._y1+r)/6)}function IS(t){this._context=t}IS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ch(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ch(this,t,s);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};function yV(t){return new IS(t)}function BS(t){this._context=t}BS.prototype={areaStart:Sh,areaEnd:Sh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._x2=t,this._y2=s;break;case 1:this._point=2,this._x3=t,this._y3=s;break;case 2:this._point=3,this._x4=t,this._y4=s,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+s)/6);break;default:Ch(this,t,s);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};function bV(t){return new BS(t)}function qS(t){this._context=t}qS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,a=(this._y0+4*this._y1+s)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:Ch(this,t,s);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s}};function vV(t){return new qS(t)}function zS(t){this._context=t}zS.prototype={areaStart:Sh,areaEnd:Sh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,s){t=+t,s=+s,this._point?this._context.lineTo(t,s):(this._point=1,this._context.moveTo(t,s))}};function jV(t){return new zS(t)}function O_(t){return t<0?-1:1}function $_(t,s,r){var a=t._x1-t._x0,n=s-t._x1,i=(t._y1-t._y0)/(a||n<0&&-0),l=(r-t._y1)/(n||a<0&&-0),o=(i*n+l*a)/(a+n);return(O_(i)+O_(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function T_(t,s){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-s)/2:s}function q0(t,s,r){var a=t._x0,n=t._y0,i=t._x1,l=t._y1,o=(i-a)/3;t._context.bezierCurveTo(a+o,n+o*s,i-o,l-o*r,i,l)}function Ph(t){this._context=t}Ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q0(this,this._t0,T_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,s){var r=NaN;if(t=+t,s=+s,!(t===this._x1&&s===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;break;case 2:this._point=3,q0(this,T_(this,r=$_(this,t,s)),r);break;default:q0(this,this._t0,r=$_(this,t,s));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=s,this._t0=r}}};function US(t){this._context=new WS(t)}(US.prototype=Object.create(Ph.prototype)).point=function(t,s){Ph.prototype.point.call(this,s,t)};function WS(t){this._context=t}WS.prototype={moveTo:function(t,s){this._context.moveTo(s,t)},closePath:function(){this._context.closePath()},lineTo:function(t,s){this._context.lineTo(s,t)},bezierCurveTo:function(t,s,r,a,n,i){this._context.bezierCurveTo(s,t,a,r,i,n)}};function NV(t){return new Ph(t)}function wV(t){return new US(t)}function VS(t){this._context=t}VS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,s=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],s[0]):this._context.moveTo(t[0],s[0]),r===2)this._context.lineTo(t[1],s[1]);else for(var a=E_(t),n=E_(s),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(a[0][i],n[0][i],a[1][i],n[1][i],t[l],s[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,s){this._x.push(+t),this._y.push(+s)}};function E_(t){var s,r=t.length-1,a,n=new Array(r),i=new Array(r),l=new Array(r);for(n[0]=0,i[0]=2,l[0]=t[0]+2*t[1],s=1;s<r-1;++s)n[s]=1,i[s]=4,l[s]=4*t[s]+2*t[s+1];for(n[r-1]=2,i[r-1]=7,l[r-1]=8*t[r-1]+t[r],s=1;s<r;++s)a=n[s]/i[s-1],i[s]-=a,l[s]-=a*l[s-1];for(n[r-1]=l[r-1]/i[r-1],s=r-2;s>=0;--s)n[s]=(l[s]-n[s+1])/i[s];for(i[r-1]=(t[r]+n[r-1])/2,s=0;s<r-1;++s)i[s]=2*t[s+1]-n[s+1];return[n,i]}function _V(t){return new VS(t)}function gp(t,s){this._context=t,this._t=s}gp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,s){switch(t=+t,s=+s,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,s),this._context.lineTo(t,s);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,s)}break}}this._x=t,this._y=s}};function kV(t){return new gp(t,.5)}function SV(t){return new gp(t,0)}function CV(t){return new gp(t,1)}function fo(t,s){if((l=t.length)>1)for(var r=1,a,n,i=t[s[0]],l,o=i.length;r<l;++r)for(n=i,i=t[s[r]],a=0;a<o;++a)i[a][1]+=i[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}function Qf(t){for(var s=t.length,r=new Array(s);--s>=0;)r[s]=s;return r}function PV(t,s){return t[s]}function AV(t){const s=[];return s.key=t,s}function OV(){var t=xt([]),s=Qf,r=fo,a=PV;function n(i){var l=Array.from(t.apply(this,arguments),AV),o,c=l.length,d=-1,m;for(const u of i)for(o=0,++d;o<c;++o)(l[o][d]=[0,+a(u,l[o].key,d,i)]).data=u;for(o=0,m=Hv(s(l));o<c;++o)l[m[o]].index=o;return r(l,m),l}return n.keys=function(i){return arguments.length?(t=typeof i=="function"?i:xt(Array.from(i)),n):t},n.value=function(i){return arguments.length?(a=typeof i=="function"?i:xt(+i),n):a},n.order=function(i){return arguments.length?(s=i==null?Qf:typeof i=="function"?i:xt(Array.from(i)),n):s},n.offset=function(i){return arguments.length?(r=i??fo,n):r},n}function $V(t,s){if((a=t.length)>0){for(var r,a,n=0,i=t[0].length,l;n<i;++n){for(l=r=0;r<a;++r)l+=t[r][n][1]||0;if(l)for(r=0;r<a;++r)t[r][n][1]/=l}fo(t,s)}}function TV(t,s){if((n=t.length)>0){for(var r=0,a=t[s[0]],n,i=a.length;r<i;++r){for(var l=0,o=0;l<n;++l)o+=t[l][r][1]||0;a[r][1]+=a[r][0]=-o/2}fo(t,s)}}function EV(t,s){if(!(!((l=t.length)>0)||!((i=(n=t[s[0]]).length)>0))){for(var r=0,a=1,n,i,l;a<i;++a){for(var o=0,c=0,d=0;o<l;++o){for(var m=t[s[o]],u=m[a][1]||0,x=m[a-1][1]||0,h=(u-x)/2,f=0;f<o;++f){var p=t[s[f]],N=p[a][1]||0,y=p[a-1][1]||0;h+=N-y}c+=u,d+=h*u}n[a-1][1]+=n[a-1][0]=r,c&&(r-=d/c)}n[a-1][1]+=n[a-1][0]=r,fo(t,s)}}function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Od(t)}var MV=["type","size","sizeType"];function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Xf.apply(this,arguments)}function M_(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function F_(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?M_(Object(r),!0).forEach(function(a){FV(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function FV(t,s,r){return s=RV(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function RV(t){var s=LV(t,"string");return Od(s)=="symbol"?s:s+""}function LV(t,s){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Od(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function DV(t,s){if(t==null)return{};var r=IV(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function IV(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}var HS={symbolCircle:Kv,symbolCross:iV,symbolDiamond:oV,symbolSquare:cV,symbolStar:hV,symbolTriangle:xV,symbolWye:gV},BV=Math.PI/180,qV=function(s){var r="symbol".concat(hp(s));return HS[r]||Kv},zV=function(s,r,a){if(r==="area")return s;switch(a){case"cross":return 5*s*s/9;case"diamond":return .5*s*s/Math.sqrt(3);case"square":return s*s;case"star":{var n=18*BV;return 1.25*s*s*(Math.tan(n)-Math.tan(n*2)*Math.pow(Math.tan(n),2))}case"triangle":return Math.sqrt(3)*s*s/4;case"wye":return(21-10*Math.sqrt(3))*s*s/8;default:return Math.PI*s*s/4}},UV=function(s,r){HS["symbol".concat(hp(s))]=r},Gv=function(s){var r=s.type,a=r===void 0?"circle":r,n=s.size,i=n===void 0?64:n,l=s.sizeType,o=l===void 0?"area":l,c=DV(s,MV),d=F_(F_({},c),{},{type:a,size:i,sizeType:o}),m=function(){var N=qV(a),y=fV().type(N).size(zV(i,o,a));return y()},u=d.className,x=d.cx,h=d.cy,f=$e(d,!0);return x===+x&&h===+h&&i===+i?X.createElement("path",Xf({},f,{className:qe("recharts-symbols",u),transform:"translate(".concat(x,", ").concat(h,")"),d:m()})):null};Gv.registerSymbol=UV;function yo(t){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},yo(t)}function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Zf.apply(this,arguments)}function R_(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function WV(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?R_(Object(r),!0).forEach(function(a){$d(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function VV(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function HV(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,GS(a.key),a)}}function KV(t,s,r){return s&&HV(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function GV(t,s,r){return s=Ah(s),YV(t,KS()?Reflect.construct(s,r||[],Ah(t).constructor):s.apply(t,r))}function YV(t,s){if(s&&(yo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QV(t)}function QV(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KS=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ah(t)}function XV(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Jf(t,s)}function Jf(t,s){return Jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Jf(t,s)}function $d(t,s,r){return s=GS(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function GS(t){var s=ZV(t,"string");return yo(s)=="symbol"?s:s+""}function ZV(t,s){if(yo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(yo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fr=32,Yv=function(t){function s(){return VV(this,s),GV(this,s,arguments)}return XV(s,t),KV(s,[{key:"renderIcon",value:function(a){var n=this.props.inactiveColor,i=fr/2,l=fr/6,o=fr/3,c=a.inactive?n:a.color;if(a.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:fr,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(fr,"M").concat(2*o,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(fr/8,"h").concat(fr,"v").concat(fr*3/4,"h").concat(-fr,"z"),className:"recharts-legend-icon"});if(X.isValidElement(a.legendIcon)){var d=WV({},a);return delete d.legendIcon,X.cloneElement(a.legendIcon,d)}return X.createElement(Gv,{fill:c,cx:i,cy:i,size:fr,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,n=this.props,i=n.payload,l=n.iconSize,o=n.layout,c=n.formatter,d=n.inactiveColor,m={x:0,y:0,width:fr,height:fr},u={display:o==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,f){var p=h.formatter||c,N=qe($d($d({"recharts-legend-item":!0},"legend-item-".concat(f),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=Me(h.value)?null:h.value;Xr(!Me(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=h.inactive?d:h.color;return X.createElement("li",Zf({className:N,style:u,key:"legend-item-".concat(f)},Zi(a.props,h,f)),X.createElement(Uf,{width:l,height:l,viewBox:m,style:x},a.renderIcon(h)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},p?p(y,h,f):y))})}},{key:"render",value:function(){var a=this.props,n=a.payload,i=a.layout,l=a.align;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(k.PureComponent);$d(Yv,"displayName","Legend");$d(Yv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var JV=ep;function eH(){this.__data__=new JV,this.size=0}var tH=eH;function sH(t){var s=this.__data__,r=s.delete(t);return this.size=s.size,r}var rH=sH;function aH(t){return this.__data__.get(t)}var nH=aH;function iH(t){return this.__data__.has(t)}var lH=iH,oH=ep,cH=Rv,dH=Lv,uH=200;function mH(t,s){var r=this.__data__;if(r instanceof oH){var a=r.__data__;if(!cH||a.length<uH-1)return a.push([t,s]),this.size=++r.size,this;r=this.__data__=new dH(a)}return r.set(t,s),this.size=r.size,this}var hH=mH,xH=ep,pH=tH,gH=rH,fH=nH,yH=lH,bH=hH;function oc(t){var s=this.__data__=new xH(t);this.size=s.size}oc.prototype.clear=pH;oc.prototype.delete=gH;oc.prototype.get=fH;oc.prototype.has=yH;oc.prototype.set=bH;var YS=oc,vH="__lodash_hash_undefined__";function jH(t){return this.__data__.set(t,vH),this}var NH=jH;function wH(t){return this.__data__.has(t)}var _H=wH,kH=Lv,SH=NH,CH=_H;function Oh(t){var s=-1,r=t==null?0:t.length;for(this.__data__=new kH;++s<r;)this.add(t[s])}Oh.prototype.add=Oh.prototype.push=SH;Oh.prototype.has=CH;var QS=Oh;function PH(t,s){for(var r=-1,a=t==null?0:t.length;++r<a;)if(s(t[r],r,t))return!0;return!1}var XS=PH;function AH(t,s){return t.has(s)}var ZS=AH,OH=QS,$H=XS,TH=ZS,EH=1,MH=2;function FH(t,s,r,a,n,i){var l=r&EH,o=t.length,c=s.length;if(o!=c&&!(l&&c>o))return!1;var d=i.get(t),m=i.get(s);if(d&&m)return d==s&&m==t;var u=-1,x=!0,h=r&MH?new OH:void 0;for(i.set(t,s),i.set(s,t);++u<o;){var f=t[u],p=s[u];if(a)var N=l?a(p,f,u,s,t,i):a(f,p,u,t,s,i);if(N!==void 0){if(N)continue;x=!1;break}if(h){if(!$H(s,function(y,j){if(!TH(h,j)&&(f===y||n(f,y,r,a,i)))return h.push(j)})){x=!1;break}}else if(!(f===p||n(f,p,r,a,i))){x=!1;break}}return i.delete(t),i.delete(s),x}var JS=FH,RH=ja,LH=RH.Uint8Array,DH=LH;function IH(t){var s=-1,r=Array(t.size);return t.forEach(function(a,n){r[++s]=[n,a]}),r}var BH=IH;function qH(t){var s=-1,r=Array(t.size);return t.forEach(function(a){r[++s]=a}),r}var Qv=qH,L_=Au,D_=DH,zH=Fv,UH=JS,WH=BH,VH=Qv,HH=1,KH=2,GH="[object Boolean]",YH="[object Date]",QH="[object Error]",XH="[object Map]",ZH="[object Number]",JH="[object RegExp]",eK="[object Set]",tK="[object String]",sK="[object Symbol]",rK="[object ArrayBuffer]",aK="[object DataView]",I_=L_?L_.prototype:void 0,z0=I_?I_.valueOf:void 0;function nK(t,s,r,a,n,i,l){switch(r){case aK:if(t.byteLength!=s.byteLength||t.byteOffset!=s.byteOffset)return!1;t=t.buffer,s=s.buffer;case rK:return!(t.byteLength!=s.byteLength||!i(new D_(t),new D_(s)));case GH:case YH:case ZH:return zH(+t,+s);case QH:return t.name==s.name&&t.message==s.message;case JH:case tK:return t==s+"";case XH:var o=WH;case eK:var c=a&HH;if(o||(o=VH),t.size!=s.size&&!c)return!1;var d=l.get(t);if(d)return d==s;a|=KH,l.set(t,s);var m=UH(o(t),o(s),a,n,i,l);return l.delete(t),m;case sK:if(z0)return z0.call(t)==z0.call(s)}return!1}var iK=nK;function lK(t,s){for(var r=-1,a=s.length,n=t.length;++r<a;)t[n+r]=s[r];return t}var eC=lK,oK=eC,cK=sr;function dK(t,s,r){var a=s(t);return cK(t)?a:oK(a,r(t))}var uK=dK;function mK(t,s){for(var r=-1,a=t==null?0:t.length,n=0,i=[];++r<a;){var l=t[r];s(l,r,t)&&(i[n++]=l)}return i}var hK=mK;function xK(){return[]}var pK=xK,gK=hK,fK=pK,yK=Object.prototype,bK=yK.propertyIsEnumerable,B_=Object.getOwnPropertySymbols,vK=B_?function(t){return t==null?[]:(t=Object(t),gK(B_(t),function(s){return bK.call(t,s)}))}:fK,jK=vK;function NK(t,s){for(var r=-1,a=Array(t);++r<t;)a[r]=s(r);return a}var wK=NK,_K=nn,kK=ln,SK="[object Arguments]";function CK(t){return kK(t)&&_K(t)==SK}var PK=CK,q_=PK,AK=ln,tC=Object.prototype,OK=tC.hasOwnProperty,$K=tC.propertyIsEnumerable,TK=q_(function(){return arguments}())?q_:function(t){return AK(t)&&OK.call(t,"callee")&&!$K.call(t,"callee")},Xv=TK,$h={exports:{}};function EK(){return!1}var MK=EK;$h.exports;(function(t,s){var r=ja,a=MK,n=s&&!s.nodeType&&s,i=n&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===n,o=l?r.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||a;t.exports=d})($h,$h.exports);var sC=$h.exports,FK=9007199254740991,RK=/^(?:0|[1-9]\d*)$/;function LK(t,s){var r=typeof t;return s=s??FK,!!s&&(r=="number"||r!="symbol"&&RK.test(t))&&t>-1&&t%1==0&&t<s}var Zv=LK,DK=9007199254740991;function IK(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DK}var Jv=IK,BK=nn,qK=Jv,zK=ln,UK="[object Arguments]",WK="[object Array]",VK="[object Boolean]",HK="[object Date]",KK="[object Error]",GK="[object Function]",YK="[object Map]",QK="[object Number]",XK="[object Object]",ZK="[object RegExp]",JK="[object Set]",eG="[object String]",tG="[object WeakMap]",sG="[object ArrayBuffer]",rG="[object DataView]",aG="[object Float32Array]",nG="[object Float64Array]",iG="[object Int8Array]",lG="[object Int16Array]",oG="[object Int32Array]",cG="[object Uint8Array]",dG="[object Uint8ClampedArray]",uG="[object Uint16Array]",mG="[object Uint32Array]",bt={};bt[aG]=bt[nG]=bt[iG]=bt[lG]=bt[oG]=bt[cG]=bt[dG]=bt[uG]=bt[mG]=!0;bt[UK]=bt[WK]=bt[sG]=bt[VK]=bt[rG]=bt[HK]=bt[KK]=bt[GK]=bt[YK]=bt[QK]=bt[XK]=bt[ZK]=bt[JK]=bt[eG]=bt[tG]=!1;function hG(t){return zK(t)&&qK(t.length)&&!!bt[BK(t)]}var xG=hG;function pG(t){return function(s){return t(s)}}var rC=pG,Th={exports:{}};Th.exports;(function(t,s){var r=uS,a=s&&!s.nodeType&&s,n=a&&!0&&t&&!t.nodeType&&t,i=n&&n.exports===a,l=i&&r.process,o=function(){try{var c=n&&n.require&&n.require("util").types;return c||l&&l.binding&&l.binding("util")}catch{}}();t.exports=o})(Th,Th.exports);var gG=Th.exports,fG=xG,yG=rC,z_=gG,U_=z_&&z_.isTypedArray,bG=U_?yG(U_):fG,aC=bG,vG=wK,jG=Xv,NG=sr,wG=sC,_G=Zv,kG=aC,SG=Object.prototype,CG=SG.hasOwnProperty;function PG(t,s){var r=NG(t),a=!r&&jG(t),n=!r&&!a&&wG(t),i=!r&&!a&&!n&&kG(t),l=r||a||n||i,o=l?vG(t.length,String):[],c=o.length;for(var d in t)(s||CG.call(t,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||_G(d,c)))&&o.push(d);return o}var AG=PG,OG=Object.prototype;function $G(t){var s=t&&t.constructor,r=typeof s=="function"&&s.prototype||OG;return t===r}var TG=$G;function EG(t,s){return function(r){return t(s(r))}}var nC=EG,MG=nC,FG=MG(Object.keys,Object),RG=FG,LG=TG,DG=RG,IG=Object.prototype,BG=IG.hasOwnProperty;function qG(t){if(!LG(t))return DG(t);var s=[];for(var r in Object(t))BG.call(t,r)&&r!="constructor"&&s.push(r);return s}var zG=qG,UG=Mv,WG=Jv;function VG(t){return t!=null&&WG(t.length)&&!UG(t)}var Ou=VG,HG=AG,KG=zG,GG=Ou;function YG(t){return GG(t)?HG(t):KG(t)}var fp=YG,QG=uK,XG=jK,ZG=fp;function JG(t){return QG(t,ZG,XG)}var eY=JG,W_=eY,tY=1,sY=Object.prototype,rY=sY.hasOwnProperty;function aY(t,s,r,a,n,i){var l=r&tY,o=W_(t),c=o.length,d=W_(s),m=d.length;if(c!=m&&!l)return!1;for(var u=c;u--;){var x=o[u];if(!(l?x in s:rY.call(s,x)))return!1}var h=i.get(t),f=i.get(s);if(h&&f)return h==s&&f==t;var p=!0;i.set(t,s),i.set(s,t);for(var N=l;++u<c;){x=o[u];var y=t[x],j=s[x];if(a)var g=l?a(j,y,x,s,t,i):a(y,j,x,t,s,i);if(!(g===void 0?y===j||n(y,j,r,a,i):g)){p=!1;break}N||(N=x=="constructor")}if(p&&!N){var S=t.constructor,w=s.constructor;S!=w&&"constructor"in t&&"constructor"in s&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(p=!1)}return i.delete(t),i.delete(s),p}var nY=aY,iY=nl,lY=ja,oY=iY(lY,"DataView"),cY=oY,dY=nl,uY=ja,mY=dY(uY,"Promise"),hY=mY,xY=nl,pY=ja,gY=xY(pY,"Set"),iC=gY,fY=nl,yY=ja,bY=fY(yY,"WeakMap"),vY=bY,ey=cY,ty=Rv,sy=hY,ry=iC,ay=vY,lC=nn,cc=hS,V_="[object Map]",jY="[object Object]",H_="[object Promise]",K_="[object Set]",G_="[object WeakMap]",Y_="[object DataView]",NY=cc(ey),wY=cc(ty),_Y=cc(sy),kY=cc(ry),SY=cc(ay),xi=lC;(ey&&xi(new ey(new ArrayBuffer(1)))!=Y_||ty&&xi(new ty)!=V_||sy&&xi(sy.resolve())!=H_||ry&&xi(new ry)!=K_||ay&&xi(new ay)!=G_)&&(xi=function(t){var s=lC(t),r=s==jY?t.constructor:void 0,a=r?cc(r):"";if(a)switch(a){case NY:return Y_;case wY:return V_;case _Y:return H_;case kY:return K_;case SY:return G_}return s});var CY=xi,U0=YS,PY=JS,AY=iK,OY=nY,Q_=CY,X_=sr,Z_=sC,$Y=aC,TY=1,J_="[object Arguments]",e2="[object Array]",dm="[object Object]",EY=Object.prototype,t2=EY.hasOwnProperty;function MY(t,s,r,a,n,i){var l=X_(t),o=X_(s),c=l?e2:Q_(t),d=o?e2:Q_(s);c=c==J_?dm:c,d=d==J_?dm:d;var m=c==dm,u=d==dm,x=c==d;if(x&&Z_(t)){if(!Z_(s))return!1;l=!0,m=!1}if(x&&!m)return i||(i=new U0),l||$Y(t)?PY(t,s,r,a,n,i):AY(t,s,c,r,a,n,i);if(!(r&TY)){var h=m&&t2.call(t,"__wrapped__"),f=u&&t2.call(s,"__wrapped__");if(h||f){var p=h?t.value():t,N=f?s.value():s;return i||(i=new U0),n(p,N,r,a,i)}}return x?(i||(i=new U0),OY(t,s,r,a,n,i)):!1}var FY=MY,RY=FY,s2=ln;function oC(t,s,r,a,n){return t===s?!0:t==null||s==null||!s2(t)&&!s2(s)?t!==t&&s!==s:RY(t,s,r,a,oC,n)}var ej=oC,LY=YS,DY=ej,IY=1,BY=2;function qY(t,s,r,a){var n=r.length,i=n,l=!a;if(t==null)return!i;for(t=Object(t);n--;){var o=r[n];if(l&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++n<i;){o=r[n];var c=o[0],d=t[c],m=o[1];if(l&&o[2]){if(d===void 0&&!(c in t))return!1}else{var u=new LY;if(a)var x=a(d,m,c,t,s,u);if(!(x===void 0?DY(m,d,IY|BY,a,u):x))return!1}}return!0}var zY=qY,UY=ti;function WY(t){return t===t&&!UY(t)}var cC=WY,VY=cC,HY=fp;function KY(t){for(var s=HY(t),r=s.length;r--;){var a=s[r],n=t[a];s[r]=[a,n,VY(n)]}return s}var GY=KY;function YY(t,s){return function(r){return r==null?!1:r[t]===s&&(s!==void 0||t in Object(r))}}var dC=YY,QY=zY,XY=GY,ZY=dC;function JY(t){var s=XY(t);return s.length==1&&s[0][2]?ZY(s[0][0],s[0][1]):function(r){return r===t||QY(r,t,s)}}var eQ=JY;function tQ(t,s){return t!=null&&s in Object(t)}var sQ=tQ,rQ=yS,aQ=Xv,nQ=sr,iQ=Zv,lQ=Jv,oQ=sp;function cQ(t,s,r){s=rQ(s,t);for(var a=-1,n=s.length,i=!1;++a<n;){var l=oQ(s[a]);if(!(i=t!=null&&r(t,l)))break;t=t[l]}return i||++a!=n?i:(n=t==null?0:t.length,!!n&&lQ(n)&&iQ(l,n)&&(nQ(t)||aQ(t)))}var dQ=cQ,uQ=sQ,mQ=dQ;function hQ(t,s){return t!=null&&mQ(t,s,uQ)}var xQ=hQ,pQ=ej,gQ=bS,fQ=xQ,yQ=Ev,bQ=cC,vQ=dC,jQ=sp,NQ=1,wQ=2;function _Q(t,s){return yQ(t)&&bQ(s)?vQ(jQ(t),s):function(r){var a=gQ(r,t);return a===void 0&&a===s?fQ(r,t):pQ(s,a,NQ|wQ)}}var kQ=_Q;function SQ(t){return t}var dc=SQ;function CQ(t){return function(s){return s==null?void 0:s[t]}}var PQ=CQ,AQ=Bv;function OQ(t){return function(s){return AQ(s,t)}}var $Q=OQ,TQ=PQ,EQ=$Q,MQ=Ev,FQ=sp;function RQ(t){return MQ(t)?TQ(FQ(t)):EQ(t)}var LQ=RQ,DQ=eQ,IQ=kQ,BQ=dc,qQ=sr,zQ=LQ;function UQ(t){return typeof t=="function"?t:t==null?BQ:typeof t=="object"?qQ(t)?IQ(t[0],t[1]):DQ(t):zQ(t)}var Na=UQ;function WQ(t,s,r,a){for(var n=t.length,i=r+(a?1:-1);a?i--:++i<n;)if(s(t[i],i,t))return i;return-1}var uC=WQ;function VQ(t){return t!==t}var HQ=VQ;function KQ(t,s,r){for(var a=r-1,n=t.length;++a<n;)if(t[a]===s)return a;return-1}var GQ=KQ,YQ=uC,QQ=HQ,XQ=GQ;function ZQ(t,s,r){return s===s?XQ(t,s,r):YQ(t,QQ,r)}var JQ=ZQ,eX=JQ;function tX(t,s){var r=t==null?0:t.length;return!!r&&eX(t,s,0)>-1}var sX=tX;function rX(t,s,r){for(var a=-1,n=t==null?0:t.length;++a<n;)if(r(s,t[a]))return!0;return!1}var aX=rX;function nX(){}var iX=nX,W0=iC,lX=iX,oX=Qv,cX=1/0,dX=W0&&1/oX(new W0([,-0]))[1]==cX?function(t){return new W0(t)}:lX,uX=dX,mX=QS,hX=sX,xX=aX,pX=ZS,gX=uX,fX=Qv,yX=200;function bX(t,s,r){var a=-1,n=hX,i=t.length,l=!0,o=[],c=o;if(r)l=!1,n=xX;else if(i>=yX){var d=s?null:gX(t);if(d)return fX(d);l=!1,n=pX,c=new mX}else c=s?[]:o;e:for(;++a<i;){var m=t[a],u=s?s(m):m;if(m=r||m!==0?m:0,l&&u===u){for(var x=c.length;x--;)if(c[x]===u)continue e;s&&c.push(u),o.push(m)}else n(c,u,r)||(c!==o&&c.push(u),o.push(m))}return o}var vX=bX,jX=Na,NX=vX;function wX(t,s){return t&&t.length?NX(t,jX(s)):[]}var _X=wX;const r2=ot(_X);function mC(t,s,r){return s===!0?r2(t,r):Me(s)?r2(t,s):t}function bo(t){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},bo(t)}var kX=["ref"];function a2(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function wa(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?a2(Object(r),!0).forEach(function(a){yp(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function SX(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function n2(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,xC(a.key),a)}}function CX(t,s,r){return s&&n2(t.prototype,s),r&&n2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function PX(t,s,r){return s=Eh(s),AX(t,hC()?Reflect.construct(s,r||[],Eh(t).constructor):s.apply(t,r))}function AX(t,s){if(s&&(bo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OX(t)}function OX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hC=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eh(t)}function $X(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&ny(t,s)}function ny(t,s){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},ny(t,s)}function yp(t,s,r){return s=xC(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function xC(t){var s=TX(t,"string");return bo(s)=="symbol"?s:s+""}function TX(t,s){if(bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EX(t,s){if(t==null)return{};var r=MX(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function MX(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function FX(t){return t.value}function RX(t,s){if(X.isValidElement(t))return X.cloneElement(t,s);if(typeof t=="function")return X.createElement(t,s);s.ref;var r=EX(s,kX);return X.createElement(Yv,r)}var i2=1,Vn=function(t){function s(){var r;SX(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=PX(this,s,[].concat(n)),yp(r,"lastBoundingBox",{width:-1,height:-1}),r}return $X(s,t),CX(s,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,n=this.getBBox();n?(Math.abs(n.width-this.lastBoundingBox.width)>i2||Math.abs(n.height-this.lastBoundingBox.height)>i2)&&(this.lastBoundingBox.width=n.width,this.lastBoundingBox.height=n.height,a&&a(n)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var n=this.props,i=n.layout,l=n.align,o=n.verticalAlign,c=n.margin,d=n.chartWidth,m=n.chartHeight,u,x;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(l==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();u={left:((d||0)-h.width)/2}}else u=l==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(o==="middle"){var f=this.getBBoxSnapshot();x={top:((m||0)-f.height)/2}}else x=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wa(wa({},u),x)}},{key:"render",value:function(){var a=this,n=this.props,i=n.content,l=n.width,o=n.height,c=n.wrapperStyle,d=n.payloadUniqBy,m=n.payload,u=wa(wa({position:"absolute",width:l||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(h){a.wrapperNode=h}},RX(i,wa(wa({},this.props),{},{payload:mC(m,d,FX)})))}}],[{key:"getWithHeight",value:function(a,n){var i=wa(wa({},this.defaultProps),a.props),l=i.layout;return l==="vertical"&&pe(a.props.height)?{height:a.props.height}:l==="horizontal"?{width:a.props.width||n}:null}}])}(k.PureComponent);yp(Vn,"displayName","Legend");yp(Vn,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var l2=Au,LX=Xv,DX=sr,o2=l2?l2.isConcatSpreadable:void 0;function IX(t){return DX(t)||LX(t)||!!(o2&&t&&t[o2])}var BX=IX,qX=eC,zX=BX;function pC(t,s,r,a,n){var i=-1,l=t.length;for(r||(r=zX),n||(n=[]);++i<l;){var o=t[i];s>0&&r(o)?s>1?pC(o,s-1,r,a,n):qX(n,o):a||(n[n.length]=o)}return n}var gC=pC;function UX(t){return function(s,r,a){for(var n=-1,i=Object(s),l=a(s),o=l.length;o--;){var c=l[t?o:++n];if(r(i[c],c,i)===!1)break}return s}}var WX=UX,VX=WX,HX=VX(),KX=HX,GX=KX,YX=fp;function QX(t,s){return t&&GX(t,s,YX)}var fC=QX,XX=Ou;function ZX(t,s){return function(r,a){if(r==null)return r;if(!XX(r))return t(r,a);for(var n=r.length,i=s?n:-1,l=Object(r);(s?i--:++i<n)&&a(l[i],i,l)!==!1;);return r}}var JX=ZX,eZ=fC,tZ=JX,sZ=tZ(eZ),tj=sZ,rZ=tj,aZ=Ou;function nZ(t,s){var r=-1,a=aZ(t)?Array(t.length):[];return rZ(t,function(n,i,l){a[++r]=s(n,i,l)}),a}var yC=nZ;function iZ(t,s){var r=t.length;for(t.sort(s);r--;)t[r]=t[r].value;return t}var lZ=iZ,c2=tc;function oZ(t,s){if(t!==s){var r=t!==void 0,a=t===null,n=t===t,i=c2(t),l=s!==void 0,o=s===null,c=s===s,d=c2(s);if(!o&&!d&&!i&&t>s||i&&l&&c&&!o&&!d||a&&l&&c||!r&&c||!n)return 1;if(!a&&!i&&!d&&t<s||d&&r&&n&&!a&&!i||o&&r&&n||!l&&n||!c)return-1}return 0}var cZ=oZ,dZ=cZ;function uZ(t,s,r){for(var a=-1,n=t.criteria,i=s.criteria,l=n.length,o=r.length;++a<l;){var c=dZ(n[a],i[a]);if(c){if(a>=o)return c;var d=r[a];return c*(d=="desc"?-1:1)}}return t.index-s.index}var mZ=uZ,V0=Iv,hZ=Bv,xZ=Na,pZ=yC,gZ=lZ,fZ=rC,yZ=mZ,bZ=dc,vZ=sr;function jZ(t,s,r){s.length?s=V0(s,function(i){return vZ(i)?function(l){return hZ(l,i.length===1?i[0]:i)}:i}):s=[bZ];var a=-1;s=V0(s,fZ(xZ));var n=pZ(t,function(i,l,o){var c=V0(s,function(d){return d(i)});return{criteria:c,index:++a,value:i}});return gZ(n,function(i,l){return yZ(i,l,r)})}var NZ=jZ;function wZ(t,s,r){switch(r.length){case 0:return t.call(s);case 1:return t.call(s,r[0]);case 2:return t.call(s,r[0],r[1]);case 3:return t.call(s,r[0],r[1],r[2])}return t.apply(s,r)}var _Z=wZ,kZ=_Z,d2=Math.max;function SZ(t,s,r){return s=d2(s===void 0?t.length-1:s,0),function(){for(var a=arguments,n=-1,i=d2(a.length-s,0),l=Array(i);++n<i;)l[n]=a[s+n];n=-1;for(var o=Array(s+1);++n<s;)o[n]=a[n];return o[s]=r(l),kZ(t,this,o)}}var CZ=SZ;function PZ(t){return function(){return t}}var AZ=PZ,OZ=nl,$Z=function(){try{var t=OZ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),bC=$Z,TZ=AZ,u2=bC,EZ=dc,MZ=u2?function(t,s){return u2(t,"toString",{configurable:!0,enumerable:!1,value:TZ(s),writable:!0})}:EZ,FZ=MZ,RZ=800,LZ=16,DZ=Date.now;function IZ(t){var s=0,r=0;return function(){var a=DZ(),n=LZ-(a-r);if(r=a,n>0){if(++s>=RZ)return arguments[0]}else s=0;return t.apply(void 0,arguments)}}var BZ=IZ,qZ=FZ,zZ=BZ,UZ=zZ(qZ),WZ=UZ,VZ=dc,HZ=CZ,KZ=WZ;function GZ(t,s){return KZ(HZ(t,s,VZ),t+"")}var YZ=GZ,QZ=Fv,XZ=Ou,ZZ=Zv,JZ=ti;function eJ(t,s,r){if(!JZ(r))return!1;var a=typeof s;return(a=="number"?XZ(r)&&ZZ(s,r.length):a=="string"&&s in r)?QZ(r[s],t):!1}var bp=eJ,tJ=gC,sJ=NZ,rJ=YZ,m2=bp,aJ=rJ(function(t,s){if(t==null)return[];var r=s.length;return r>1&&m2(t,s[0],s[1])?s=[]:r>2&&m2(s[0],s[1],s[2])&&(s=[s[0]]),sJ(t,tJ(s,1),[])}),nJ=aJ;const sj=ot(nJ);function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Td(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},iy.apply(this,arguments)}function iJ(t,s){return dJ(t)||cJ(t,s)||oJ(t,s)||lJ()}function lJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJ(t,s){if(t){if(typeof t=="string")return h2(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h2(t,s)}}function h2(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function cJ(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function dJ(t){if(Array.isArray(t))return t}function x2(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function H0(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?x2(Object(r),!0).forEach(function(a){uJ(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x2(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function uJ(t,s,r){return s=mJ(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function mJ(t){var s=hJ(t,"string");return Td(s)=="symbol"?s:s+""}function hJ(t,s){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Td(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function xJ(t){return Array.isArray(t)&&Qt(t[0])&&Qt(t[1])?t.join(" ~ "):t}var pJ=function(s){var r=s.separator,a=r===void 0?" : ":r,n=s.contentStyle,i=n===void 0?{}:n,l=s.itemStyle,o=l===void 0?{}:l,c=s.labelStyle,d=c===void 0?{}:c,m=s.payload,u=s.formatter,x=s.itemSorter,h=s.wrapperClassName,f=s.labelClassName,p=s.label,N=s.labelFormatter,y=s.accessibilityLayer,j=y===void 0?!1:y,g=function(){if(m&&m.length){var A={padding:0,margin:0},M=(x?sj(m,x):m).map(function(P,E){if(P.type==="none")return null;var z=H0({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},o),O=P.formatter||u||xJ,b=P.value,L=P.name,v=b,D=L;if(O&&v!=null&&D!=null){var U=O(b,L,P,E,m);if(Array.isArray(U)){var q=iJ(U,2);v=q[0],D=q[1]}else v=U}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:z},Qt(D)?X.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Qt(D)?X.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,X.createElement("span",{className:"recharts-tooltip-item-value"},v),X.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:A},M)}return null},S=H0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=H0({margin:0},d),C=!Re(p),_=C?p:"",$=qe("recharts-default-tooltip",h),F=qe("recharts-tooltip-label",f);C&&N&&m!==void 0&&m!==null&&(_=N(p,m));var T=j?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",iy({className:$,style:S},T),X.createElement("p",{className:F,style:w},X.isValidElement(_)?_:"".concat(_)),g())};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ed(t)}function um(t,s,r){return s=gJ(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function gJ(t){var s=fJ(t,"string");return Ed(s)=="symbol"?s:s+""}function fJ(t,s){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Ed(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var Cc="recharts-tooltip-wrapper",yJ={visibility:"hidden"};function bJ(t){var s=t.coordinate,r=t.translateX,a=t.translateY;return qe(Cc,um(um(um(um({},"".concat(Cc,"-right"),pe(r)&&s&&pe(s.x)&&r>=s.x),"".concat(Cc,"-left"),pe(r)&&s&&pe(s.x)&&r<s.x),"".concat(Cc,"-bottom"),pe(a)&&s&&pe(s.y)&&a>=s.y),"".concat(Cc,"-top"),pe(a)&&s&&pe(s.y)&&a<s.y))}function p2(t){var s=t.allowEscapeViewBox,r=t.coordinate,a=t.key,n=t.offsetTopLeft,i=t.position,l=t.reverseDirection,o=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&pe(i[a]))return i[a];var m=r[a]-o-n,u=r[a]+n;if(s[a])return l[a]?m:u;if(l[a]){var x=m,h=c[a];return x<h?Math.max(u,c[a]):Math.max(m,c[a])}var f=u+o,p=c[a]+d;return f>p?Math.max(m,c[a]):Math.max(u,c[a])}function vJ(t){var s=t.translateX,r=t.translateY,a=t.useTranslate3d;return{transform:a?"translate3d(".concat(s,"px, ").concat(r,"px, 0)"):"translate(".concat(s,"px, ").concat(r,"px)")}}function jJ(t){var s=t.allowEscapeViewBox,r=t.coordinate,a=t.offsetTopLeft,n=t.position,i=t.reverseDirection,l=t.tooltipBox,o=t.useTranslate3d,c=t.viewBox,d,m,u;return l.height>0&&l.width>0&&r?(m=p2({allowEscapeViewBox:s,coordinate:r,key:"x",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),u=p2({allowEscapeViewBox:s,coordinate:r,key:"y",offsetTopLeft:a,position:n,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),d=vJ({translateX:m,translateY:u,useTranslate3d:o})):d=yJ,{cssProperties:d,cssClasses:bJ({translateX:m,translateY:u,coordinate:r})}}function vo(t){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},vo(t)}function g2(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function f2(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?g2(Object(r),!0).forEach(function(a){oy(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function NJ(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function wJ(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,jC(a.key),a)}}function _J(t,s,r){return s&&wJ(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function kJ(t,s,r){return s=Mh(s),SJ(t,vC()?Reflect.construct(s,r||[],Mh(t).constructor):s.apply(t,r))}function SJ(t,s){if(s&&(vo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CJ(t)}function CJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vC=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mh(t)}function PJ(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&ly(t,s)}function ly(t,s){return ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},ly(t,s)}function oy(t,s,r){return s=jC(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function jC(t){var s=AJ(t,"string");return vo(s)=="symbol"?s:s+""}function AJ(t,s){if(vo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(vo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y2=1,OJ=function(t){function s(){var r;NJ(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=kJ(this,s,[].concat(n)),oy(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oy(r,"handleKeyDown",function(l){if(l.key==="Escape"){var o,c,d,m;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(d=(m=r.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&d!==void 0?d:0}})}}),r}return PJ(s,t),_J(s,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>y2||Math.abs(a.height-this.state.lastBoundingBox.height)>y2)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,n;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,n=this.props,i=n.active,l=n.allowEscapeViewBox,o=n.animationDuration,c=n.animationEasing,d=n.children,m=n.coordinate,u=n.hasPayload,x=n.isAnimationActive,h=n.offset,f=n.position,p=n.reverseDirection,N=n.useTranslate3d,y=n.viewBox,j=n.wrapperStyle,g=jJ({allowEscapeViewBox:l,coordinate:m,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:N,viewBox:y}),S=g.cssClasses,w=g.cssProperties,C=f2(f2({transition:x&&i?"transform ".concat(o,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&u?"visible":"hidden",position:"absolute",top:0,left:0},j);return X.createElement("div",{tabIndex:-1,className:S,style:C,ref:function($){a.wrapperNode=$}},d)}}])}(k.PureComponent),$J=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},il={isSsr:$J()};function jo(t){"@babel/helpers - typeof";return jo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},jo(t)}function b2(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function v2(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?b2(Object(r),!0).forEach(function(a){rj(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function TJ(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function EJ(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,wC(a.key),a)}}function MJ(t,s,r){return s&&EJ(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function FJ(t,s,r){return s=Fh(s),RJ(t,NC()?Reflect.construct(s,r||[],Fh(t).constructor):s.apply(t,r))}function RJ(t,s){if(s&&(jo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LJ(t)}function LJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NC=function(){return!!t})()}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fh(t)}function DJ(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&cy(t,s)}function cy(t,s){return cy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},cy(t,s)}function rj(t,s,r){return s=wC(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function wC(t){var s=IJ(t,"string");return jo(s)=="symbol"?s:s+""}function IJ(t,s){if(jo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(jo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BJ(t){return t.dataKey}function qJ(t,s){return X.isValidElement(t)?X.cloneElement(t,s):typeof t=="function"?X.createElement(t,s):X.createElement(pJ,s)}var Vr=function(t){function s(){return TJ(this,s),FJ(this,s,arguments)}return DJ(s,t),MJ(s,[{key:"render",value:function(){var a=this,n=this.props,i=n.active,l=n.allowEscapeViewBox,o=n.animationDuration,c=n.animationEasing,d=n.content,m=n.coordinate,u=n.filterNull,x=n.isAnimationActive,h=n.offset,f=n.payload,p=n.payloadUniqBy,N=n.position,y=n.reverseDirection,j=n.useTranslate3d,g=n.viewBox,S=n.wrapperStyle,w=f??[];u&&w.length&&(w=mC(f.filter(function(_){return _.value!=null&&(_.hide!==!0||a.props.includeHidden)}),p,BJ));var C=w.length>0;return X.createElement(OJ,{allowEscapeViewBox:l,animationDuration:o,animationEasing:c,isAnimationActive:x,active:i,coordinate:m,hasPayload:C,offset:h,position:N,reverseDirection:y,useTranslate3d:j,viewBox:g,wrapperStyle:S},qJ(d,v2(v2({},this.props),{},{payload:w})))}}])}(k.PureComponent);rj(Vr,"displayName","Tooltip");rj(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!il.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zJ=ja,UJ=function(){return zJ.Date.now()},WJ=UJ,VJ=/\s/;function HJ(t){for(var s=t.length;s--&&VJ.test(t.charAt(s)););return s}var KJ=HJ,GJ=KJ,YJ=/^\s+/;function QJ(t){return t&&t.slice(0,GJ(t)+1).replace(YJ,"")}var XJ=QJ,ZJ=XJ,j2=ti,JJ=tc,N2=NaN,eee=/^[-+]0x[0-9a-f]+$/i,tee=/^0b[01]+$/i,see=/^0o[0-7]+$/i,ree=parseInt;function aee(t){if(typeof t=="number")return t;if(JJ(t))return N2;if(j2(t)){var s=typeof t.valueOf=="function"?t.valueOf():t;t=j2(s)?s+"":s}if(typeof t!="string")return t===0?t:+t;t=ZJ(t);var r=tee.test(t);return r||see.test(t)?ree(t.slice(2),r?2:8):eee.test(t)?N2:+t}var _C=aee,nee=ti,K0=WJ,w2=_C,iee="Expected a function",lee=Math.max,oee=Math.min;function cee(t,s,r){var a,n,i,l,o,c,d=0,m=!1,u=!1,x=!0;if(typeof t!="function")throw new TypeError(iee);s=w2(s)||0,nee(r)&&(m=!!r.leading,u="maxWait"in r,i=u?lee(w2(r.maxWait)||0,s):i,x="trailing"in r?!!r.trailing:x);function h(C){var _=a,$=n;return a=n=void 0,d=C,l=t.apply($,_),l}function f(C){return d=C,o=setTimeout(y,s),m?h(C):l}function p(C){var _=C-c,$=C-d,F=s-_;return u?oee(F,i-$):F}function N(C){var _=C-c,$=C-d;return c===void 0||_>=s||_<0||u&&$>=i}function y(){var C=K0();if(N(C))return j(C);o=setTimeout(y,p(C))}function j(C){return o=void 0,x&&a?h(C):(a=n=void 0,l)}function g(){o!==void 0&&clearTimeout(o),d=0,a=c=n=o=void 0}function S(){return o===void 0?l:j(K0())}function w(){var C=K0(),_=N(C);if(a=arguments,n=this,c=C,_){if(o===void 0)return f(c);if(u)return clearTimeout(o),o=setTimeout(y,s),h(c)}return o===void 0&&(o=setTimeout(y,s)),l}return w.cancel=g,w.flush=S,w}var dee=cee,uee=dee,mee=ti,hee="Expected a function";function xee(t,s,r){var a=!0,n=!0;if(typeof t!="function")throw new TypeError(hee);return mee(r)&&(a="leading"in r?!!r.leading:a,n="trailing"in r?!!r.trailing:n),uee(t,s,{leading:a,maxWait:s,trailing:n})}var pee=xee;const kC=ot(pee);function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Md(t)}function _2(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function mm(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?_2(Object(r),!0).forEach(function(a){gee(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_2(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function gee(t,s,r){return s=fee(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function fee(t){var s=yee(t,"string");return Md(s)=="symbol"?s:s+""}function yee(t,s){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Md(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function bee(t,s){return wee(t)||Nee(t,s)||jee(t,s)||vee()}function vee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jee(t,s){if(t){if(typeof t=="string")return k2(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k2(t,s)}}function k2(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function Nee(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function wee(t){if(Array.isArray(t))return t}var S2=k.forwardRef(function(t,s){var r=t.aspect,a=t.initialDimension,n=a===void 0?{width:-1,height:-1}:a,i=t.width,l=i===void 0?"100%":i,o=t.height,c=o===void 0?"100%":o,d=t.minWidth,m=d===void 0?0:d,u=t.minHeight,x=t.maxHeight,h=t.children,f=t.debounce,p=f===void 0?0:f,N=t.id,y=t.className,j=t.onResize,g=t.style,S=g===void 0?{}:g,w=k.useRef(null),C=k.useRef();C.current=j,k.useImperativeHandle(s,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var _=k.useState({containerWidth:n.width,containerHeight:n.height}),$=bee(_,2),F=$[0],T=$[1],R=k.useCallback(function(M,P){T(function(E){var z=Math.round(M),O=Math.round(P);return E.containerWidth===z&&E.containerHeight===O?E:{containerWidth:z,containerHeight:O}})},[]);k.useEffect(function(){var M=function(L){var v,D=L[0].contentRect,U=D.width,q=D.height;R(U,q),(v=C.current)===null||v===void 0||v.call(C,U,q)};p>0&&(M=kC(M,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(M),E=w.current.getBoundingClientRect(),z=E.width,O=E.height;return R(z,O),P.observe(w.current),function(){P.disconnect()}},[R,p]);var A=k.useMemo(function(){var M=F.containerWidth,P=F.containerHeight;if(M<0||P<0)return null;Xr(wi(l)||wi(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,c),Xr(!r||r>0,"The aspect(%s) must be greater than zero.",r);var E=wi(l)?M:l,z=wi(c)?P:c;r&&r>0&&(E?z=E/r:z&&(E=z*r),x&&z>x&&(z=x)),Xr(E>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,E,z,l,c,m,u,r);var O=!Array.isArray(h)&&qa(h.type).endsWith("Chart");return X.Children.map(h,function(b){return X.isValidElement(b)?k.cloneElement(b,mm({width:E,height:z},O?{style:mm({height:"100%",width:"100%",maxHeight:z,maxWidth:E},b.props.style)}:{})):b})},[r,h,c,x,u,m,F,l]);return X.createElement("div",{id:N?"".concat(N):void 0,className:qe("recharts-responsive-container",y),style:mm(mm({},S),{},{width:l,height:c,minWidth:m,minHeight:u,maxHeight:x}),ref:w},A)}),vp=function(s){return null};vp.displayName="Cell";function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Fd(t)}function C2(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function dy(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?C2(Object(r),!0).forEach(function(a){_ee(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function _ee(t,s,r){return s=kee(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function kee(t){var s=See(t,"string");return Fd(s)=="symbol"?s:s+""}function See(t,s){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Fd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var hl={widthCache:{},cacheCount:0},Cee=2e3,Pee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P2="recharts_measurement_span";function Aee(t){var s=dy({},t);return Object.keys(s).forEach(function(r){s[r]||delete s[r]}),s}var td=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(s==null||il.isSsr)return{width:0,height:0};var a=Aee(r),n=JSON.stringify({text:s,copyStyle:a});if(hl.widthCache[n])return hl.widthCache[n];try{var i=document.getElementById(P2);i||(i=document.createElement("span"),i.setAttribute("id",P2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=dy(dy({},Pee),a);Object.assign(i.style,l),i.textContent="".concat(s);var o=i.getBoundingClientRect(),c={width:o.width,height:o.height};return hl.widthCache[n]=c,++hl.cacheCount>Cee&&(hl.cacheCount=0,hl.widthCache={}),c}catch{return{width:0,height:0}}},Oee=function(s){return{top:s.top+window.scrollY-document.documentElement.clientTop,left:s.left+window.scrollX-document.documentElement.clientLeft}};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Rd(t)}function Rh(t,s){return Mee(t)||Eee(t,s)||Tee(t,s)||$ee()}function $ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tee(t,s){if(t){if(typeof t=="string")return A2(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A2(t,s)}}function A2(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function Eee(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function Mee(t){if(Array.isArray(t))return t}function Fee(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function O2(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Lee(a.key),a)}}function Ree(t,s,r){return s&&O2(t.prototype,s),r&&O2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lee(t){var s=Dee(t,"string");return Rd(s)=="symbol"?s:s+""}function Dee(t,s){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Rd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,T2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Iee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qee=Object.keys(SC),Tl="NaN";function zee(t,s){return t*SC[s]}var hm=function(){function t(s,r){Fee(this,t),this.num=s,this.unit=r,this.num=s,this.unit=r,Number.isNaN(s)&&(this.unit=""),r!==""&&!Iee.test(r)&&(this.num=NaN,this.unit=""),qee.includes(r)&&(this.num=zee(s,r),this.unit="px")}return Ree(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,n=(a=Bee.exec(r))!==null&&a!==void 0?a:[],i=Rh(n,3),l=i[1],o=i[2];return new t(parseFloat(l),o??"")}}])}();function CC(t){if(t.includes(Tl))return Tl;for(var s=t;s.includes("*")||s.includes("/");){var r,a=(r=$2.exec(s))!==null&&r!==void 0?r:[],n=Rh(a,4),i=n[1],l=n[2],o=n[3],c=hm.parse(i??""),d=hm.parse(o??""),m=l==="*"?c.multiply(d):c.divide(d);if(m.isNaN())return Tl;s=s.replace($2,m.toString())}for(;s.includes("+")||/.-\d+(?:\.\d+)?/.test(s);){var u,x=(u=T2.exec(s))!==null&&u!==void 0?u:[],h=Rh(x,4),f=h[1],p=h[2],N=h[3],y=hm.parse(f??""),j=hm.parse(N??""),g=p==="+"?y.add(j):y.subtract(j);if(g.isNaN())return Tl;s=s.replace(T2,g.toString())}return s}var E2=/\(([^()]*)\)/;function Uee(t){for(var s=t;s.includes("(");){var r=E2.exec(s),a=Rh(r,2),n=a[1];s=s.replace(E2,CC(n))}return s}function Wee(t){var s=t.replace(/\s+/g,"");return s=Uee(s),s=CC(s),s}function Vee(t){try{return Wee(t)}catch{return Tl}}function G0(t){var s=Vee(t.slice(5,-1));return s===Tl?"":s}var Hee=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kee=["dx","dy","angle","className","breakAll"];function uy(){return uy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},uy.apply(this,arguments)}function M2(t,s){if(t==null)return{};var r=Gee(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function Gee(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function F2(t,s){return Zee(t)||Xee(t,s)||Qee(t,s)||Yee()}function Yee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(t,s){if(t){if(typeof t=="string")return R2(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R2(t,s)}}function R2(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function Xee(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function Zee(t){if(Array.isArray(t))return t}var PC=/[ \f\n\r\t\v\u2028\u2029]+/,AC=function(s){var r=s.children,a=s.breakAll,n=s.style;try{var i=[];Re(r)||(a?i=r.toString().split(""):i=r.toString().split(PC));var l=i.map(function(c){return{word:c,width:td(c,n).width}}),o=a?0:td("",n).width;return{wordsWithComputedWidth:l,spaceWidth:o}}catch{return null}},Jee=function(s,r,a,n,i){var l=s.maxLines,o=s.children,c=s.style,d=s.breakAll,m=pe(l),u=o,x=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce(function(z,O){var b=O.word,L=O.width,v=z[z.length-1];if(v&&(n==null||i||v.width+L+a<Number(n)))v.words.push(b),v.width+=L+a;else{var D={words:[b],width:L};z.push(D)}return z},[])},h=x(r),f=function(E){return E.reduce(function(z,O){return z.width>O.width?z:O})};if(!m)return h;for(var p="",N=function(E){var z=u.slice(0,E),O=AC({breakAll:d,style:c,children:z+p}).wordsWithComputedWidth,b=x(O),L=b.length>l||f(b).width>Number(n);return[L,b]},y=0,j=u.length-1,g=0,S;y<=j&&g<=u.length-1;){var w=Math.floor((y+j)/2),C=w-1,_=N(C),$=F2(_,2),F=$[0],T=$[1],R=N(w),A=F2(R,1),M=A[0];if(!F&&!M&&(y=w+1),F&&M&&(j=w-1),!F&&M){S=T;break}g++}return S||h},L2=function(s){var r=Re(s)?[]:s.toString().split(PC);return[{words:r}]},ete=function(s){var r=s.width,a=s.scaleToFit,n=s.children,i=s.style,l=s.breakAll,o=s.maxLines;if((r||a)&&!il.isSsr){var c,d,m=AC({breakAll:l,children:n,style:i});if(m){var u=m.wordsWithComputedWidth,x=m.spaceWidth;c=u,d=x}else return L2(n);return Jee({breakAll:l,children:n,maxLines:o,style:i},c,d,r,a)}return L2(n)},D2="#808080",Ji=function(s){var r=s.x,a=r===void 0?0:r,n=s.y,i=n===void 0?0:n,l=s.lineHeight,o=l===void 0?"1em":l,c=s.capHeight,d=c===void 0?"0.71em":c,m=s.scaleToFit,u=m===void 0?!1:m,x=s.textAnchor,h=x===void 0?"start":x,f=s.verticalAnchor,p=f===void 0?"end":f,N=s.fill,y=N===void 0?D2:N,j=M2(s,Hee),g=k.useMemo(function(){return ete({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:u,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,u,j.style,j.width]),S=j.dx,w=j.dy,C=j.angle,_=j.className,$=j.breakAll,F=M2(j,Kee);if(!Qt(a)||!Qt(i))return null;var T=a+(pe(S)?S:0),R=i+(pe(w)?w:0),A;switch(p){case"start":A=G0("calc(".concat(d,")"));break;case"middle":A=G0("calc(".concat((g.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:A=G0("calc(".concat(g.length-1," * -").concat(o,")"));break}var M=[];if(u){var P=g[0].width,E=j.width;M.push("scale(".concat((pe(E)?E/P:1)/P,")"))}return C&&M.push("rotate(".concat(C,", ").concat(T,", ").concat(R,")")),M.length&&(F.transform=M.join(" ")),X.createElement("text",uy({},$e(F,!0),{x:T,y:R,className:qe("recharts-text",_),textAnchor:h,fill:y.includes("url")?D2:y}),g.map(function(z,O){var b=z.words.join($?"":" ");return X.createElement("tspan",{x:T,dy:O===0?A:o,key:"".concat(b,"-").concat(O)},b)}))};function Hn(t,s){return t==null||s==null?NaN:t<s?-1:t>s?1:t>=s?0:NaN}function tte(t,s){return t==null||s==null?NaN:s<t?-1:s>t?1:s>=t?0:NaN}function aj(t){let s,r,a;t.length!==2?(s=Hn,r=(o,c)=>Hn(t(o),c),a=(o,c)=>t(o)-c):(s=t===Hn||t===tte?t:ste,r=t,a=t);function n(o,c,d=0,m=o.length){if(d<m){if(s(c,c)!==0)return m;do{const u=d+m>>>1;r(o[u],c)<0?d=u+1:m=u}while(d<m)}return d}function i(o,c,d=0,m=o.length){if(d<m){if(s(c,c)!==0)return m;do{const u=d+m>>>1;r(o[u],c)<=0?d=u+1:m=u}while(d<m)}return d}function l(o,c,d=0,m=o.length){const u=n(o,c,d,m-1);return u>d&&a(o[u-1],c)>-a(o[u],c)?u-1:u}return{left:n,center:l,right:i}}function ste(){return 0}function OC(t){return t===null?NaN:+t}function*rte(t,s){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const ate=aj(Hn),$u=ate.right;aj(OC).center;class I2 extends Map{constructor(s,r=lte){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),s!=null)for(const[a,n]of s)this.set(a,n)}get(s){return super.get(B2(this,s))}has(s){return super.has(B2(this,s))}set(s,r){return super.set(nte(this,s),r)}delete(s){return super.delete(ite(this,s))}}function B2({_intern:t,_key:s},r){const a=s(r);return t.has(a)?t.get(a):r}function nte({_intern:t,_key:s},r){const a=s(r);return t.has(a)?t.get(a):(t.set(a,r),r)}function ite({_intern:t,_key:s},r){const a=s(r);return t.has(a)&&(r=t.get(a),t.delete(a)),r}function lte(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ote(t=Hn){if(t===Hn)return $C;if(typeof t!="function")throw new TypeError("compare is not a function");return(s,r)=>{const a=t(s,r);return a||a===0?a:(t(r,r)===0)-(t(s,s)===0)}}function $C(t,s){return(t==null||!(t>=t))-(s==null||!(s>=s))||(t<s?-1:t>s?1:0)}const cte=Math.sqrt(50),dte=Math.sqrt(10),ute=Math.sqrt(2);function Lh(t,s,r){const a=(s-t)/Math.max(0,r),n=Math.floor(Math.log10(a)),i=a/Math.pow(10,n),l=i>=cte?10:i>=dte?5:i>=ute?2:1;let o,c,d;return n<0?(d=Math.pow(10,-n)/l,o=Math.round(t*d),c=Math.round(s*d),o/d<t&&++o,c/d>s&&--c,d=-d):(d=Math.pow(10,n)*l,o=Math.round(t/d),c=Math.round(s/d),o*d<t&&++o,c*d>s&&--c),c<o&&.5<=r&&r<2?Lh(t,s,r*2):[o,c,d]}function my(t,s,r){if(s=+s,t=+t,r=+r,!(r>0))return[];if(t===s)return[t];const a=s<t,[n,i,l]=a?Lh(s,t,r):Lh(t,s,r);if(!(i>=n))return[];const o=i-n+1,c=new Array(o);if(a)if(l<0)for(let d=0;d<o;++d)c[d]=(i-d)/-l;else for(let d=0;d<o;++d)c[d]=(i-d)*l;else if(l<0)for(let d=0;d<o;++d)c[d]=(n+d)/-l;else for(let d=0;d<o;++d)c[d]=(n+d)*l;return c}function hy(t,s,r){return s=+s,t=+t,r=+r,Lh(t,s,r)[2]}function xy(t,s,r){s=+s,t=+t,r=+r;const a=s<t,n=a?hy(s,t,r):hy(t,s,r);return(a?-1:1)*(n<0?1/-n:n)}function q2(t,s){let r;for(const a of t)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function z2(t,s){let r;for(const a of t)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function TC(t,s,r=0,a=1/0,n){if(s=Math.floor(s),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(t.length-1,a)),!(r<=s&&s<=a))return t;for(n=n===void 0?$C:ote(n);a>r;){if(a-r>600){const c=a-r+1,d=s-r+1,m=Math.log(c),u=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*u*(c-u)/c)*(d-c/2<0?-1:1),h=Math.max(r,Math.floor(s-d*u/c+x)),f=Math.min(a,Math.floor(s+(c-d)*u/c+x));TC(t,s,h,f,n)}const i=t[s];let l=r,o=a;for(Pc(t,r,s),n(t[a],i)>0&&Pc(t,r,a);l<o;){for(Pc(t,l,o),++l,--o;n(t[l],i)<0;)++l;for(;n(t[o],i)>0;)--o}n(t[r],i)===0?Pc(t,r,o):(++o,Pc(t,o,a)),o<=s&&(r=o+1),s<=o&&(a=o-1)}return t}function Pc(t,s,r){const a=t[s];t[s]=t[r],t[r]=a}function mte(t,s,r){if(t=Float64Array.from(rte(t)),!(!(a=t.length)||isNaN(s=+s))){if(s<=0||a<2)return z2(t);if(s>=1)return q2(t);var a,n=(a-1)*s,i=Math.floor(n),l=q2(TC(t,i).subarray(0,i+1)),o=z2(t.subarray(i+1));return l+(o-l)*(n-i)}}function hte(t,s,r=OC){if(!(!(a=t.length)||isNaN(s=+s))){if(s<=0||a<2)return+r(t[0],0,t);if(s>=1)return+r(t[a-1],a-1,t);var a,n=(a-1)*s,i=Math.floor(n),l=+r(t[i],i,t),o=+r(t[i+1],i+1,t);return l+(o-l)*(n-i)}}function xte(t,s,r){t=+t,s=+s,r=(n=arguments.length)<2?(s=t,t=0,1):n<3?1:+r;for(var a=-1,n=Math.max(0,Math.ceil((s-t)/r))|0,i=new Array(n);++a<n;)i[a]=t+a*r;return i}function Fr(t,s){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(s).domain(t);break}return this}function on(t,s){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof s=="function"?this.interpolator(s):this.range(s);break}}return this}const py=Symbol("implicit");function nj(){var t=new I2,s=[],r=[],a=py;function n(i){let l=t.get(i);if(l===void 0){if(a!==py)return a;t.set(i,l=s.push(i)-1)}return r[l%r.length]}return n.domain=function(i){if(!arguments.length)return s.slice();s=[],t=new I2;for(const l of i)t.has(l)||t.set(l,s.push(l)-1);return n},n.range=function(i){return arguments.length?(r=Array.from(i),n):r.slice()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return nj(s,r).unknown(a)},Fr.apply(n,arguments),n}function Ld(){var t=nj().unknown(void 0),s=t.domain,r=t.range,a=0,n=1,i,l,o=!1,c=0,d=0,m=.5;delete t.unknown;function u(){var x=s().length,h=n<a,f=h?n:a,p=h?a:n;i=(p-f)/Math.max(1,x-c+d*2),o&&(i=Math.floor(i)),f+=(p-f-i*(x-c))*m,l=i*(1-c),o&&(f=Math.round(f),l=Math.round(l));var N=xte(x).map(function(y){return f+i*y});return r(h?N.reverse():N)}return t.domain=function(x){return arguments.length?(s(x),u()):s()},t.range=function(x){return arguments.length?([a,n]=x,a=+a,n=+n,u()):[a,n]},t.rangeRound=function(x){return[a,n]=x,a=+a,n=+n,o=!0,u()},t.bandwidth=function(){return l},t.step=function(){return i},t.round=function(x){return arguments.length?(o=!!x,u()):o},t.padding=function(x){return arguments.length?(c=Math.min(1,d=+x),u()):c},t.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),u()):c},t.paddingOuter=function(x){return arguments.length?(d=+x,u()):d},t.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),u()):m},t.copy=function(){return Ld(s(),[a,n]).round(o).paddingInner(c).paddingOuter(d).align(m)},Fr.apply(u(),arguments)}function EC(t){var s=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return EC(s())},t}function sd(){return EC(Ld.apply(null,arguments).paddingInner(1))}function ij(t,s,r){t.prototype=s.prototype=r,r.constructor=t}function MC(t,s){var r=Object.create(t.prototype);for(var a in s)r[a]=s[a];return r}function Tu(){}var Dd=.7,Dh=1/Dd,Wl="\\s*([+-]?\\d+)\\s*",Id="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pte=/^#([0-9a-f]{3,8})$/,gte=new RegExp(`^rgb\\(${Wl},${Wl},${Wl}\\)$`),fte=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),yte=new RegExp(`^rgba\\(${Wl},${Wl},${Wl},${Id}\\)$`),bte=new RegExp(`^rgba\\(${pa},${pa},${pa},${Id}\\)$`),vte=new RegExp(`^hsl\\(${Id},${pa},${pa}\\)$`),jte=new RegExp(`^hsla\\(${Id},${pa},${pa},${Id}\\)$`),U2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ij(Tu,Bd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:W2,formatHex:W2,formatHex8:Nte,formatHsl:wte,formatRgb:V2,toString:V2});function W2(){return this.rgb().formatHex()}function Nte(){return this.rgb().formatHex8()}function wte(){return FC(this).formatHsl()}function V2(){return this.rgb().formatRgb()}function Bd(t){var s,r;return t=(t+"").trim().toLowerCase(),(s=pte.exec(t))?(r=s[1].length,s=parseInt(s[1],16),r===6?H2(s):r===3?new Ys(s>>8&15|s>>4&240,s>>4&15|s&240,(s&15)<<4|s&15,1):r===8?xm(s>>24&255,s>>16&255,s>>8&255,(s&255)/255):r===4?xm(s>>12&15|s>>8&240,s>>8&15|s>>4&240,s>>4&15|s&240,((s&15)<<4|s&15)/255):null):(s=gte.exec(t))?new Ys(s[1],s[2],s[3],1):(s=fte.exec(t))?new Ys(s[1]*255/100,s[2]*255/100,s[3]*255/100,1):(s=yte.exec(t))?xm(s[1],s[2],s[3],s[4]):(s=bte.exec(t))?xm(s[1]*255/100,s[2]*255/100,s[3]*255/100,s[4]):(s=vte.exec(t))?Y2(s[1],s[2]/100,s[3]/100,1):(s=jte.exec(t))?Y2(s[1],s[2]/100,s[3]/100,s[4]):U2.hasOwnProperty(t)?H2(U2[t]):t==="transparent"?new Ys(NaN,NaN,NaN,0):null}function H2(t){return new Ys(t>>16&255,t>>8&255,t&255,1)}function xm(t,s,r,a){return a<=0&&(t=s=r=NaN),new Ys(t,s,r,a)}function _te(t){return t instanceof Tu||(t=Bd(t)),t?(t=t.rgb(),new Ys(t.r,t.g,t.b,t.opacity)):new Ys}function gy(t,s,r,a){return arguments.length===1?_te(t):new Ys(t,s,r,a??1)}function Ys(t,s,r,a){this.r=+t,this.g=+s,this.b=+r,this.opacity=+a}ij(Ys,gy,MC(Tu,{brighter(t){return t=t==null?Dh:Math.pow(Dh,t),new Ys(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Dd:Math.pow(Dd,t),new Ys(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ys(qi(this.r),qi(this.g),qi(this.b),Ih(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K2,formatHex:K2,formatHex8:kte,formatRgb:G2,toString:G2}));function K2(){return`#${_i(this.r)}${_i(this.g)}${_i(this.b)}`}function kte(){return`#${_i(this.r)}${_i(this.g)}${_i(this.b)}${_i((isNaN(this.opacity)?1:this.opacity)*255)}`}function G2(){const t=Ih(this.opacity);return`${t===1?"rgb(":"rgba("}${qi(this.r)}, ${qi(this.g)}, ${qi(this.b)}${t===1?")":`, ${t})`}`}function Ih(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _i(t){return t=qi(t),(t<16?"0":"")+t.toString(16)}function Y2(t,s,r,a){return a<=0?t=s=r=NaN:r<=0||r>=1?t=s=NaN:s<=0&&(t=NaN),new Gr(t,s,r,a)}function FC(t){if(t instanceof Gr)return new Gr(t.h,t.s,t.l,t.opacity);if(t instanceof Tu||(t=Bd(t)),!t)return new Gr;if(t instanceof Gr)return t;t=t.rgb();var s=t.r/255,r=t.g/255,a=t.b/255,n=Math.min(s,r,a),i=Math.max(s,r,a),l=NaN,o=i-n,c=(i+n)/2;return o?(s===i?l=(r-a)/o+(r<a)*6:r===i?l=(a-s)/o+2:l=(s-r)/o+4,o/=c<.5?i+n:2-i-n,l*=60):o=c>0&&c<1?0:l,new Gr(l,o,c,t.opacity)}function Ste(t,s,r,a){return arguments.length===1?FC(t):new Gr(t,s,r,a??1)}function Gr(t,s,r,a){this.h=+t,this.s=+s,this.l=+r,this.opacity=+a}ij(Gr,Ste,MC(Tu,{brighter(t){return t=t==null?Dh:Math.pow(Dh,t),new Gr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Dd:Math.pow(Dd,t),new Gr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,s=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*s,n=2*r-a;return new Ys(Y0(t>=240?t-240:t+120,n,a),Y0(t,n,a),Y0(t<120?t+240:t-120,n,a),this.opacity)},clamp(){return new Gr(Q2(this.h),pm(this.s),pm(this.l),Ih(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ih(this.opacity);return`${t===1?"hsl(":"hsla("}${Q2(this.h)}, ${pm(this.s)*100}%, ${pm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Q2(t){return t=(t||0)%360,t<0?t+360:t}function pm(t){return Math.max(0,Math.min(1,t||0))}function Y0(t,s,r){return(t<60?s+(r-s)*t/60:t<180?r:t<240?s+(r-s)*(240-t)/60:s)*255}const lj=t=>()=>t;function Cte(t,s){return function(r){return t+r*s}}function Pte(t,s,r){return t=Math.pow(t,r),s=Math.pow(s,r)-t,r=1/r,function(a){return Math.pow(t+a*s,r)}}function Ate(t){return(t=+t)==1?RC:function(s,r){return r-s?Pte(s,r,t):lj(isNaN(s)?r:s)}}function RC(t,s){var r=s-t;return r?Cte(t,r):lj(isNaN(t)?s:t)}const X2=function t(s){var r=Ate(s);function a(n,i){var l=r((n=gy(n)).r,(i=gy(i)).r),o=r(n.g,i.g),c=r(n.b,i.b),d=RC(n.opacity,i.opacity);return function(m){return n.r=l(m),n.g=o(m),n.b=c(m),n.opacity=d(m),n+""}}return a.gamma=t,a}(1);function Ote(t,s){s||(s=[]);var r=t?Math.min(s.length,t.length):0,a=s.slice(),n;return function(i){for(n=0;n<r;++n)a[n]=t[n]*(1-i)+s[n]*i;return a}}function $te(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tte(t,s){var r=s?s.length:0,a=t?Math.min(r,t.length):0,n=new Array(a),i=new Array(r),l;for(l=0;l<a;++l)n[l]=uc(t[l],s[l]);for(;l<r;++l)i[l]=s[l];return function(o){for(l=0;l<a;++l)i[l]=n[l](o);return i}}function Ete(t,s){var r=new Date;return t=+t,s=+s,function(a){return r.setTime(t*(1-a)+s*a),r}}function Bh(t,s){return t=+t,s=+s,function(r){return t*(1-r)+s*r}}function Mte(t,s){var r={},a={},n;(t===null||typeof t!="object")&&(t={}),(s===null||typeof s!="object")&&(s={});for(n in s)n in t?r[n]=uc(t[n],s[n]):a[n]=s[n];return function(i){for(n in r)a[n]=r[n](i);return a}}var fy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q0=new RegExp(fy.source,"g");function Fte(t){return function(){return t}}function Rte(t){return function(s){return t(s)+""}}function Lte(t,s){var r=fy.lastIndex=Q0.lastIndex=0,a,n,i,l=-1,o=[],c=[];for(t=t+"",s=s+"";(a=fy.exec(t))&&(n=Q0.exec(s));)(i=n.index)>r&&(i=s.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(a=a[0])===(n=n[0])?o[l]?o[l]+=n:o[++l]=n:(o[++l]=null,c.push({i:l,x:Bh(a,n)})),r=Q0.lastIndex;return r<s.length&&(i=s.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?Rte(c[0].x):Fte(s):(s=c.length,function(d){for(var m=0,u;m<s;++m)o[(u=c[m]).i]=u.x(d);return o.join("")})}function uc(t,s){var r=typeof s,a;return s==null||r==="boolean"?lj(s):(r==="number"?Bh:r==="string"?(a=Bd(s))?(s=a,X2):Lte:s instanceof Bd?X2:s instanceof Date?Ete:$te(s)?Ote:Array.isArray(s)?Tte:typeof s.valueOf!="function"&&typeof s.toString!="function"||isNaN(s)?Mte:Bh)(t,s)}function oj(t,s){return t=+t,s=+s,function(r){return Math.round(t*(1-r)+s*r)}}function Dte(t,s){s===void 0&&(s=t,t=uc);for(var r=0,a=s.length-1,n=s[0],i=new Array(a<0?0:a);r<a;)i[r]=t(n,n=s[++r]);return function(l){var o=Math.max(0,Math.min(a-1,Math.floor(l*=a)));return i[o](l-o)}}function Ite(t){return function(){return t}}function qh(t){return+t}var Z2=[0,1];function Ds(t){return t}function yy(t,s){return(s-=t=+t)?function(r){return(r-t)/s}:Ite(isNaN(s)?NaN:.5)}function Bte(t,s){var r;return t>s&&(r=t,t=s,s=r),function(a){return Math.max(t,Math.min(s,a))}}function qte(t,s,r){var a=t[0],n=t[1],i=s[0],l=s[1];return n<a?(a=yy(n,a),i=r(l,i)):(a=yy(a,n),i=r(i,l)),function(o){return i(a(o))}}function zte(t,s,r){var a=Math.min(t.length,s.length)-1,n=new Array(a),i=new Array(a),l=-1;for(t[a]<t[0]&&(t=t.slice().reverse(),s=s.slice().reverse());++l<a;)n[l]=yy(t[l],t[l+1]),i[l]=r(s[l],s[l+1]);return function(o){var c=$u(t,o,1,a)-1;return i[c](n[c](o))}}function Eu(t,s){return s.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jp(){var t=Z2,s=Z2,r=uc,a,n,i,l=Ds,o,c,d;function m(){var x=Math.min(t.length,s.length);return l!==Ds&&(l=Bte(t[0],t[x-1])),o=x>2?zte:qte,c=d=null,u}function u(x){return x==null||isNaN(x=+x)?i:(c||(c=o(t.map(a),s,r)))(a(l(x)))}return u.invert=function(x){return l(n((d||(d=o(s,t.map(a),Bh)))(x)))},u.domain=function(x){return arguments.length?(t=Array.from(x,qh),m()):t.slice()},u.range=function(x){return arguments.length?(s=Array.from(x),m()):s.slice()},u.rangeRound=function(x){return s=Array.from(x),r=oj,m()},u.clamp=function(x){return arguments.length?(l=x?!0:Ds,m()):l!==Ds},u.interpolate=function(x){return arguments.length?(r=x,m()):r},u.unknown=function(x){return arguments.length?(i=x,u):i},function(x,h){return a=x,n=h,m()}}function cj(){return jp()(Ds,Ds)}function Ute(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zh(t,s){if((r=(t=s?t.toExponential(s-1):t.toExponential()).indexOf("e"))<0)return null;var r,a=t.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+t.slice(r+1)]}function No(t){return t=zh(Math.abs(t)),t?t[1]:NaN}function Wte(t,s){return function(r,a){for(var n=r.length,i=[],l=0,o=t[0],c=0;n>0&&o>0&&(c+o+1>a&&(o=Math.max(1,a-c)),i.push(r.substring(n-=o,n+o)),!((c+=o+1)>a));)o=t[l=(l+1)%t.length];return i.reverse().join(s)}}function Vte(t){return function(s){return s.replace(/[0-9]/g,function(r){return t[+r]})}}var Hte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qd(t){if(!(s=Hte.exec(t)))throw new Error("invalid format: "+t);var s;return new dj({fill:s[1],align:s[2],sign:s[3],symbol:s[4],zero:s[5],width:s[6],comma:s[7],precision:s[8]&&s[8].slice(1),trim:s[9],type:s[10]})}qd.prototype=dj.prototype;function dj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}dj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kte(t){e:for(var s=t.length,r=1,a=-1,n;r<s;++r)switch(t[r]){case".":a=n=r;break;case"0":a===0&&(a=r),n=r;break;default:if(!+t[r])break e;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(n+1):t}var LC;function Gte(t,s){var r=zh(t,s);if(!r)return t+"";var a=r[0],n=r[1],i=n-(LC=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,l=a.length;return i===l?a:i>l?a+new Array(i-l+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+zh(t,Math.max(0,s+i-1))[0]}function J2(t,s){var r=zh(t,s);if(!r)return t+"";var a=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+a:a.length>n+1?a.slice(0,n+1)+"."+a.slice(n+1):a+new Array(n-a.length+2).join("0")}const e1={"%":(t,s)=>(t*100).toFixed(s),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ute,e:(t,s)=>t.toExponential(s),f:(t,s)=>t.toFixed(s),g:(t,s)=>t.toPrecision(s),o:t=>Math.round(t).toString(8),p:(t,s)=>J2(t*100,s),r:J2,s:Gte,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function t1(t){return t}var s1=Array.prototype.map,r1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yte(t){var s=t.grouping===void 0||t.thousands===void 0?t1:Wte(s1.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",a=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?t1:Vte(s1.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(u){u=qd(u);var x=u.fill,h=u.align,f=u.sign,p=u.symbol,N=u.zero,y=u.width,j=u.comma,g=u.precision,S=u.trim,w=u.type;w==="n"?(j=!0,w="g"):e1[w]||(g===void 0&&(g=12),S=!0,w="g"),(N||x==="0"&&h==="=")&&(N=!0,x="0",h="=");var C=p==="$"?r:p==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",_=p==="$"?a:/[%p]/.test(w)?l:"",$=e1[w],F=/[defgprs%]/.test(w);g=g===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function T(R){var A=C,M=_,P,E,z;if(w==="c")M=$(R)+M,R="";else{R=+R;var O=R<0||1/R<0;if(R=isNaN(R)?c:$(Math.abs(R),g),S&&(R=Kte(R)),O&&+R==0&&f!=="+"&&(O=!1),A=(O?f==="("?f:o:f==="-"||f==="("?"":f)+A,M=(w==="s"?r1[8+LC/3]:"")+M+(O&&f==="("?")":""),F){for(P=-1,E=R.length;++P<E;)if(z=R.charCodeAt(P),48>z||z>57){M=(z===46?n+R.slice(P+1):R.slice(P))+M,R=R.slice(0,P);break}}}j&&!N&&(R=s(R,1/0));var b=A.length+R.length+M.length,L=b<y?new Array(y-b+1).join(x):"";switch(j&&N&&(R=s(L+R,L.length?y-M.length:1/0),L=""),h){case"<":R=A+R+M+L;break;case"=":R=A+L+R+M;break;case"^":R=L.slice(0,b=L.length>>1)+A+R+M+L.slice(b);break;default:R=L+A+R+M;break}return i(R)}return T.toString=function(){return u+""},T}function m(u,x){var h=d((u=qd(u),u.type="f",u)),f=Math.max(-8,Math.min(8,Math.floor(No(x)/3)))*3,p=Math.pow(10,-f),N=r1[8+f/3];return function(y){return h(p*y)+N}}return{format:d,formatPrefix:m}}var gm,uj,DC;Qte({thousands:",",grouping:[3],currency:["$",""]});function Qte(t){return gm=Yte(t),uj=gm.format,DC=gm.formatPrefix,gm}function Xte(t){return Math.max(0,-No(Math.abs(t)))}function Zte(t,s){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(No(s)/3)))*3-No(Math.abs(t)))}function Jte(t,s){return t=Math.abs(t),s=Math.abs(s)-t,Math.max(0,No(s)-No(t))+1}function IC(t,s,r,a){var n=xy(t,s,r),i;switch(a=qd(a??",f"),a.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(s));return a.precision==null&&!isNaN(i=Zte(n,l))&&(a.precision=i),DC(a,l)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=Jte(n,Math.max(Math.abs(t),Math.abs(s))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=Xte(n))&&(a.precision=i-(a.type==="%")*2);break}}return uj(a)}function si(t){var s=t.domain;return t.ticks=function(r){var a=s();return my(a[0],a[a.length-1],r??10)},t.tickFormat=function(r,a){var n=s();return IC(n[0],n[n.length-1],r??10,a)},t.nice=function(r){r==null&&(r=10);var a=s(),n=0,i=a.length-1,l=a[n],o=a[i],c,d,m=10;for(o<l&&(d=l,l=o,o=d,d=n,n=i,i=d);m-- >0;){if(d=hy(l,o,r),d===c)return a[n]=l,a[i]=o,s(a);if(d>0)l=Math.floor(l/d)*d,o=Math.ceil(o/d)*d;else if(d<0)l=Math.ceil(l*d)/d,o=Math.floor(o*d)/d;else break;c=d}return t},t}function Uh(){var t=cj();return t.copy=function(){return Eu(t,Uh())},Fr.apply(t,arguments),si(t)}function BC(t){var s;function r(a){return a==null||isNaN(a=+a)?s:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(t=Array.from(a,qh),r):t.slice()},r.unknown=function(a){return arguments.length?(s=a,r):s},r.copy=function(){return BC(t).unknown(s)},t=arguments.length?Array.from(t,qh):[0,1],si(r)}function qC(t,s){t=t.slice();var r=0,a=t.length-1,n=t[r],i=t[a],l;return i<n&&(l=r,r=a,a=l,l=n,n=i,i=l),t[r]=s.floor(n),t[a]=s.ceil(i),t}function a1(t){return Math.log(t)}function n1(t){return Math.exp(t)}function ese(t){return-Math.log(-t)}function tse(t){return-Math.exp(-t)}function sse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rse(t){return t===10?sse:t===Math.E?Math.exp:s=>Math.pow(t,s)}function ase(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),s=>Math.log(s)/t)}function i1(t){return(s,r)=>-t(-s,r)}function mj(t){const s=t(a1,n1),r=s.domain;let a=10,n,i;function l(){return n=ase(a),i=rse(a),r()[0]<0?(n=i1(n),i=i1(i),t(ese,tse)):t(a1,n1),s}return s.base=function(o){return arguments.length?(a=+o,l()):a},s.domain=function(o){return arguments.length?(r(o),l()):r()},s.ticks=o=>{const c=r();let d=c[0],m=c[c.length-1];const u=m<d;u&&([d,m]=[m,d]);let x=n(d),h=n(m),f,p;const N=o==null?10:+o;let y=[];if(!(a%1)&&h-x<N){if(x=Math.floor(x),h=Math.ceil(h),d>0){for(;x<=h;++x)for(f=1;f<a;++f)if(p=x<0?f/i(-x):f*i(x),!(p<d)){if(p>m)break;y.push(p)}}else for(;x<=h;++x)for(f=a-1;f>=1;--f)if(p=x>0?f/i(-x):f*i(x),!(p<d)){if(p>m)break;y.push(p)}y.length*2<N&&(y=my(d,m,N))}else y=my(x,h,Math.min(h-x,N)).map(i);return u?y.reverse():y},s.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=a===10?"s":","),typeof c!="function"&&(!(a%1)&&(c=qd(c)).precision==null&&(c.trim=!0),c=uj(c)),o===1/0)return c;const d=Math.max(1,a*o/s.ticks().length);return m=>{let u=m/i(Math.round(n(m)));return u*a<a-.5&&(u*=a),u<=d?c(m):""}},s.nice=()=>r(qC(r(),{floor:o=>i(Math.floor(n(o))),ceil:o=>i(Math.ceil(n(o)))})),s}function zC(){const t=mj(jp()).domain([1,10]);return t.copy=()=>Eu(t,zC()).base(t.base()),Fr.apply(t,arguments),t}function l1(t){return function(s){return Math.sign(s)*Math.log1p(Math.abs(s/t))}}function o1(t){return function(s){return Math.sign(s)*Math.expm1(Math.abs(s))*t}}function hj(t){var s=1,r=t(l1(s),o1(s));return r.constant=function(a){return arguments.length?t(l1(s=+a),o1(s)):s},si(r)}function UC(){var t=hj(jp());return t.copy=function(){return Eu(t,UC()).constant(t.constant())},Fr.apply(t,arguments)}function c1(t){return function(s){return s<0?-Math.pow(-s,t):Math.pow(s,t)}}function nse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ise(t){return t<0?-t*t:t*t}function xj(t){var s=t(Ds,Ds),r=1;function a(){return r===1?t(Ds,Ds):r===.5?t(nse,ise):t(c1(r),c1(1/r))}return s.exponent=function(n){return arguments.length?(r=+n,a()):r},si(s)}function pj(){var t=xj(jp());return t.copy=function(){return Eu(t,pj()).exponent(t.exponent())},Fr.apply(t,arguments),t}function lse(){return pj.apply(null,arguments).exponent(.5)}function d1(t){return Math.sign(t)*t*t}function ose(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function WC(){var t=cj(),s=[0,1],r=!1,a;function n(i){var l=ose(t(i));return isNaN(l)?a:r?Math.round(l):l}return n.invert=function(i){return t.invert(d1(i))},n.domain=function(i){return arguments.length?(t.domain(i),n):t.domain()},n.range=function(i){return arguments.length?(t.range((s=Array.from(i,qh)).map(d1)),n):s.slice()},n.rangeRound=function(i){return n.range(i).round(!0)},n.round=function(i){return arguments.length?(r=!!i,n):r},n.clamp=function(i){return arguments.length?(t.clamp(i),n):t.clamp()},n.unknown=function(i){return arguments.length?(a=i,n):a},n.copy=function(){return WC(t.domain(),s).round(r).clamp(t.clamp()).unknown(a)},Fr.apply(n,arguments),si(n)}function VC(){var t=[],s=[],r=[],a;function n(){var l=0,o=Math.max(1,s.length);for(r=new Array(o-1);++l<o;)r[l-1]=hte(t,l/o);return i}function i(l){return l==null||isNaN(l=+l)?a:s[$u(r,l)]}return i.invertExtent=function(l){var o=s.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let o of l)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Hn),n()},i.range=function(l){return arguments.length?(s=Array.from(l),n()):s.slice()},i.unknown=function(l){return arguments.length?(a=l,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return VC().domain(t).range(s).unknown(a)},Fr.apply(i,arguments)}function HC(){var t=0,s=1,r=1,a=[.5],n=[0,1],i;function l(c){return c!=null&&c<=c?n[$u(a,c,0,r)]:i}function o(){var c=-1;for(a=new Array(r);++c<r;)a[c]=((c+1)*s-(c-r)*t)/(r+1);return l}return l.domain=function(c){return arguments.length?([t,s]=c,t=+t,s=+s,o()):[t,s]},l.range=function(c){return arguments.length?(r=(n=Array.from(c)).length-1,o()):n.slice()},l.invertExtent=function(c){var d=n.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,a[0]]:d>=r?[a[r-1],s]:[a[d-1],a[d]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return a.slice()},l.copy=function(){return HC().domain([t,s]).range(n).unknown(i)},Fr.apply(si(l),arguments)}function KC(){var t=[.5],s=[0,1],r,a=1;function n(i){return i!=null&&i<=i?s[$u(t,i,0,a)]:r}return n.domain=function(i){return arguments.length?(t=Array.from(i),a=Math.min(t.length,s.length-1),n):t.slice()},n.range=function(i){return arguments.length?(s=Array.from(i),a=Math.min(t.length,s.length-1),n):s.slice()},n.invertExtent=function(i){var l=s.indexOf(i);return[t[l-1],t[l]]},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return KC().domain(t).range(s).unknown(r)},Fr.apply(n,arguments)}const X0=new Date,Z0=new Date;function Jt(t,s,r,a){function n(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return n.floor=i=>(t(i=new Date(+i)),i),n.ceil=i=>(t(i=new Date(i-1)),s(i,1),t(i),i),n.round=i=>{const l=n(i),o=n.ceil(i);return i-l<o-i?l:o},n.offset=(i,l)=>(s(i=new Date(+i),l==null?1:Math.floor(l)),i),n.range=(i,l,o)=>{const c=[];if(i=n.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let d;do c.push(d=new Date(+i)),s(i,o),t(i);while(d<i&&i<l);return c},n.filter=i=>Jt(l=>{if(l>=l)for(;t(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;s(l,-1),!i(l););else for(;--o>=0;)for(;s(l,1),!i(l););}),r&&(n.count=(i,l)=>(X0.setTime(+i),Z0.setTime(+l),t(X0),t(Z0),Math.floor(r(X0,Z0))),n.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?n.filter(a?l=>a(l)%i===0:l=>n.count(0,l)%i===0):n)),n}const Wh=Jt(()=>{},(t,s)=>{t.setTime(+t+s)},(t,s)=>s-t);Wh.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Jt(s=>{s.setTime(Math.floor(s/t)*t)},(s,r)=>{s.setTime(+s+r*t)},(s,r)=>(r-s)/t):Wh);Wh.range;const La=1e3,kr=La*60,Da=kr*60,Xa=Da*24,gj=Xa*7,u1=Xa*30,J0=Xa*365,ki=Jt(t=>{t.setTime(t-t.getMilliseconds())},(t,s)=>{t.setTime(+t+s*La)},(t,s)=>(s-t)/La,t=>t.getUTCSeconds());ki.range;const fj=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La)},(t,s)=>{t.setTime(+t+s*kr)},(t,s)=>(s-t)/kr,t=>t.getMinutes());fj.range;const yj=Jt(t=>{t.setUTCSeconds(0,0)},(t,s)=>{t.setTime(+t+s*kr)},(t,s)=>(s-t)/kr,t=>t.getUTCMinutes());yj.range;const bj=Jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*La-t.getMinutes()*kr)},(t,s)=>{t.setTime(+t+s*Da)},(t,s)=>(s-t)/Da,t=>t.getHours());bj.range;const vj=Jt(t=>{t.setUTCMinutes(0,0,0)},(t,s)=>{t.setTime(+t+s*Da)},(t,s)=>(s-t)/Da,t=>t.getUTCHours());vj.range;const Mu=Jt(t=>t.setHours(0,0,0,0),(t,s)=>t.setDate(t.getDate()+s),(t,s)=>(s-t-(s.getTimezoneOffset()-t.getTimezoneOffset())*kr)/Xa,t=>t.getDate()-1);Mu.range;const Np=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s)},(t,s)=>(s-t)/Xa,t=>t.getUTCDate()-1);Np.range;const GC=Jt(t=>{t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCDate(t.getUTCDate()+s)},(t,s)=>(s-t)/Xa,t=>Math.floor(t/Xa));GC.range;function ll(t){return Jt(s=>{s.setDate(s.getDate()-(s.getDay()+7-t)%7),s.setHours(0,0,0,0)},(s,r)=>{s.setDate(s.getDate()+r*7)},(s,r)=>(r-s-(r.getTimezoneOffset()-s.getTimezoneOffset())*kr)/gj)}const wp=ll(0),Vh=ll(1),cse=ll(2),dse=ll(3),wo=ll(4),use=ll(5),mse=ll(6);wp.range;Vh.range;cse.range;dse.range;wo.range;use.range;mse.range;function ol(t){return Jt(s=>{s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-t)%7),s.setUTCHours(0,0,0,0)},(s,r)=>{s.setUTCDate(s.getUTCDate()+r*7)},(s,r)=>(r-s)/gj)}const _p=ol(0),Hh=ol(1),hse=ol(2),xse=ol(3),_o=ol(4),pse=ol(5),gse=ol(6);_p.range;Hh.range;hse.range;xse.range;_o.range;pse.range;gse.range;const jj=Jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,s)=>{t.setMonth(t.getMonth()+s)},(t,s)=>s.getMonth()-t.getMonth()+(s.getFullYear()-t.getFullYear())*12,t=>t.getMonth());jj.range;const Nj=Jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCMonth(t.getUTCMonth()+s)},(t,s)=>s.getUTCMonth()-t.getUTCMonth()+(s.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Nj.range;const Za=Jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,s)=>{t.setFullYear(t.getFullYear()+s)},(t,s)=>s.getFullYear()-t.getFullYear(),t=>t.getFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(s=>{s.setFullYear(Math.floor(s.getFullYear()/t)*t),s.setMonth(0,1),s.setHours(0,0,0,0)},(s,r)=>{s.setFullYear(s.getFullYear()+r*t)});Za.range;const Ja=Jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,s)=>{t.setUTCFullYear(t.getUTCFullYear()+s)},(t,s)=>s.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ja.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Jt(s=>{s.setUTCFullYear(Math.floor(s.getUTCFullYear()/t)*t),s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0)},(s,r)=>{s.setUTCFullYear(s.getUTCFullYear()+r*t)});Ja.range;function YC(t,s,r,a,n,i){const l=[[ki,1,La],[ki,5,5*La],[ki,15,15*La],[ki,30,30*La],[i,1,kr],[i,5,5*kr],[i,15,15*kr],[i,30,30*kr],[n,1,Da],[n,3,3*Da],[n,6,6*Da],[n,12,12*Da],[a,1,Xa],[a,2,2*Xa],[r,1,gj],[s,1,u1],[s,3,3*u1],[t,1,J0]];function o(d,m,u){const x=m<d;x&&([d,m]=[m,d]);const h=u&&typeof u.range=="function"?u:c(d,m,u),f=h?h.range(d,+m+1):[];return x?f.reverse():f}function c(d,m,u){const x=Math.abs(m-d)/u,h=aj(([,,N])=>N).right(l,x);if(h===l.length)return t.every(xy(d/J0,m/J0,u));if(h===0)return Wh.every(Math.max(xy(d,m,u),1));const[f,p]=l[x/l[h-1][2]<l[h][2]/x?h-1:h];return f.every(p)}return[o,c]}const[fse,yse]=YC(Ja,Nj,_p,GC,vj,yj),[bse,vse]=YC(Za,jj,wp,Mu,bj,fj);function eg(t){if(0<=t.y&&t.y<100){var s=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return s.setFullYear(t.y),s}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tg(t){if(0<=t.y&&t.y<100){var s=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return s.setUTCFullYear(t.y),s}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ac(t,s,r){return{y:t,m:s,d:r,H:0,M:0,S:0,L:0}}function jse(t){var s=t.dateTime,r=t.date,a=t.time,n=t.periods,i=t.days,l=t.shortDays,o=t.months,c=t.shortMonths,d=Oc(n),m=$c(n),u=Oc(i),x=$c(i),h=Oc(l),f=$c(l),p=Oc(o),N=$c(o),y=Oc(c),j=$c(c),g={a:O,A:b,b:L,B:v,c:null,d:f1,e:f1,f:Wse,g:ere,G:sre,H:qse,I:zse,j:Use,L:QC,m:Vse,M:Hse,p:D,q:U,Q:v1,s:j1,S:Kse,u:Gse,U:Yse,V:Qse,w:Xse,W:Zse,x:null,X:null,y:Jse,Y:tre,Z:rre,"%":b1},S={a:q,A:B,b:W,B:I,c:null,d:y1,e:y1,f:lre,g:fre,G:bre,H:are,I:nre,j:ire,L:ZC,m:ore,M:cre,p:Q,q:Z,Q:v1,s:j1,S:dre,u:ure,U:mre,V:hre,w:xre,W:pre,x:null,X:null,y:gre,Y:yre,Z:vre,"%":b1},w={a:T,A:R,b:A,B:M,c:P,d:p1,e:p1,f:Lse,g:x1,G:h1,H:g1,I:g1,j:Ese,L:Rse,m:Tse,M:Mse,p:F,q:$se,Q:Ise,s:Bse,S:Fse,u:Sse,U:Cse,V:Pse,w:kse,W:Ase,x:E,X:z,y:x1,Y:h1,Z:Ose,"%":Dse};g.x=C(r,g),g.X=C(a,g),g.c=C(s,g),S.x=C(r,S),S.X=C(a,S),S.c=C(s,S);function C(Y,K){return function(te){var V=[],se=-1,J=0,oe=Y.length,je,ve,Te;for(te instanceof Date||(te=new Date(+te));++se<oe;)Y.charCodeAt(se)===37&&(V.push(Y.slice(J,se)),(ve=m1[je=Y.charAt(++se)])!=null?je=Y.charAt(++se):ve=je==="e"?" ":"0",(Te=K[je])&&(je=Te(te,ve)),V.push(je),J=se+1);return V.push(Y.slice(J,se)),V.join("")}}function _(Y,K){return function(te){var V=Ac(1900,void 0,1),se=$(V,Y,te+="",0),J,oe;if(se!=te.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(K&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(J=tg(Ac(V.y,0,1)),oe=J.getUTCDay(),J=oe>4||oe===0?Hh.ceil(J):Hh(J),J=Np.offset(J,(V.V-1)*7),V.y=J.getUTCFullYear(),V.m=J.getUTCMonth(),V.d=J.getUTCDate()+(V.w+6)%7):(J=eg(Ac(V.y,0,1)),oe=J.getDay(),J=oe>4||oe===0?Vh.ceil(J):Vh(J),J=Mu.offset(J,(V.V-1)*7),V.y=J.getFullYear(),V.m=J.getMonth(),V.d=J.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),oe="Z"in V?tg(Ac(V.y,0,1)).getUTCDay():eg(Ac(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(oe+5)%7:V.w+V.U*7-(oe+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,tg(V)):eg(V)}}function $(Y,K,te,V){for(var se=0,J=K.length,oe=te.length,je,ve;se<J;){if(V>=oe)return-1;if(je=K.charCodeAt(se++),je===37){if(je=K.charAt(se++),ve=w[je in m1?K.charAt(se++):je],!ve||(V=ve(Y,te,V))<0)return-1}else if(je!=te.charCodeAt(V++))return-1}return V}function F(Y,K,te){var V=d.exec(K.slice(te));return V?(Y.p=m.get(V[0].toLowerCase()),te+V[0].length):-1}function T(Y,K,te){var V=h.exec(K.slice(te));return V?(Y.w=f.get(V[0].toLowerCase()),te+V[0].length):-1}function R(Y,K,te){var V=u.exec(K.slice(te));return V?(Y.w=x.get(V[0].toLowerCase()),te+V[0].length):-1}function A(Y,K,te){var V=y.exec(K.slice(te));return V?(Y.m=j.get(V[0].toLowerCase()),te+V[0].length):-1}function M(Y,K,te){var V=p.exec(K.slice(te));return V?(Y.m=N.get(V[0].toLowerCase()),te+V[0].length):-1}function P(Y,K,te){return $(Y,s,K,te)}function E(Y,K,te){return $(Y,r,K,te)}function z(Y,K,te){return $(Y,a,K,te)}function O(Y){return l[Y.getDay()]}function b(Y){return i[Y.getDay()]}function L(Y){return c[Y.getMonth()]}function v(Y){return o[Y.getMonth()]}function D(Y){return n[+(Y.getHours()>=12)]}function U(Y){return 1+~~(Y.getMonth()/3)}function q(Y){return l[Y.getUTCDay()]}function B(Y){return i[Y.getUTCDay()]}function W(Y){return c[Y.getUTCMonth()]}function I(Y){return o[Y.getUTCMonth()]}function Q(Y){return n[+(Y.getUTCHours()>=12)]}function Z(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var K=C(Y+="",g);return K.toString=function(){return Y},K},parse:function(Y){var K=_(Y+="",!1);return K.toString=function(){return Y},K},utcFormat:function(Y){var K=C(Y+="",S);return K.toString=function(){return Y},K},utcParse:function(Y){var K=_(Y+="",!0);return K.toString=function(){return Y},K}}}var m1={"-":"",_:" ",0:"0"},is=/^\s*\d+/,Nse=/^%/,wse=/[\\^$*+?|[\]().{}]/g;function tt(t,s,r){var a=t<0?"-":"",n=(a?-t:t)+"",i=n.length;return a+(i<r?new Array(r-i+1).join(s)+n:n)}function _se(t){return t.replace(wse,"\\$&")}function Oc(t){return new RegExp("^(?:"+t.map(_se).join("|")+")","i")}function $c(t){return new Map(t.map((s,r)=>[s.toLowerCase(),r]))}function kse(t,s,r){var a=is.exec(s.slice(r,r+1));return a?(t.w=+a[0],r+a[0].length):-1}function Sse(t,s,r){var a=is.exec(s.slice(r,r+1));return a?(t.u=+a[0],r+a[0].length):-1}function Cse(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.U=+a[0],r+a[0].length):-1}function Pse(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.V=+a[0],r+a[0].length):-1}function Ase(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.W=+a[0],r+a[0].length):-1}function h1(t,s,r){var a=is.exec(s.slice(r,r+4));return a?(t.y=+a[0],r+a[0].length):-1}function x1(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function Ose(t,s,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(s.slice(r,r+6));return a?(t.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function $se(t,s,r){var a=is.exec(s.slice(r,r+1));return a?(t.q=a[0]*3-3,r+a[0].length):-1}function Tse(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.m=a[0]-1,r+a[0].length):-1}function p1(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.d=+a[0],r+a[0].length):-1}function Ese(t,s,r){var a=is.exec(s.slice(r,r+3));return a?(t.m=0,t.d=+a[0],r+a[0].length):-1}function g1(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.H=+a[0],r+a[0].length):-1}function Mse(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.M=+a[0],r+a[0].length):-1}function Fse(t,s,r){var a=is.exec(s.slice(r,r+2));return a?(t.S=+a[0],r+a[0].length):-1}function Rse(t,s,r){var a=is.exec(s.slice(r,r+3));return a?(t.L=+a[0],r+a[0].length):-1}function Lse(t,s,r){var a=is.exec(s.slice(r,r+6));return a?(t.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function Dse(t,s,r){var a=Nse.exec(s.slice(r,r+1));return a?r+a[0].length:-1}function Ise(t,s,r){var a=is.exec(s.slice(r));return a?(t.Q=+a[0],r+a[0].length):-1}function Bse(t,s,r){var a=is.exec(s.slice(r));return a?(t.s=+a[0],r+a[0].length):-1}function f1(t,s){return tt(t.getDate(),s,2)}function qse(t,s){return tt(t.getHours(),s,2)}function zse(t,s){return tt(t.getHours()%12||12,s,2)}function Use(t,s){return tt(1+Mu.count(Za(t),t),s,3)}function QC(t,s){return tt(t.getMilliseconds(),s,3)}function Wse(t,s){return QC(t,s)+"000"}function Vse(t,s){return tt(t.getMonth()+1,s,2)}function Hse(t,s){return tt(t.getMinutes(),s,2)}function Kse(t,s){return tt(t.getSeconds(),s,2)}function Gse(t){var s=t.getDay();return s===0?7:s}function Yse(t,s){return tt(wp.count(Za(t)-1,t),s,2)}function XC(t){var s=t.getDay();return s>=4||s===0?wo(t):wo.ceil(t)}function Qse(t,s){return t=XC(t),tt(wo.count(Za(t),t)+(Za(t).getDay()===4),s,2)}function Xse(t){return t.getDay()}function Zse(t,s){return tt(Vh.count(Za(t)-1,t),s,2)}function Jse(t,s){return tt(t.getFullYear()%100,s,2)}function ere(t,s){return t=XC(t),tt(t.getFullYear()%100,s,2)}function tre(t,s){return tt(t.getFullYear()%1e4,s,4)}function sre(t,s){var r=t.getDay();return t=r>=4||r===0?wo(t):wo.ceil(t),tt(t.getFullYear()%1e4,s,4)}function rre(t){var s=t.getTimezoneOffset();return(s>0?"-":(s*=-1,"+"))+tt(s/60|0,"0",2)+tt(s%60,"0",2)}function y1(t,s){return tt(t.getUTCDate(),s,2)}function are(t,s){return tt(t.getUTCHours(),s,2)}function nre(t,s){return tt(t.getUTCHours()%12||12,s,2)}function ire(t,s){return tt(1+Np.count(Ja(t),t),s,3)}function ZC(t,s){return tt(t.getUTCMilliseconds(),s,3)}function lre(t,s){return ZC(t,s)+"000"}function ore(t,s){return tt(t.getUTCMonth()+1,s,2)}function cre(t,s){return tt(t.getUTCMinutes(),s,2)}function dre(t,s){return tt(t.getUTCSeconds(),s,2)}function ure(t){var s=t.getUTCDay();return s===0?7:s}function mre(t,s){return tt(_p.count(Ja(t)-1,t),s,2)}function JC(t){var s=t.getUTCDay();return s>=4||s===0?_o(t):_o.ceil(t)}function hre(t,s){return t=JC(t),tt(_o.count(Ja(t),t)+(Ja(t).getUTCDay()===4),s,2)}function xre(t){return t.getUTCDay()}function pre(t,s){return tt(Hh.count(Ja(t)-1,t),s,2)}function gre(t,s){return tt(t.getUTCFullYear()%100,s,2)}function fre(t,s){return t=JC(t),tt(t.getUTCFullYear()%100,s,2)}function yre(t,s){return tt(t.getUTCFullYear()%1e4,s,4)}function bre(t,s){var r=t.getUTCDay();return t=r>=4||r===0?_o(t):_o.ceil(t),tt(t.getUTCFullYear()%1e4,s,4)}function vre(){return"+0000"}function b1(){return"%"}function v1(t){return+t}function j1(t){return Math.floor(+t/1e3)}var xl,eP,tP;jre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jre(t){return xl=jse(t),eP=xl.format,xl.parse,tP=xl.utcFormat,xl.utcParse,xl}function Nre(t){return new Date(t)}function wre(t){return t instanceof Date?+t:+new Date(+t)}function wj(t,s,r,a,n,i,l,o,c,d){var m=cj(),u=m.invert,x=m.domain,h=d(".%L"),f=d(":%S"),p=d("%I:%M"),N=d("%I %p"),y=d("%a %d"),j=d("%b %d"),g=d("%B"),S=d("%Y");function w(C){return(c(C)<C?h:o(C)<C?f:l(C)<C?p:i(C)<C?N:a(C)<C?n(C)<C?y:j:r(C)<C?g:S)(C)}return m.invert=function(C){return new Date(u(C))},m.domain=function(C){return arguments.length?x(Array.from(C,wre)):x().map(Nre)},m.ticks=function(C){var _=x();return t(_[0],_[_.length-1],C??10)},m.tickFormat=function(C,_){return _==null?w:d(_)},m.nice=function(C){var _=x();return(!C||typeof C.range!="function")&&(C=s(_[0],_[_.length-1],C??10)),C?x(qC(_,C)):m},m.copy=function(){return Eu(m,wj(t,s,r,a,n,i,l,o,c,d))},m}function _re(){return Fr.apply(wj(bse,vse,Za,jj,wp,Mu,bj,fj,ki,eP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kre(){return Fr.apply(wj(fse,yse,Ja,Nj,_p,Np,vj,yj,ki,tP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kp(){var t=0,s=1,r,a,n,i,l=Ds,o=!1,c;function d(u){return u==null||isNaN(u=+u)?c:l(n===0?.5:(u=(i(u)-r)*n,o?Math.max(0,Math.min(1,u)):u))}d.domain=function(u){return arguments.length?([t,s]=u,r=i(t=+t),a=i(s=+s),n=r===a?0:1/(a-r),d):[t,s]},d.clamp=function(u){return arguments.length?(o=!!u,d):o},d.interpolator=function(u){return arguments.length?(l=u,d):l};function m(u){return function(x){var h,f;return arguments.length?([h,f]=x,l=u(h,f),d):[l(0),l(1)]}}return d.range=m(uc),d.rangeRound=m(oj),d.unknown=function(u){return arguments.length?(c=u,d):c},function(u){return i=u,r=u(t),a=u(s),n=r===a?0:1/(a-r),d}}function ri(t,s){return s.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sP(){var t=si(kp()(Ds));return t.copy=function(){return ri(t,sP())},on.apply(t,arguments)}function rP(){var t=mj(kp()).domain([1,10]);return t.copy=function(){return ri(t,rP()).base(t.base())},on.apply(t,arguments)}function aP(){var t=hj(kp());return t.copy=function(){return ri(t,aP()).constant(t.constant())},on.apply(t,arguments)}function _j(){var t=xj(kp());return t.copy=function(){return ri(t,_j()).exponent(t.exponent())},on.apply(t,arguments)}function Sre(){return _j.apply(null,arguments).exponent(.5)}function nP(){var t=[],s=Ds;function r(a){if(a!=null&&!isNaN(a=+a))return s(($u(t,a,1)-1)/(t.length-1))}return r.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let n of a)n!=null&&!isNaN(n=+n)&&t.push(n);return t.sort(Hn),r},r.interpolator=function(a){return arguments.length?(s=a,r):s},r.range=function(){return t.map((a,n)=>s(n/(t.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(n,i)=>mte(t,i/a))},r.copy=function(){return nP(s).domain(t)},on.apply(r,arguments)}function Sp(){var t=0,s=.5,r=1,a=1,n,i,l,o,c,d=Ds,m,u=!1,x;function h(p){return isNaN(p=+p)?x:(p=.5+((p=+m(p))-i)*(a*p<a*i?o:c),d(u?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,s,r]=p,n=m(t=+t),i=m(s=+s),l=m(r=+r),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,h):[t,s,r]},h.clamp=function(p){return arguments.length?(u=!!p,h):u},h.interpolator=function(p){return arguments.length?(d=p,h):d};function f(p){return function(N){var y,j,g;return arguments.length?([y,j,g]=N,d=Dte(p,[y,j,g]),h):[d(0),d(.5),d(1)]}}return h.range=f(uc),h.rangeRound=f(oj),h.unknown=function(p){return arguments.length?(x=p,h):x},function(p){return m=p,n=p(t),i=p(s),l=p(r),o=n===i?0:.5/(i-n),c=i===l?0:.5/(l-i),a=i<n?-1:1,h}}function iP(){var t=si(Sp()(Ds));return t.copy=function(){return ri(t,iP())},on.apply(t,arguments)}function lP(){var t=mj(Sp()).domain([.1,1,10]);return t.copy=function(){return ri(t,lP()).base(t.base())},on.apply(t,arguments)}function oP(){var t=hj(Sp());return t.copy=function(){return ri(t,oP()).constant(t.constant())},on.apply(t,arguments)}function kj(){var t=xj(Sp());return t.copy=function(){return ri(t,kj()).exponent(t.exponent())},on.apply(t,arguments)}function Cre(){return kj.apply(null,arguments).exponent(.5)}const N1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ld,scaleDiverging:iP,scaleDivergingLog:lP,scaleDivergingPow:kj,scaleDivergingSqrt:Cre,scaleDivergingSymlog:oP,scaleIdentity:BC,scaleImplicit:py,scaleLinear:Uh,scaleLog:zC,scaleOrdinal:nj,scalePoint:sd,scalePow:pj,scaleQuantile:VC,scaleQuantize:HC,scaleRadial:WC,scaleSequential:sP,scaleSequentialLog:rP,scaleSequentialPow:_j,scaleSequentialQuantile:nP,scaleSequentialSqrt:Sre,scaleSequentialSymlog:aP,scaleSqrt:lse,scaleSymlog:UC,scaleThreshold:KC,scaleTime:_re,scaleUtc:kre,tickFormat:IC},Symbol.toStringTag,{value:"Module"}));var Pre=tc;function Are(t,s,r){for(var a=-1,n=t.length;++a<n;){var i=t[a],l=s(i);if(l!=null&&(o===void 0?l===l&&!Pre(l):r(l,o)))var o=l,c=i}return c}var Cp=Are;function Ore(t,s){return t>s}var cP=Ore,$re=Cp,Tre=cP,Ere=dc;function Mre(t){return t&&t.length?$re(t,Ere,Tre):void 0}var Fre=Mre;const Tn=ot(Fre);function Rre(t,s){return t<s}var dP=Rre,Lre=Cp,Dre=dP,Ire=dc;function Bre(t){return t&&t.length?Lre(t,Ire,Dre):void 0}var qre=Bre;const Pp=ot(qre);var zre=Iv,Ure=Na,Wre=yC,Vre=sr;function Hre(t,s){var r=Vre(t)?zre:Wre;return r(t,Ure(s))}var Kre=Hre,Gre=gC,Yre=Kre;function Qre(t,s){return Gre(Yre(t,s),1)}var Xre=Qre;const Zre=ot(Xre);var Jre=ej;function eae(t,s){return Jre(t,s)}var tae=eae;const ko=ot(tae);var mc=1e9,sae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cj,wt=!0,Or="[DecimalError] ",zi=Or+"Invalid argument: ",Sj=Or+"Exponent out of range: ",hc=Math.floor,pi=Math.pow,rae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,ts=1e7,vt=7,uP=9007199254740991,Kh=hc(uP/vt),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var s,r,a,n,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(a=i.d.length,n=t.d.length,s=0,r=a<n?a:n;s<r;++s)if(i.d[s]!==t.d[s])return i.d[s]>t.d[s]^i.s<0?1:-1;return a===n?0:a>n^i.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,s=t.d.length-1,r=(s-t.e)*vt;if(s=t.d[s],s)for(;s%10==0;s/=10)r--;return r<0?0:r};ke.dividedBy=ke.div=function(t){return za(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var s=this,r=s.constructor;return mt(za(s,new r(t),0,1),r.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return qt(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var s,r=this,a=r.constructor,n=a.precision,i=n+5;if(t===void 0)t=new a(10);else if(t=new a(t),t.s<1||t.eq(ir))throw Error(Or+"NaN");if(r.s<1)throw Error(Or+(r.s?"NaN":"-Infinity"));return r.eq(ir)?new a(0):(wt=!1,s=za(zd(r,i),zd(t,i),i),wt=!0,mt(s,n))};ke.minus=ke.sub=function(t){var s=this;return t=new s.constructor(t),s.s==t.s?xP(s,t):mP(s,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var s,r=this,a=r.constructor,n=a.precision;if(t=new a(t),!t.s)throw Error(Or+"NaN");return r.s?(wt=!1,s=za(r,t,0,1).times(t),wt=!0,r.minus(s)):mt(new a(r),n)};ke.naturalExponential=ke.exp=function(){return hP(this)};ke.naturalLogarithm=ke.ln=function(){return zd(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var s=this;return t=new s.constructor(t),s.s==t.s?mP(s,t):xP(s,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var s,r,a,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zi+t);if(s=qt(n)+1,a=n.d.length-1,r=a*vt+1,a=n.d[a],a){for(;a%10==0;a/=10)r--;for(a=n.d[0];a>=10;a/=10)r++}return t&&s>r?s:r};ke.squareRoot=ke.sqrt=function(){var t,s,r,a,n,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Or+"NaN")}for(t=qt(o),wt=!1,n=Math.sqrt(+o),n==0||n==1/0?(s=ca(o.d),(s.length+t)%2==0&&(s+="0"),n=Math.sqrt(s),t=hc((t+1)/2)-(t<0||t%2),n==1/0?s="5e"+t:(s=n.toExponential(),s=s.slice(0,s.indexOf("e")+1)+t),a=new c(s)):a=new c(n.toString()),r=c.precision,n=l=r+3;;)if(i=a,a=i.plus(za(o,i,l+2)).times(.5),ca(i.d).slice(0,l)===(s=ca(a.d)).slice(0,l)){if(s=s.slice(l-3,l+1),n==l&&s=="4999"){if(mt(i,r+1,0),i.times(i).eq(o)){a=i;break}}else if(s!="9999")break;l+=4}return wt=!0,mt(a,r)};ke.times=ke.mul=function(t){var s,r,a,n,i,l,o,c,d,m=this,u=m.constructor,x=m.d,h=(t=new u(t)).d;if(!m.s||!t.s)return new u(0);for(t.s*=m.s,r=m.e+t.e,c=x.length,d=h.length,c<d&&(i=x,x=h,h=i,l=c,c=d,d=l),i=[],l=c+d,a=l;a--;)i.push(0);for(a=d;--a>=0;){for(s=0,n=c+a;n>a;)o=i[n]+h[a]*x[n-a-1]+s,i[n--]=o%ts|0,s=o/ts|0;i[n]=(i[n]+s)%ts|0}for(;!i[--l];)i.pop();return s?++r:i.shift(),t.d=i,t.e=r,wt?mt(t,u.precision):t};ke.toDecimalPlaces=ke.todp=function(t,s){var r=this,a=r.constructor;return r=new a(r),t===void 0?r:(ba(t,0,mc),s===void 0?s=a.rounding:ba(s,0,8),mt(r,t+qt(r)+1,s))};ke.toExponential=function(t,s){var r,a=this,n=a.constructor;return t===void 0?r=el(a,!0):(ba(t,0,mc),s===void 0?s=n.rounding:ba(s,0,8),a=mt(new n(a),t+1,s),r=el(a,!0,t+1)),r};ke.toFixed=function(t,s){var r,a,n=this,i=n.constructor;return t===void 0?el(n):(ba(t,0,mc),s===void 0?s=i.rounding:ba(s,0,8),a=mt(new i(n),t+qt(n)+1,s),r=el(a.abs(),!1,t+qt(a)+1),n.isneg()&&!n.isZero()?"-"+r:r)};ke.toInteger=ke.toint=function(){var t=this,s=t.constructor;return mt(new s(t),qt(t)+1,s.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var s,r,a,n,i,l,o=this,c=o.constructor,d=12,m=+(t=new c(t));if(!t.s)return new c(ir);if(o=new c(o),!o.s){if(t.s<1)throw Error(Or+"Infinity");return o}if(o.eq(ir))return o;if(a=c.precision,t.eq(ir))return mt(o,a);if(s=t.e,r=t.d.length-1,l=s>=r,i=o.s,l){if((r=m<0?-m:m)<=uP){for(n=new c(ir),s=Math.ceil(a/vt+4),wt=!1;r%2&&(n=n.times(o),_1(n.d,s)),r=hc(r/2),r!==0;)o=o.times(o),_1(o.d,s);return wt=!0,t.s<0?new c(ir).div(n):mt(n,a)}}else if(i<0)throw Error(Or+"NaN");return i=i<0&&t.d[Math.max(s,r)]&1?-1:1,o.s=1,wt=!1,n=t.times(zd(o,a+d)),wt=!0,n=hP(n),n.s=i,n};ke.toPrecision=function(t,s){var r,a,n=this,i=n.constructor;return t===void 0?(r=qt(n),a=el(n,r<=i.toExpNeg||r>=i.toExpPos)):(ba(t,1,mc),s===void 0?s=i.rounding:ba(s,0,8),n=mt(new i(n),t,s),r=qt(n),a=el(n,t<=r||r<=i.toExpNeg,t)),a};ke.toSignificantDigits=ke.tosd=function(t,s){var r=this,a=r.constructor;return t===void 0?(t=a.precision,s=a.rounding):(ba(t,1,mc),s===void 0?s=a.rounding:ba(s,0,8)),mt(new a(r),t,s)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,s=qt(t),r=t.constructor;return el(t,s<=r.toExpNeg||s>=r.toExpPos)};function mP(t,s){var r,a,n,i,l,o,c,d,m=t.constructor,u=m.precision;if(!t.s||!s.s)return s.s||(s=new m(t)),wt?mt(s,u):s;if(c=t.d,d=s.d,l=t.e,n=s.e,c=c.slice(),i=l-n,i){for(i<0?(a=c,i=-i,o=d.length):(a=d,n=l,o=c.length),l=Math.ceil(u/vt),o=l>o?l+1:o+1,i>o&&(i=o,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(o=c.length,i=d.length,o-i<0&&(i=o,a=d,d=c,c=a),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/ts|0,c[i]%=ts;for(r&&(c.unshift(r),++n),o=c.length;c[--o]==0;)c.pop();return s.d=c,s.e=n,wt?mt(s,u):s}function ba(t,s,r){if(t!==~~t||t<s||t>r)throw Error(zi+t)}function ca(t){var s,r,a,n=t.length-1,i="",l=t[0];if(n>0){for(i+=l,s=1;s<n;s++)a=t[s]+"",r=vt-a.length,r&&(i+=gn(r)),i+=a;l=t[s],a=l+"",r=vt-a.length,r&&(i+=gn(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var za=function(){function t(a,n){var i,l=0,o=a.length;for(a=a.slice();o--;)i=a[o]*n+l,a[o]=i%ts|0,l=i/ts|0;return l&&a.unshift(l),a}function s(a,n,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(a[o]!=n[o]){c=a[o]>n[o]?1:-1;break}return c}function r(a,n,i){for(var l=0;i--;)a[i]-=l,l=a[i]<n[i]?1:0,a[i]=l*ts+a[i]-n[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,n,i,l){var o,c,d,m,u,x,h,f,p,N,y,j,g,S,w,C,_,$,F=a.constructor,T=a.s==n.s?1:-1,R=a.d,A=n.d;if(!a.s)return new F(a);if(!n.s)throw Error(Or+"Division by zero");for(c=a.e-n.e,_=A.length,w=R.length,h=new F(T),f=h.d=[],d=0;A[d]==(R[d]||0);)++d;if(A[d]>(R[d]||0)&&--c,i==null?j=i=F.precision:l?j=i+(qt(a)-qt(n))+1:j=i,j<0)return new F(0);if(j=j/vt+2|0,d=0,_==1)for(m=0,A=A[0],j++;(d<w||m)&&j--;d++)g=m*ts+(R[d]||0),f[d]=g/A|0,m=g%A|0;else{for(m=ts/(A[0]+1)|0,m>1&&(A=t(A,m),R=t(R,m),_=A.length,w=R.length),S=_,p=R.slice(0,_),N=p.length;N<_;)p[N++]=0;$=A.slice(),$.unshift(0),C=A[0],A[1]>=ts/2&&++C;do m=0,o=s(A,p,_,N),o<0?(y=p[0],_!=N&&(y=y*ts+(p[1]||0)),m=y/C|0,m>1?(m>=ts&&(m=ts-1),u=t(A,m),x=u.length,N=p.length,o=s(u,p,x,N),o==1&&(m--,r(u,_<x?$:A,x))):(m==0&&(o=m=1),u=A.slice()),x=u.length,x<N&&u.unshift(0),r(p,u,N),o==-1&&(N=p.length,o=s(A,p,_,N),o<1&&(m++,r(p,_<N?$:A,N))),N=p.length):o===0&&(m++,p=[0]),f[d++]=m,o&&p[0]?p[N++]=R[S]||0:(p=[R[S]],N=1);while((S++<w||p[0]!==void 0)&&j--)}return f[0]||f.shift(),h.e=c,mt(h,l?i+qt(h)+1:i)}}();function hP(t,s){var r,a,n,i,l,o,c=0,d=0,m=t.constructor,u=m.precision;if(qt(t)>16)throw Error(Sj+qt(t));if(!t.s)return new m(ir);for(wt=!1,o=u,l=new m(.03125);t.abs().gte(.1);)t=t.times(l),d+=5;for(a=Math.log(pi(2,d))/Math.LN10*2+5|0,o+=a,r=n=i=new m(ir),m.precision=o;;){if(n=mt(n.times(t),o),r=r.times(++c),l=i.plus(za(n,r,o)),ca(l.d).slice(0,o)===ca(i.d).slice(0,o)){for(;d--;)i=mt(i.times(i),o);return m.precision=u,s==null?(wt=!0,mt(i,u)):i}i=l}}function qt(t){for(var s=t.e*vt,r=t.d[0];r>=10;r/=10)s++;return s}function sg(t,s,r){if(s>t.LN10.sd())throw wt=!0,r&&(t.precision=r),Error(Or+"LN10 precision limit exceeded");return mt(new t(t.LN10),s)}function gn(t){for(var s="";t--;)s+="0";return s}function zd(t,s){var r,a,n,i,l,o,c,d,m,u=1,x=10,h=t,f=h.d,p=h.constructor,N=p.precision;if(h.s<1)throw Error(Or+(h.s?"NaN":"-Infinity"));if(h.eq(ir))return new p(0);if(s==null?(wt=!1,d=N):d=s,h.eq(10))return s==null&&(wt=!0),sg(p,d);if(d+=x,p.precision=d,r=ca(f),a=r.charAt(0),i=qt(h),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)h=h.times(t),r=ca(h.d),a=r.charAt(0),u++;i=qt(h),a>1?(h=new p("0."+r),i++):h=new p(a+"."+r.slice(1))}else return c=sg(p,d+2,N).times(i+""),h=zd(new p(a+"."+r.slice(1)),d-x).plus(c),p.precision=N,s==null?(wt=!0,mt(h,N)):h;for(o=l=h=za(h.minus(ir),h.plus(ir),d),m=mt(h.times(h),d),n=3;;){if(l=mt(l.times(m),d),c=o.plus(za(l,new p(n),d)),ca(c.d).slice(0,d)===ca(o.d).slice(0,d))return o=o.times(2),i!==0&&(o=o.plus(sg(p,d+2,N).times(i+""))),o=za(o,new p(u),d),p.precision=N,s==null?(wt=!0,mt(o,N)):o;o=c,n+=2}}function w1(t,s){var r,a,n;for((r=s.indexOf("."))>-1&&(s=s.replace(".","")),(a=s.search(/e/i))>0?(r<0&&(r=a),r+=+s.slice(a+1),s=s.substring(0,a)):r<0&&(r=s.length),a=0;s.charCodeAt(a)===48;)++a;for(n=s.length;s.charCodeAt(n-1)===48;)--n;if(s=s.slice(a,n),s){if(n-=a,r=r-a-1,t.e=hc(r/vt),t.d=[],a=(r+1)%vt,r<0&&(a+=vt),a<n){for(a&&t.d.push(+s.slice(0,a)),n-=vt;a<n;)t.d.push(+s.slice(a,a+=vt));s=s.slice(a),a=vt-s.length}else a-=n;for(;a--;)s+="0";if(t.d.push(+s),wt&&(t.e>Kh||t.e<-Kh))throw Error(Sj+r)}else t.s=0,t.e=0,t.d=[0];return t}function mt(t,s,r){var a,n,i,l,o,c,d,m,u=t.d;for(l=1,i=u[0];i>=10;i/=10)l++;if(a=s-l,a<0)a+=vt,n=s,d=u[m=0];else{if(m=Math.ceil((a+1)/vt),i=u.length,m>=i)return t;for(d=i=u[m],l=1;i>=10;i/=10)l++;a%=vt,n=a-vt+l}if(r!==void 0&&(i=pi(10,l-n-1),o=d/i%10|0,c=s<0||u[m+1]!==void 0||d%i,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(a>0?n>0?d/pi(10,l-n):0:u[m-1])%10&1||r==(t.s<0?8:7))),s<1||!u[0])return c?(i=qt(t),u.length=1,s=s-i-1,u[0]=pi(10,(vt-s%vt)%vt),t.e=hc(-s/vt)||0):(u.length=1,u[0]=t.e=t.s=0),t;if(a==0?(u.length=m,i=1,m--):(u.length=m+1,i=pi(10,vt-a),u[m]=n>0?(d/pi(10,l-n)%pi(10,n)|0)*i:0),c)for(;;)if(m==0){(u[0]+=i)==ts&&(u[0]=1,++t.e);break}else{if(u[m]+=i,u[m]!=ts)break;u[m--]=0,i=1}for(a=u.length;u[--a]===0;)u.pop();if(wt&&(t.e>Kh||t.e<-Kh))throw Error(Sj+qt(t));return t}function xP(t,s){var r,a,n,i,l,o,c,d,m,u,x=t.constructor,h=x.precision;if(!t.s||!s.s)return s.s?s.s=-s.s:s=new x(t),wt?mt(s,h):s;if(c=t.d,u=s.d,a=s.e,d=t.e,c=c.slice(),l=d-a,l){for(m=l<0,m?(r=c,l=-l,o=u.length):(r=u,a=d,o=c.length),n=Math.max(Math.ceil(h/vt),o)+2,l>n&&(l=n,r.length=1),r.reverse(),n=l;n--;)r.push(0);r.reverse()}else{for(n=c.length,o=u.length,m=n<o,m&&(o=n),n=0;n<o;n++)if(c[n]!=u[n]){m=c[n]<u[n];break}l=0}for(m&&(r=c,c=u,u=r,s.s=-s.s),o=c.length,n=u.length-o;n>0;--n)c[o++]=0;for(n=u.length;n>l;){if(c[--n]<u[n]){for(i=n;i&&c[--i]===0;)c[i]=ts-1;--c[i],c[n]+=ts}c[n]-=u[n]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--a;return c[0]?(s.d=c,s.e=a,wt?mt(s,h):s):new x(0)}function el(t,s,r){var a,n=qt(t),i=ca(t.d),l=i.length;return s?(r&&(a=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+gn(a):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(n<0?"e":"e+")+n):n<0?(i="0."+gn(-n-1)+i,r&&(a=r-l)>0&&(i+=gn(a))):n>=l?(i+=gn(n+1-l),r&&(a=r-n-1)>0&&(i=i+"."+gn(a))):((a=n+1)<l&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-l)>0&&(n+1===l&&(i+="."),i+=gn(a))),t.s<0?"-"+i:i}function _1(t,s){if(t.length>s)return t.length=s,!0}function pP(t){var s,r,a;function n(i){var l=this;if(!(l instanceof n))return new n(i);if(l.constructor=n,i instanceof n){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zi+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return w1(l,i.toString())}else if(typeof i!="string")throw Error(zi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,rae.test(i))w1(l,i);else throw Error(zi+i)}if(n.prototype=ke,n.ROUND_UP=0,n.ROUND_DOWN=1,n.ROUND_CEIL=2,n.ROUND_FLOOR=3,n.ROUND_HALF_UP=4,n.ROUND_HALF_DOWN=5,n.ROUND_HALF_EVEN=6,n.ROUND_HALF_CEIL=7,n.ROUND_HALF_FLOOR=8,n.clone=pP,n.config=n.set=aae,t===void 0&&(t={}),t)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],s=0;s<a.length;)t.hasOwnProperty(r=a[s++])||(t[r]=this[r]);return n.config(t),n}function aae(t){if(!t||typeof t!="object")throw Error(Or+"Object expected");var s,r,a,n=["precision",1,mc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(s=0;s<n.length;s+=3)if((a=t[r=n[s]])!==void 0)if(hc(a)===a&&a>=n[s+1]&&a<=n[s+2])this[r]=a;else throw Error(zi+r+": "+a);if((a=t[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(zi+r+": "+a);return this}var Cj=pP(sae);ir=new Cj(1);const dt=Cj;function nae(t){return cae(t)||oae(t)||lae(t)||iae()}function iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(t,s){if(t){if(typeof t=="string")return by(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return by(t,s)}}function oae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cae(t){if(Array.isArray(t))return by(t)}function by(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}var dae=function(s){return s},gP={},fP=function(s){return s===gP},k1=function(s){return function r(){return arguments.length===0||arguments.length===1&&fP(arguments.length<=0?void 0:arguments[0])?r:s.apply(void 0,arguments)}},uae=function t(s,r){return s===1?r:k1(function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];var l=n.filter(function(o){return o!==gP}).length;return l>=s?r.apply(void 0,n):t(s-l,k1(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var m=n.map(function(u){return fP(u)?c.shift():u});return r.apply(void 0,nae(m).concat(c))}))})},Ap=function(s){return uae(s.length,s)},vy=function(s,r){for(var a=[],n=s;n<r;++n)a[n-s]=n;return a},mae=Ap(function(t,s){return Array.isArray(s)?s.map(t):Object.keys(s).map(function(r){return s[r]}).map(t)}),hae=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];if(!r.length)return dae;var n=r.reverse(),i=n[0],l=n.slice(1);return function(){return l.reduce(function(o,c){return c(o)},i.apply(void 0,arguments))}},jy=function(s){return Array.isArray(s)?s.reverse():s.split("").reverse.join("")},yP=function(s){var r=null,a=null;return function(){for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return r&&i.every(function(o,c){return o===r[c]})||(r=i,a=s.apply(void 0,i)),a}};function xae(t){var s;return t===0?s=1:s=Math.floor(new dt(t).abs().log(10).toNumber())+1,s}function pae(t,s,r){for(var a=new dt(t),n=0,i=[];a.lt(s)&&n<1e5;)i.push(a.toNumber()),a=a.add(r),n++;return i}var gae=Ap(function(t,s,r){var a=+t,n=+s;return a+r*(n-a)}),fae=Ap(function(t,s,r){var a=s-+t;return a=a||1/0,(r-t)/a}),yae=Ap(function(t,s,r){var a=s-+t;return a=a||1/0,Math.max(0,Math.min(1,(r-t)/a))});const Op={rangeStep:pae,getDigitCount:xae,interpolateNumber:gae,uninterpolateNumber:fae,uninterpolateTruncation:yae};function Ny(t){return jae(t)||vae(t)||bP(t)||bae()}function bae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jae(t){if(Array.isArray(t))return wy(t)}function Ud(t,s){return _ae(t)||wae(t,s)||bP(t,s)||Nae()}function Nae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bP(t,s){if(t){if(typeof t=="string")return wy(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wy(t,s)}}function wy(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function wae(t,s){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],a=!0,n=!1,i=void 0;try{for(var l=t[Symbol.iterator](),o;!(a=(o=l.next()).done)&&(r.push(o.value),!(s&&r.length===s));a=!0);}catch(c){n=!0,i=c}finally{try{!a&&l.return!=null&&l.return()}finally{if(n)throw i}}return r}}function _ae(t){if(Array.isArray(t))return t}function vP(t){var s=Ud(t,2),r=s[0],a=s[1],n=r,i=a;return r>a&&(n=a,i=r),[n,i]}function jP(t,s,r){if(t.lte(0))return new dt(0);var a=Op.getDigitCount(t.toNumber()),n=new dt(10).pow(a),i=t.div(n),l=a!==1?.05:.1,o=new dt(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(n);return s?c:new dt(Math.ceil(c))}function kae(t,s,r){var a=1,n=new dt(t);if(!n.isint()&&r){var i=Math.abs(t);i<1?(a=new dt(10).pow(Op.getDigitCount(t)-1),n=new dt(Math.floor(n.div(a).toNumber())).mul(a)):i>1&&(n=new dt(Math.floor(t)))}else t===0?n=new dt(Math.floor((s-1)/2)):r||(n=new dt(Math.floor(t)));var l=Math.floor((s-1)/2),o=hae(mae(function(c){return n.add(new dt(c-l).mul(a)).toNumber()}),vy);return o(0,s)}function NP(t,s,r,a){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((s-t)/(r-1)))return{step:new dt(0),tickMin:new dt(0),tickMax:new dt(0)};var i=jP(new dt(s).sub(t).div(r-1),a,n),l;t<=0&&s>=0?l=new dt(0):(l=new dt(t).add(s).div(2),l=l.sub(new dt(l).mod(i)));var o=Math.ceil(l.sub(t).div(i).toNumber()),c=Math.ceil(new dt(s).sub(l).div(i).toNumber()),d=o+c+1;return d>r?NP(t,s,r,a,n+1):(d<r&&(c=s>0?c+(r-d):c,o=s>0?o:o+(r-d)),{step:i,tickMin:l.sub(new dt(o).mul(i)),tickMax:l.add(new dt(c).mul(i))})}function Sae(t){var s=Ud(t,2),r=s[0],a=s[1],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(n,2),o=vP([r,a]),c=Ud(o,2),d=c[0],m=c[1];if(d===-1/0||m===1/0){var u=m===1/0?[d].concat(Ny(vy(0,n-1).map(function(){return 1/0}))):[].concat(Ny(vy(0,n-1).map(function(){return-1/0})),[m]);return r>a?jy(u):u}if(d===m)return kae(d,n,i);var x=NP(d,m,l,i),h=x.step,f=x.tickMin,p=x.tickMax,N=Op.rangeStep(f,p.add(new dt(.1).mul(h)),h);return r>a?jy(N):N}function Cae(t,s){var r=Ud(t,2),a=r[0],n=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=vP([a,n]),o=Ud(l,2),c=o[0],d=o[1];if(c===-1/0||d===1/0)return[a,n];if(c===d)return[c];var m=Math.max(s,2),u=jP(new dt(d).sub(c).div(m-1),i,0),x=[].concat(Ny(Op.rangeStep(new dt(c),new dt(d).sub(new dt(.99).mul(u)),u)),[d]);return a>n?jy(x):x}var Pae=yP(Sae),Aae=yP(Cae),Oae="Invariant failed";function tl(t,s){throw new Error(Oae)}var $ae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function So(t){"@babel/helpers - typeof";return So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},So(t)}function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Gh.apply(this,arguments)}function Tae(t,s){return Rae(t)||Fae(t,s)||Mae(t,s)||Eae()}function Eae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mae(t,s){if(t){if(typeof t=="string")return S1(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S1(t,s)}}function S1(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function Fae(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function Rae(t){if(Array.isArray(t))return t}function Lae(t,s){if(t==null)return{};var r=Dae(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function Dae(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function Iae(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function Bae(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,kP(a.key),a)}}function qae(t,s,r){return s&&Bae(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function zae(t,s,r){return s=Yh(s),Uae(t,wP()?Reflect.construct(s,r||[],Yh(t).constructor):s.apply(t,r))}function Uae(t,s){if(s&&(So(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wae(t)}function Wae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wP=function(){return!!t})()}function Yh(t){return Yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yh(t)}function Vae(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&_y(t,s)}function _y(t,s){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},_y(t,s)}function _P(t,s,r){return s=kP(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function kP(t){var s=Hae(t,"string");return So(s)=="symbol"?s:s+""}function Hae(t,s){if(So(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(So(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $p=function(t){function s(){return Iae(this,s),zae(this,s,arguments)}return Vae(s,t),qae(s,[{key:"render",value:function(){var a=this.props,n=a.offset,i=a.layout,l=a.width,o=a.dataKey,c=a.data,d=a.dataPointFormatter,m=a.xAxis,u=a.yAxis,x=Lae(a,$ae),h=$e(x,!1);this.props.direction==="x"&&m.type!=="number"&&tl();var f=c.map(function(p){var N=d(p,o),y=N.x,j=N.y,g=N.value,S=N.errorVal;if(!S)return null;var w=[],C,_;if(Array.isArray(S)){var $=Tae(S,2);C=$[0],_=$[1]}else C=_=S;if(i==="vertical"){var F=m.scale,T=j+n,R=T+l,A=T-l,M=F(g-C),P=F(g+_);w.push({x1:P,y1:R,x2:P,y2:A}),w.push({x1:M,y1:T,x2:P,y2:T}),w.push({x1:M,y1:R,x2:M,y2:A})}else if(i==="horizontal"){var E=u.scale,z=y+n,O=z-l,b=z+l,L=E(g-C),v=E(g+_);w.push({x1:O,y1:v,x2:b,y2:v}),w.push({x1:z,y1:L,x2:z,y2:v}),w.push({x1:O,y1:L,x2:b,y2:L})}return X.createElement(Ze,Gh({className:"recharts-errorBar",key:"bar-".concat(w.map(function(D){return"".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))},h),w.map(function(D){return X.createElement("line",Gh({},D,{key:"line-".concat(D.x1,"-").concat(D.x2,"-").concat(D.y1,"-").concat(D.y2)}))}))});return X.createElement(Ze,{className:"recharts-errorBars"},f)}}])}(X.Component);_P($p,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_P($p,"displayName","ErrorBar");function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Wd(t)}function C1(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function oi(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?C1(Object(r),!0).forEach(function(a){Kae(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Kae(t,s,r){return s=Gae(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Gae(t){var s=Yae(t,"string");return Wd(s)=="symbol"?s:s+""}function Yae(t,s){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Wd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var SP=function(s){var r=s.children,a=s.formattedGraphicalItems,n=s.legendWidth,i=s.legendContent,l=nr(r,Vn);if(!l)return null;var o=Vn.defaultProps,c=o!==void 0?oi(oi({},o),l.props):{},d;return l.props&&l.props.payload?d=l.props&&l.props.payload:i==="children"?d=(a||[]).reduce(function(m,u){var x=u.item,h=u.props,f=h.sectors||h.data||[];return m.concat(f.map(function(p){return{type:l.props.iconType||x.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):d=(a||[]).map(function(m){var u=m.item,x=u.type.defaultProps,h=x!==void 0?oi(oi({},x),u.props):{},f=h.dataKey,p=h.name,N=h.legendType,y=h.hide;return{inactive:y,dataKey:f,type:c.iconType||N||"square",color:Pj(u),value:p||f,payload:h}}),oi(oi(oi({},c),Vn.getWithHeight(l,n)),{},{payload:d,item:l})};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Vd(t)}function P1(t){return Jae(t)||Zae(t)||Xae(t)||Qae()}function Qae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xae(t,s){if(t){if(typeof t=="string")return ky(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ky(t,s)}}function Zae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jae(t){if(Array.isArray(t))return ky(t)}function ky(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function A1(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Ot(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?A1(Object(r),!0).forEach(function(a){Vl(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Vl(t,s,r){return s=ene(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function ene(t){var s=tne(t,"string");return Vd(s)=="symbol"?s:s+""}function tne(t,s){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Vd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Gt(t,s,r){return Re(t)||Re(s)?r:Qt(s)?ur(t,s,r):Me(s)?s(t):r}function rd(t,s,r,a){var n=Zre(t,function(o){return Gt(o,s)});if(r==="number"){var i=n.filter(function(o){return pe(o)||parseFloat(o)});return i.length?[Pp(i),Tn(i)]:[1/0,-1/0]}var l=a?n.filter(function(o){return!Re(o)}):n;return l.map(function(o){return Qt(o)||o instanceof Date?o:""})}var sne=function(s){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,o=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<o;d++){var m=d>0?n[d-1].coordinate:n[o-1].coordinate,u=n[d].coordinate,x=d>=o-1?n[0].coordinate:n[d+1].coordinate,h=void 0;if(Rs(u-m)!==Rs(x-u)){var f=[];if(Rs(x-u)===Rs(c[1]-c[0])){h=x;var p=u+c[1]-c[0];f[0]=Math.min(p,(p+m)/2),f[1]=Math.max(p,(p+m)/2)}else{h=m;var N=x+c[1]-c[0];f[0]=Math.min(u,(N+u)/2),f[1]=Math.max(u,(N+u)/2)}var y=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(s>y[0]&&s<=y[1]||s>=f[0]&&s<=f[1]){l=n[d].index;break}}else{var j=Math.min(m,x),g=Math.max(m,x);if(s>(j+u)/2&&s<=(g+u)/2){l=n[d].index;break}}}else for(var S=0;S<o;S++)if(S===0&&s<=(a[S].coordinate+a[S+1].coordinate)/2||S>0&&S<o-1&&s>(a[S].coordinate+a[S-1].coordinate)/2&&s<=(a[S].coordinate+a[S+1].coordinate)/2||S===o-1&&s>(a[S].coordinate+a[S-1].coordinate)/2){l=a[S].index;break}return l},Pj=function(s){var r,a=s,n=a.type.displayName,i=(r=s.type)!==null&&r!==void 0&&r.defaultProps?Ot(Ot({},s.type.defaultProps),s.props):s.props,l=i.stroke,o=i.fill,c;switch(n){case"Line":c=l;break;case"Area":case"Radar":c=l&&l!=="none"?l:o;break;default:c=o;break}return c},rne=function(s){var r=s.barSize,a=s.totalSize,n=s.stackGroups,i=n===void 0?{}:n;if(!i)return{};for(var l={},o=Object.keys(i),c=0,d=o.length;c<d;c++)for(var m=i[o[c]].stackGroups,u=Object.keys(m),x=0,h=u.length;x<h;x++){var f=m[u[x]],p=f.items,N=f.cateAxisId,y=p.filter(function(_){return qa(_.type).indexOf("Bar")>=0});if(y&&y.length){var j=y[0].type.defaultProps,g=j!==void 0?Ot(Ot({},j),y[0].props):y[0].props,S=g.barSize,w=g[N];l[w]||(l[w]=[]);var C=Re(S)?r:S;l[w].push({item:y[0],stackList:y.slice(1),barSize:Re(C)?void 0:Ls(C,a,0)})}}return l},ane=function(s){var r=s.barGap,a=s.barCategoryGap,n=s.bandSize,i=s.sizeList,l=i===void 0?[]:i,o=s.maxBarSize,c=l.length;if(c<1)return null;var d=Ls(r,n,0,!0),m,u=[];if(l[0].barSize===+l[0].barSize){var x=!1,h=n/c,f=l.reduce(function(S,w){return S+w.barSize||0},0);f+=(c-1)*d,f>=n&&(f-=(c-1)*d,d=0),f>=n&&h>0&&(x=!0,h*=.9,f=c*h);var p=(n-f)/2>>0,N={offset:p-d,size:0};m=l.reduce(function(S,w){var C={item:w.item,position:{offset:N.offset+N.size+d,size:x?h:w.barSize}},_=[].concat(P1(S),[C]);return N=_[_.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function($){_.push({item:$,position:N})}),_},u)}else{var y=Ls(a,n,0,!0);n-2*y-(c-1)*d<=0&&(d=0);var j=(n-2*y-(c-1)*d)/c;j>1&&(j>>=0);var g=o===+o?Math.min(j,o):j;m=l.reduce(function(S,w,C){var _=[].concat(P1(S),[{item:w.item,position:{offset:y+(j+d)*C+(j-g)/2,size:g}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function($){_.push({item:$,position:_[_.length-1].position})}),_},u)}return m},nne=function(s,r,a,n){var i=a.children,l=a.width,o=a.margin,c=l-(o.left||0)-(o.right||0),d=SP({children:i,legendWidth:c});if(d){var m=n||{},u=m.width,x=m.height,h=d.align,f=d.verticalAlign,p=d.layout;if((p==="vertical"||p==="horizontal"&&f==="middle")&&h!=="center"&&pe(s[h]))return Ot(Ot({},s),{},Vl({},h,s[h]+(u||0)));if((p==="horizontal"||p==="vertical"&&h==="center")&&f!=="middle"&&pe(s[f]))return Ot(Ot({},s),{},Vl({},f,s[f]+(x||0)))}return s},ine=function(s,r,a){return Re(r)?!0:s==="horizontal"?r==="yAxis":s==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},CP=function(s,r,a,n,i){var l=r.props.children,o=Cr(l,$p).filter(function(d){return ine(n,i,d.props.direction)});if(o&&o.length){var c=o.map(function(d){return d.props.dataKey});return s.reduce(function(d,m){var u=Gt(m,a);if(Re(u))return d;var x=Array.isArray(u)?[Pp(u),Tn(u)]:[u,u],h=c.reduce(function(f,p){var N=Gt(m,p,0),y=x[0]-Math.abs(Array.isArray(N)?N[0]:N),j=x[1]+Math.abs(Array.isArray(N)?N[1]:N);return[Math.min(y,f[0]),Math.max(j,f[1])]},[1/0,-1/0]);return[Math.min(h[0],d[0]),Math.max(h[1],d[1])]},[1/0,-1/0])}return null},lne=function(s,r,a,n,i){var l=r.map(function(o){return CP(s,o,a,i,n)}).filter(function(o){return!Re(o)});return l&&l.length?l.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},PP=function(s,r,a,n,i){var l=r.map(function(c){var d=c.props.dataKey;return a==="number"&&d&&CP(s,c,d,n)||rd(s,d,a,i)});if(a==="number")return l.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var o={};return l.reduce(function(c,d){for(var m=0,u=d.length;m<u;m++)o[d[m]]||(o[d[m]]=!0,c.push(d[m]));return c},[])},AP=function(s,r){return s==="horizontal"&&r==="xAxis"||s==="vertical"&&r==="yAxis"||s==="centric"&&r==="angleAxis"||s==="radial"&&r==="radiusAxis"},OP=function(s,r,a,n){if(n)return s.map(function(c){return c.coordinate});var i,l,o=s.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===a&&(l=!0),c.coordinate});return i||o.push(r),l||o.push(a),o},Ia=function(s,r,a){if(!s)return null;var n=s.scale,i=s.duplicateDomain,l=s.type,o=s.range,c=s.realScaleType==="scaleBand"?n.bandwidth()/2:2,d=(r||a)&&l==="category"&&n.bandwidth?n.bandwidth()/c:0;if(d=s.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Rs(o[0]-o[1])*2*d:d,r&&(s.ticks||s.niceTicks)){var m=(s.ticks||s.niceTicks).map(function(u){var x=i?i.indexOf(u):u;return{coordinate:n(x)+d,value:u,offset:d}});return m.filter(function(u){return!ic(u.coordinate)})}return s.isCategorical&&s.categoricalDomain?s.categoricalDomain.map(function(u,x){return{coordinate:n(u)+d,value:u,index:x,offset:d}}):n.ticks&&!a?n.ticks(s.tickCount).map(function(u){return{coordinate:n(u)+d,value:u,offset:d}}):n.domain().map(function(u,x){return{coordinate:n(u)+d,value:i?i[u]:u,index:x,offset:d}})},rg=new WeakMap,fm=function(s,r){if(typeof r!="function")return s;rg.has(s)||rg.set(s,new WeakMap);var a=rg.get(s);if(a.has(r))return a.get(r);var n=function(){s.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,n),n},$P=function(s,r,a){var n=s.scale,i=s.type,l=s.layout,o=s.axisType;if(n==="auto")return l==="radial"&&o==="radiusAxis"?{scale:Ld(),realScaleType:"band"}:l==="radial"&&o==="angleAxis"?{scale:Uh(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:sd(),realScaleType:"point"}:i==="category"?{scale:Ld(),realScaleType:"band"}:{scale:Uh(),realScaleType:"linear"};if(Xi(n)){var c="scale".concat(hp(n));return{scale:(N1[c]||sd)(),realScaleType:N1[c]?c:"point"}}return Me(n)?{scale:n}:{scale:sd(),realScaleType:"point"}},O1=1e-4,TP=function(s){var r=s.domain();if(!(!r||r.length<=2)){var a=r.length,n=s.range(),i=Math.min(n[0],n[1])-O1,l=Math.max(n[0],n[1])+O1,o=s(r[0]),c=s(r[a-1]);(o<i||o>l||c<i||c>l)&&s.domain([r[0],r[a-1]])}},one=function(s,r){if(!s)return null;for(var a=0,n=s.length;a<n;a++)if(s[a].item===r)return s[a].position;return null},cne=function(s,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return s;var a=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]),i=[s[0],s[1]];return(!pe(s[0])||s[0]<a)&&(i[0]=a),(!pe(s[1])||s[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<a&&(i[1]=a),i},dne=function(s){var r=s.length;if(!(r<=0))for(var a=0,n=s[0].length;a<n;++a)for(var i=0,l=0,o=0;o<r;++o){var c=ic(s[o][a][1])?s[o][a][0]:s[o][a][1];c>=0?(s[o][a][0]=i,s[o][a][1]=i+c,i=s[o][a][1]):(s[o][a][0]=l,s[o][a][1]=l+c,l=s[o][a][1])}},une=function(s){var r=s.length;if(!(r<=0))for(var a=0,n=s[0].length;a<n;++a)for(var i=0,l=0;l<r;++l){var o=ic(s[l][a][1])?s[l][a][0]:s[l][a][1];o>=0?(s[l][a][0]=i,s[l][a][1]=i+o,i=s[l][a][1]):(s[l][a][0]=0,s[l][a][1]=0)}},mne={sign:dne,expand:$V,none:fo,silhouette:TV,wiggle:EV,positive:une},hne=function(s,r,a){var n=r.map(function(o){return o.props.dataKey}),i=mne[a],l=OV().keys(n).value(function(o,c){return+Gt(o,c,0)}).order(Qf).offset(i);return l(s)},xne=function(s,r,a,n,i,l){if(!s)return null;var o=l?r.reverse():r,c={},d=o.reduce(function(u,x){var h,f=(h=x.type)!==null&&h!==void 0&&h.defaultProps?Ot(Ot({},x.type.defaultProps),x.props):x.props,p=f.stackId,N=f.hide;if(N)return u;var y=f[a],j=u[y]||{hasStack:!1,stackGroups:{}};if(Qt(p)){var g=j.stackGroups[p]||{numericAxisId:a,cateAxisId:n,items:[]};g.items.push(x),j.hasStack=!0,j.stackGroups[p]=g}else j.stackGroups[lc("_stackId_")]={numericAxisId:a,cateAxisId:n,items:[x]};return Ot(Ot({},u),{},Vl({},y,j))},c),m={};return Object.keys(d).reduce(function(u,x){var h=d[x];if(h.hasStack){var f={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(p,N){var y=h.stackGroups[N];return Ot(Ot({},p),{},Vl({},N,{numericAxisId:a,cateAxisId:n,items:y.items,stackedData:hne(s,y.items,i)}))},f)}return Ot(Ot({},u),{},Vl({},x,h))},m)},EP=function(s,r){var a=r.realScaleType,n=r.type,i=r.tickCount,l=r.originalDomain,o=r.allowDecimals,c=a||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&n==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var d=s.domain();if(!d.length)return null;var m=Pae(d,i,o);return s.domain([Pp(m),Tn(m)]),{niceTicks:m}}if(i&&n==="number"){var u=s.domain(),x=Aae(u,i,o);return{niceTicks:x}}return null};function $1(t){var s=t.axis,r=t.ticks,a=t.bandSize,n=t.entry,i=t.index,l=t.dataKey;if(s.type==="category"){if(!s.allowDuplicatedCategory&&s.dataKey&&!Re(n[s.dataKey])){var o=Nh(r,"value",n[s.dataKey]);if(o)return o.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var c=Gt(n,Re(l)?s.dataKey:l);return Re(c)?null:s.scale(c)}var T1=function(s){var r=s.axis,a=s.ticks,n=s.offset,i=s.bandSize,l=s.entry,o=s.index;if(r.type==="category")return a[o]?a[o].coordinate+n:null;var c=Gt(l,r.dataKey,r.domain[o]);return Re(c)?null:r.scale(c)-i/2+n},pne=function(s){var r=s.numericAxis,a=r.scale.domain();if(r.type==="number"){var n=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return n<=0&&i>=0?0:i<0?i:n}return a[0]},gne=function(s,r){var a,n=(a=s.type)!==null&&a!==void 0&&a.defaultProps?Ot(Ot({},s.type.defaultProps),s.props):s.props,i=n.stackId;if(Qt(i)){var l=r[i];if(l){var o=l.items.indexOf(s);return o>=0?l.stackedData[o]:null}}return null},fne=function(s){return s.reduce(function(r,a){return[Pp(a.concat([r[0]]).filter(pe)),Tn(a.concat([r[1]]).filter(pe))]},[1/0,-1/0])},MP=function(s,r,a){return Object.keys(s).reduce(function(n,i){var l=s[i],o=l.stackedData,c=o.reduce(function(d,m){var u=fne(m.slice(r,a+1));return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]).map(function(n){return n===1/0||n===-1/0?0:n})},E1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sy=function(s,r,a){if(Me(s))return s(r,a);if(!Array.isArray(s))return r;var n=[];if(pe(s[0]))n[0]=a?s[0]:Math.min(s[0],r[0]);else if(E1.test(s[0])){var i=+E1.exec(s[0])[1];n[0]=r[0]-i}else Me(s[0])?n[0]=s[0](r[0]):n[0]=r[0];if(pe(s[1]))n[1]=a?s[1]:Math.max(s[1],r[1]);else if(M1.test(s[1])){var l=+M1.exec(s[1])[1];n[1]=r[1]+l}else Me(s[1])?n[1]=s[1](r[1]):n[1]=r[1];return n},Qh=function(s,r,a){if(s&&s.scale&&s.scale.bandwidth){var n=s.scale.bandwidth();if(!a||n>0)return n}if(s&&r&&r.length>=2){for(var i=sj(r,function(u){return u.coordinate}),l=1/0,o=1,c=i.length;o<c;o++){var d=i[o],m=i[o-1];l=Math.min((d.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0},F1=function(s,r,a){return!s||!s.length||ko(s,ur(a,"type.defaultProps.domain"))?r:s},FP=function(s,r){var a=s.type.defaultProps?Ot(Ot({},s.type.defaultProps),s.props):s.props,n=a.dataKey,i=a.name,l=a.unit,o=a.formatter,c=a.tooltipType,d=a.chartType,m=a.hide;return Ot(Ot({},$e(s,!1)),{},{dataKey:n,unit:l,formatter:o,name:i||n,color:Pj(s),value:Gt(r,n),type:c,payload:r,chartType:d,hide:m})};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Hd(t)}function R1(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Ca(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?R1(Object(r),!0).forEach(function(a){RP(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function RP(t,s,r){return s=yne(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function yne(t){var s=bne(t,"string");return Hd(s)=="symbol"?s:s+""}function bne(t,s){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Hd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function vne(t,s){return _ne(t)||wne(t,s)||Nne(t,s)||jne()}function jne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,s){if(t){if(typeof t=="string")return L1(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L1(t,s)}}function L1(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function wne(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function _ne(t){if(Array.isArray(t))return t}var Xh=Math.PI/180,kne=function(s){return s*180/Math.PI},gt=function(s,r,a,n){return{x:s+Math.cos(-Xh*n)*a,y:r+Math.sin(-Xh*n)*a}},LP=function(s,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(s-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},Sne=function(s,r,a,n,i){var l=s.width,o=s.height,c=s.startAngle,d=s.endAngle,m=Ls(s.cx,l,l/2),u=Ls(s.cy,o,o/2),x=LP(l,o,a),h=Ls(s.innerRadius,x,0),f=Ls(s.outerRadius,x,x*.8),p=Object.keys(r);return p.reduce(function(N,y){var j=r[y],g=j.domain,S=j.reversed,w;if(Re(j.range))n==="angleAxis"?w=[c,d]:n==="radiusAxis"&&(w=[h,f]),S&&(w=[w[1],w[0]]);else{w=j.range;var C=w,_=vne(C,2);c=_[0],d=_[1]}var $=$P(j,i),F=$.realScaleType,T=$.scale;T.domain(g).range(w),TP(T);var R=EP(T,Ca(Ca({},j),{},{realScaleType:F})),A=Ca(Ca(Ca({},j),R),{},{range:w,radius:f,realScaleType:F,scale:T,cx:m,cy:u,innerRadius:h,outerRadius:f,startAngle:c,endAngle:d});return Ca(Ca({},N),{},RP({},y,A))},{})},Cne=function(s,r){var a=s.x,n=s.y,i=r.x,l=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(n-l,2))},Pne=function(s,r){var a=s.x,n=s.y,i=r.cx,l=r.cy,o=Cne({x:a,y:n},{x:i,y:l});if(o<=0)return{radius:o};var c=(a-i)/o,d=Math.acos(c);return n>l&&(d=2*Math.PI-d),{radius:o,angle:kne(d),angleInRadian:d}},Ane=function(s){var r=s.startAngle,a=s.endAngle,n=Math.floor(r/360),i=Math.floor(a/360),l=Math.min(n,i);return{startAngle:r-l*360,endAngle:a-l*360}},One=function(s,r){var a=r.startAngle,n=r.endAngle,i=Math.floor(a/360),l=Math.floor(n/360),o=Math.min(i,l);return s+o*360},D1=function(s,r){var a=s.x,n=s.y,i=Pne({x:a,y:n},r),l=i.radius,o=i.angle,c=r.innerRadius,d=r.outerRadius;if(l<c||l>d)return!1;if(l===0)return!0;var m=Ane(r),u=m.startAngle,x=m.endAngle,h=o,f;if(u<=x){for(;h>x;)h-=360;for(;h<u;)h+=360;f=h>=u&&h<=x}else{for(;h>u;)h-=360;for(;h<x;)h+=360;f=h>=x&&h<=u}return f?Ca(Ca({},r),{},{radius:l,angle:One(h,r)}):null},DP=function(s){return!k.isValidElement(s)&&!Me(s)&&typeof s!="boolean"?s.className:""};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Kd(t)}var $ne=["offset"];function Tne(t){return Rne(t)||Fne(t)||Mne(t)||Ene()}function Ene(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mne(t,s){if(t){if(typeof t=="string")return Cy(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cy(t,s)}}function Fne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rne(t){if(Array.isArray(t))return Cy(t)}function Cy(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function Lne(t,s){if(t==null)return{};var r=Dne(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function Dne(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function I1(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Ut(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?I1(Object(r),!0).forEach(function(a){Ine(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ine(t,s,r){return s=Bne(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Bne(t){var s=qne(t,"string");return Kd(s)=="symbol"?s:s+""}function qne(t,s){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Kd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Gd(){return Gd=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Gd.apply(this,arguments)}var zne=function(s){var r=s.value,a=s.formatter,n=Re(s.children)?r:s.children;return Me(a)?a(n):n},Une=function(s,r){var a=Rs(r-s),n=Math.min(Math.abs(r-s),360);return a*n},Wne=function(s,r,a){var n=s.position,i=s.viewBox,l=s.offset,o=s.className,c=i,d=c.cx,m=c.cy,u=c.innerRadius,x=c.outerRadius,h=c.startAngle,f=c.endAngle,p=c.clockWise,N=(u+x)/2,y=Une(h,f),j=y>=0?1:-1,g,S;n==="insideStart"?(g=h+j*l,S=p):n==="insideEnd"?(g=f-j*l,S=!p):n==="end"&&(g=f+j*l,S=p),S=y<=0?S:!S;var w=gt(d,m,N,g),C=gt(d,m,N,g+(S?1:-1)*359),_="M".concat(w.x,",").concat(w.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),$=Re(s.id)?lc("recharts-radial-line-"):s.id;return X.createElement("text",Gd({},a,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",o)}),X.createElement("defs",null,X.createElement("path",{id:$,d:_})),X.createElement("textPath",{xlinkHref:"#".concat($)},r))},Vne=function(s){var r=s.viewBox,a=s.offset,n=s.position,i=r,l=i.cx,o=i.cy,c=i.innerRadius,d=i.outerRadius,m=i.startAngle,u=i.endAngle,x=(m+u)/2;if(n==="outside"){var h=gt(l,o,d+a,x),f=h.x,p=h.y;return{x:f,y:p,textAnchor:f>=l?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:l,y:o,textAnchor:"middle",verticalAnchor:"end"};var N=(c+d)/2,y=gt(l,o,N,x),j=y.x,g=y.y;return{x:j,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Hne=function(s){var r=s.viewBox,a=s.parentViewBox,n=s.offset,i=s.position,l=r,o=l.x,c=l.y,d=l.width,m=l.height,u=m>=0?1:-1,x=u*n,h=u>0?"end":"start",f=u>0?"start":"end",p=d>=0?1:-1,N=p*n,y=p>0?"end":"start",j=p>0?"start":"end";if(i==="top"){var g={x:o+d/2,y:c-u*n,textAnchor:"middle",verticalAnchor:h};return Ut(Ut({},g),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var S={x:o+d/2,y:c+m+x,textAnchor:"middle",verticalAnchor:f};return Ut(Ut({},S),a?{height:Math.max(a.y+a.height-(c+m),0),width:d}:{})}if(i==="left"){var w={x:o-N,y:c+m/2,textAnchor:y,verticalAnchor:"middle"};return Ut(Ut({},w),a?{width:Math.max(w.x-a.x,0),height:m}:{})}if(i==="right"){var C={x:o+d+N,y:c+m/2,textAnchor:j,verticalAnchor:"middle"};return Ut(Ut({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:m}:{})}var _=a?{width:d,height:m}:{};return i==="insideLeft"?Ut({x:o+N,y:c+m/2,textAnchor:j,verticalAnchor:"middle"},_):i==="insideRight"?Ut({x:o+d-N,y:c+m/2,textAnchor:y,verticalAnchor:"middle"},_):i==="insideTop"?Ut({x:o+d/2,y:c+x,textAnchor:"middle",verticalAnchor:f},_):i==="insideBottom"?Ut({x:o+d/2,y:c+m-x,textAnchor:"middle",verticalAnchor:h},_):i==="insideTopLeft"?Ut({x:o+N,y:c+x,textAnchor:j,verticalAnchor:f},_):i==="insideTopRight"?Ut({x:o+d-N,y:c+x,textAnchor:y,verticalAnchor:f},_):i==="insideBottomLeft"?Ut({x:o+N,y:c+m-x,textAnchor:j,verticalAnchor:h},_):i==="insideBottomRight"?Ut({x:o+d-N,y:c+m-x,textAnchor:y,verticalAnchor:h},_):sc(i)&&(pe(i.x)||wi(i.x))&&(pe(i.y)||wi(i.y))?Ut({x:o+Ls(i.x,d),y:c+Ls(i.y,m),textAnchor:"end",verticalAnchor:"end"},_):Ut({x:o+d/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Kne=function(s){return"cx"in s&&pe(s.cx)};function rs(t){var s=t.offset,r=s===void 0?5:s,a=Lne(t,$ne),n=Ut({offset:r},a),i=n.viewBox,l=n.position,o=n.value,c=n.children,d=n.content,m=n.className,u=m===void 0?"":m,x=n.textBreakAll;if(!i||Re(o)&&Re(c)&&!k.isValidElement(d)&&!Me(d))return null;if(k.isValidElement(d))return k.cloneElement(d,n);var h;if(Me(d)){if(h=k.createElement(d,n),k.isValidElement(h))return h}else h=zne(n);var f=Kne(i),p=$e(n,!0);if(f&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Wne(n,h,p);var N=f?Vne(n):Hne(n);return X.createElement(Ji,Gd({className:qe("recharts-label",u)},p,N,{breakAll:x}),h)}rs.displayName="Label";var IP=function(s){var r=s.cx,a=s.cy,n=s.angle,i=s.startAngle,l=s.endAngle,o=s.r,c=s.radius,d=s.innerRadius,m=s.outerRadius,u=s.x,x=s.y,h=s.top,f=s.left,p=s.width,N=s.height,y=s.clockWise,j=s.labelViewBox;if(j)return j;if(pe(p)&&pe(N)){if(pe(u)&&pe(x))return{x:u,y:x,width:p,height:N};if(pe(h)&&pe(f))return{x:h,y:f,width:p,height:N}}return pe(u)&&pe(x)?{x:u,y:x,width:0,height:0}:pe(r)&&pe(a)?{cx:r,cy:a,startAngle:i||n||0,endAngle:l||n||0,innerRadius:d||0,outerRadius:m||c||o||0,clockWise:y}:s.viewBox?s.viewBox:{}},Gne=function(s,r){return s?s===!0?X.createElement(rs,{key:"label-implicit",viewBox:r}):Qt(s)?X.createElement(rs,{key:"label-implicit",viewBox:r,value:s}):k.isValidElement(s)?s.type===rs?k.cloneElement(s,{key:"label-implicit",viewBox:r}):X.createElement(rs,{key:"label-implicit",content:s,viewBox:r}):Me(s)?X.createElement(rs,{key:"label-implicit",content:s,viewBox:r}):sc(s)?X.createElement(rs,Gd({viewBox:r},s,{key:"label-implicit"})):null:null},Yne=function(s,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!s||!s.children&&a&&!s.label)return null;var n=s.children,i=IP(s),l=Cr(n,rs).map(function(c,d){return k.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!a)return l;var o=Gne(s.label,r||i);return[o].concat(Tne(l))};rs.parseViewBox=IP;rs.renderCallByParent=Yne;function Qne(t){var s=t==null?0:t.length;return s?t[s-1]:void 0}var Xne=Qne;const Zne=ot(Xne);function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Yd(t)}var Jne=["valueAccessor"],eie=["data","dataKey","clockWise","id","textBreakAll"];function tie(t){return nie(t)||aie(t)||rie(t)||sie()}function sie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(t,s){if(t){if(typeof t=="string")return Py(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Py(t,s)}}function aie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nie(t){if(Array.isArray(t))return Py(t)}function Py(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Zh.apply(this,arguments)}function B1(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function q1(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?B1(Object(r),!0).forEach(function(a){iie(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function iie(t,s,r){return s=lie(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function lie(t){var s=oie(t,"string");return Yd(s)=="symbol"?s:s+""}function oie(t,s){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Yd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function z1(t,s){if(t==null)return{};var r=cie(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function cie(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}var die=function(s){return Array.isArray(s.value)?Zne(s.value):s.value};function Ua(t){var s=t.valueAccessor,r=s===void 0?die:s,a=z1(t,Jne),n=a.data,i=a.dataKey,l=a.clockWise,o=a.id,c=a.textBreakAll,d=z1(a,eie);return!n||!n.length?null:X.createElement(Ze,{className:"recharts-label-list"},n.map(function(m,u){var x=Re(i)?r(m,u):Gt(m&&m.payload,i),h=Re(o)?{}:{id:"".concat(o,"-").concat(u)};return X.createElement(rs,Zh({},$e(m,!0),d,h,{parentViewBox:m.parentViewBox,value:x,textBreakAll:c,viewBox:rs.parseViewBox(Re(l)?m:q1(q1({},m),{},{clockWise:l})),key:"label-".concat(u),index:u}))}))}Ua.displayName="LabelList";function uie(t,s){return t?t===!0?X.createElement(Ua,{key:"labelList-implicit",data:s}):X.isValidElement(t)||Me(t)?X.createElement(Ua,{key:"labelList-implicit",data:s,content:t}):sc(t)?X.createElement(Ua,Zh({data:s},t,{key:"labelList-implicit"})):null:null}function mie(t,s){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,n=Cr(a,Ua).map(function(l,o){return k.cloneElement(l,{data:s,key:"labelList-".concat(o)})});if(!r)return n;var i=uie(t.label,s);return[i].concat(tie(n))}Ua.renderCallByParent=mie;function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Qd(t)}function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ay.apply(this,arguments)}function U1(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function W1(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?U1(Object(r),!0).forEach(function(a){hie(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function hie(t,s,r){return s=xie(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function xie(t){var s=pie(t,"string");return Qd(s)=="symbol"?s:s+""}function pie(t,s){if(Qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Qd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var gie=function(s,r){var a=Rs(r-s),n=Math.min(Math.abs(r-s),359.999);return a*n},ym=function(s){var r=s.cx,a=s.cy,n=s.radius,i=s.angle,l=s.sign,o=s.isExternal,c=s.cornerRadius,d=s.cornerIsExternal,m=c*(o?1:-1)+n,u=Math.asin(c/m)/Xh,x=d?i:i+l*u,h=gt(r,a,m,x),f=gt(r,a,n,x),p=d?i-l*u:i,N=gt(r,a,m*Math.cos(u*Xh),p);return{center:h,circleTangency:f,lineTangency:N,theta:u}},BP=function(s){var r=s.cx,a=s.cy,n=s.innerRadius,i=s.outerRadius,l=s.startAngle,o=s.endAngle,c=gie(l,o),d=l+c,m=gt(r,a,i,l),u=gt(r,a,i,d),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(l>d),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=gt(r,a,n,l),f=gt(r,a,n,d);x+="L ".concat(f.x,",").concat(f.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(l<=d),`,
            `).concat(h.x,",").concat(h.y," Z")}else x+="L ".concat(r,",").concat(a," Z");return x},fie=function(s){var r=s.cx,a=s.cy,n=s.innerRadius,i=s.outerRadius,l=s.cornerRadius,o=s.forceCornerRadius,c=s.cornerIsExternal,d=s.startAngle,m=s.endAngle,u=Rs(m-d),x=ym({cx:r,cy:a,radius:i,angle:d,sign:u,cornerRadius:l,cornerIsExternal:c}),h=x.circleTangency,f=x.lineTangency,p=x.theta,N=ym({cx:r,cy:a,radius:i,angle:m,sign:-u,cornerRadius:l,cornerIsExternal:c}),y=N.circleTangency,j=N.lineTangency,g=N.theta,S=c?Math.abs(d-m):Math.abs(d-m)-p-g;if(S<0)return o?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):BP({cx:r,cy:a,innerRadius:n,outerRadius:i,startAngle:d,endAngle:m});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,`
  `);if(n>0){var C=ym({cx:r,cy:a,radius:n,angle:d,sign:u,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),_=C.circleTangency,$=C.lineTangency,F=C.theta,T=ym({cx:r,cy:a,radius:n,angle:m,sign:-u,isExternal:!0,cornerRadius:l,cornerIsExternal:c}),R=T.circleTangency,A=T.lineTangency,M=T.theta,P=c?Math.abs(d-m):Math.abs(d-m)-F-M;if(P<0&&l===0)return"".concat(w,"L").concat(r,",").concat(a,"Z");w+="L".concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(u<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(u<0),",").concat($.x,",").concat($.y,"Z")}else w+="L".concat(r,",").concat(a,"Z");return w},yie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qP=function(s){var r=W1(W1({},yie),s),a=r.cx,n=r.cy,i=r.innerRadius,l=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,m=r.startAngle,u=r.endAngle,x=r.className;if(l<i||m===u)return null;var h=qe("recharts-sector",x),f=l-i,p=Ls(o,f,0,!0),N;return p>0&&Math.abs(m-u)<360?N=fie({cx:a,cy:n,innerRadius:i,outerRadius:l,cornerRadius:Math.min(p,f/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:m,endAngle:u}):N=BP({cx:a,cy:n,innerRadius:i,outerRadius:l,startAngle:m,endAngle:u}),X.createElement("path",Ay({},$e(r,!0),{className:h,d:N,role:"img"}))};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Xd(t)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Oy.apply(this,arguments)}function V1(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function H1(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?V1(Object(r),!0).forEach(function(a){bie(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function bie(t,s,r){return s=vie(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function vie(t){var s=jie(t,"string");return Xd(s)=="symbol"?s:s+""}function jie(t,s){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Xd(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var K1={curveBasisClosed:bV,curveBasisOpen:vV,curveBasis:yV,curveBumpX:aV,curveBumpY:nV,curveLinearClosed:jV,curveLinear:pp,curveMonotoneX:NV,curveMonotoneY:wV,curveNatural:_V,curveStep:kV,curveStepAfter:CV,curveStepBefore:SV},bm=function(s){return s.x===+s.x&&s.y===+s.y},Tc=function(s){return s.x},Ec=function(s){return s.y},Nie=function(s,r){if(Me(s))return s;var a="curve".concat(hp(s));return(a==="curveMonotone"||a==="curveBump")&&r?K1["".concat(a).concat(r==="vertical"?"Y":"X")]:K1[a]||pp},wie=function(s){var r=s.type,a=r===void 0?"linear":r,n=s.points,i=n===void 0?[]:n,l=s.baseLine,o=s.layout,c=s.connectNulls,d=c===void 0?!1:c,m=Nie(a,o),u=d?i.filter(function(p){return bm(p)}):i,x;if(Array.isArray(l)){var h=d?l.filter(function(p){return bm(p)}):l,f=u.map(function(p,N){return H1(H1({},p),{},{base:h[N]})});return o==="vertical"?x=cm().y(Ec).x1(Tc).x0(function(p){return p.base.x}):x=cm().x(Tc).y1(Ec).y0(function(p){return p.base.y}),x.defined(bm).curve(m),x(f)}return o==="vertical"&&pe(l)?x=cm().y(Ec).x1(Tc).x0(l):pe(l)?x=cm().x(Tc).y1(Ec).y0(l):x=FS().x(Tc).y(Ec),x.defined(bm).curve(m),x(u)},Hl=function(s){var r=s.className,a=s.points,n=s.path,i=s.pathRef;if((!a||!a.length)&&!n)return null;var l=a&&a.length?wie(s):n;return k.createElement("path",Oy({},$e(s,!1),wh(s),{className:qe("recharts-curve",r),d:l,ref:i}))},zP={exports:{}},_ie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kie=_ie,Sie=kie;function UP(){}function WP(){}WP.resetWarningCache=UP;var Cie=function(){function t(a,n,i,l,o,c){if(c!==Sie){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function s(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:s,element:t,elementType:t,instanceOf:s,node:t,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:WP,resetWarningCache:UP};return r.PropTypes=r,r};zP.exports=Cie();var Pie=zP.exports;const st=ot(Pie);var Aie=Object.getOwnPropertyNames,Oie=Object.getOwnPropertySymbols,$ie=Object.prototype.hasOwnProperty;function G1(t,s){return function(a,n,i){return t(a,n,i)&&s(a,n,i)}}function vm(t){return function(r,a,n){if(!r||!a||typeof r!="object"||typeof a!="object")return t(r,a,n);var i=n.cache,l=i.get(r),o=i.get(a);if(l&&o)return l===a&&o===r;i.set(r,a),i.set(a,r);var c=t(r,a,n);return i.delete(r),i.delete(a),c}}function Tie(t){return t!=null?t[Symbol.toStringTag]:void 0}function Y1(t){return Aie(t).concat(Oie(t))}var Eie=Object.hasOwn||function(t,s){return $ie.call(t,s)};function cl(t,s){return t===s||!t&&!s&&t!==t&&s!==s}var Mie="__v",Fie="__o",Rie="_owner",Q1=Object.getOwnPropertyDescriptor,X1=Object.keys;function Lie(t,s,r){var a=t.length;if(s.length!==a)return!1;for(;a-- >0;)if(!r.equals(t[a],s[a],a,a,t,s,r))return!1;return!0}function Die(t,s){return cl(t.getTime(),s.getTime())}function Iie(t,s){return t.name===s.name&&t.message===s.message&&t.cause===s.cause&&t.stack===s.stack}function Bie(t,s){return t===s}function Z1(t,s,r){var a=t.size;if(a!==s.size)return!1;if(!a)return!0;for(var n=new Array(a),i=t.entries(),l,o,c=0;(l=i.next())&&!l.done;){for(var d=s.entries(),m=!1,u=0;(o=d.next())&&!o.done;){if(n[u]){u++;continue}var x=l.value,h=o.value;if(r.equals(x[0],h[0],c,u,t,s,r)&&r.equals(x[1],h[1],x[0],h[0],t,s,r)){m=n[u]=!0;break}u++}if(!m)return!1;c++}return!0}var qie=cl;function zie(t,s,r){var a=X1(t),n=a.length;if(X1(s).length!==n)return!1;for(;n-- >0;)if(!VP(t,s,r,a[n]))return!1;return!0}function Mc(t,s,r){var a=Y1(t),n=a.length;if(Y1(s).length!==n)return!1;for(var i,l,o;n-- >0;)if(i=a[n],!VP(t,s,r,i)||(l=Q1(t,i),o=Q1(s,i),(l||o)&&(!l||!o||l.configurable!==o.configurable||l.enumerable!==o.enumerable||l.writable!==o.writable)))return!1;return!0}function Uie(t,s){return cl(t.valueOf(),s.valueOf())}function Wie(t,s){return t.source===s.source&&t.flags===s.flags}function J1(t,s,r){var a=t.size;if(a!==s.size)return!1;if(!a)return!0;for(var n=new Array(a),i=t.values(),l,o;(l=i.next())&&!l.done;){for(var c=s.values(),d=!1,m=0;(o=c.next())&&!o.done;){if(!n[m]&&r.equals(l.value,o.value,l.value,o.value,t,s,r)){d=n[m]=!0;break}m++}if(!d)return!1}return!0}function Vie(t,s){var r=t.length;if(s.length!==r)return!1;for(;r-- >0;)if(t[r]!==s[r])return!1;return!0}function Hie(t,s){return t.hostname===s.hostname&&t.pathname===s.pathname&&t.protocol===s.protocol&&t.port===s.port&&t.hash===s.hash&&t.username===s.username&&t.password===s.password}function VP(t,s,r,a){return(a===Rie||a===Fie||a===Mie)&&(t.$$typeof||s.$$typeof)?!0:Eie(s,a)&&r.equals(t[a],s[a],a,a,t,s,r)}var Kie="[object Arguments]",Gie="[object Boolean]",Yie="[object Date]",Qie="[object Error]",Xie="[object Map]",Zie="[object Number]",Jie="[object Object]",ele="[object RegExp]",tle="[object Set]",sle="[object String]",rle="[object URL]",ale=Array.isArray,e6=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,t6=Object.assign,nle=Object.prototype.toString.call.bind(Object.prototype.toString);function ile(t){var s=t.areArraysEqual,r=t.areDatesEqual,a=t.areErrorsEqual,n=t.areFunctionsEqual,i=t.areMapsEqual,l=t.areNumbersEqual,o=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,m=t.areSetsEqual,u=t.areTypedArraysEqual,x=t.areUrlsEqual,h=t.unknownTagComparators;return function(p,N,y){if(p===N)return!0;if(p==null||N==null)return!1;var j=typeof p;if(j!==typeof N)return!1;if(j!=="object")return j==="number"?l(p,N,y):j==="function"?n(p,N,y):!1;var g=p.constructor;if(g!==N.constructor)return!1;if(g===Object)return o(p,N,y);if(ale(p))return s(p,N,y);if(e6!=null&&e6(p))return u(p,N,y);if(g===Date)return r(p,N,y);if(g===RegExp)return d(p,N,y);if(g===Map)return i(p,N,y);if(g===Set)return m(p,N,y);var S=nle(p);if(S===Yie)return r(p,N,y);if(S===ele)return d(p,N,y);if(S===Xie)return i(p,N,y);if(S===tle)return m(p,N,y);if(S===Jie)return typeof p.then!="function"&&typeof N.then!="function"&&o(p,N,y);if(S===rle)return x(p,N,y);if(S===Qie)return a(p,N,y);if(S===Kie)return o(p,N,y);if(S===Gie||S===Zie||S===sle)return c(p,N,y);if(h){var w=h[S];if(!w){var C=Tie(p);C&&(w=h[C])}if(w)return w(p,N,y)}return!1}}function lle(t){var s=t.circular,r=t.createCustomConfig,a=t.strict,n={areArraysEqual:a?Mc:Lie,areDatesEqual:Die,areErrorsEqual:Iie,areFunctionsEqual:Bie,areMapsEqual:a?G1(Z1,Mc):Z1,areNumbersEqual:qie,areObjectsEqual:a?Mc:zie,arePrimitiveWrappersEqual:Uie,areRegExpsEqual:Wie,areSetsEqual:a?G1(J1,Mc):J1,areTypedArraysEqual:a?Mc:Vie,areUrlsEqual:Hie,unknownTagComparators:void 0};if(r&&(n=t6({},n,r(n))),s){var i=vm(n.areArraysEqual),l=vm(n.areMapsEqual),o=vm(n.areObjectsEqual),c=vm(n.areSetsEqual);n=t6({},n,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:o,areSetsEqual:c})}return n}function ole(t){return function(s,r,a,n,i,l,o){return t(s,r,o)}}function cle(t){var s=t.circular,r=t.comparator,a=t.createState,n=t.equals,i=t.strict;if(a)return function(c,d){var m=a(),u=m.cache,x=u===void 0?s?new WeakMap:void 0:u,h=m.meta;return r(c,d,{cache:x,equals:n,meta:h,strict:i})};if(s)return function(c,d){return r(c,d,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};var l={cache:void 0,equals:n,meta:void 0,strict:i};return function(c,d){return r(c,d,l)}}var dle=ai();ai({strict:!0});ai({circular:!0});ai({circular:!0,strict:!0});ai({createInternalComparator:function(){return cl}});ai({strict:!0,createInternalComparator:function(){return cl}});ai({circular:!0,createInternalComparator:function(){return cl}});ai({circular:!0,createInternalComparator:function(){return cl},strict:!0});function ai(t){t===void 0&&(t={});var s=t.circular,r=s===void 0?!1:s,a=t.createInternalComparator,n=t.createState,i=t.strict,l=i===void 0?!1:i,o=lle(t),c=ile(o),d=a?a(c):ole(c);return cle({circular:r,comparator:c,createState:n,equals:d,strict:l})}function ule(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function s6(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function n(i){r<0&&(r=i),i-r>s?(t(i),r=-1):ule(n)};requestAnimationFrame(a)}function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},$y(t)}function mle(t){return gle(t)||ple(t)||xle(t)||hle()}function hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xle(t,s){if(t){if(typeof t=="string")return r6(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r6(t,s)}}function r6(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function ple(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gle(t){if(Array.isArray(t))return t}function fle(){var t={},s=function(){return null},r=!1,a=function n(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var l=i,o=mle(l),c=o[0],d=o.slice(1);if(typeof c=="number"){s6(n.bind(null,d),c);return}n(c),s6(n.bind(null,d));return}$y(i)==="object"&&(t=i,s(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return s=i,function(){s=function(){return null}}}}}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Zd(t)}function a6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function n6(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?a6(Object(r),!0).forEach(function(a){HP(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function HP(t,s,r){return s=yle(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function yle(t){var s=ble(t,"string");return Zd(s)==="symbol"?s:String(s)}function ble(t,s){if(Zd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Zd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var vle=function(s,r){return[Object.keys(s),Object.keys(r)].reduce(function(a,n){return a.filter(function(i){return n.includes(i)})})},jle=function(s){return s},Nle=function(s){return s.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ad=function(s,r){return Object.keys(r).reduce(function(a,n){return n6(n6({},a),{},HP({},n,s(n,r[n])))},{})},i6=function(s,r,a){return s.map(function(n){return"".concat(Nle(n)," ").concat(r,"ms ").concat(a)}).join(",")};function wle(t,s){return Sle(t)||kle(t,s)||KP(t,s)||_le()}function _le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kle(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function Sle(t){if(Array.isArray(t))return t}function Cle(t){return Ole(t)||Ale(t)||KP(t)||Ple()}function Ple(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KP(t,s){if(t){if(typeof t=="string")return Ty(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ty(t,s)}}function Ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ole(t){if(Array.isArray(t))return Ty(t)}function Ty(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}var Jh=1e-4,GP=function(s,r){return[0,3*s,3*r-6*s,3*s-3*r+1]},YP=function(s,r){return s.map(function(a,n){return a*Math.pow(r,n)}).reduce(function(a,n){return a+n})},l6=function(s,r){return function(a){var n=GP(s,r);return YP(n,a)}},$le=function(s,r){return function(a){var n=GP(s,r),i=[].concat(Cle(n.map(function(l,o){return l*o}).slice(1)),[0]);return YP(i,a)}},o6=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var n=r[0],i=r[1],l=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":n=0,i=0,l=1,o=1;break;case"ease":n=.25,i=.1,l=.25,o=1;break;case"ease-in":n=.42,i=0,l=1,o=1;break;case"ease-out":n=.42,i=0,l=.58,o=1;break;case"ease-in-out":n=0,i=0,l=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(N){return parseFloat(N)}),m=wle(d,4);n=m[0],i=m[1],l=m[2],o=m[3]}}}var u=l6(n,l),x=l6(i,o),h=$le(n,l),f=function(y){return y>1?1:y<0?0:y},p=function(y){for(var j=y>1?1:y,g=j,S=0;S<8;++S){var w=u(g)-j,C=h(g);if(Math.abs(w-j)<Jh||C<Jh)return x(g);g=f(g-w/C)}return x(g)};return p.isStepper=!1,p},Tle=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=s.stiff,a=r===void 0?100:r,n=s.damping,i=n===void 0?8:n,l=s.dt,o=l===void 0?17:l,c=function(m,u,x){var h=-(m-u)*a,f=x*i,p=x+(h-f)*o/1e3,N=x*o/1e3+m;return Math.abs(N-u)<Jh&&Math.abs(p)<Jh?[u,0]:[N,p]};return c.isStepper=!0,c.dt=o,c},Ele=function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var n=r[0];if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o6(n);case"spring":return Tle();default:if(n.split("(")[0]==="cubic-bezier")return o6(n)}return typeof n=="function"?n:null};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Jd(t)}function c6(t){return Rle(t)||Fle(t)||QP(t)||Mle()}function Mle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rle(t){if(Array.isArray(t))return My(t)}function d6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function os(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?d6(Object(r),!0).forEach(function(a){Ey(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ey(t,s,r){return s=Lle(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Lle(t){var s=Dle(t,"string");return Jd(s)==="symbol"?s:String(s)}function Dle(t,s){if(Jd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Jd(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Ile(t,s){return zle(t)||qle(t,s)||QP(t,s)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QP(t,s){if(t){if(typeof t=="string")return My(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return My(t,s)}}function My(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function qle(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function zle(t){if(Array.isArray(t))return t}var ex=function(s,r,a){return s+(r-s)*a},Fy=function(s){var r=s.from,a=s.to;return r!==a},Ule=function t(s,r,a){var n=ad(function(i,l){if(Fy(l)){var o=s(l.from,l.to,l.velocity),c=Ile(o,2),d=c[0],m=c[1];return os(os({},l),{},{from:d,velocity:m})}return l},r);return a<1?ad(function(i,l){return Fy(l)?os(os({},l),{},{velocity:ex(l.velocity,n[i].velocity,a),from:ex(l.from,n[i].from,a)}):l},r):t(s,n,a-1)};const Wle=function(t,s,r,a,n){var i=vle(t,s),l=i.reduce(function(N,y){return os(os({},N),{},Ey({},y,[t[y],s[y]]))},{}),o=i.reduce(function(N,y){return os(os({},N),{},Ey({},y,{from:t[y],velocity:0,to:s[y]}))},{}),c=-1,d,m,u=function(){return null},x=function(){return ad(function(y,j){return j.from},o)},h=function(){return!Object.values(o).filter(Fy).length},f=function(y){d||(d=y);var j=y-d,g=j/r.dt;o=Ule(r,o,g),n(os(os(os({},t),s),x())),d=y,h()||(c=requestAnimationFrame(u))},p=function(y){m||(m=y);var j=(y-m)/a,g=ad(function(w,C){return ex.apply(void 0,c6(C).concat([r(j)]))},l);if(n(os(os(os({},t),s),g)),j<1)c=requestAnimationFrame(u);else{var S=ad(function(w,C){return ex.apply(void 0,c6(C).concat([r(1)]))},l);n(os(os(os({},t),s),S))}};return u=r.isStepper?f:p,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(c)}}};function Co(t){"@babel/helpers - typeof";return Co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Co(t)}var Vle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hle(t,s){if(t==null)return{};var r=Kle(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function Kle(t,s){if(t==null)return{};var r={},a=Object.keys(t),n,i;for(i=0;i<a.length;i++)n=a[i],!(s.indexOf(n)>=0)&&(r[n]=t[n]);return r}function ag(t){return Xle(t)||Qle(t)||Yle(t)||Gle()}function Gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yle(t,s){if(t){if(typeof t=="string")return Ry(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ry(t,s)}}function Qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xle(t){if(Array.isArray(t))return Ry(t)}function Ry(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function u6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Dr(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?u6(Object(r),!0).forEach(function(a){Wc(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Wc(t,s,r){return s=XP(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Zle(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function Jle(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,XP(a.key),a)}}function eoe(t,s,r){return s&&Jle(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function XP(t){var s=toe(t,"string");return Co(s)==="symbol"?s:String(s)}function toe(t,s){if(Co(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Co(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function soe(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Ly(t,s)}function Ly(t,s){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Ly(t,s)}function roe(t){var s=aoe();return function(){var a=tx(t),n;if(s){var i=tx(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Dy(this,n)}}function Dy(t,s){if(s&&(Co(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iy(t)}function Iy(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aoe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tx(t)}var va=function(t){soe(r,t);var s=roe(r);function r(a,n){var i;Zle(this,r),i=s.call(this,a,n);var l=i.props,o=l.isActive,c=l.attributeName,d=l.from,m=l.to,u=l.steps,x=l.children,h=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Iy(i)),i.changeStyle=i.changeStyle.bind(Iy(i)),!o||h<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:m}),Dy(i);if(u&&u.length)i.state={style:u[0].style};else if(d){if(typeof x=="function")return i.state={style:d},Dy(i);i.state={style:c?Wc({},c,d):d}}else i.state={style:{}};return i}return eoe(r,[{key:"componentDidMount",value:function(){var n=this.props,i=n.isActive,l=n.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(n){var i=this.props,l=i.isActive,o=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,m=i.to,u=i.from,x=this.state.style;if(o){if(!l){var h={style:c?Wc({},c,m):m};this.state&&x&&(c&&x[c]!==m||!c&&x!==m)&&this.setState(h);return}if(!(dle(n.to,m)&&n.canBegin&&n.isActive)){var f=!n.canBegin||!n.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=f||d?u:n.to;if(this.state&&x){var N={style:c?Wc({},c,p):p};(c&&x[c]!==p||!c&&x!==p)&&this.setState(N)}this.runAnimation(Dr(Dr({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var n=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),n&&n()}},{key:"handleStyleChange",value:function(n){this.changeStyle(n)}},{key:"changeStyle",value:function(n){this.mounted&&this.setState({style:n})}},{key:"runJSAnimation",value:function(n){var i=this,l=n.from,o=n.to,c=n.duration,d=n.easing,m=n.begin,u=n.onAnimationEnd,x=n.onAnimationStart,h=Wle(l,o,Ele(d),c,this.changeStyle),f=function(){i.stopJSAnimation=h()};this.manager.start([x,m,f,c,u])}},{key:"runStepAnimation",value:function(n){var i=this,l=n.steps,o=n.begin,c=n.onAnimationStart,d=l[0],m=d.style,u=d.duration,x=u===void 0?0:u,h=function(p,N,y){if(y===0)return p;var j=N.duration,g=N.easing,S=g===void 0?"ease":g,w=N.style,C=N.properties,_=N.onAnimationEnd,$=y>0?l[y-1]:N,F=C||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(ag(p),[i.runJSAnimation.bind(i,{from:$.style,to:w,duration:j,easing:S}),j]);var T=i6(F,j,S),R=Dr(Dr(Dr({},$.style),w),{},{transition:T});return[].concat(ag(p),[R,j,_]).filter(jle)};return this.manager.start([c].concat(ag(l.reduce(h,[m,Math.max(x,o)])),[n.onAnimationEnd]))}},{key:"runAnimation",value:function(n){this.manager||(this.manager=fle());var i=n.begin,l=n.duration,o=n.attributeName,c=n.to,d=n.easing,m=n.onAnimationStart,u=n.onAnimationEnd,x=n.steps,h=n.children,f=this.manager;if(this.unSubscribe=f.subscribe(this.handleStyleChange),typeof d=="function"||typeof h=="function"||d==="spring"){this.runJSAnimation(n);return}if(x.length>1){this.runStepAnimation(n);return}var p=o?Wc({},o,c):c,N=i6(Object.keys(p),l,d);f.start([m,i,Dr(Dr({},p),{},{transition:N}),l,u])}},{key:"render",value:function(){var n=this.props,i=n.children;n.begin;var l=n.duration;n.attributeName,n.easing;var o=n.isActive;n.steps,n.from,n.to,n.canBegin,n.onAnimationEnd,n.shouldReAnimate,n.onAnimationReStart;var c=Hle(n,Vle),d=k.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!o||d===0||l<=0)return i;var u=function(h){var f=h.props,p=f.style,N=p===void 0?{}:p,y=f.className,j=k.cloneElement(h,Dr(Dr({},c),{},{style:Dr(Dr({},N),m),className:y}));return j};return d===1?u(k.Children.only(i)):X.createElement("div",null,k.Children.map(i,function(x){return u(x)}))}}]),r}(k.PureComponent);va.displayName="Animate";va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};va.propTypes={from:st.oneOfType([st.object,st.string]),to:st.oneOfType([st.object,st.string]),attributeName:st.string,duration:st.number,begin:st.number,easing:st.oneOfType([st.string,st.func]),steps:st.arrayOf(st.shape({duration:st.number.isRequired,style:st.object.isRequired,easing:st.oneOfType([st.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),st.func]),properties:st.arrayOf("string"),onAnimationEnd:st.func})),children:st.oneOfType([st.node,st.func]),isActive:st.bool,canBegin:st.bool,onAnimationEnd:st.func,shouldReAnimate:st.bool,onAnimationStart:st.func,onAnimationReStart:st.func};function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},eu(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},sx.apply(this,arguments)}function noe(t,s){return coe(t)||ooe(t,s)||loe(t,s)||ioe()}function ioe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function loe(t,s){if(t){if(typeof t=="string")return m6(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m6(t,s)}}function m6(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function ooe(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function coe(t){if(Array.isArray(t))return t}function h6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function x6(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?h6(Object(r),!0).forEach(function(a){doe(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function doe(t,s,r){return s=uoe(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function uoe(t){var s=moe(t,"string");return eu(s)=="symbol"?s:s+""}function moe(t,s){if(eu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(eu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var p6=function(s,r,a,n,i){var l=Math.min(Math.abs(a)/2,Math.abs(n)/2),o=n>=0?1:-1,c=a>=0?1:-1,d=n>=0&&a>=0||n<0&&a<0?1:0,m;if(l>0&&i instanceof Array){for(var u=[0,0,0,0],x=0,h=4;x<h;x++)u[x]=i[x]>l?l:i[x];m="M".concat(s,",").concat(r+o*u[0]),u[0]>0&&(m+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(d,",").concat(s+c*u[0],",").concat(r)),m+="L ".concat(s+a-c*u[1],",").concat(r),u[1]>0&&(m+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(d,`,
        `).concat(s+a,",").concat(r+o*u[1])),m+="L ".concat(s+a,",").concat(r+n-o*u[2]),u[2]>0&&(m+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(d,`,
        `).concat(s+a-c*u[2],",").concat(r+n)),m+="L ".concat(s+c*u[3],",").concat(r+n),u[3]>0&&(m+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(d,`,
        `).concat(s,",").concat(r+n-o*u[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var f=Math.min(l,i);m="M ".concat(s,",").concat(r+o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(s+c*f,",").concat(r,`
            L `).concat(s+a-c*f,",").concat(r,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(s+a,",").concat(r+o*f,`
            L `).concat(s+a,",").concat(r+n-o*f,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(s+a-c*f,",").concat(r+n,`
            L `).concat(s+c*f,",").concat(r+n,`
            A `).concat(f,",").concat(f,",0,0,").concat(d,",").concat(s,",").concat(r+n-o*f," Z")}else m="M ".concat(s,",").concat(r," h ").concat(a," v ").concat(n," h ").concat(-a," Z");return m},hoe=function(s,r){if(!s||!r)return!1;var a=s.x,n=s.y,i=r.x,l=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var d=Math.min(i,i+o),m=Math.max(i,i+o),u=Math.min(l,l+c),x=Math.max(l,l+c);return a>=d&&a<=m&&n>=u&&n<=x}return!1},xoe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Aj=function(s){var r=x6(x6({},xoe),s),a=k.useRef(),n=k.useState(-1),i=noe(n,2),l=i[0],o=i[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&o(S)}catch{}},[]);var c=r.x,d=r.y,m=r.width,u=r.height,x=r.radius,h=r.className,f=r.animationEasing,p=r.animationDuration,N=r.animationBegin,y=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||d!==+d||m!==+m||u!==+u||m===0||u===0)return null;var g=qe("recharts-rectangle",h);return j?X.createElement(va,{canBegin:l>0,from:{width:m,height:u,x:c,y:d},to:{width:m,height:u,x:c,y:d},duration:p,animationEasing:f,isActive:j},function(S){var w=S.width,C=S.height,_=S.x,$=S.y;return X.createElement(va,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:p,isActive:y,easing:f},X.createElement("path",sx({},$e(r,!0),{className:g,d:p6(_,$,w,C,x),ref:a})))}):X.createElement("path",sx({},$e(r,!0),{className:g,d:p6(c,d,m,u,x)}))},poe=["points","className","baseLinePoints","connectNulls"];function El(){return El=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},El.apply(this,arguments)}function goe(t,s){if(t==null)return{};var r=foe(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function foe(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function g6(t){return joe(t)||voe(t)||boe(t)||yoe()}function yoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function boe(t,s){if(t){if(typeof t=="string")return By(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(t,s)}}function voe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function joe(t){if(Array.isArray(t))return By(t)}function By(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}var f6=function(s){return s&&s.x===+s.x&&s.y===+s.y},Noe=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return s.forEach(function(a){f6(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),f6(s[0])&&r[r.length-1].push(s[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},nd=function(s,r){var a=Noe(s);r&&(a=[a.reduce(function(i,l){return[].concat(g6(i),g6(l))},[])]);var n=a.map(function(i){return i.reduce(function(l,o,c){return"".concat(l).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return a.length===1?"".concat(n,"Z"):n},woe=function(s,r,a){var n=nd(s,a);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(nd(r.reverse(),a).slice(1))},_oe=function(s){var r=s.points,a=s.className,n=s.baseLinePoints,i=s.connectNulls,l=goe(s,poe);if(!r||!r.length)return null;var o=qe("recharts-polygon",a);if(n&&n.length){var c=l.stroke&&l.stroke!=="none",d=woe(r,n,i);return X.createElement("g",{className:o},X.createElement("path",El({},$e(l,!0),{fill:d.slice(-1)==="Z"?l.fill:"none",stroke:"none",d})),c?X.createElement("path",El({},$e(l,!0),{fill:"none",d:nd(r,i)})):null,c?X.createElement("path",El({},$e(l,!0),{fill:"none",d:nd(n,i)})):null)}var m=nd(r,i);return X.createElement("path",El({},$e(l,!0),{fill:m.slice(-1)==="Z"?l.fill:"none",className:o,d:m}))};function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},qy.apply(this,arguments)}var Tp=function(s){var r=s.cx,a=s.cy,n=s.r,i=s.className,l=qe("recharts-dot",i);return r===+r&&a===+a&&n===+n?k.createElement("circle",qy({},$e(s,!1),wh(s),{className:l,cx:r,cy:a,r:n})):null};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},tu(t)}var koe=["x","y","top","left","width","height","className"];function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},zy.apply(this,arguments)}function y6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Soe(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?y6(Object(r),!0).forEach(function(a){Coe(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Coe(t,s,r){return s=Poe(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Poe(t){var s=Aoe(t,"string");return tu(s)=="symbol"?s:s+""}function Aoe(t,s){if(tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(tu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Ooe(t,s){if(t==null)return{};var r=$oe(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function $oe(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}var Toe=function(s,r,a,n,i,l){return"M".concat(s,",").concat(i,"v").concat(n,"M").concat(l,",").concat(r,"h").concat(a)},Eoe=function(s){var r=s.x,a=r===void 0?0:r,n=s.y,i=n===void 0?0:n,l=s.top,o=l===void 0?0:l,c=s.left,d=c===void 0?0:c,m=s.width,u=m===void 0?0:m,x=s.height,h=x===void 0?0:x,f=s.className,p=Ooe(s,koe),N=Soe({x:a,y:i,top:o,left:d,width:u,height:h},p);return!pe(a)||!pe(i)||!pe(u)||!pe(h)||!pe(o)||!pe(d)?null:X.createElement("path",zy({},$e(N,!0),{className:qe("recharts-cross",f),d:Toe(a,i,u,h,o,d)}))},Moe=Cp,Foe=cP,Roe=Na;function Loe(t,s){return t&&t.length?Moe(t,Roe(s),Foe):void 0}var Doe=Loe;const Ioe=ot(Doe);var Boe=Cp,qoe=Na,zoe=dP;function Uoe(t,s){return t&&t.length?Boe(t,qoe(s),zoe):void 0}var Woe=Uoe;const Voe=ot(Woe);var Hoe=["cx","cy","angle","ticks","axisLine"],Koe=["ticks","tick","angle","tickFormatter","stroke"];function Po(t){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Po(t)}function id(){return id=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},id.apply(this,arguments)}function b6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function ci(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?b6(Object(r),!0).forEach(function(a){Ep(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function v6(t,s){if(t==null)return{};var r=Goe(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function Goe(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function Yoe(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function j6(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,JP(a.key),a)}}function Qoe(t,s,r){return s&&j6(t.prototype,s),r&&j6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xoe(t,s,r){return s=rx(s),Zoe(t,ZP()?Reflect.construct(s,r||[],rx(t).constructor):s.apply(t,r))}function Zoe(t,s){if(s&&(Po(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(t)}function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!t})()}function rx(t){return rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rx(t)}function ece(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Uy(t,s)}function Uy(t,s){return Uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Uy(t,s)}function Ep(t,s,r){return s=JP(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function JP(t){var s=tce(t,"string");return Po(s)=="symbol"?s:s+""}function tce(t,s){if(Po(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Po(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mp=function(t){function s(){return Yoe(this,s),Xoe(this,s,arguments)}return ece(s,t),Qoe(s,[{key:"getTickValueCoord",value:function(a){var n=a.coordinate,i=this.props,l=i.angle,o=i.cx,c=i.cy;return gt(o,c,n,l)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,n;switch(a){case"left":n="end";break;case"right":n="start";break;default:n="middle";break}return n}},{key:"getViewBox",value:function(){var a=this.props,n=a.cx,i=a.cy,l=a.angle,o=a.ticks,c=Ioe(o,function(m){return m.coordinate||0}),d=Voe(o,function(m){return m.coordinate||0});return{cx:n,cy:i,startAngle:l,endAngle:l,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,l=a.angle,o=a.ticks,c=a.axisLine,d=v6(a,Hoe),m=o.reduce(function(f,p){return[Math.min(f[0],p.coordinate),Math.max(f[1],p.coordinate)]},[1/0,-1/0]),u=gt(n,i,m[0],l),x=gt(n,i,m[1],l),h=ci(ci(ci({},$e(d,!1)),{},{fill:"none"},$e(c,!1)),{},{x1:u.x,y1:u.y,x2:x.x,y2:x.y});return X.createElement("line",id({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,l=n.tick,o=n.angle,c=n.tickFormatter,d=n.stroke,m=v6(n,Koe),u=this.getTickTextAnchor(),x=$e(m,!1),h=$e(l,!1),f=i.map(function(p,N){var y=a.getTickValueCoord(p),j=ci(ci(ci(ci({textAnchor:u,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},x),{},{stroke:"none",fill:d},h),{},{index:N},y),{},{payload:p});return X.createElement(Ze,id({className:qe("recharts-polar-radius-axis-tick",DP(l)),key:"tick-".concat(p.coordinate)},Zi(a.props,p,N)),s.renderTickItem(l,j,c?c(p.value,N):p.value))});return X.createElement(Ze,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.axisLine,l=a.tick;return!n||!n.length?null:X.createElement(Ze,{className:qe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),rs.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,n,i){var l;return X.isValidElement(a)?l=X.cloneElement(a,n):Me(a)?l=a(n):l=X.createElement(Ji,id({},n,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])}(k.PureComponent);Ep(Mp,"displayName","PolarRadiusAxis");Ep(Mp,"axisType","radiusAxis");Ep(Mp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ao(t){"@babel/helpers - typeof";return Ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ao(t)}function fi(){return fi=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},fi.apply(this,arguments)}function N6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function di(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?N6(Object(r),!0).forEach(function(a){Fp(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function sce(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function w6(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,tA(a.key),a)}}function rce(t,s,r){return s&&w6(t.prototype,s),r&&w6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ace(t,s,r){return s=ax(s),nce(t,eA()?Reflect.construct(s,r||[],ax(t).constructor):s.apply(t,r))}function nce(t,s){if(s&&(Ao(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ice(t)}function ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eA=function(){return!!t})()}function ax(t){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(t)}function lce(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Wy(t,s)}function Wy(t,s){return Wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Wy(t,s)}function Fp(t,s,r){return s=tA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function tA(t){var s=oce(t,"string");return Ao(s)=="symbol"?s:s+""}function oce(t,s){if(Ao(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Ao(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cce=Math.PI/180,_6=1e-5,Rp=function(t){function s(){return sce(this,s),ace(this,s,arguments)}return lce(s,t),rce(s,[{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.cx,l=n.cy,o=n.radius,c=n.orientation,d=n.tickSize,m=d||8,u=gt(i,l,o,a.coordinate),x=gt(i,l,o+(c==="inner"?-1:1)*m,a.coordinate);return{x1:u.x,y1:u.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(a){var n=this.props.orientation,i=Math.cos(-a.coordinate*cce),l;return i>_6?l=n==="outer"?"start":"end":i<-_6?l=n==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.cx,i=a.cy,l=a.radius,o=a.axisLine,c=a.axisLineType,d=di(di({},$e(this.props,!1)),{},{fill:"none"},$e(o,!1));if(c==="circle")return X.createElement(Tp,fi({className:"recharts-polar-angle-axis-line"},d,{cx:n,cy:i,r:l}));var m=this.props.ticks,u=m.map(function(x){return gt(n,i,l,x.coordinate)});return X.createElement(_oe,fi({className:"recharts-polar-angle-axis-line"},d,{points:u}))}},{key:"renderTicks",value:function(){var a=this,n=this.props,i=n.ticks,l=n.tick,o=n.tickLine,c=n.tickFormatter,d=n.stroke,m=$e(this.props,!1),u=$e(l,!1),x=di(di({},m),{},{fill:"none"},$e(o,!1)),h=i.map(function(f,p){var N=a.getTickLineCoord(f),y=a.getTickTextAnchor(f),j=di(di(di({textAnchor:y},m),{},{stroke:"none",fill:d},u),{},{index:p,payload:f,x:N.x2,y:N.y2});return X.createElement(Ze,fi({className:qe("recharts-polar-angle-axis-tick",DP(l)),key:"tick-".concat(f.coordinate)},Zi(a.props,f,p)),o&&X.createElement("line",fi({className:"recharts-polar-angle-axis-tick-line"},x,N)),l&&s.renderTickItem(l,j,c?c(f.value,p):f.value))});return X.createElement(Ze,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var a=this.props,n=a.ticks,i=a.radius,l=a.axisLine;return i<=0||!n||!n.length?null:X.createElement(Ze,{className:qe("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,n,i){var l;return X.isValidElement(a)?l=X.cloneElement(a,n):Me(a)?l=a(n):l=X.createElement(Ji,fi({},n,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])}(k.PureComponent);Fp(Rp,"displayName","PolarAngleAxis");Fp(Rp,"axisType","angleAxis");Fp(Rp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var dce=nC,uce=dce(Object.getPrototypeOf,Object),mce=uce,hce=nn,xce=mce,pce=ln,gce="[object Object]",fce=Function.prototype,yce=Object.prototype,sA=fce.toString,bce=yce.hasOwnProperty,vce=sA.call(Object);function jce(t){if(!pce(t)||hce(t)!=gce)return!1;var s=xce(t);if(s===null)return!0;var r=bce.call(s,"constructor")&&s.constructor;return typeof r=="function"&&r instanceof r&&sA.call(r)==vce}var Nce=jce;const wce=ot(Nce);var _ce=nn,kce=ln,Sce="[object Boolean]";function Cce(t){return t===!0||t===!1||kce(t)&&_ce(t)==Sce}var Pce=Cce;const Ace=ot(Pce);function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},su(t)}function nx(){return nx=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},nx.apply(this,arguments)}function Oce(t,s){return Mce(t)||Ece(t,s)||Tce(t,s)||$ce()}function $ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tce(t,s){if(t){if(typeof t=="string")return k6(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k6(t,s)}}function k6(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function Ece(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function Mce(t){if(Array.isArray(t))return t}function S6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function C6(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?S6(Object(r),!0).forEach(function(a){Fce(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Fce(t,s,r){return s=Rce(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Rce(t){var s=Lce(t,"string");return su(s)=="symbol"?s:s+""}function Lce(t,s){if(su(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(su(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var P6=function(s,r,a,n,i){var l=a-n,o;return o="M ".concat(s,",").concat(r),o+="L ".concat(s+a,",").concat(r),o+="L ".concat(s+a-l/2,",").concat(r+i),o+="L ".concat(s+a-l/2-n,",").concat(r+i),o+="L ".concat(s,",").concat(r," Z"),o},Dce={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ice=function(s){var r=C6(C6({},Dce),s),a=k.useRef(),n=k.useState(-1),i=Oce(n,2),l=i[0],o=i[1];k.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var g=a.current.getTotalLength();g&&o(g)}catch{}},[]);var c=r.x,d=r.y,m=r.upperWidth,u=r.lowerWidth,x=r.height,h=r.className,f=r.animationEasing,p=r.animationDuration,N=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||d!==+d||m!==+m||u!==+u||x!==+x||m===0&&u===0||x===0)return null;var j=qe("recharts-trapezoid",h);return y?X.createElement(va,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:x,x:c,y:d},to:{upperWidth:m,lowerWidth:u,height:x,x:c,y:d},duration:p,animationEasing:f,isActive:y},function(g){var S=g.upperWidth,w=g.lowerWidth,C=g.height,_=g.x,$=g.y;return X.createElement(va,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:N,duration:p,easing:f},X.createElement("path",nx({},$e(r,!0),{className:j,d:P6(_,$,S,w,C),ref:a})))}):X.createElement("g",null,X.createElement("path",nx({},$e(r,!0),{className:j,d:P6(c,d,m,u,x)})))},Bce=["option","shapeType","propTransformer","activeClassName","isActive"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ru(t)}function qce(t,s){if(t==null)return{};var r=zce(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function zce(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function A6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function ix(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?A6(Object(r),!0).forEach(function(a){Uce(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Uce(t,s,r){return s=Wce(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Wce(t){var s=Vce(t,"string");return ru(s)=="symbol"?s:s+""}function Vce(t,s){if(ru(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(ru(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Hce(t,s){return ix(ix({},s),t)}function Kce(t,s){return t==="symbols"}function O6(t){var s=t.shapeType,r=t.elementProps;switch(s){case"rectangle":return X.createElement(Aj,r);case"trapezoid":return X.createElement(Ice,r);case"sector":return X.createElement(qP,r);case"symbols":if(Kce(s))return X.createElement(Gv,r);break;default:return null}}function Gce(t){return k.isValidElement(t)?t.props:t}function rA(t){var s=t.option,r=t.shapeType,a=t.propTransformer,n=a===void 0?Hce:a,i=t.activeClassName,l=i===void 0?"recharts-active-shape":i,o=t.isActive,c=qce(t,Bce),d;if(k.isValidElement(s))d=k.cloneElement(s,ix(ix({},c),Gce(s)));else if(Me(s))d=s(c);else if(wce(s)&&!Ace(s)){var m=n(s,c);d=X.createElement(O6,{shapeType:r,elementProps:m})}else{var u=c;d=X.createElement(O6,{shapeType:r,elementProps:u})}return o?X.createElement(Ze,{className:l},d):d}function Lp(t,s){return s!=null&&"trapezoids"in t.props}function Dp(t,s){return s!=null&&"sectors"in t.props}function au(t,s){return s!=null&&"points"in t.props}function Yce(t,s){var r,a,n=t.x===(s==null||(r=s.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===s.x,i=t.y===(s==null||(a=s.labelViewBox)===null||a===void 0?void 0:a.y)||t.y===s.y;return n&&i}function Qce(t,s){var r=t.endAngle===s.endAngle,a=t.startAngle===s.startAngle;return r&&a}function Xce(t,s){var r=t.x===s.x,a=t.y===s.y,n=t.z===s.z;return r&&a&&n}function Zce(t,s){var r;return Lp(t,s)?r=Yce:Dp(t,s)?r=Qce:au(t,s)&&(r=Xce),r}function Jce(t,s){var r;return Lp(t,s)?r="trapezoids":Dp(t,s)?r="sectors":au(t,s)&&(r="points"),r}function ede(t,s){if(Lp(t,s)){var r;return(r=s.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Dp(t,s)){var a;return(a=s.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return au(t,s)?s.payload:{}}function tde(t){var s=t.activeTooltipItem,r=t.graphicalItem,a=t.itemData,n=Jce(r,s),i=ede(r,s),l=a.filter(function(c,d){var m=ko(i,c),u=r.props[n].filter(function(f){var p=Zce(r,s);return p(f,s)}),x=r.props[n].indexOf(u[u.length-1]),h=d===x;return m&&h}),o=a.indexOf(l[l.length-1]);return o}var Wm;function Oo(t){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Oo(t)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ml.apply(this,arguments)}function $6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function ht(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?$6(Object(r),!0).forEach(function(a){wr(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function sde(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function T6(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,nA(a.key),a)}}function rde(t,s,r){return s&&T6(t.prototype,s),r&&T6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ade(t,s,r){return s=lx(s),nde(t,aA()?Reflect.construct(s,r||[],lx(t).constructor):s.apply(t,r))}function nde(t,s){if(s&&(Oo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ide(t)}function ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aA=function(){return!!t})()}function lx(t){return lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lx(t)}function lde(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Vy(t,s)}function Vy(t,s){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Vy(t,s)}function wr(t,s,r){return s=nA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function nA(t){var s=ode(t,"string");return Oo(s)=="symbol"?s:s+""}function ode(t,s){if(Oo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Oo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cn=function(t){function s(r){var a;return sde(this,s),a=ade(this,s,[r]),wr(a,"pieRef",null),wr(a,"sectorRefs",[]),wr(a,"id",lc("recharts-pie-")),wr(a,"handleAnimationEnd",function(){var n=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Me(n)&&n()}),wr(a,"handleAnimationStart",function(){var n=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Me(n)&&n()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return lde(s,t),rde(s,[{key:"isActiveIndex",value:function(a){var n=this.props.activeIndex;return Array.isArray(n)?n.indexOf(a)!==-1:a===n}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,o=i.labelLine,c=i.dataKey,d=i.valueKey,m=$e(this.props,!1),u=$e(l,!1),x=$e(o,!1),h=l&&l.offsetRadius||20,f=a.map(function(p,N){var y=(p.startAngle+p.endAngle)/2,j=gt(p.cx,p.cy,p.outerRadius+h,y),g=ht(ht(ht(ht({},m),p),{},{stroke:"none"},u),{},{index:N,textAnchor:s.getTextAnchor(j.x,p.cx)},j),S=ht(ht(ht(ht({},m),p),{},{fill:"none",stroke:p.fill},x),{},{index:N,points:[gt(p.cx,p.cy,p.outerRadius,y),j]}),w=c;return Re(c)&&Re(d)?w="value":Re(c)&&(w=d),X.createElement(Ze,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(N)},o&&s.renderLabelLineItem(o,S,"line"),s.renderLabelItem(l,g,Gt(p,w)))});return X.createElement(Ze,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(a){var n=this,i=this.props,l=i.activeShape,o=i.blendStroke,c=i.inactiveShape;return a.map(function(d,m){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&a.length!==1)return null;var u=n.isActiveIndex(m),x=c&&n.hasActiveIndex()?c:null,h=u?l:x,f=ht(ht({},d),{},{stroke:o?d.fill:d.stroke,tabIndex:-1});return X.createElement(Ze,Ml({ref:function(N){N&&!n.sectorRefs.includes(N)&&n.sectorRefs.push(N)},tabIndex:-1,className:"recharts-pie-sector"},Zi(n.props,d,m),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(m)}),X.createElement(rA,Ml({option:h,isActive:u,shapeType:"sector"},f)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,n=this.props,i=n.sectors,l=n.isAnimationActive,o=n.animationBegin,c=n.animationDuration,d=n.animationEasing,m=n.animationId,u=this.state,x=u.prevSectors,h=u.prevIsAnimationActive;return X.createElement(va,{begin:o,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(f){var p=f.t,N=[],y=i&&i[0],j=y.startAngle;return i.forEach(function(g,S){var w=x&&x[S],C=S>0?ur(g,"paddingAngle",0):0;if(w){var _=Ks(w.endAngle-w.startAngle,g.endAngle-g.startAngle),$=ht(ht({},g),{},{startAngle:j+C,endAngle:j+_(p)+C});N.push($),j=$.endAngle}else{var F=g.endAngle,T=g.startAngle,R=Ks(0,F-T),A=R(p),M=ht(ht({},g),{},{startAngle:j+C,endAngle:j+A+C});N.push(M),j=M.endAngle}}),X.createElement(Ze,null,a.renderSectorsStatically(N))})}},{key:"attachKeyboardHandlers",value:function(a){var n=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[l].focus(),n.setState({sectorToFocus:l});break}case"ArrowRight":{var o=--n.state.sectorToFocus<0?n.sectorRefs.length-1:n.state.sectorToFocus%n.sectorRefs.length;n.sectorRefs[o].focus(),n.setState({sectorToFocus:o});break}case"Escape":{n.sectorRefs[n.state.sectorToFocus].blur(),n.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,n=a.sectors,i=a.isAnimationActive,l=this.state.prevSectors;return i&&n&&n.length&&(!l||!ko(l,n))?this.renderSectorsWithAnimation():this.renderSectorsStatically(n)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,n=this.props,i=n.hide,l=n.sectors,o=n.className,c=n.label,d=n.cx,m=n.cy,u=n.innerRadius,x=n.outerRadius,h=n.isAnimationActive,f=this.state.isAnimationFinished;if(i||!l||!l.length||!pe(d)||!pe(m)||!pe(u)||!pe(x))return null;var p=qe("recharts-pie",o);return X.createElement(Ze,{tabIndex:this.props.rootTabIndex,className:p,ref:function(y){a.pieRef=y}},this.renderSectors(),c&&this.renderLabels(l),rs.renderCallByParent(this.props,null,!1),(!h||f)&&Ua.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return n.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:n.curSectors,isAnimationFinished:!0}:a.sectors!==n.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,n){return a>n?"start":a<n?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,n,i){if(X.isValidElement(a))return X.cloneElement(a,n);if(Me(a))return a(n);var l=qe("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return X.createElement(Hl,Ml({},n,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(a,n,i){if(X.isValidElement(a))return X.cloneElement(a,n);var l=i;if(Me(a)&&(l=a(n),X.isValidElement(l)))return l;var o=qe("recharts-pie-label-text",typeof a!="boolean"&&!Me(a)?a.className:"");return X.createElement(Ji,Ml({},n,{alignmentBaseline:"middle",className:o}),l)}}])}(k.PureComponent);Wm=cn;wr(cn,"displayName","Pie");wr(cn,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!il.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wr(cn,"parseDeltaAngle",function(t,s){var r=Rs(s-t),a=Math.min(Math.abs(s-t),360);return r*a});wr(cn,"getRealPieData",function(t){var s=t.data,r=t.children,a=$e(t,!1),n=Cr(r,vp);return s&&s.length?s.map(function(i,l){return ht(ht(ht({payload:i},a),i),n&&n[l]&&n[l].props)}):n&&n.length?n.map(function(i){return ht(ht({},a),i.props)}):[]});wr(cn,"parseCoordinateOfPie",function(t,s){var r=s.top,a=s.left,n=s.width,i=s.height,l=LP(n,i),o=a+Ls(t.cx,n,n/2),c=r+Ls(t.cy,i,i/2),d=Ls(t.innerRadius,l,0),m=Ls(t.outerRadius,l,l*.8),u=t.maxRadius||Math.sqrt(n*n+i*i)/2;return{cx:o,cy:c,innerRadius:d,outerRadius:m,maxRadius:u}});wr(cn,"getComposedData",function(t){var s=t.item,r=t.offset,a=s.type.defaultProps!==void 0?ht(ht({},s.type.defaultProps),s.props):s.props,n=Wm.getRealPieData(a);if(!n||!n.length)return null;var i=a.cornerRadius,l=a.startAngle,o=a.endAngle,c=a.paddingAngle,d=a.dataKey,m=a.nameKey,u=a.valueKey,x=a.tooltipType,h=Math.abs(a.minAngle),f=Wm.parseCoordinateOfPie(a,r),p=Wm.parseDeltaAngle(l,o),N=Math.abs(p),y=d;Re(d)&&Re(u)?(Xr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Re(d)&&(Xr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=u);var j=n.filter(function($){return Gt($,y,0)!==0}).length,g=(N>=360?j:j-1)*c,S=N-j*h-g,w=n.reduce(function($,F){var T=Gt(F,y,0);return $+(pe(T)?T:0)},0),C;if(w>0){var _;C=n.map(function($,F){var T=Gt($,y,0),R=Gt($,m,F),A=(pe(T)?T:0)/w,M;F?M=_.endAngle+Rs(p)*c*(T!==0?1:0):M=l;var P=M+Rs(p)*((T!==0?h:0)+A*S),E=(M+P)/2,z=(f.innerRadius+f.outerRadius)/2,O=[{name:R,value:T,payload:$,dataKey:y,type:x}],b=gt(f.cx,f.cy,z,E);return _=ht(ht(ht({percent:A,cornerRadius:i,name:R,tooltipPayload:O,midAngle:E,middleRadius:z,tooltipPosition:b},$),f),{},{value:Gt($,y),startAngle:M,endAngle:P,payload:$,paddingAngle:Rs(p)*c}),_})}return ht(ht({},f),{},{sectors:C,data:n})});var cde=Math.ceil,dde=Math.max;function ude(t,s,r,a){for(var n=-1,i=dde(cde((s-t)/(r||1)),0),l=Array(i);i--;)l[a?i:++n]=t,t+=r;return l}var mde=ude,hde=_C,E6=1/0,xde=17976931348623157e292;function pde(t){if(!t)return t===0?t:0;if(t=hde(t),t===E6||t===-E6){var s=t<0?-1:1;return s*xde}return t===t?t:0}var iA=pde,gde=mde,fde=bp,ng=iA;function yde(t){return function(s,r,a){return a&&typeof a!="number"&&fde(s,r,a)&&(r=a=void 0),s=ng(s),r===void 0?(r=s,s=0):r=ng(r),a=a===void 0?s<r?1:-1:ng(a),gde(s,r,a,t)}}var bde=yde,vde=bde,jde=vde(),Nde=jde;const ox=ot(Nde);function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},nu(t)}function M6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function F6(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?M6(Object(r),!0).forEach(function(a){lA(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function lA(t,s,r){return s=wde(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function wde(t){var s=_de(t,"string");return nu(s)=="symbol"?s:s+""}function _de(t,s){if(nu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(nu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var kde=["Webkit","Moz","O","ms"],Sde=function(s,r){var a=s.replace(/(\w)/,function(i){return i.toUpperCase()}),n=kde.reduce(function(i,l){return F6(F6({},i),{},lA({},l+a,r))},{});return n[s]=r,n};function $o(t){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},$o(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},cx.apply(this,arguments)}function R6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function ig(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?R6(Object(r),!0).forEach(function(a){rr(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Cde(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function L6(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,cA(a.key),a)}}function Pde(t,s,r){return s&&L6(t.prototype,s),r&&L6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ade(t,s,r){return s=dx(s),Ode(t,oA()?Reflect.construct(s,r||[],dx(t).constructor):s.apply(t,r))}function Ode(t,s){if(s&&($o(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $de(t)}function $de(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oA=function(){return!!t})()}function dx(t){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dx(t)}function Tde(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Hy(t,s)}function Hy(t,s){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Hy(t,s)}function rr(t,s,r){return s=cA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function cA(t){var s=Ede(t,"string");return $o(s)=="symbol"?s:s+""}function Ede(t,s){if($o(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if($o(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mde=function(s){var r=s.data,a=s.startIndex,n=s.endIndex,i=s.x,l=s.width,o=s.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=sd().domain(ox(0,c)).range([i,i+l-o]),m=d.domain().map(function(u){return d(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(a),endX:d(n),scale:d,scaleValues:m}},D6=function(s){return s.changedTouches&&!!s.changedTouches.length},To=function(t){function s(r){var a;return Cde(this,s),a=Ade(this,s,[r]),rr(a,"handleDrag",function(n){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(n):a.state.isSlideMoving&&a.handleSlideDrag(n)}),rr(a,"handleTouchMove",function(n){n.changedTouches!=null&&n.changedTouches.length>0&&a.handleDrag(n.changedTouches[0])}),rr(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var n=a.props,i=n.endIndex,l=n.onDragEnd,o=n.startIndex;l==null||l({endIndex:i,startIndex:o})}),a.detachDragEndListener()}),rr(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),rr(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),rr(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),rr(a,"handleSlideDragStart",function(n){var i=D6(n)?n.changedTouches[0]:n;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return Tde(s,t),Pde(s,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var n=a.startX,i=a.endX,l=this.state.scaleValues,o=this.props,c=o.gap,d=o.data,m=d.length-1,u=Math.min(n,i),x=Math.max(n,i),h=s.getIndexInRange(l,u),f=s.getIndexInRange(l,x);return{startIndex:h-h%c,endIndex:f===m?m:f-f%c}}},{key:"getTextOfTick",value:function(a){var n=this.props,i=n.data,l=n.tickFormatter,o=n.dataKey,c=Gt(i[a],o,a);return Me(l)?l(c,a):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var n=this.state,i=n.slideMoveStartX,l=n.startX,o=n.endX,c=this.props,d=c.x,m=c.width,u=c.travellerWidth,x=c.startIndex,h=c.endIndex,f=c.onChange,p=a.pageX-i;p>0?p=Math.min(p,d+m-u-o,d+m-u-l):p<0&&(p=Math.max(p,d-l,d-o));var N=this.getIndex({startX:l+p,endX:o+p});(N.startIndex!==x||N.endIndex!==h)&&f&&f(N),this.setState({startX:l+p,endX:o+p,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,n){var i=D6(n)?n.changedTouches[0]:n;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var n=this.state,i=n.brushMoveStartX,l=n.movingTravellerId,o=n.endX,c=n.startX,d=this.state[l],m=this.props,u=m.x,x=m.width,h=m.travellerWidth,f=m.onChange,p=m.gap,N=m.data,y={startX:this.state.startX,endX:this.state.endX},j=a.pageX-i;j>0?j=Math.min(j,u+x-h-d):j<0&&(j=Math.max(j,u-d)),y[l]=d+j;var g=this.getIndex(y),S=g.startIndex,w=g.endIndex,C=function(){var $=N.length-1;return l==="startX"&&(o>c?S%p===0:w%p===0)||o<c&&w===$||l==="endX"&&(o>c?w%p===0:S%p===0)||o>c&&w===$};this.setState(rr(rr({},l,d+j),"brushMoveStartX",a.pageX),function(){f&&C()&&f(g)})}},{key:"handleTravellerMoveKeyboard",value:function(a,n){var i=this,l=this.state,o=l.scaleValues,c=l.startX,d=l.endX,m=this.state[n],u=o.indexOf(m);if(u!==-1){var x=u+a;if(!(x===-1||x>=o.length)){var h=o[x];n==="startX"&&h>=d||n==="endX"&&h<=c||this.setState(rr({},n,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,n=a.x,i=a.y,l=a.width,o=a.height,c=a.fill,d=a.stroke;return X.createElement("rect",{stroke:d,fill:c,x:n,y:i,width:l,height:o})}},{key:"renderPanorama",value:function(){var a=this.props,n=a.x,i=a.y,l=a.width,o=a.height,c=a.data,d=a.children,m=a.padding,u=k.Children.only(d);return u?X.cloneElement(u,{x:n,y:i,width:l,height:o,margin:m,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(a,n){var i,l,o=this,c=this.props,d=c.y,m=c.travellerWidth,u=c.height,x=c.traveller,h=c.ariaLabel,f=c.data,p=c.startIndex,N=c.endIndex,y=Math.max(a,this.props.x),j=ig(ig({},$e(this.props,!1)),{},{x:y,y:d,width:m,height:u}),g=h||"Min value: ".concat((i=f[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=f[N])===null||l===void 0?void 0:l.name);return X.createElement(Ze,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),o.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},s.renderTraveller(x,j))}},{key:"renderSlide",value:function(a,n){var i=this.props,l=i.y,o=i.height,c=i.stroke,d=i.travellerWidth,m=Math.min(a,n)+d,u=Math.max(Math.abs(n-a)-d,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:m,y:l,width:u,height:o})}},{key:"renderText",value:function(){var a=this.props,n=a.startIndex,i=a.endIndex,l=a.y,o=a.height,c=a.travellerWidth,d=a.stroke,m=this.state,u=m.startX,x=m.endX,h=5,f={pointerEvents:"none",fill:d};return X.createElement(Ze,{className:"recharts-brush-texts"},X.createElement(Ji,cx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,x)-h,y:l+o/2},f),this.getTextOfTick(n)),X.createElement(Ji,cx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,x)+c+h,y:l+o/2},f),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,n=a.data,i=a.className,l=a.children,o=a.x,c=a.y,d=a.width,m=a.height,u=a.alwaysShowText,x=this.state,h=x.startX,f=x.endX,p=x.isTextActive,N=x.isSlideMoving,y=x.isTravellerMoving,j=x.isTravellerFocused;if(!n||!n.length||!pe(o)||!pe(c)||!pe(d)||!pe(m)||d<=0||m<=0)return null;var g=qe("recharts-brush",i),S=X.Children.count(l)===1,w=Sde("userSelect","none");return X.createElement(Ze,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,f),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(f,"endX"),(p||N||y||j||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var n=a.x,i=a.y,l=a.width,o=a.height,c=a.stroke,d=Math.floor(i+o/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:n,y:i,width:l,height:o,fill:c,stroke:"none"}),X.createElement("line",{x1:n+1,y1:d,x2:n+l-1,y2:d,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:n+1,y1:d+2,x2:n+l-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,n){var i;return X.isValidElement(a)?i=X.cloneElement(a,n):Me(a)?i=a(n):i=s.renderDefaultTraveller(n),i}},{key:"getDerivedStateFromProps",value:function(a,n){var i=a.data,l=a.width,o=a.x,c=a.travellerWidth,d=a.updateId,m=a.startIndex,u=a.endIndex;if(i!==n.prevData||d!==n.prevUpdateId)return ig({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l},i&&i.length?Mde({data:i,width:l,x:o,travellerWidth:c,startIndex:m,endIndex:u}):{scale:null,scaleValues:null});if(n.scale&&(l!==n.prevWidth||o!==n.prevX||c!==n.prevTravellerWidth)){n.scale.range([o,o+l-c]);var x=n.scale.domain().map(function(h){return n.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:o,prevWidth:l,startX:n.scale(a.startIndex),endX:n.scale(a.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(a,n){for(var i=a.length,l=0,o=i-1;o-l>1;){var c=Math.floor((l+o)/2);a[c]>n?o=c:l=c}return n>=a[o]?o:l}}])}(k.PureComponent);rr(To,"displayName","Brush");rr(To,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Fde=tj;function Rde(t,s){var r;return Fde(t,function(a,n,i){return r=s(a,n,i),!r}),!!r}var Lde=Rde,Dde=XS,Ide=Na,Bde=Lde,qde=sr,zde=bp;function Ude(t,s,r){var a=qde(t)?Dde:Bde;return r&&zde(t,s,r)&&(s=void 0),a(t,Ide(s))}var Wde=Ude;const Vde=ot(Wde);var ga=function(s,r){var a=s.alwaysShow,n=s.ifOverflow;return a&&(n="extendDomain"),n===r},I6=bC;function Hde(t,s,r){s=="__proto__"&&I6?I6(t,s,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[s]=r}var Kde=Hde,Gde=Kde,Yde=fC,Qde=Na;function Xde(t,s){var r={};return s=Qde(s),Yde(t,function(a,n,i){Gde(r,n,s(a,n,i))}),r}var Zde=Xde;const Jde=ot(Zde);function eue(t,s){for(var r=-1,a=t==null?0:t.length;++r<a;)if(!s(t[r],r,t))return!1;return!0}var tue=eue,sue=tj;function rue(t,s){var r=!0;return sue(t,function(a,n,i){return r=!!s(a,n,i),r}),r}var aue=rue,nue=tue,iue=aue,lue=Na,oue=sr,cue=bp;function due(t,s,r){var a=oue(t)?nue:iue;return r&&cue(t,s,r)&&(s=void 0),a(t,lue(s))}var uue=due;const dA=ot(uue);var mue=["x","y"];function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},iu(t)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ky.apply(this,arguments)}function B6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Fc(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?B6(Object(r),!0).forEach(function(a){hue(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function hue(t,s,r){return s=xue(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function xue(t){var s=pue(t,"string");return iu(s)=="symbol"?s:s+""}function pue(t,s){if(iu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(iu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function gue(t,s){if(t==null)return{};var r=fue(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function fue(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function yue(t,s){var r=t.x,a=t.y,n=gue(t,mue),i="".concat(r),l=parseInt(i,10),o="".concat(a),c=parseInt(o,10),d="".concat(s.height||n.height),m=parseInt(d,10),u="".concat(s.width||n.width),x=parseInt(u,10);return Fc(Fc(Fc(Fc(Fc({},s),n),l?{x:l}:{}),c?{y:c}:{}),{},{height:m,width:x,name:s.name,radius:s.radius})}function q6(t){return X.createElement(rA,Ky({shapeType:"rectangle",propTransformer:yue,activeClassName:"recharts-active-bar"},t))}var bue=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,n){if(typeof s=="number")return s;var i=pe(a)||UU(a);return i?s(a,n):(i||tl(),r)}},vue=["value","background"],uA;function Eo(t){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Eo(t)}function jue(t,s){if(t==null)return{};var r=Nue(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function Nue(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function ux(){return ux=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ux.apply(this,arguments)}function z6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Dt(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?z6(Object(r),!0).forEach(function(a){En(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function wue(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function U6(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,hA(a.key),a)}}function _ue(t,s,r){return s&&U6(t.prototype,s),r&&U6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,s,r){return s=mx(s),Sue(t,mA()?Reflect.construct(s,r||[],mx(t).constructor):s.apply(t,r))}function Sue(t,s){if(s&&(Eo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(t)}function Cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mA=function(){return!!t})()}function mx(t){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(t)}function Pue(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Gy(t,s)}function Gy(t,s){return Gy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Gy(t,s)}function En(t,s,r){return s=hA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function hA(t){var s=Aue(t,"string");return Eo(s)=="symbol"?s:s+""}function Aue(t,s){if(Eo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Eo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fu=function(t){function s(){var r;wue(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=kue(this,s,[].concat(n)),En(r,"state",{isAnimationFinished:!1}),En(r,"id",lc("recharts-bar-")),En(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),l&&l()}),En(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),l&&l()}),r}return Pue(s,t),_ue(s,[{key:"renderRectanglesStatically",value:function(a){var n=this,i=this.props,l=i.shape,o=i.dataKey,c=i.activeIndex,d=i.activeBar,m=$e(this.props,!1);return a&&a.map(function(u,x){var h=x===c,f=h?d:l,p=Dt(Dt(Dt({},m),u),{},{isActive:h,option:f,index:x,dataKey:o,onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd});return X.createElement(Ze,ux({className:"recharts-bar-rectangle"},Zi(n.props,u,x),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value,"-").concat(x)}),X.createElement(q6,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,n=this.props,i=n.data,l=n.layout,o=n.isAnimationActive,c=n.animationBegin,d=n.animationDuration,m=n.animationEasing,u=n.animationId,x=this.state.prevData;return X.createElement(va,{begin:c,duration:d,isActive:o,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var f=h.t,p=i.map(function(N,y){var j=x&&x[y];if(j){var g=Ks(j.x,N.x),S=Ks(j.y,N.y),w=Ks(j.width,N.width),C=Ks(j.height,N.height);return Dt(Dt({},N),{},{x:g(f),y:S(f),width:w(f),height:C(f)})}if(l==="horizontal"){var _=Ks(0,N.height),$=_(f);return Dt(Dt({},N),{},{y:N.y+N.height-$,height:$})}var F=Ks(0,N.width),T=F(f);return Dt(Dt({},N),{},{width:T})});return X.createElement(Ze,null,a.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var a=this.props,n=a.data,i=a.isAnimationActive,l=this.state.prevData;return i&&n&&n.length&&(!l||!ko(l,n))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(n)}},{key:"renderBackground",value:function(){var a=this,n=this.props,i=n.data,l=n.dataKey,o=n.activeIndex,c=$e(this.props.background,!1);return i.map(function(d,m){d.value;var u=d.background,x=jue(d,vue);if(!u)return null;var h=Dt(Dt(Dt(Dt(Dt({},x),{},{fill:"#eee"},u),c),Zi(a.props,d,m)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:l,index:m,className:"recharts-bar-background-rectangle"});return X.createElement(q6,ux({key:"background-bar-".concat(m),option:a.props.background,isActive:m===o},h))})}},{key:"renderErrorBar",value:function(a,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,o=i.xAxis,c=i.yAxis,d=i.layout,m=i.children,u=Cr(m,$p);if(!u)return null;var x=d==="vertical"?l[0].height/2:l[0].width/2,h=function(N,y){var j=Array.isArray(N.value)?N.value[1]:N.value;return{x:N.x,y:N.y,value:j,errorVal:Gt(N,y)}},f={clipPath:a?"url(#clipPath-".concat(n,")"):null};return X.createElement(Ze,f,u.map(function(p){return X.cloneElement(p,{key:"error-bar-".concat(n,"-").concat(p.props.dataKey),data:l,xAxis:o,yAxis:c,layout:d,offset:x,dataPointFormatter:h})}))}},{key:"render",value:function(){var a=this.props,n=a.hide,i=a.data,l=a.className,o=a.xAxis,c=a.yAxis,d=a.left,m=a.top,u=a.width,x=a.height,h=a.isAnimationActive,f=a.background,p=a.id;if(n||!i||!i.length)return null;var N=this.state.isAnimationFinished,y=qe("recharts-bar",l),j=o&&o.allowDataOverflow,g=c&&c.allowDataOverflow,S=j||g,w=Re(p)?this.id:p;return X.createElement(Ze,{className:y},j||g?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(w)},X.createElement("rect",{x:j?d:d-u/2,y:g?m:m-x/2,width:j?u:u*2,height:g?x:x*2}))):null,X.createElement(Ze,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!h||N)&&Ua.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:n.curData}:a.data!==n.curData?{curData:a.data}:null}}])}(k.PureComponent);uA=Fu;En(Fu,"displayName","Bar");En(Fu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!il.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});En(Fu,"getComposedData",function(t){var s=t.props,r=t.item,a=t.barPosition,n=t.bandSize,i=t.xAxis,l=t.yAxis,o=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,m=t.dataStartIndex,u=t.displayedData,x=t.offset,h=one(a,r);if(!h)return null;var f=s.layout,p=r.type.defaultProps,N=p!==void 0?Dt(Dt({},p),r.props):r.props,y=N.dataKey,j=N.children,g=N.minPointSize,S=f==="horizontal"?l:i,w=d?S.scale.domain():null,C=pne({numericAxis:S}),_=Cr(j,vp),$=u.map(function(F,T){var R,A,M,P,E,z;d?R=cne(d[m+T],w):(R=Gt(F,y),Array.isArray(R)||(R=[C,R]));var O=bue(g,uA.defaultProps.minPointSize)(R[1],T);if(f==="horizontal"){var b,L=[l.scale(R[0]),l.scale(R[1])],v=L[0],D=L[1];A=T1({axis:i,ticks:o,bandSize:n,offset:h.offset,entry:F,index:T}),M=(b=D??v)!==null&&b!==void 0?b:void 0,P=h.size;var U=v-D;if(E=Number.isNaN(U)?0:U,z={x:A,y:l.y,width:P,height:l.height},Math.abs(O)>0&&Math.abs(E)<Math.abs(O)){var q=Rs(E||O)*(Math.abs(O)-Math.abs(E));M-=q,E+=q}}else{var B=[i.scale(R[0]),i.scale(R[1])],W=B[0],I=B[1];if(A=W,M=T1({axis:l,ticks:c,bandSize:n,offset:h.offset,entry:F,index:T}),P=I-W,E=h.size,z={x:i.x,y:M,width:i.width,height:E},Math.abs(O)>0&&Math.abs(P)<Math.abs(O)){var Q=Rs(P||O)*(Math.abs(O)-Math.abs(P));P+=Q}}return Dt(Dt(Dt({},F),{},{x:A,y:M,width:P,height:E,value:d?R:R[1],payload:F,background:z},_&&_[T]&&_[T].props),{},{tooltipPayload:[FP(r,F)],tooltipPosition:{x:A+P/2,y:M+E/2}})});return Dt({data:$,layout:f},x)});function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},lu(t)}function Oue(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function W6(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,xA(a.key),a)}}function $ue(t,s,r){return s&&W6(t.prototype,s),r&&W6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Hr(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?V6(Object(r),!0).forEach(function(a){Ip(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ip(t,s,r){return s=xA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function xA(t){var s=Tue(t,"string");return lu(s)=="symbol"?s:s+""}function Tue(t,s){if(lu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(lu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var Eue=function(s,r,a,n,i){var l=s.width,o=s.height,c=s.layout,d=s.children,m=Object.keys(r),u={left:a.left,leftMirror:a.left,right:l-a.right,rightMirror:l-a.right,top:a.top,topMirror:a.top,bottom:o-a.bottom,bottomMirror:o-a.bottom},x=!!nr(d,Fu);return m.reduce(function(h,f){var p=r[f],N=p.orientation,y=p.domain,j=p.padding,g=j===void 0?{}:j,S=p.mirror,w=p.reversed,C="".concat(N).concat(S?"Mirror":""),_,$,F,T,R;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var A=y[1]-y[0],M=1/0,P=p.categoricalDomain.sort(HU);if(P.forEach(function(B,W){W>0&&(M=Math.min((B||0)-(P[W-1]||0),M))}),Number.isFinite(M)){var E=M/A,z=p.layout==="vertical"?a.height:a.width;if(p.padding==="gap"&&(_=E*z/2),p.padding==="no-gap"){var O=Ls(s.barCategoryGap,E*z),b=E*z/2;_=b-O-(b-O)/z*O}}}n==="xAxis"?$=[a.left+(g.left||0)+(_||0),a.left+a.width-(g.right||0)-(_||0)]:n==="yAxis"?$=c==="horizontal"?[a.top+a.height-(g.bottom||0),a.top+(g.top||0)]:[a.top+(g.top||0)+(_||0),a.top+a.height-(g.bottom||0)-(_||0)]:$=p.range,w&&($=[$[1],$[0]]);var L=$P(p,i,x),v=L.scale,D=L.realScaleType;v.domain(y).range($),TP(v);var U=EP(v,Hr(Hr({},p),{},{realScaleType:D}));n==="xAxis"?(R=N==="top"&&!S||N==="bottom"&&S,F=a.left,T=u[C]-R*p.height):n==="yAxis"&&(R=N==="left"&&!S||N==="right"&&S,F=u[C]-R*p.width,T=a.top);var q=Hr(Hr(Hr({},p),U),{},{realScaleType:D,x:F,y:T,scale:v,width:n==="xAxis"?a.width:p.width,height:n==="yAxis"?a.height:p.height});return q.bandSize=Qh(q,U),!p.hide&&n==="xAxis"?u[C]+=(R?-1:1)*q.height:p.hide||(u[C]+=(R?-1:1)*q.width),Hr(Hr({},h),{},Ip({},f,q))},{})},pA=function(s,r){var a=s.x,n=s.y,i=r.x,l=r.y;return{x:Math.min(a,i),y:Math.min(n,l),width:Math.abs(i-a),height:Math.abs(l-n)}},Mue=function(s){var r=s.x1,a=s.y1,n=s.x2,i=s.y2;return pA({x:r,y:a},{x:n,y:i})},gA=function(){function t(s){Oue(this,t),this.scale=s}return $ue(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),n=a[0],i=a[a.length-1];return n<=i?r>=n&&r<=i:r>=i&&r<=n}}],[{key:"create",value:function(r){return new t(r)}}])}();Ip(gA,"EPS",1e-4);var Oj=function(s){var r=Object.keys(s).reduce(function(a,n){return Hr(Hr({},a),{},Ip({},n,gA.create(s[n])))},{});return Hr(Hr({},r),{},{apply:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,o=i.position;return Jde(n,function(c,d){return r[d].apply(c,{bandAware:l,position:o})})},isInRange:function(n){return dA(n,function(i,l){return r[l].isInRange(i)})}})};function Fue(t){return(t%180+180)%180}var Rue=function(s){var r=s.width,a=s.height,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Fue(n),l=i*Math.PI/180,o=Math.atan(a/r),c=l>o&&l<Math.PI-o?a/Math.sin(l):r/Math.cos(l);return Math.abs(c)},Lue=Na,Due=Ou,Iue=fp;function Bue(t){return function(s,r,a){var n=Object(s);if(!Due(s)){var i=Lue(r);s=Iue(s),r=function(o){return i(n[o],o,n)}}var l=t(s,r,a);return l>-1?n[i?s[l]:l]:void 0}}var que=Bue,zue=iA;function Uue(t){var s=zue(t),r=s%1;return s===s?r?s-r:s:0}var Wue=Uue,Vue=uC,Hue=Na,Kue=Wue,Gue=Math.max;function Yue(t,s,r){var a=t==null?0:t.length;if(!a)return-1;var n=r==null?0:Kue(r);return n<0&&(n=Gue(a+n,0)),Vue(t,Hue(s),n)}var Que=Yue,Xue=que,Zue=Que,Jue=Xue(Zue),eme=Jue;const tme=ot(eme);var sme=Yz(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),$j=k.createContext(void 0),Tj=k.createContext(void 0),fA=k.createContext(void 0),yA=k.createContext({}),bA=k.createContext(void 0),vA=k.createContext(0),jA=k.createContext(0),H6=function(s){var r=s.state,a=r.xAxisMap,n=r.yAxisMap,i=r.offset,l=s.clipPathId,o=s.children,c=s.width,d=s.height,m=sme(i);return X.createElement($j.Provider,{value:a},X.createElement(Tj.Provider,{value:n},X.createElement(yA.Provider,{value:i},X.createElement(fA.Provider,{value:m},X.createElement(bA.Provider,{value:l},X.createElement(vA.Provider,{value:d},X.createElement(jA.Provider,{value:c},o)))))))},rme=function(){return k.useContext(bA)},NA=function(s){var r=k.useContext($j);r==null&&tl();var a=r[s];return a==null&&tl(),a},ame=function(){var s=k.useContext($j);return bn(s)},nme=function(){var s=k.useContext(Tj),r=tme(s,function(a){return dA(a.domain,Number.isFinite)});return r||bn(s)},wA=function(s){var r=k.useContext(Tj);r==null&&tl();var a=r[s];return a==null&&tl(),a},ime=function(){var s=k.useContext(fA);return s},lme=function(){return k.useContext(yA)},Ej=function(){return k.useContext(jA)},Mj=function(){return k.useContext(vA)};function Mo(t){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Mo(t)}function ome(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function cme(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,kA(a.key),a)}}function dme(t,s,r){return s&&cme(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function ume(t,s,r){return s=hx(s),mme(t,_A()?Reflect.construct(s,r||[],hx(t).constructor):s.apply(t,r))}function mme(t,s){if(s&&(Mo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hme(t)}function hme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_A=function(){return!!t})()}function hx(t){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(t)}function xme(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Yy(t,s)}function Yy(t,s){return Yy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Yy(t,s)}function K6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function G6(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?K6(Object(r),!0).forEach(function(a){Fj(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Fj(t,s,r){return s=kA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function kA(t){var s=pme(t,"string");return Mo(s)=="symbol"?s:s+""}function pme(t,s){if(Mo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Mo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gme(t,s){return vme(t)||bme(t,s)||yme(t,s)||fme()}function fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yme(t,s){if(t){if(typeof t=="string")return Y6(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y6(t,s)}}function Y6(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function bme(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function vme(t){if(Array.isArray(t))return t}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Qy.apply(this,arguments)}var jme=function(s,r){var a;return X.isValidElement(s)?a=X.cloneElement(s,r):Me(s)?a=s(r):a=X.createElement("line",Qy({},r,{className:"recharts-reference-line-line"})),a},Nme=function(s,r,a,n,i,l,o,c,d){var m=i.x,u=i.y,x=i.width,h=i.height;if(a){var f=d.y,p=s.y.apply(f,{position:l});if(ga(d,"discard")&&!s.y.isInRange(p))return null;var N=[{x:m+x,y:p},{x:m,y:p}];return c==="left"?N.reverse():N}if(r){var y=d.x,j=s.x.apply(y,{position:l});if(ga(d,"discard")&&!s.x.isInRange(j))return null;var g=[{x:j,y:u+h},{x:j,y:u}];return o==="top"?g.reverse():g}if(n){var S=d.segment,w=S.map(function(C){return s.apply(C,{position:l})});return ga(d,"discard")&&Vde(w,function(C){return!s.isInRange(C)})?null:w}return null};function wme(t){var s=t.x,r=t.y,a=t.segment,n=t.xAxisId,i=t.yAxisId,l=t.shape,o=t.className,c=t.alwaysShow,d=rme(),m=NA(n),u=wA(i),x=ime();if(!d||!x)return null;Xr(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Oj({x:m.scale,y:u.scale}),f=Qt(s),p=Qt(r),N=a&&a.length===2,y=Nme(h,f,p,N,x,t.position,m.orientation,u.orientation,t);if(!y)return null;var j=gme(y,2),g=j[0],S=g.x,w=g.y,C=j[1],_=C.x,$=C.y,F=ga(t,"hidden")?"url(#".concat(d,")"):void 0,T=G6(G6({clipPath:F},$e(t,!0)),{},{x1:S,y1:w,x2:_,y2:$});return X.createElement(Ze,{className:qe("recharts-reference-line",o)},jme(l,T),rs.renderCallByParent(t,Mue({x1:S,y1:w,x2:_,y2:$})))}var Rj=function(t){function s(){return ome(this,s),ume(this,s,arguments)}return xme(s,t),dme(s,[{key:"render",value:function(){return X.createElement(wme,this.props)}}])}(X.Component);Fj(Rj,"displayName","ReferenceLine");Fj(Rj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Xy.apply(this,arguments)}function Fo(t){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Fo(t)}function Q6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function X6(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?Q6(Object(r),!0).forEach(function(a){Bp(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function _me(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function kme(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,CA(a.key),a)}}function Sme(t,s,r){return s&&kme(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cme(t,s,r){return s=xx(s),Pme(t,SA()?Reflect.construct(s,r||[],xx(t).constructor):s.apply(t,r))}function Pme(t,s){if(s&&(Fo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SA=function(){return!!t})()}function xx(t){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(t)}function Ome(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&Zy(t,s)}function Zy(t,s){return Zy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},Zy(t,s)}function Bp(t,s,r){return s=CA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function CA(t){var s=$me(t,"string");return Fo(s)=="symbol"?s:s+""}function $me(t,s){if(Fo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Fo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tme=function(s){var r=s.x,a=s.y,n=s.xAxis,i=s.yAxis,l=Oj({x:n.scale,y:i.scale}),o=l.apply({x:r,y:a},{bandAware:!0});return ga(s,"discard")&&!l.isInRange(o)?null:o},qp=function(t){function s(){return _me(this,s),Cme(this,s,arguments)}return Ome(s,t),Sme(s,[{key:"render",value:function(){var a=this.props,n=a.x,i=a.y,l=a.r,o=a.alwaysShow,c=a.clipPathId,d=Qt(n),m=Qt(i);if(Xr(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!m)return null;var u=Tme(this.props);if(!u)return null;var x=u.x,h=u.y,f=this.props,p=f.shape,N=f.className,y=ga(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=X6(X6({clipPath:y},$e(this.props,!0)),{},{cx:x,cy:h});return X.createElement(Ze,{className:qe("recharts-reference-dot",N)},s.renderDot(p,j),rs.renderCallByParent(this.props,{x:x-l,y:h-l,width:2*l,height:2*l}))}}])}(X.Component);Bp(qp,"displayName","ReferenceDot");Bp(qp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bp(qp,"renderDot",function(t,s){var r;return X.isValidElement(t)?r=X.cloneElement(t,s):Me(t)?r=t(s):r=X.createElement(Tp,Xy({},s,{cx:s.cx,cy:s.cy,className:"recharts-reference-dot-dot"})),r});function Jy(){return Jy=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Jy.apply(this,arguments)}function Ro(t){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Ro(t)}function Z6(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function J6(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?Z6(Object(r),!0).forEach(function(a){zp(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Eme(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function Mme(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,AA(a.key),a)}}function Fme(t,s,r){return s&&Mme(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rme(t,s,r){return s=px(s),Lme(t,PA()?Reflect.construct(s,r||[],px(t).constructor):s.apply(t,r))}function Lme(t,s){if(s&&(Ro(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PA=function(){return!!t})()}function px(t){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(t)}function Ime(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&eb(t,s)}function eb(t,s){return eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},eb(t,s)}function zp(t,s,r){return s=AA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function AA(t){var s=Bme(t,"string");return Ro(s)=="symbol"?s:s+""}function Bme(t,s){if(Ro(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Ro(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qme=function(s,r,a,n,i){var l=i.x1,o=i.x2,c=i.y1,d=i.y2,m=i.xAxis,u=i.yAxis;if(!m||!u)return null;var x=Oj({x:m.scale,y:u.scale}),h={x:s?x.x.apply(l,{position:"start"}):x.x.rangeMin,y:a?x.y.apply(c,{position:"start"}):x.y.rangeMin},f={x:r?x.x.apply(o,{position:"end"}):x.x.rangeMax,y:n?x.y.apply(d,{position:"end"}):x.y.rangeMax};return ga(i,"discard")&&(!x.isInRange(h)||!x.isInRange(f))?null:pA(h,f)},Up=function(t){function s(){return Eme(this,s),Rme(this,s,arguments)}return Ime(s,t),Fme(s,[{key:"render",value:function(){var a=this.props,n=a.x1,i=a.x2,l=a.y1,o=a.y2,c=a.className,d=a.alwaysShow,m=a.clipPathId;Xr(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Qt(n),x=Qt(i),h=Qt(l),f=Qt(o),p=this.props.shape;if(!u&&!x&&!h&&!f&&!p)return null;var N=qme(u,x,h,f,this.props);if(!N&&!p)return null;var y=ga(this.props,"hidden")?"url(#".concat(m,")"):void 0;return X.createElement(Ze,{className:qe("recharts-reference-area",c)},s.renderRect(p,J6(J6({clipPath:y},$e(this.props,!0)),N)),rs.renderCallByParent(this.props,N))}}])}(X.Component);zp(Up,"displayName","ReferenceArea");zp(Up,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zp(Up,"renderRect",function(t,s){var r;return X.isValidElement(t)?r=X.cloneElement(t,s):Me(t)?r=t(s):r=X.createElement(Aj,Jy({},s,{className:"recharts-reference-area-rect"})),r});function OA(t,s,r){if(s<1)return[];if(s===1&&r===void 0)return t;for(var a=[],n=0;n<t.length;n+=s)a.push(t[n]);return a}function zme(t,s,r){var a={width:t.width+s.width,height:t.height+s.height};return Rue(a,r)}function Ume(t,s,r){var a=r==="width",n=t.x,i=t.y,l=t.width,o=t.height;return s===1?{start:a?n:i,end:a?n+l:i+o}:{start:a?n+l:i+o,end:a?n:i}}function gx(t,s,r,a,n){if(t*s<t*a||t*s>t*n)return!1;var i=r();return t*(s-t*i/2-a)>=0&&t*(s+t*i/2-n)<=0}function Wme(t,s){return OA(t,s+1)}function Vme(t,s,r,a,n){for(var i=(a||[]).slice(),l=s.start,o=s.end,c=0,d=1,m=l,u=function(){var f=a==null?void 0:a[c];if(f===void 0)return{v:OA(a,d)};var p=c,N,y=function(){return N===void 0&&(N=r(f,p)),N},j=f.coordinate,g=c===0||gx(t,j,y,m,o);g||(c=0,m=l,d+=1),g&&(m=j+t*(y()/2+n),c+=d)},x;d<=i.length;)if(x=u(),x)return x.v;return[]}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},ou(t)}function e4(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function Ns(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?e4(Object(r),!0).forEach(function(a){Hme(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Hme(t,s,r){return s=Kme(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function Kme(t){var s=Gme(t,"string");return ou(s)=="symbol"?s:s+""}function Gme(t,s){if(ou(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(ou(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Yme(t,s,r,a,n){for(var i=(a||[]).slice(),l=i.length,o=s.start,c=s.end,d=function(x){var h=i[x],f,p=function(){return f===void 0&&(f=r(h,x)),f};if(x===l-1){var N=t*(h.coordinate+t*p()/2-c);i[x]=h=Ns(Ns({},h),{},{tickCoord:N>0?h.coordinate-N*t:h.coordinate})}else i[x]=h=Ns(Ns({},h),{},{tickCoord:h.coordinate});var y=gx(t,h.tickCoord,p,o,c);y&&(c=h.tickCoord-t*(p()/2+n),i[x]=Ns(Ns({},h),{},{isShow:!0}))},m=l-1;m>=0;m--)d(m);return i}function Qme(t,s,r,a,n,i){var l=(a||[]).slice(),o=l.length,c=s.start,d=s.end;if(i){var m=a[o-1],u=r(m,o-1),x=t*(m.coordinate+t*u/2-d);l[o-1]=m=Ns(Ns({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate});var h=gx(t,m.tickCoord,function(){return u},c,d);h&&(d=m.tickCoord-t*(u/2+n),l[o-1]=Ns(Ns({},m),{},{isShow:!0}))}for(var f=i?o-1:o,p=function(j){var g=l[j],S,w=function(){return S===void 0&&(S=r(g,j)),S};if(j===0){var C=t*(g.coordinate-t*w()/2-c);l[j]=g=Ns(Ns({},g),{},{tickCoord:C<0?g.coordinate-C*t:g.coordinate})}else l[j]=g=Ns(Ns({},g),{},{tickCoord:g.coordinate});var _=gx(t,g.tickCoord,w,c,d);_&&(c=g.tickCoord+t*(w()/2+n),l[j]=Ns(Ns({},g),{},{isShow:!0}))},N=0;N<f;N++)p(N);return l}function Lj(t,s,r){var a=t.tick,n=t.ticks,i=t.viewBox,l=t.minTickGap,o=t.orientation,c=t.interval,d=t.tickFormatter,m=t.unit,u=t.angle;if(!n||!n.length||!a)return[];if(pe(c)||il.isSsr)return Wme(n,typeof c=="number"&&pe(c)?c:0);var x=[],h=o==="top"||o==="bottom"?"width":"height",f=m&&h==="width"?td(m,{fontSize:s,letterSpacing:r}):{width:0,height:0},p=function(g,S){var w=Me(d)?d(g.value,S):g.value;return h==="width"?zme(td(w,{fontSize:s,letterSpacing:r}),f,u):td(w,{fontSize:s,letterSpacing:r})[h]},N=n.length>=2?Rs(n[1].coordinate-n[0].coordinate):1,y=Ume(i,N,h);return c==="equidistantPreserveStart"?Vme(N,y,p,n,l):(c==="preserveStart"||c==="preserveStartEnd"?x=Qme(N,y,p,n,l,c==="preserveStartEnd"):x=Yme(N,y,p,n,l),x.filter(function(j){return j.isShow}))}var Xme=["viewBox"],Zme=["viewBox"],Jme=["ticks"];function Lo(t){"@babel/helpers - typeof";return Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Lo(t)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Fl.apply(this,arguments)}function t4(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function zt(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?t4(Object(r),!0).forEach(function(a){Dj(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function lg(t,s){if(t==null)return{};var r=ehe(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function ehe(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function the(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function s4(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,TA(a.key),a)}}function she(t,s,r){return s&&s4(t.prototype,s),r&&s4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rhe(t,s,r){return s=fx(s),ahe(t,$A()?Reflect.construct(s,r||[],fx(t).constructor):s.apply(t,r))}function ahe(t,s){if(s&&(Lo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nhe(t)}function nhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($A=function(){return!!t})()}function fx(t){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(t)}function ihe(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&tb(t,s)}function tb(t,s){return tb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},tb(t,s)}function Dj(t,s,r){return s=TA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function TA(t){var s=lhe(t,"string");return Lo(s)=="symbol"?s:s+""}function lhe(t,s){if(Lo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Lo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xc=function(t){function s(r){var a;return the(this,s),a=rhe(this,s,[r]),a.state={fontSize:"",letterSpacing:""},a}return ihe(s,t),she(s,[{key:"shouldComponentUpdate",value:function(a,n){var i=a.viewBox,l=lg(a,Xme),o=this.props,c=o.viewBox,d=lg(o,Zme);return!Ul(i,c)||!Ul(l,d)||!Ul(n,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var n=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];n&&this.setState({fontSize:window.getComputedStyle(n).fontSize,letterSpacing:window.getComputedStyle(n).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var n=this.props,i=n.x,l=n.y,o=n.width,c=n.height,d=n.orientation,m=n.tickSize,u=n.mirror,x=n.tickMargin,h,f,p,N,y,j,g=u?-1:1,S=a.tickSize||m,w=pe(a.tickCoord)?a.tickCoord:a.coordinate;switch(d){case"top":h=f=a.coordinate,N=l+ +!u*c,p=N-g*S,j=p-g*x,y=w;break;case"left":p=N=a.coordinate,f=i+ +!u*o,h=f-g*S,y=h-g*x,j=w;break;case"right":p=N=a.coordinate,f=i+ +u*o,h=f+g*S,y=h+g*x,j=w;break;default:h=f=a.coordinate,N=l+ +u*c,p=N+g*S,j=p+g*x,y=w;break}return{line:{x1:h,y1:p,x2:f,y2:N},tick:{x:y,y:j}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,l;switch(n){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,n=a.orientation,i=a.mirror,l="end";switch(n){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var a=this.props,n=a.x,i=a.y,l=a.width,o=a.height,c=a.orientation,d=a.mirror,m=a.axisLine,u=zt(zt(zt({},$e(this.props,!1)),$e(m,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var x=+(c==="top"&&!d||c==="bottom"&&d);u=zt(zt({},u),{},{x1:n,y1:i+x*o,x2:n+l,y2:i+x*o})}else{var h=+(c==="left"&&!d||c==="right"&&d);u=zt(zt({},u),{},{x1:n+h*l,y1:i,x2:n+h*l,y2:i+o})}return X.createElement("line",Fl({},u,{className:qe("recharts-cartesian-axis-line",ur(m,"className"))}))}},{key:"renderTicks",value:function(a,n,i){var l=this,o=this.props,c=o.tickLine,d=o.stroke,m=o.tick,u=o.tickFormatter,x=o.unit,h=Lj(zt(zt({},this.props),{},{ticks:a}),n,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),N=$e(this.props,!1),y=$e(m,!1),j=zt(zt({},N),{},{fill:"none"},$e(c,!1)),g=h.map(function(S,w){var C=l.getTickLineCoord(S),_=C.line,$=C.tick,F=zt(zt(zt(zt({textAnchor:f,verticalAnchor:p},N),{},{stroke:"none",fill:d},y),$),{},{index:w,payload:S,visibleTicksCount:h.length,tickFormatter:u});return X.createElement(Ze,Fl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Zi(l.props,S,w)),c&&X.createElement("line",Fl({},j,_,{className:qe("recharts-cartesian-axis-tick-line",ur(c,"className"))})),m&&s.renderTickItem(m,F,"".concat(Me(u)?u(S.value,w):S.value).concat(x||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var a=this,n=this.props,i=n.axisLine,l=n.width,o=n.height,c=n.ticksGenerator,d=n.className,m=n.hide;if(m)return null;var u=this.props,x=u.ticks,h=lg(u,Jme),f=x;return Me(c)&&(f=x&&x.length>0?c(this.props):c(h)),l<=0||o<=0||!f||!f.length?null:X.createElement(Ze,{className:qe("recharts-cartesian-axis",d),ref:function(N){a.layerReference=N}},i&&this.renderAxisLine(),this.renderTicks(f,this.state.fontSize,this.state.letterSpacing),rs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,n,i){var l,o=qe(n.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(a)?l=X.cloneElement(a,zt(zt({},n),{},{className:o})):Me(a)?l=a(zt(zt({},n),{},{className:o})):l=X.createElement(Ji,Fl({},n,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])}(k.Component);Dj(xc,"displayName","CartesianAxis");Dj(xc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ohe=["x1","y1","x2","y2","key"],che=["offset"];function sl(t){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},sl(t)}function r4(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function ks(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?r4(Object(r),!0).forEach(function(a){dhe(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function dhe(t,s,r){return s=uhe(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function uhe(t){var s=mhe(t,"string");return sl(s)=="symbol"?s:s+""}function mhe(t,s){if(sl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(sl(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Si(){return Si=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Si.apply(this,arguments)}function a4(t,s){if(t==null)return{};var r=hhe(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function hhe(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}var xhe=function(s){var r=s.fill;if(!r||r==="none")return null;var a=s.fillOpacity,n=s.x,i=s.y,l=s.width,o=s.height,c=s.ry;return X.createElement("rect",{x:n,y:i,ry:c,width:l,height:o,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function EA(t,s){var r;if(X.isValidElement(t))r=X.cloneElement(t,s);else if(Me(t))r=t(s);else{var a=s.x1,n=s.y1,i=s.x2,l=s.y2,o=s.key,c=a4(s,ohe),d=$e(c,!1);d.offset;var m=a4(d,che);r=X.createElement("line",Si({},m,{x1:a,y1:n,x2:i,y2:l,fill:"none",key:o}))}return r}function phe(t){var s=t.x,r=t.width,a=t.horizontal,n=a===void 0?!0:a,i=t.horizontalPoints;if(!n||!i||!i.length)return null;var l=i.map(function(o,c){var d=ks(ks({},t),{},{x1:s,y1:o,x2:s+r,y2:o,key:"line-".concat(c),index:c});return EA(n,d)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function ghe(t){var s=t.y,r=t.height,a=t.vertical,n=a===void 0?!0:a,i=t.verticalPoints;if(!n||!i||!i.length)return null;var l=i.map(function(o,c){var d=ks(ks({},t),{},{x1:o,y1:s,x2:o,y2:s+r,key:"line-".concat(c),index:c});return EA(n,d)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function fhe(t){var s=t.horizontalFill,r=t.fillOpacity,a=t.x,n=t.y,i=t.width,l=t.height,o=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!s||!s.length)return null;var m=o.map(function(x){return Math.round(x+n-n)}).sort(function(x,h){return x-h});n!==m[0]&&m.unshift(0);var u=m.map(function(x,h){var f=!m[h+1],p=f?n+l-x:m[h+1]-x;if(p<=0)return null;var N=h%s.length;return X.createElement("rect",{key:"react-".concat(h),y:x,x:a,height:p,width:i,stroke:"none",fill:s[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function yhe(t){var s=t.vertical,r=s===void 0?!0:s,a=t.verticalFill,n=t.fillOpacity,i=t.x,l=t.y,o=t.width,c=t.height,d=t.verticalPoints;if(!r||!a||!a.length)return null;var m=d.map(function(x){return Math.round(x+i-i)}).sort(function(x,h){return x-h});i!==m[0]&&m.unshift(0);var u=m.map(function(x,h){var f=!m[h+1],p=f?i+o-x:m[h+1]-x;if(p<=0)return null;var N=h%a.length;return X.createElement("rect",{key:"react-".concat(h),x,y:l,width:p,height:c,stroke:"none",fill:a[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var bhe=function(s,r){var a=s.xAxis,n=s.width,i=s.height,l=s.offset;return OP(Lj(ks(ks(ks({},xc.defaultProps),a),{},{ticks:Ia(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),l.left,l.left+l.width,r)},vhe=function(s,r){var a=s.yAxis,n=s.width,i=s.height,l=s.offset;return OP(Lj(ks(ks(ks({},xc.defaultProps),a),{},{ticks:Ia(a,!0),viewBox:{x:0,y:0,width:n,height:i}})),l.top,l.top+l.height,r)},pl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function MA(t){var s,r,a,n,i,l,o=Ej(),c=Mj(),d=lme(),m=ks(ks({},t),{},{stroke:(s=t.stroke)!==null&&s!==void 0?s:pl.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:pl.fill,horizontal:(a=t.horizontal)!==null&&a!==void 0?a:pl.horizontal,horizontalFill:(n=t.horizontalFill)!==null&&n!==void 0?n:pl.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:pl.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:pl.verticalFill,x:pe(t.x)?t.x:d.left,y:pe(t.y)?t.y:d.top,width:pe(t.width)?t.width:d.width,height:pe(t.height)?t.height:d.height}),u=m.x,x=m.y,h=m.width,f=m.height,p=m.syncWithTicks,N=m.horizontalValues,y=m.verticalValues,j=ame(),g=nme();if(!pe(h)||h<=0||!pe(f)||f<=0||!pe(u)||u!==+u||!pe(x)||x!==+x)return null;var S=m.verticalCoordinatesGenerator||bhe,w=m.horizontalCoordinatesGenerator||vhe,C=m.horizontalPoints,_=m.verticalPoints;if((!C||!C.length)&&Me(w)){var $=N&&N.length,F=w({yAxis:g?ks(ks({},g),{},{ticks:$?N:g.ticks}):void 0,width:o,height:c,offset:d},$?!0:p);Xr(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sl(F),"]")),Array.isArray(F)&&(C=F)}if((!_||!_.length)&&Me(S)){var T=y&&y.length,R=S({xAxis:j?ks(ks({},j),{},{ticks:T?y:j.ticks}):void 0,width:o,height:c,offset:d},T?!0:p);Xr(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sl(R),"]")),Array.isArray(R)&&(_=R)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(xhe,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),X.createElement(phe,Si({},m,{offset:d,horizontalPoints:C,xAxis:j,yAxis:g})),X.createElement(ghe,Si({},m,{offset:d,verticalPoints:_,xAxis:j,yAxis:g})),X.createElement(fhe,Si({},m,{horizontalPoints:C})),X.createElement(yhe,Si({},m,{verticalPoints:_})))}MA.displayName="CartesianGrid";var jhe=["layout","type","stroke","connectNulls","isRange","ref"],Nhe=["key"],FA;function Do(t){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Do(t)}function RA(t,s){if(t==null)return{};var r=whe(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function whe(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function Ci(){return Ci=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ci.apply(this,arguments)}function n4(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function hn(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?n4(Object(r),!0).forEach(function(a){da(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function _he(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function i4(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,DA(a.key),a)}}function khe(t,s,r){return s&&i4(t.prototype,s),r&&i4(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function She(t,s,r){return s=yx(s),Che(t,LA()?Reflect.construct(s,r||[],yx(t).constructor):s.apply(t,r))}function Che(t,s){if(s&&(Do(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Phe(t)}function Phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LA=function(){return!!t})()}function yx(t){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(t)}function Ahe(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&sb(t,s)}function sb(t,s){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},sb(t,s)}function da(t,s,r){return s=DA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function DA(t){var s=Ohe(t,"string");return Do(s)=="symbol"?s:s+""}function Ohe(t,s){if(Do(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Do(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var en=function(t){function s(){var r;_he(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return r=She(this,s,[].concat(n)),da(r,"state",{isAnimationFinished:!0}),da(r,"id",lc("recharts-area-")),da(r,"handleAnimationEnd",function(){var l=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Me(l)&&l()}),da(r,"handleAnimationStart",function(){var l=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Me(l)&&l()}),r}return Ahe(s,t),khe(s,[{key:"renderDots",value:function(a,n,i){var l=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(l&&!o)return null;var c=this.props,d=c.dot,m=c.points,u=c.dataKey,x=$e(this.props,!1),h=$e(d,!0),f=m.map(function(N,y){var j=hn(hn(hn({key:"dot-".concat(y),r:3},x),h),{},{index:y,cx:N.x,cy:N.y,dataKey:u,value:N.value,payload:N.payload,points:m});return s.renderDotItem(d,j)}),p={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return X.createElement(Ze,Ci({className:"recharts-area-dots"},p),f)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,i=n.baseLine,l=n.points,o=n.strokeWidth,c=l[0].x,d=l[l.length-1].x,m=a*Math.abs(c-d),u=Tn(l.map(function(x){return x.y||0}));return pe(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(Tn(i.map(function(x){return x.y||0})),u)),pe(u)?X.createElement("rect",{x:c<d?c:c-m,y:0,width:m,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,i=n.baseLine,l=n.points,o=n.strokeWidth,c=l[0].y,d=l[l.length-1].y,m=a*Math.abs(c-d),u=Tn(l.map(function(x){return x.x||0}));return pe(i)&&typeof i=="number"?u=Math.max(i,u):i&&Array.isArray(i)&&i.length&&(u=Math.max(Tn(i.map(function(x){return x.x||0})),u)),pe(u)?X.createElement("rect",{x:0,y:c<d?c:c-m,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,i,l){var o=this.props,c=o.layout,d=o.type,m=o.stroke,u=o.connectNulls,x=o.isRange;o.ref;var h=RA(o,jhe);return X.createElement(Ze,{clipPath:i?"url(#clipPath-".concat(l,")"):null},X.createElement(Hl,Ci({},$e(h,!0),{points:a,connectNulls:u,type:d,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&X.createElement(Hl,Ci({},$e(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:u,fill:"none",points:a})),m!=="none"&&x&&X.createElement(Hl,Ci({},$e(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:u,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var i=this,l=this.props,o=l.points,c=l.baseLine,d=l.isAnimationActive,m=l.animationBegin,u=l.animationDuration,x=l.animationEasing,h=l.animationId,f=this.state,p=f.prevPoints,N=f.prevBaseLine;return X.createElement(va,{begin:m,duration:u,isActive:d,easing:x,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var j=y.t;if(p){var g=p.length/o.length,S=o.map(function($,F){var T=Math.floor(F*g);if(p[T]){var R=p[T],A=Ks(R.x,$.x),M=Ks(R.y,$.y);return hn(hn({},$),{},{x:A(j),y:M(j)})}return $}),w;if(pe(c)&&typeof c=="number"){var C=Ks(N,c);w=C(j)}else if(Re(c)||ic(c)){var _=Ks(N,0);w=_(j)}else w=c.map(function($,F){var T=Math.floor(F*g);if(N[T]){var R=N[T],A=Ks(R.x,$.x),M=Ks(R.y,$.y);return hn(hn({},$),{},{x:A(j),y:M(j)})}return $});return i.renderAreaStatically(S,w,a,n)}return X.createElement(Ze,null,X.createElement("defs",null,X.createElement("clipPath",{id:"animationClipPath-".concat(n)},i.renderClipRect(j))),X.createElement(Ze,{clipPath:"url(#animationClipPath-".concat(n,")")},i.renderAreaStatically(o,c,a,n)))})}},{key:"renderArea",value:function(a,n){var i=this.props,l=i.points,o=i.baseLine,c=i.isAnimationActive,d=this.state,m=d.prevPoints,u=d.prevBaseLine,x=d.totalLength;return c&&l&&l.length&&(!m&&x>0||!ko(m,l)||!ko(u,o))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(l,o,a,n)}},{key:"render",value:function(){var a,n=this.props,i=n.hide,l=n.dot,o=n.points,c=n.className,d=n.top,m=n.left,u=n.xAxis,x=n.yAxis,h=n.width,f=n.height,p=n.isAnimationActive,N=n.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,j=o.length===1,g=qe("recharts-area",c),S=u&&u.allowDataOverflow,w=x&&x.allowDataOverflow,C=S||w,_=Re(N)?this.id:N,$=(a=$e(l,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},F=$.r,T=F===void 0?3:F,R=$.strokeWidth,A=R===void 0?2:R,M=tW(l)?l:{},P=M.clipDot,E=P===void 0?!0:P,z=T*2+A;return X.createElement(Ze,{className:g},S||w?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(_)},X.createElement("rect",{x:S?m:m-h/2,y:w?d:d-f/2,width:S?h:h*2,height:w?f:f*2})),!E&&X.createElement("clipPath",{id:"clipPath-dots-".concat(_)},X.createElement("rect",{x:m-z/2,y:d-z/2,width:h+z,height:f+z}))):null,j?null:this.renderArea(C,_),(l||j)&&this.renderDots(C,E,_),(!p||y)&&Ua.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])}(k.PureComponent);FA=en;da(en,"displayName","Area");da(en,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!il.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});da(en,"getBaseValue",function(t,s,r,a){var n=t.layout,i=t.baseValue,l=s.props.baseValue,o=l??i;if(pe(o)&&typeof o=="number")return o;var c=n==="horizontal"?a:r,d=c.scale.domain();if(c.type==="number"){var m=Math.max(d[0],d[1]),u=Math.min(d[0],d[1]);return o==="dataMin"?u:o==="dataMax"||m<0?m:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]});da(en,"getComposedData",function(t){var s=t.props,r=t.item,a=t.xAxis,n=t.yAxis,i=t.xAxisTicks,l=t.yAxisTicks,o=t.bandSize,c=t.dataKey,d=t.stackedData,m=t.dataStartIndex,u=t.displayedData,x=t.offset,h=s.layout,f=d&&d.length,p=FA.getBaseValue(s,r,a,n),N=h==="horizontal",y=!1,j=u.map(function(S,w){var C;f?C=d[m+w]:(C=Gt(S,c),Array.isArray(C)?y=!0:C=[p,C]);var _=C[1]==null||f&&Gt(S,c)==null;return N?{x:$1({axis:a,ticks:i,bandSize:o,entry:S,index:w}),y:_?null:n.scale(C[1]),value:C,payload:S}:{x:_?null:a.scale(C[1]),y:$1({axis:n,ticks:l,bandSize:o,entry:S,index:w}),value:C,payload:S}}),g;return f||y?g=j.map(function(S){var w=Array.isArray(S.value)?S.value[0]:null;return N?{x:S.x,y:w!=null&&S.y!=null?n.scale(w):null}:{x:w!=null?a.scale(w):null,y:S.y}}):g=N?n.scale(p):a.scale(p),hn({points:j,baseLine:g,layout:h,isRange:y},x)});da(en,"renderDotItem",function(t,s){var r;if(X.isValidElement(t))r=X.cloneElement(t,s);else if(Me(t))r=t(s);else{var a=qe("recharts-area-dot",typeof t!="boolean"?t.className:""),n=s.key,i=RA(s,Nhe);r=X.createElement(Tp,Ci({},i,{key:n,className:a}))}return r});function Io(t){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Io(t)}function $he(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function The(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,qA(a.key),a)}}function Ehe(t,s,r){return s&&The(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mhe(t,s,r){return s=bx(s),Fhe(t,IA()?Reflect.construct(s,r||[],bx(t).constructor):s.apply(t,r))}function Fhe(t,s){if(s&&(Io(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rhe(t)}function Rhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IA=function(){return!!t})()}function bx(t){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bx(t)}function Lhe(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&rb(t,s)}function rb(t,s){return rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},rb(t,s)}function BA(t,s,r){return s=qA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function qA(t){var s=Dhe(t,"string");return Io(s)=="symbol"?s:s+""}function Dhe(t,s){if(Io(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Io(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ab.apply(this,arguments)}function Ihe(t){var s=t.xAxisId,r=Ej(),a=Mj(),n=NA(s);return n==null?null:k.createElement(xc,ab({},n,{className:qe("recharts-".concat(n.axisType," ").concat(n.axisType),n.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(l){return Ia(l,!0)}}))}var Wp=function(t){function s(){return $he(this,s),Mhe(this,s,arguments)}return Lhe(s,t),Ehe(s,[{key:"render",value:function(){return k.createElement(Ihe,this.props)}}])}(k.Component);BA(Wp,"displayName","XAxis");BA(Wp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bo(t){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},Bo(t)}function Bhe(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function qhe(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,WA(a.key),a)}}function zhe(t,s,r){return s&&qhe(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uhe(t,s,r){return s=vx(s),Whe(t,zA()?Reflect.construct(s,r||[],vx(t).constructor):s.apply(t,r))}function Whe(t,s){if(s&&(Bo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vhe(t)}function Vhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zA=function(){return!!t})()}function vx(t){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vx(t)}function Hhe(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&nb(t,s)}function nb(t,s){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},nb(t,s)}function UA(t,s,r){return s=WA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function WA(t){var s=Khe(t,"string");return Bo(s)=="symbol"?s:s+""}function Khe(t,s){if(Bo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(Bo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ib(){return ib=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ib.apply(this,arguments)}var Ghe=function(s){var r=s.yAxisId,a=Ej(),n=Mj(),i=wA(r);return i==null?null:k.createElement(xc,ib({},i,{className:qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:n},ticksGenerator:function(o){return Ia(o,!0)}}))},cu=function(t){function s(){return Bhe(this,s),Uhe(this,s,arguments)}return Hhe(s,t),zhe(s,[{key:"render",value:function(){return k.createElement(Ghe,this.props)}}])}(k.Component);UA(cu,"displayName","YAxis");UA(cu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function l4(t){return Zhe(t)||Xhe(t)||Qhe(t)||Yhe()}function Yhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qhe(t,s){if(t){if(typeof t=="string")return lb(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lb(t,s)}}function Xhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zhe(t){if(Array.isArray(t))return lb(t)}function lb(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}var ob=function(s,r,a,n,i){var l=Cr(s,Rj),o=Cr(s,qp),c=[].concat(l4(l),l4(o)),d=Cr(s,Up),m="".concat(n,"Id"),u=n[0],x=r;if(c.length&&(x=c.reduce(function(p,N){if(N.props[m]===a&&ga(N.props,"extendDomain")&&pe(N.props[u])){var y=N.props[u];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},x)),d.length){var h="".concat(u,"1"),f="".concat(u,"2");x=d.reduce(function(p,N){if(N.props[m]===a&&ga(N.props,"extendDomain")&&pe(N.props[h])&&pe(N.props[f])){var y=N.props[h],j=N.props[f];return[Math.min(p[0],y,j),Math.max(p[1],y,j)]}return p},x)}return i&&i.length&&(x=i.reduce(function(p,N){return pe(N)?[Math.min(p[0],N),Math.max(p[1],N)]:p},x)),x},VA={exports:{}};(function(t){var s=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function n(c,d,m){this.fn=c,this.context=d,this.once=m||!1}function i(c,d,m,u,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var h=new n(m,u||c,x),f=r?r+d:d;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],h]:c._events[f].push(h):(c._events[f]=h,c._eventsCount++),c}function l(c,d){--c._eventsCount===0?c._events=new a:delete c._events[d]}function o(){this._events=new a,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],m,u;if(this._eventsCount===0)return d;for(u in m=this._events)s.call(m,u)&&d.push(r?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(m)):d},o.prototype.listeners=function(d){var m=r?r+d:d,u=this._events[m];if(!u)return[];if(u.fn)return[u.fn];for(var x=0,h=u.length,f=new Array(h);x<h;x++)f[x]=u[x].fn;return f},o.prototype.listenerCount=function(d){var m=r?r+d:d,u=this._events[m];return u?u.fn?1:u.length:0},o.prototype.emit=function(d,m,u,x,h,f){var p=r?r+d:d;if(!this._events[p])return!1;var N=this._events[p],y=arguments.length,j,g;if(N.fn){switch(N.once&&this.removeListener(d,N.fn,void 0,!0),y){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,u),!0;case 4:return N.fn.call(N.context,m,u,x),!0;case 5:return N.fn.call(N.context,m,u,x,h),!0;case 6:return N.fn.call(N.context,m,u,x,h,f),!0}for(g=1,j=new Array(y-1);g<y;g++)j[g-1]=arguments[g];N.fn.apply(N.context,j)}else{var S=N.length,w;for(g=0;g<S;g++)switch(N[g].once&&this.removeListener(d,N[g].fn,void 0,!0),y){case 1:N[g].fn.call(N[g].context);break;case 2:N[g].fn.call(N[g].context,m);break;case 3:N[g].fn.call(N[g].context,m,u);break;case 4:N[g].fn.call(N[g].context,m,u,x);break;default:if(!j)for(w=1,j=new Array(y-1);w<y;w++)j[w-1]=arguments[w];N[g].fn.apply(N[g].context,j)}}return!0},o.prototype.on=function(d,m,u){return i(this,d,m,u,!1)},o.prototype.once=function(d,m,u){return i(this,d,m,u,!0)},o.prototype.removeListener=function(d,m,u,x){var h=r?r+d:d;if(!this._events[h])return this;if(!m)return l(this,h),this;var f=this._events[h];if(f.fn)f.fn===m&&(!x||f.once)&&(!u||f.context===u)&&l(this,h);else{for(var p=0,N=[],y=f.length;p<y;p++)(f[p].fn!==m||x&&!f[p].once||u&&f[p].context!==u)&&N.push(f[p]);N.length?this._events[h]=N.length===1?N[0]:N:l(this,h)}return this},o.prototype.removeAllListeners=function(d){var m;return d?(m=r?r+d:d,this._events[m]&&l(this,m)):(this._events=new a,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(VA);var Jhe=VA.exports;const exe=ot(Jhe);var og=new exe,cg="recharts.syncMouseEvents";function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},du(t)}function txe(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function sxe(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,HA(a.key),a)}}function rxe(t,s,r){return s&&sxe(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function dg(t,s,r){return s=HA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function HA(t){var s=axe(t,"string");return du(s)=="symbol"?s:s+""}function axe(t,s){if(du(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(du(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nxe=function(){function t(){txe(this,t),dg(this,"activeIndex",0),dg(this,"coordinateList",[]),dg(this,"layout","horizontal")}return rxe(t,[{key:"setDetails",value:function(r){var a,n=r.coordinateList,i=n===void 0?null:n,l=r.container,o=l===void 0?null:l,c=r.layout,d=c===void 0?null:c,m=r.offset,u=m===void 0?null:m,x=r.mouseHandlerCallback,h=x===void 0?null:x;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=o??this.container,this.layout=d??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var n=this.container.getBoundingClientRect(),i=n.x,l=n.y,o=n.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,m=((a=window)===null||a===void 0?void 0:a.scrollY)||0,u=i+c+d,x=l+this.offset.top+o/2+m;this.mouseHandlerCallback({pageX:u,pageY:x})}}}])}();function ixe(t,s,r){if(r==="number"&&s===!0&&Array.isArray(t)){var a=t==null?void 0:t[0],n=t==null?void 0:t[1];if(a&&n&&pe(a)&&pe(n))return!0}return!1}function lxe(t,s,r,a){var n=a/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?s.x-n:r.left+.5,y:t==="horizontal"?r.top+.5:s.y-n,width:t==="horizontal"?a:r.width-1,height:t==="horizontal"?r.height-1:a}}function KA(t){var s=t.cx,r=t.cy,a=t.radius,n=t.startAngle,i=t.endAngle,l=gt(s,r,a,n),o=gt(s,r,a,i);return{points:[l,o],cx:s,cy:r,radius:a,startAngle:n,endAngle:i}}function oxe(t,s,r){var a,n,i,l;if(t==="horizontal")a=s.x,i=a,n=r.top,l=r.top+r.height;else if(t==="vertical")n=s.y,l=n,a=r.left,i=r.left+r.width;else if(s.cx!=null&&s.cy!=null)if(t==="centric"){var o=s.cx,c=s.cy,d=s.innerRadius,m=s.outerRadius,u=s.angle,x=gt(o,c,d,u),h=gt(o,c,m,u);a=x.x,n=x.y,i=h.x,l=h.y}else return KA(s);return[{x:a,y:n},{x:i,y:l}]}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},uu(t)}function o4(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function jm(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?o4(Object(r),!0).forEach(function(a){cxe(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function cxe(t,s,r){return s=dxe(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function dxe(t){var s=uxe(t,"string");return uu(s)=="symbol"?s:s+""}function uxe(t,s){if(uu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(uu(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function mxe(t){var s,r,a=t.element,n=t.tooltipEventType,i=t.isActive,l=t.activeCoordinate,o=t.activePayload,c=t.offset,d=t.activeTooltipIndex,m=t.tooltipAxisBandSize,u=t.layout,x=t.chartName,h=(s=a.props.cursor)!==null&&s!==void 0?s:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!h||!i||!l||x!=="ScatterChart"&&n!=="axis")return null;var f,p=Hl;if(x==="ScatterChart")f=l,p=Eoe;else if(x==="BarChart")f=lxe(u,l,c,m),p=Aj;else if(u==="radial"){var N=KA(l),y=N.cx,j=N.cy,g=N.radius,S=N.startAngle,w=N.endAngle;f={cx:y,cy:j,startAngle:S,endAngle:w,innerRadius:g,outerRadius:g},p=qP}else f={points:oxe(u,l,c)},p=Hl;var C=jm(jm(jm(jm({stroke:"#ccc",pointerEvents:"none"},c),f),$e(h,!1)),{},{payload:o,payloadIndex:d,className:qe("recharts-tooltip-cursor",h.className)});return k.isValidElement(h)?k.cloneElement(h,C):k.createElement(p,C)}var hxe=["item"],xxe=["children","className","width","height","style","compact","title","desc"];function qo(t){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},qo(t)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Rl.apply(this,arguments)}function c4(t,s){return fxe(t)||gxe(t,s)||YA(t,s)||pxe()}function pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gxe(t,s){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,n,i,l,o=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,s!==0)for(;!(c=(a=i.call(r)).done)&&(o.push(a.value),o.length!==s);c=!0);}catch(m){d=!0,n=m}finally{try{if(!c&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(d)throw n}}return o}}function fxe(t){if(Array.isArray(t))return t}function d4(t,s){if(t==null)return{};var r=yxe(t,s),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)a=i[n],!(s.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}function yxe(t,s){if(t==null)return{};var r={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(s.indexOf(a)>=0)continue;r[a]=t[a]}return r}function bxe(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function vxe(t,s){for(var r=0;r<s.length;r++){var a=s[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,QA(a.key),a)}}function jxe(t,s,r){return s&&vxe(t.prototype,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nxe(t,s,r){return s=jx(s),wxe(t,GA()?Reflect.construct(s,r||[],jx(t).constructor):s.apply(t,r))}function wxe(t,s){if(s&&(qo(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(t)}function _xe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GA=function(){return!!t})()}function jx(t){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(t)}function kxe(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&cb(t,s)}function cb(t,s){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},cb(t,s)}function zo(t){return Pxe(t)||Cxe(t)||YA(t)||Sxe()}function Sxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YA(t,s){if(t){if(typeof t=="string")return db(t,s);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return db(t,s)}}function Cxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pxe(t){if(Array.isArray(t))return db(t)}function db(t,s){(s==null||s>t.length)&&(s=t.length);for(var r=0,a=new Array(s);r<s;r++)a[r]=t[r];return a}function u4(t,s){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,a)}return r}function ce(t){for(var s=1;s<arguments.length;s++){var r=arguments[s]!=null?arguments[s]:{};s%2?u4(Object(r),!0).forEach(function(a){Ee(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ee(t,s,r){return s=QA(s),s in t?Object.defineProperty(t,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[s]=r,t}function QA(t){var s=Axe(t,"string");return qo(s)=="symbol"?s:s+""}function Axe(t,s){if(qo(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,s);if(qo(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}var Oxe={xAxis:["bottom","top"],yAxis:["left","right"]},$xe={width:"100%",height:"100%"},XA={x:0,y:0};function Nm(t){return t}var Txe=function(s,r){return r==="horizontal"?s.x:r==="vertical"?s.y:r==="centric"?s.angle:s.radius},Exe=function(s,r,a,n){var i=r.find(function(m){return m&&m.index===a});if(i){if(s==="horizontal")return{x:i.coordinate,y:n.y};if(s==="vertical")return{x:n.x,y:i.coordinate};if(s==="centric"){var l=i.coordinate,o=n.radius;return ce(ce(ce({},n),gt(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}var c=i.coordinate,d=n.angle;return ce(ce(ce({},n),gt(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return XA},Vp=function(s,r){var a=r.graphicalItems,n=r.dataStartIndex,i=r.dataEndIndex,l=(a??[]).reduce(function(o,c){var d=c.props.data;return d&&d.length?[].concat(zo(o),zo(d)):o},[]);return l.length>0?l:s&&s.length&&pe(n)&&pe(i)?s.slice(n,i+1):[]};function ZA(t){return t==="number"?[0,"auto"]:void 0}var ub=function(s,r,a,n){var i=s.graphicalItems,l=s.tooltipAxis,o=Vp(r,s);return a<0||!i||!i.length||a>=o.length?null:i.reduce(function(c,d){var m,u=(m=d.props.data)!==null&&m!==void 0?m:r;u&&s.dataStartIndex+s.dataEndIndex!==0&&s.dataEndIndex-s.dataStartIndex>=a&&(u=u.slice(s.dataStartIndex,s.dataEndIndex+1));var x;if(l.dataKey&&!l.allowDuplicatedCategory){var h=u===void 0?o:u;x=Nh(h,l.dataKey,n)}else x=u&&u[a]||o[a];return x?[].concat(zo(c),[FP(d,x)]):c},[])},m4=function(s,r,a,n){var i=n||{x:s.chartX,y:s.chartY},l=Txe(i,a),o=s.orderedTooltipTicks,c=s.tooltipAxis,d=s.tooltipTicks,m=sne(l,o,d,c);if(m>=0&&d){var u=d[m]&&d[m].value,x=ub(s,r,m,u),h=Exe(a,o,m,i);return{activeTooltipIndex:m,activeLabel:u,activePayload:x,activeCoordinate:h}}return null},Mxe=function(s,r){var a=r.axes,n=r.graphicalItems,i=r.axisType,l=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,m=s.layout,u=s.children,x=s.stackOffset,h=AP(m,i);return a.reduce(function(f,p){var N,y=p.type.defaultProps!==void 0?ce(ce({},p.type.defaultProps),p.props):p.props,j=y.type,g=y.dataKey,S=y.allowDataOverflow,w=y.allowDuplicatedCategory,C=y.scale,_=y.ticks,$=y.includeHidden,F=y[l];if(f[F])return f;var T=Vp(s.data,{graphicalItems:n.filter(function(U){var q,B=l in U.props?U.props[l]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[l];return B===F}),dataStartIndex:c,dataEndIndex:d}),R=T.length,A,M,P;ixe(y.domain,S,j)&&(A=Sy(y.domain,null,S),h&&(j==="number"||C!=="auto")&&(P=rd(T,g,"category")));var E=ZA(j);if(!A||A.length===0){var z,O=(z=y.domain)!==null&&z!==void 0?z:E;if(g){if(A=rd(T,g,j),j==="category"&&h){var b=VU(A);w&&b?(M=A,A=ox(0,R)):w||(A=F1(O,A,p).reduce(function(U,q){return U.indexOf(q)>=0?U:[].concat(zo(U),[q])},[]))}else if(j==="category")w?A=A.filter(function(U){return U!==""&&!Re(U)}):A=F1(O,A,p).reduce(function(U,q){return U.indexOf(q)>=0||q===""||Re(q)?U:[].concat(zo(U),[q])},[]);else if(j==="number"){var L=lne(T,n.filter(function(U){var q,B,W=l in U.props?U.props[l]:(q=U.type.defaultProps)===null||q===void 0?void 0:q[l],I="hide"in U.props?U.props.hide:(B=U.type.defaultProps)===null||B===void 0?void 0:B.hide;return W===F&&($||!I)}),g,i,m);L&&(A=L)}h&&(j==="number"||C!=="auto")&&(P=rd(T,g,"category"))}else h?A=ox(0,R):o&&o[F]&&o[F].hasStack&&j==="number"?A=x==="expand"?[0,1]:MP(o[F].stackGroups,c,d):A=PP(T,n.filter(function(U){var q=l in U.props?U.props[l]:U.type.defaultProps[l],B="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return q===F&&($||!B)}),j,m,!0);if(j==="number")A=ob(u,A,F,i,_),O&&(A=Sy(O,A,S));else if(j==="category"&&O){var v=O,D=A.every(function(U){return v.indexOf(U)>=0});D&&(A=v)}}return ce(ce({},f),{},Ee({},F,ce(ce({},y),{},{axisType:i,domain:A,categoricalDomain:P,duplicateDomain:M,originalDomain:(N=y.domain)!==null&&N!==void 0?N:E,isCategorical:h,layout:m})))},{})},Fxe=function(s,r){var a=r.graphicalItems,n=r.Axis,i=r.axisType,l=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,m=s.layout,u=s.children,x=Vp(s.data,{graphicalItems:a,dataStartIndex:c,dataEndIndex:d}),h=x.length,f=AP(m,i),p=-1;return a.reduce(function(N,y){var j=y.type.defaultProps!==void 0?ce(ce({},y.type.defaultProps),y.props):y.props,g=j[l],S=ZA("number");if(!N[g]){p++;var w;return f?w=ox(0,h):o&&o[g]&&o[g].hasStack?(w=MP(o[g].stackGroups,c,d),w=ob(u,w,g,i)):(w=Sy(S,PP(x,a.filter(function(C){var _,$,F=l in C.props?C.props[l]:(_=C.type.defaultProps)===null||_===void 0?void 0:_[l],T="hide"in C.props?C.props.hide:($=C.type.defaultProps)===null||$===void 0?void 0:$.hide;return F===g&&!T}),"number",m),n.defaultProps.allowDataOverflow),w=ob(u,w,g,i)),ce(ce({},N),{},Ee({},g,ce(ce({axisType:i},n.defaultProps),{},{hide:!0,orientation:ur(Oxe,"".concat(i,".").concat(p%2),null),domain:w,originalDomain:S,isCategorical:f,layout:m})))}return N},{})},Rxe=function(s,r){var a=r.axisType,n=a===void 0?"xAxis":a,i=r.AxisComp,l=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,m=s.children,u="".concat(n,"Id"),x=Cr(m,i),h={};return x&&x.length?h=Mxe(s,{axes:x,graphicalItems:l,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:c,dataEndIndex:d}):l&&l.length&&(h=Fxe(s,{Axis:i,graphicalItems:l,axisType:n,axisIdKey:u,stackGroups:o,dataStartIndex:c,dataEndIndex:d})),h},Lxe=function(s){var r=bn(s),a=Ia(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:sj(a,function(n){return n.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Qh(r,a)}},h4=function(s){var r=s.children,a=s.defaultShowTooltip,n=nr(r,To),i=0,l=0;return s.data&&s.data.length!==0&&(l=s.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(i=n.props.startIndex),n.props.endIndex>=0&&(l=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!a}},Dxe=function(s){return!s||!s.length?!1:s.some(function(r){var a=qa(r&&r.type);return a&&a.indexOf("Bar")>=0})},x4=function(s){return s==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:s==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:s==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ixe=function(s,r){var a=s.props,n=s.graphicalItems,i=s.xAxisMap,l=i===void 0?{}:i,o=s.yAxisMap,c=o===void 0?{}:o,d=a.width,m=a.height,u=a.children,x=a.margin||{},h=nr(u,To),f=nr(u,Vn),p=Object.keys(c).reduce(function(w,C){var _=c[C],$=_.orientation;return!_.mirror&&!_.hide?ce(ce({},w),{},Ee({},$,w[$]+_.width)):w},{left:x.left||0,right:x.right||0}),N=Object.keys(l).reduce(function(w,C){var _=l[C],$=_.orientation;return!_.mirror&&!_.hide?ce(ce({},w),{},Ee({},$,ur(w,"".concat($))+_.height)):w},{top:x.top||0,bottom:x.bottom||0}),y=ce(ce({},N),p),j=y.bottom;h&&(y.bottom+=h.props.height||To.defaultProps.height),f&&r&&(y=nne(y,n,a,r));var g=d-y.left-y.right,S=m-y.top-y.bottom;return ce(ce({brushBottom:j},y),{},{width:Math.max(g,0),height:Math.max(S,0)})},Bxe=function(s,r){if(r==="xAxis")return s[r].width;if(r==="yAxis")return s[r].height},JA=function(s){var r=s.chartName,a=s.GraphicalChild,n=s.defaultTooltipEventType,i=n===void 0?"axis":n,l=s.validateTooltipEventTypes,o=l===void 0?["axis"]:l,c=s.axisComponents,d=s.legendContent,m=s.formatAxisMap,u=s.defaultProps,x=function(y,j){var g=j.graphicalItems,S=j.stackGroups,w=j.offset,C=j.updateId,_=j.dataStartIndex,$=j.dataEndIndex,F=y.barSize,T=y.layout,R=y.barGap,A=y.barCategoryGap,M=y.maxBarSize,P=x4(T),E=P.numericAxisName,z=P.cateAxisName,O=Dxe(g),b=[];return g.forEach(function(L,v){var D=Vp(y.data,{graphicalItems:[L],dataStartIndex:_,dataEndIndex:$}),U=L.type.defaultProps!==void 0?ce(ce({},L.type.defaultProps),L.props):L.props,q=U.dataKey,B=U.maxBarSize,W=U["".concat(E,"Id")],I=U["".concat(z,"Id")],Q={},Z=c.reduce(function(re,xe){var Ue=j["".concat(xe.axisType,"Map")],Us=U["".concat(xe.axisType,"Id")];Ue&&Ue[Us]||xe.axisType==="zAxis"||tl();var ii=Ue[Us];return ce(ce({},re),{},Ee(Ee({},xe.axisType,ii),"".concat(xe.axisType,"Ticks"),Ia(ii)))},Q),Y=Z[z],K=Z["".concat(z,"Ticks")],te=S&&S[W]&&S[W].hasStack&&gne(L,S[W].stackGroups),V=qa(L.type).indexOf("Bar")>=0,se=Qh(Y,K),J=[],oe=O&&rne({barSize:F,stackGroups:S,totalSize:Bxe(Z,z)});if(V){var je,ve,Te=Re(B)?M:B,Ke=(je=(ve=Qh(Y,K,!0))!==null&&ve!==void 0?ve:Te)!==null&&je!==void 0?je:0;J=ane({barGap:R,barCategoryGap:A,bandSize:Ke!==se?Ke:se,sizeList:oe[I],maxBarSize:Te}),Ke!==se&&(J=J.map(function(re){return ce(ce({},re),{},{position:ce(ce({},re.position),{},{offset:re.position.offset-Ke/2})})}))}var ys=L&&L.type&&L.type.getComposedData;ys&&b.push({props:ce(ce({},ys(ce(ce({},Z),{},{displayedData:D,props:y,dataKey:q,item:L,bandSize:se,barPosition:J,offset:w,stackedData:te,layout:T,dataStartIndex:_,dataEndIndex:$}))),{},Ee(Ee(Ee({key:L.key||"item-".concat(v)},E,Z[E]),z,Z[z]),"animationId",C)),childIndex:aW(L,y.children),item:L})}),b},h=function(y,j){var g=y.props,S=y.dataStartIndex,w=y.dataEndIndex,C=y.updateId;if(!C_({props:g}))return null;var _=g.children,$=g.layout,F=g.stackOffset,T=g.data,R=g.reverseStackOrder,A=x4($),M=A.numericAxisName,P=A.cateAxisName,E=Cr(_,a),z=xne(T,E,"".concat(M,"Id"),"".concat(P,"Id"),F,R),O=c.reduce(function(U,q){var B="".concat(q.axisType,"Map");return ce(ce({},U),{},Ee({},B,Rxe(g,ce(ce({},q),{},{graphicalItems:E,stackGroups:q.axisType===M&&z,dataStartIndex:S,dataEndIndex:w}))))},{}),b=Ixe(ce(ce({},O),{},{props:g,graphicalItems:E}),j==null?void 0:j.legendBBox);Object.keys(O).forEach(function(U){O[U]=m(g,O[U],b,U.replace("Map",""),r)});var L=O["".concat(P,"Map")],v=Lxe(L),D=x(g,ce(ce({},O),{},{dataStartIndex:S,dataEndIndex:w,updateId:C,graphicalItems:E,stackGroups:z,offset:b}));return ce(ce({formattedGraphicalItems:D,graphicalItems:E,offset:b,stackGroups:z},v),O)},f=function(N){function y(j){var g,S,w;return bxe(this,y),w=Nxe(this,y,[j]),Ee(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(w,"accessibilityManager",new nxe),Ee(w,"handleLegendBBoxUpdate",function(C){if(C){var _=w.state,$=_.dataStartIndex,F=_.dataEndIndex,T=_.updateId;w.setState(ce({legendBBox:C},h({props:w.props,dataStartIndex:$,dataEndIndex:F,updateId:T},ce(ce({},w.state),{},{legendBBox:C}))))}}),Ee(w,"handleReceiveSyncEvent",function(C,_,$){if(w.props.syncId===C){if($===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(_)}}),Ee(w,"handleBrushChange",function(C){var _=C.startIndex,$=C.endIndex;if(_!==w.state.dataStartIndex||$!==w.state.dataEndIndex){var F=w.state.updateId;w.setState(function(){return ce({dataStartIndex:_,dataEndIndex:$},h({props:w.props,dataStartIndex:_,dataEndIndex:$,updateId:F},w.state))}),w.triggerSyncEvent({dataStartIndex:_,dataEndIndex:$})}}),Ee(w,"handleMouseEnter",function(C){var _=w.getMouseInfo(C);if(_){var $=ce(ce({},_),{},{isTooltipActive:!0});w.setState($),w.triggerSyncEvent($);var F=w.props.onMouseEnter;Me(F)&&F($,C)}}),Ee(w,"triggeredAfterMouseMove",function(C){var _=w.getMouseInfo(C),$=_?ce(ce({},_),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState($),w.triggerSyncEvent($);var F=w.props.onMouseMove;Me(F)&&F($,C)}),Ee(w,"handleItemMouseEnter",function(C){w.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ee(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ee(w,"handleMouseMove",function(C){C.persist(),w.throttleTriggeredAfterMouseMove(C)}),Ee(w,"handleMouseLeave",function(C){w.throttleTriggeredAfterMouseMove.cancel();var _={isTooltipActive:!1};w.setState(_),w.triggerSyncEvent(_);var $=w.props.onMouseLeave;Me($)&&$(_,C)}),Ee(w,"handleOuterEvent",function(C){var _=rW(C),$=ur(w.props,"".concat(_));if(_&&Me($)){var F,T;/.*touch.*/i.test(_)?T=w.getMouseInfo(C.changedTouches[0]):T=w.getMouseInfo(C),$((F=T)!==null&&F!==void 0?F:{},C)}}),Ee(w,"handleClick",function(C){var _=w.getMouseInfo(C);if(_){var $=ce(ce({},_),{},{isTooltipActive:!0});w.setState($),w.triggerSyncEvent($);var F=w.props.onClick;Me(F)&&F($,C)}}),Ee(w,"handleMouseDown",function(C){var _=w.props.onMouseDown;if(Me(_)){var $=w.getMouseInfo(C);_($,C)}}),Ee(w,"handleMouseUp",function(C){var _=w.props.onMouseUp;if(Me(_)){var $=w.getMouseInfo(C);_($,C)}}),Ee(w,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ee(w,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseDown(C.changedTouches[0])}),Ee(w,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&w.handleMouseUp(C.changedTouches[0])}),Ee(w,"handleDoubleClick",function(C){var _=w.props.onDoubleClick;if(Me(_)){var $=w.getMouseInfo(C);_($,C)}}),Ee(w,"handleContextMenu",function(C){var _=w.props.onContextMenu;if(Me(_)){var $=w.getMouseInfo(C);_($,C)}}),Ee(w,"triggerSyncEvent",function(C){w.props.syncId!==void 0&&og.emit(cg,w.props.syncId,C,w.eventEmitterSymbol)}),Ee(w,"applySyncEvent",function(C){var _=w.props,$=_.layout,F=_.syncMethod,T=w.state.updateId,R=C.dataStartIndex,A=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)w.setState(ce({dataStartIndex:R,dataEndIndex:A},h({props:w.props,dataStartIndex:R,dataEndIndex:A,updateId:T},w.state)));else if(C.activeTooltipIndex!==void 0){var M=C.chartX,P=C.chartY,E=C.activeTooltipIndex,z=w.state,O=z.offset,b=z.tooltipTicks;if(!O)return;if(typeof F=="function")E=F(b,C);else if(F==="value"){E=-1;for(var L=0;L<b.length;L++)if(b[L].value===C.activeLabel){E=L;break}}var v=ce(ce({},O),{},{x:O.left,y:O.top}),D=Math.min(M,v.x+v.width),U=Math.min(P,v.y+v.height),q=b[E]&&b[E].value,B=ub(w.state,w.props.data,E),W=b[E]?{x:$==="horizontal"?b[E].coordinate:D,y:$==="horizontal"?U:b[E].coordinate}:XA;w.setState(ce(ce({},C),{},{activeLabel:q,activeCoordinate:W,activePayload:B,activeTooltipIndex:E}))}else w.setState(C)}),Ee(w,"renderCursor",function(C){var _,$=w.state,F=$.isTooltipActive,T=$.activeCoordinate,R=$.activePayload,A=$.offset,M=$.activeTooltipIndex,P=$.tooltipAxisBandSize,E=w.getTooltipEventType(),z=(_=C.props.active)!==null&&_!==void 0?_:F,O=w.props.layout,b=C.key||"_recharts-cursor";return X.createElement(mxe,{key:b,activeCoordinate:T,activePayload:R,activeTooltipIndex:M,chartName:r,element:C,isActive:z,layout:O,offset:A,tooltipAxisBandSize:P,tooltipEventType:E})}),Ee(w,"renderPolarAxis",function(C,_,$){var F=ur(C,"type.axisType"),T=ur(w.state,"".concat(F,"Map")),R=C.type.defaultProps,A=R!==void 0?ce(ce({},R),C.props):C.props,M=T&&T[A["".concat(F,"Id")]];return k.cloneElement(C,ce(ce({},M),{},{className:qe(F,M.className),key:C.key||"".concat(_,"-").concat($),ticks:Ia(M,!0)}))}),Ee(w,"renderPolarGrid",function(C){var _=C.props,$=_.radialLines,F=_.polarAngles,T=_.polarRadius,R=w.state,A=R.radiusAxisMap,M=R.angleAxisMap,P=bn(A),E=bn(M),z=E.cx,O=E.cy,b=E.innerRadius,L=E.outerRadius;return k.cloneElement(C,{polarAngles:Array.isArray(F)?F:Ia(E,!0).map(function(v){return v.coordinate}),polarRadius:Array.isArray(T)?T:Ia(P,!0).map(function(v){return v.coordinate}),cx:z,cy:O,innerRadius:b,outerRadius:L,key:C.key||"polar-grid",radialLines:$})}),Ee(w,"renderLegend",function(){var C=w.state.formattedGraphicalItems,_=w.props,$=_.children,F=_.width,T=_.height,R=w.props.margin||{},A=F-(R.left||0)-(R.right||0),M=SP({children:$,formattedGraphicalItems:C,legendWidth:A,legendContent:d});if(!M)return null;var P=M.item,E=d4(M,hxe);return k.cloneElement(P,ce(ce({},E),{},{chartWidth:F,chartHeight:T,margin:R,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ee(w,"renderTooltip",function(){var C,_=w.props,$=_.children,F=_.accessibilityLayer,T=nr($,Vr);if(!T)return null;var R=w.state,A=R.isTooltipActive,M=R.activeCoordinate,P=R.activePayload,E=R.activeLabel,z=R.offset,O=(C=T.props.active)!==null&&C!==void 0?C:A;return k.cloneElement(T,{viewBox:ce(ce({},z),{},{x:z.left,y:z.top}),active:O,label:E,payload:O?P:[],coordinate:M,accessibilityLayer:F})}),Ee(w,"renderBrush",function(C){var _=w.props,$=_.margin,F=_.data,T=w.state,R=T.offset,A=T.dataStartIndex,M=T.dataEndIndex,P=T.updateId;return k.cloneElement(C,{key:C.key||"_recharts-brush",onChange:fm(w.handleBrushChange,C.props.onChange),data:F,x:pe(C.props.x)?C.props.x:R.left,y:pe(C.props.y)?C.props.y:R.top+R.height+R.brushBottom-($.bottom||0),width:pe(C.props.width)?C.props.width:R.width,startIndex:A,endIndex:M,updateId:"brush-".concat(P)})}),Ee(w,"renderReferenceElement",function(C,_,$){if(!C)return null;var F=w,T=F.clipPathId,R=w.state,A=R.xAxisMap,M=R.yAxisMap,P=R.offset,E=C.type.defaultProps||{},z=C.props,O=z.xAxisId,b=O===void 0?E.xAxisId:O,L=z.yAxisId,v=L===void 0?E.yAxisId:L;return k.cloneElement(C,{key:C.key||"".concat(_,"-").concat($),xAxis:A[b],yAxis:M[v],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:T})}),Ee(w,"renderActivePoints",function(C){var _=C.item,$=C.activePoint,F=C.basePoint,T=C.childIndex,R=C.isRange,A=[],M=_.props.key,P=_.item.type.defaultProps!==void 0?ce(ce({},_.item.type.defaultProps),_.item.props):_.item.props,E=P.activeDot,z=P.dataKey,O=ce(ce({index:T,dataKey:z,cx:$.x,cy:$.y,r:4,fill:Pj(_.item),strokeWidth:2,stroke:"#fff",payload:$.payload,value:$.value},$e(E,!1)),wh(E));return A.push(y.renderActiveDot(E,O,"".concat(M,"-activePoint-").concat(T))),F?A.push(y.renderActiveDot(E,ce(ce({},O),{},{cx:F.x,cy:F.y}),"".concat(M,"-basePoint-").concat(T))):R&&A.push(null),A}),Ee(w,"renderGraphicChild",function(C,_,$){var F=w.filterFormatItem(C,_,$);if(!F)return null;var T=w.getTooltipEventType(),R=w.state,A=R.isTooltipActive,M=R.tooltipAxis,P=R.activeTooltipIndex,E=R.activeLabel,z=w.props.children,O=nr(z,Vr),b=F.props,L=b.points,v=b.isRange,D=b.baseLine,U=F.item.type.defaultProps!==void 0?ce(ce({},F.item.type.defaultProps),F.item.props):F.item.props,q=U.activeDot,B=U.hide,W=U.activeBar,I=U.activeShape,Q=!!(!B&&A&&O&&(q||W||I)),Z={};T!=="axis"&&O&&O.props.trigger==="click"?Z={onClick:fm(w.handleItemMouseEnter,C.props.onClick)}:T!=="axis"&&(Z={onMouseLeave:fm(w.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:fm(w.handleItemMouseEnter,C.props.onMouseEnter)});var Y=k.cloneElement(C,ce(ce({},F.props),Z));function K(xe){return typeof M.dataKey=="function"?M.dataKey(xe.payload):null}if(Q)if(P>=0){var te,V;if(M.dataKey&&!M.allowDuplicatedCategory){var se=typeof M.dataKey=="function"?K:"payload.".concat(M.dataKey.toString());te=Nh(L,se,E),V=v&&D&&Nh(D,se,E)}else te=L==null?void 0:L[P],V=v&&D&&D[P];if(I||W){var J=C.props.activeIndex!==void 0?C.props.activeIndex:P;return[k.cloneElement(C,ce(ce(ce({},F.props),Z),{},{activeIndex:J})),null,null]}if(!Re(te))return[Y].concat(zo(w.renderActivePoints({item:F,activePoint:te,basePoint:V,childIndex:P,isRange:v})))}else{var oe,je=(oe=w.getItemByXY(w.state.activeCoordinate))!==null&&oe!==void 0?oe:{graphicalItem:Y},ve=je.graphicalItem,Te=ve.item,Ke=Te===void 0?C:Te,ys=ve.childIndex,re=ce(ce(ce({},F.props),Z),{},{activeIndex:ys});return[k.cloneElement(Ke,re),null,null]}return v?[Y,null,null]:[Y,null]}),Ee(w,"renderCustomized",function(C,_,$){return k.cloneElement(C,ce(ce({key:"recharts-customized-".concat($)},w.props),w.state))}),Ee(w,"renderMap",{CartesianGrid:{handler:Nm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:Nm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:Nm},YAxis:{handler:Nm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((g=j.id)!==null&&g!==void 0?g:lc("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=kC(w.triggeredAfterMouseMove,(S=j.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return kxe(y,N),jxe(y,[{key:"componentDidMount",value:function(){var g,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,S=g.children,w=g.data,C=g.height,_=g.layout,$=nr(S,Vr);if($){var F=$.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,R=ub(this.state,w,F,T),A=this.state.tooltipTicks[F].coordinate,M=(this.state.offset.top+C)/2,P=_==="horizontal",E=P?{x:A,y:M}:{y:A,x:M},z=this.state.formattedGraphicalItems.find(function(b){var L=b.item;return L.type.name==="Scatter"});z&&(E=ce(ce({},E),z.props.points[F].tooltipPosition),R=z.props.points[F].tooltipPayload);var O={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:T,activePayload:R,activeCoordinate:E};this.setState(O),this.renderCursor($),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var w,C;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(g){qf([nr(g.children,Vr)],[nr(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=nr(this.props.children,Vr);if(g&&typeof g.props.shared=="boolean"){var S=g.props.shared?"axis":"item";return o.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),C=Oee(w),_={chartX:Math.round(g.pageX-C.left),chartY:Math.round(g.pageY-C.top)},$=w.width/S.offsetWidth||1,F=this.inRange(_.chartX,_.chartY,$);if(!F)return null;var T=this.state,R=T.xAxisMap,A=T.yAxisMap,M=this.getTooltipEventType(),P=m4(this.state,this.props.data,this.props.layout,F);if(M!=="axis"&&R&&A){var E=bn(R).scale,z=bn(A).scale,O=E&&E.invert?E.invert(_.chartX):null,b=z&&z.invert?z.invert(_.chartY):null;return ce(ce({},_),{},{xValue:O,yValue:b},P)}return P?ce(ce({},_),P):null}},{key:"inRange",value:function(g,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,_=g/w,$=S/w;if(C==="horizontal"||C==="vertical"){var F=this.state.offset,T=_>=F.left&&_<=F.left+F.width&&$>=F.top&&$<=F.top+F.height;return T?{x:_,y:$}:null}var R=this.state,A=R.angleAxisMap,M=R.radiusAxisMap;if(A&&M){var P=bn(A);return D1({x:_,y:$},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,S=this.getTooltipEventType(),w=nr(g,Vr),C={};w&&S==="axis"&&(w.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var _=wh(this.props,this.handleOuterEvent);return ce(ce({},_),C)}},{key:"addListener",value:function(){og.on(cg,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){og.removeListener(cg,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,S,w){for(var C=this.state.formattedGraphicalItems,_=0,$=C.length;_<$;_++){var F=C[_];if(F.item===g||F.props.key===g.key||S===qa(F.item.type)&&w===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,S=this.state.offset,w=S.left,C=S.top,_=S.height,$=S.width;return X.createElement("defs",null,X.createElement("clipPath",{id:g},X.createElement("rect",{x:w,y:C,height:_,width:$})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(S,w){var C=c4(w,2),_=C[0],$=C[1];return ce(ce({},S),{},Ee({},_,$.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(S,w){var C=c4(w,2),_=C[0],$=C[1];return ce(ce({},S),{},Ee({},_,$.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[g])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(g){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[g])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(g){var S=this.state,w=S.formattedGraphicalItems,C=S.activeItem;if(w&&w.length)for(var _=0,$=w.length;_<$;_++){var F=w[_],T=F.props,R=F.item,A=R.type.defaultProps!==void 0?ce(ce({},R.type.defaultProps),R.props):R.props,M=qa(R.type);if(M==="Bar"){var P=(T.data||[]).find(function(b){return hoe(g,b)});if(P)return{graphicalItem:F,payload:P}}else if(M==="RadialBar"){var E=(T.data||[]).find(function(b){return D1(g,b)});if(E)return{graphicalItem:F,payload:E}}else if(Lp(F,C)||Dp(F,C)||au(F,C)){var z=tde({graphicalItem:F,activeTooltipItem:C,itemData:A.data}),O=A.activeIndex===void 0?z:A.activeIndex;return{graphicalItem:ce(ce({},F),{},{childIndex:O}),payload:au(F,C)?A.data[z]:F.props.data[z]}}}return null}},{key:"render",value:function(){var g=this;if(!C_(this))return null;var S=this.props,w=S.children,C=S.className,_=S.width,$=S.height,F=S.style,T=S.compact,R=S.title,A=S.desc,M=d4(S,xxe),P=$e(M,!1);if(T)return X.createElement(H6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(Uf,Rl({},P,{width:_,height:$,title:R,desc:A}),this.renderClipPath(),A_(w,this.renderMap)));if(this.props.accessibilityLayer){var E,z;P.tabIndex=(E=this.props.tabIndex)!==null&&E!==void 0?E:0,P.role=(z=this.props.role)!==null&&z!==void 0?z:"application",P.onKeyDown=function(b){g.accessibilityManager.keyboardEvent(b)},P.onFocus=function(){g.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return X.createElement(H6,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",Rl({className:qe("recharts-wrapper",C),style:ce({position:"relative",cursor:"default",width:_,height:$},F)},O,{ref:function(L){g.container=L}}),X.createElement(Uf,Rl({},P,{width:_,height:$,title:R,desc:A,style:$xe}),this.renderClipPath(),A_(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(k.Component);Ee(f,"displayName",r),Ee(f,"defaultProps",ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Ee(f,"getDerivedStateFromProps",function(N,y){var j=N.dataKey,g=N.data,S=N.children,w=N.width,C=N.height,_=N.layout,$=N.stackOffset,F=N.margin,T=y.dataStartIndex,R=y.dataEndIndex;if(y.updateId===void 0){var A=h4(N);return ce(ce(ce({},A),{},{updateId:0},h(ce(ce({props:N},A),{},{updateId:0}),y)),{},{prevDataKey:j,prevData:g,prevWidth:w,prevHeight:C,prevLayout:_,prevStackOffset:$,prevMargin:F,prevChildren:S})}if(j!==y.prevDataKey||g!==y.prevData||w!==y.prevWidth||C!==y.prevHeight||_!==y.prevLayout||$!==y.prevStackOffset||!Ul(F,y.prevMargin)){var M=h4(N),P={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},E=ce(ce({},m4(y,g,_)),{},{updateId:y.updateId+1}),z=ce(ce(ce({},M),P),E);return ce(ce(ce({},z),h(ce({props:N},z),y)),{},{prevDataKey:j,prevData:g,prevWidth:w,prevHeight:C,prevLayout:_,prevStackOffset:$,prevMargin:F,prevChildren:S})}if(!qf(S,y.prevChildren)){var O,b,L,v,D=nr(S,To),U=D&&(O=(b=D.props)===null||b===void 0?void 0:b.startIndex)!==null&&O!==void 0?O:T,q=D&&(L=(v=D.props)===null||v===void 0?void 0:v.endIndex)!==null&&L!==void 0?L:R,B=U!==T||q!==R,W=!Re(g),I=W&&!B?y.updateId:y.updateId+1;return ce(ce({updateId:I},h(ce(ce({props:N},y),{},{updateId:I,dataStartIndex:U,dataEndIndex:q}),y)),{},{prevChildren:S,dataStartIndex:U,dataEndIndex:q})}return null}),Ee(f,"renderActiveDot",function(N,y,j){var g;return k.isValidElement(N)?g=k.cloneElement(N,y):Me(N)?g=N(y):g=X.createElement(Tp,y),X.createElement(Ze,{className:"recharts-active-dot",key:j},g)});var p=k.forwardRef(function(y,j){return X.createElement(f,Rl({},y,{ref:j}))});return p.displayName=f.displayName,p},qxe=JA({chartName:"PieChart",GraphicalChild:cn,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rp},{axisType:"radiusAxis",AxisComp:Mp}],formatAxisMap:Sne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),zxe=JA({chartName:"AreaChart",GraphicalChild:en,axisComponents:[{axisType:"xAxis",AxisComp:Wp},{axisType:"yAxis",AxisComp:cu}],formatAxisMap:Eue});function Rr(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function Qn(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}function Uxe(t,s){const r=Rr(t);return isNaN(s)?Qn(t,NaN):(r.setDate(r.getDate()+s),r)}const eO=6048e5,Wxe=864e5;let Vxe={};function Hp(){return Vxe}function mu(t,s){var o,c,d,m;const r=Hp(),a=(s==null?void 0:s.weekStartsOn)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??0,n=Rr(t),i=n.getDay(),l=(i<a?7:0)+i-a;return n.setDate(n.getDate()-l),n.setHours(0,0,0,0),n}function Nx(t){return mu(t,{weekStartsOn:1})}function tO(t){const s=Rr(t),r=s.getFullYear(),a=Qn(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const n=Nx(a),i=Qn(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=Nx(i);return s.getTime()>=n.getTime()?r+1:s.getTime()>=l.getTime()?r:r-1}function p4(t){const s=Rr(t);return s.setHours(0,0,0,0),s}function g4(t){const s=Rr(t),r=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return r.setUTCFullYear(s.getFullYear()),+t-+r}function Hxe(t,s){const r=p4(t),a=p4(s),n=+r-g4(r),i=+a-g4(a);return Math.round((n-i)/Wxe)}function Kxe(t){const s=tO(t),r=Qn(t,0);return r.setFullYear(s,0,4),r.setHours(0,0,0,0),Nx(r)}function Gxe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yxe(t){if(!Gxe(t)&&typeof t!="number")return!1;const s=Rr(t);return!isNaN(Number(s))}function Qxe(t){const s=Rr(t),r=Qn(t,0);return r.setFullYear(s.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Xxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zxe=(t,s,r)=>{let a;const n=Xxe[t];return typeof n=="string"?a=n:s===1?a=n.one:a=n.other.replace("{{count}}",s.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ug(t){return(s={})=>{const r=s.width?String(s.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Jxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},epe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},spe={date:ug({formats:Jxe,defaultWidth:"full"}),time:ug({formats:epe,defaultWidth:"full"}),dateTime:ug({formats:tpe,defaultWidth:"full"})},rpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ape=(t,s,r,a)=>rpe[t];function Rc(t){return(s,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let n;if(a==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):l;n=t.formattingValues[o]||t.formattingValues[l]}else{const l=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;n=t.values[o]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return n[i]}}const npe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ipe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ope={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},upe=(t,s)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mpe={ordinalNumber:upe,era:Rc({values:npe,defaultWidth:"wide"}),quarter:Rc({values:ipe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Rc({values:lpe,defaultWidth:"wide"}),day:Rc({values:ope,defaultWidth:"wide"}),dayPeriod:Rc({values:cpe,defaultWidth:"wide",formattingValues:dpe,defaultFormattingWidth:"wide"})};function Lc(t){return(s,r={})=>{const a=r.width,n=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=s.match(n);if(!i)return null;const l=i[0],o=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?xpe(o,u=>u.test(l)):hpe(o,u=>u.test(l));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const m=s.slice(l.length);return{value:d,rest:m}}}function hpe(t,s){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&s(t[r]))return r}function xpe(t,s){for(let r=0;r<t.length;r++)if(s(t[r]))return r}function ppe(t){return(s,r={})=>{const a=s.match(t.matchPattern);if(!a)return null;const n=a[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const o=s.slice(n.length);return{value:l,rest:o}}}const gpe=/^(\d+)(th|st|nd|rd)?/i,fpe=/\d+/i,ype={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bpe={any:[/^b/i,/^(a|c)/i]},vpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jpe={any:[/1/i,/2/i,/3/i,/4/i]},Npe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_pe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Spe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ppe={ordinalNumber:ppe({matchPattern:gpe,parsePattern:fpe,valueCallback:t=>parseInt(t,10)}),era:Lc({matchPatterns:ype,defaultMatchWidth:"wide",parsePatterns:bpe,defaultParseWidth:"any"}),quarter:Lc({matchPatterns:vpe,defaultMatchWidth:"wide",parsePatterns:jpe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lc({matchPatterns:Npe,defaultMatchWidth:"wide",parsePatterns:wpe,defaultParseWidth:"any"}),day:Lc({matchPatterns:_pe,defaultMatchWidth:"wide",parsePatterns:kpe,defaultParseWidth:"any"}),dayPeriod:Lc({matchPatterns:Spe,defaultMatchWidth:"any",parsePatterns:Cpe,defaultParseWidth:"any"})},Ape={code:"en-US",formatDistance:Zxe,formatLong:spe,formatRelative:ape,localize:mpe,match:Ppe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ope(t){const s=Rr(t);return Hxe(s,Qxe(s))+1}function $pe(t){const s=Rr(t),r=+Nx(s)-+Kxe(s);return Math.round(r/eO)+1}function sO(t,s){var m,u,x,h;const r=Rr(t),a=r.getFullYear(),n=Hp(),i=(s==null?void 0:s.firstWeekContainsDate)??((u=(m=s==null?void 0:s.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(x=n.locale)==null?void 0:x.options)==null?void 0:h.firstWeekContainsDate)??1,l=Qn(t,0);l.setFullYear(a+1,0,i),l.setHours(0,0,0,0);const o=mu(l,s),c=Qn(t,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const d=mu(c,s);return r.getTime()>=o.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function Tpe(t,s){var o,c,d,m;const r=Hp(),a=(s==null?void 0:s.firstWeekContainsDate)??((c=(o=s==null?void 0:s.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(d=r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??1,n=sO(t,s),i=Qn(t,0);return i.setFullYear(n,0,a),i.setHours(0,0,0,0),mu(i,s)}function Epe(t,s){const r=Rr(t),a=+mu(r,s)-+Tpe(r,s);return Math.round(a/eO)+1}function it(t,s){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(s,"0");return r+a}const un={y(t,s){const r=t.getFullYear(),a=r>0?r:1-r;return it(s==="yy"?a%100:a,s.length)},M(t,s){const r=t.getMonth();return s==="M"?String(r+1):it(r+1,2)},d(t,s){return it(t.getDate(),s.length)},a(t,s){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,s){return it(t.getHours()%12||12,s.length)},H(t,s){return it(t.getHours(),s.length)},m(t,s){return it(t.getMinutes(),s.length)},s(t,s){return it(t.getSeconds(),s.length)},S(t,s){const r=s.length,a=t.getMilliseconds(),n=Math.trunc(a*Math.pow(10,r-3));return it(n,s.length)}},gl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},f4={G:function(t,s,r){const a=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,s,r){if(s==="yo"){const a=t.getFullYear(),n=a>0?a:1-a;return r.ordinalNumber(n,{unit:"year"})}return un.y(t,s)},Y:function(t,s,r,a){const n=sO(t,a),i=n>0?n:1-n;if(s==="YY"){const l=i%100;return it(l,2)}return s==="Yo"?r.ordinalNumber(i,{unit:"year"}):it(i,s.length)},R:function(t,s){const r=tO(t);return it(r,s.length)},u:function(t,s){const r=t.getFullYear();return it(r,s.length)},Q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(a);case"QQ":return it(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,s,r){const a=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(a);case"qq":return it(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,s,r){const a=t.getMonth();switch(s){case"M":case"MM":return un.M(t,s);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,s,r){const a=t.getMonth();switch(s){case"L":return String(a+1);case"LL":return it(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,s,r,a){const n=Epe(t,a);return s==="wo"?r.ordinalNumber(n,{unit:"week"}):it(n,s.length)},I:function(t,s,r){const a=$pe(t);return s==="Io"?r.ordinalNumber(a,{unit:"week"}):it(a,s.length)},d:function(t,s,r){return s==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):un.d(t,s)},D:function(t,s,r){const a=Ope(t);return s==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):it(a,s.length)},E:function(t,s,r){const a=t.getDay();switch(s){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,s,r,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return it(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});case"eeee":default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(t,s,r,a){const n=t.getDay(),i=(n-a.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return it(i,s.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});case"cccc":default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(t,s,r){const a=t.getDay(),n=a===0?7:a;switch(s){case"i":return String(n);case"ii":return it(n,s.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,s,r){const n=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,s,r){const a=t.getHours();let n;switch(a===12?n=gl.noon:a===0?n=gl.midnight:n=a/12>=1?"pm":"am",s){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,s,r){const a=t.getHours();let n;switch(a>=17?n=gl.evening:a>=12?n=gl.afternoon:a>=4?n=gl.morning:n=gl.night,s){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,s,r){if(s==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return un.h(t,s)},H:function(t,s,r){return s==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):un.H(t,s)},K:function(t,s,r){const a=t.getHours()%12;return s==="Ko"?r.ordinalNumber(a,{unit:"hour"}):it(a,s.length)},k:function(t,s,r){let a=t.getHours();return a===0&&(a=24),s==="ko"?r.ordinalNumber(a,{unit:"hour"}):it(a,s.length)},m:function(t,s,r){return s==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):un.m(t,s)},s:function(t,s,r){return s==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):un.s(t,s)},S:function(t,s){return un.S(t,s)},X:function(t,s,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(s){case"X":return b4(a);case"XXXX":case"XX":return gi(a);case"XXXXX":case"XXX":default:return gi(a,":")}},x:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"x":return b4(a);case"xxxx":case"xx":return gi(a);case"xxxxx":case"xxx":default:return gi(a,":")}},O:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+y4(a,":");case"OOOO":default:return"GMT"+gi(a,":")}},z:function(t,s,r){const a=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+y4(a,":");case"zzzz":default:return"GMT"+gi(a,":")}},t:function(t,s,r){const a=Math.trunc(t.getTime()/1e3);return it(a,s.length)},T:function(t,s,r){const a=t.getTime();return it(a,s.length)}};function y4(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),n=Math.trunc(a/60),i=a%60;return i===0?r+String(n):r+String(n)+s+it(i,2)}function b4(t,s){return t%60===0?(t>0?"-":"+")+it(Math.abs(t)/60,2):gi(t,s)}function gi(t,s=""){const r=t>0?"-":"+",a=Math.abs(t),n=it(Math.trunc(a/60),2),i=it(a%60,2);return r+n+s+i}const v4=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},rO=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},Mpe=(t,s)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],n=r[2];if(!n)return v4(t,s);let i;switch(a){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",v4(a,s)).replace("{{time}}",rO(n,s))},Fpe={p:rO,P:Mpe},Rpe=/^D+$/,Lpe=/^Y+$/,Dpe=["D","DD","YY","YYYY"];function Ipe(t){return Rpe.test(t)}function Bpe(t){return Lpe.test(t)}function qpe(t,s,r){const a=zpe(t,s,r);if(console.warn(a),Dpe.includes(t))throw new RangeError(a)}function zpe(t,s,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Upe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vpe=/^'([^]*?)'?$/,Hpe=/''/g,Kpe=/[a-zA-Z]/;function wm(t,s,r){var m,u,x,h;const a=Hp(),n=a.locale??Ape,i=a.firstWeekContainsDate??((u=(m=a.locale)==null?void 0:m.options)==null?void 0:u.firstWeekContainsDate)??1,l=a.weekStartsOn??((h=(x=a.locale)==null?void 0:x.options)==null?void 0:h.weekStartsOn)??0,o=Rr(t);if(!Yxe(o))throw new RangeError("Invalid time value");let c=s.match(Wpe).map(f=>{const p=f[0];if(p==="p"||p==="P"){const N=Fpe[p];return N(f,n.formatLong)}return f}).join("").match(Upe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:Gpe(f)};if(f4[p])return{isToken:!0,value:f};if(p.match(Kpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});n.localize.preprocessor&&(c=n.localize.preprocessor(o,c));const d={firstWeekContainsDate:i,weekStartsOn:l,locale:n};return c.map(f=>{if(!f.isToken)return f.value;const p=f.value;(Bpe(p)||Ipe(p))&&qpe(p,s,String(t));const N=f4[p[0]];return N(o,p,n.localize,d)}).join("")}function Gpe(t){const s=t.match(Vpe);return s?s[1].replace(Hpe,"'"):t}function Ype(t,s){return Uxe(t,-30)}const Qpe=async(t,s)=>{var l;const n=(await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/dashboard",{params:{metric_type:"overview",date_range:s},headers:{Authorization:`Bearer ${t}`}})).data,i=((l=n.daily_orders)==null?void 0:l.map(o=>({date:o.date,count:Number(o.count||0),value:Number(o.total_amount||0)})))||[];return{total_users:Number(n.total_users||0),active_users:Number(n.active_users||0),total_orders:Number(n.total_orders||0),gross_merchandise_value:Number(n.gmv||0),platform_revenue:Number(n.total_revenue||0),user_growth_rate:Number(n.user_growth_rate||0),order_volume_trend:i}},Xpe=async(t,s)=>{const a=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/dashboard",{params:{metric_type:"users",date_range:s},headers:{Authorization:`Bearer ${t}`}});return{new_registrations:[],user_retention_rates:{day_1:85,day_7:60,day_30:45},user_activity_patterns:[],churn_analysis:{churned_users:0,churn_rate:0},user_demographics:{by_type:[{type:"customer",count:a.data.total_customers||0},{type:"supplier",count:a.data.total_suppliers||0}],by_account_type:[]}}},Zpe=async(t,s,r)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/export",{export_type:s,data_categories:["platform_overview","users","transactions","suppliers"],date_range:r},{headers:{Authorization:`Bearer ${t}`},responseType:"blob"})).data,Jpe=()=>{var R;const t=ae(A=>A.authentication_state.auth_token),[s,r]=Ie(),a=s.get("metric_type")||"overview",n=s.get("date_range")||"last_30_days",[i,l]=k.useState(n),[o,c]=k.useState({start:wm(Ype(new Date),"yyyy-MM-dd"),end:wm(new Date,"yyyy-MM-dd")}),{data:d,isLoading:m,error:u,refetch:x}=ie({queryKey:["admin-analytics-platform",i],queryFn:()=>Qpe(t,i),enabled:!!t&&a==="overview",staleTime:5*60*1e3,refetchOnWindowFocus:!1}),{data:h,isLoading:f,error:p}=ie({queryKey:["admin-analytics-users",i],queryFn:()=>Xpe(t,i),enabled:!!t&&a==="users",staleTime:5*60*1e3,refetchOnWindowFocus:!1}),N=A=>{r(M=>{const P=new URLSearchParams(M);return P.set("metric_type",A),P})},y=A=>{l(A),r(M=>{const P=new URLSearchParams(M);return P.set("date_range",A),P})},j=()=>{l("custom")},g=async A=>{if(t)try{const M=await Zpe(t,A,i),P=window.URL.createObjectURL(M),E=document.createElement("a");E.href=P,E.download=`buildeasy-analytics-${A}-${new Date().toISOString().split("T")[0]}.${A}`,document.body.appendChild(E),E.click(),document.body.removeChild(E),window.URL.revokeObjectURL(P)}catch(M){console.error("Export failed:",M)}},S=()=>{x()},w=k.useMemo(()=>d?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(d.gross_merchandise_value):"$0",[d]),C=k.useMemo(()=>d?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(d.platform_revenue):"$0",[d]),_=k.useMemo(()=>{if(!d)return"0%";const A=d.user_growth_rate;return`${A>=0?"+":""}${A.toFixed(1)}%`},[d]),$={primary:"#2563eb",secondary:"#10b981"},F=["#2563eb","#10b981","#f59e0b","#8b5cf6","#ec4899","#06b6d4"],T=k.useMemo(()=>d?[{title:"Total Users",value:d.total_users.toLocaleString(),icon:Tt,change:_,changeType:d.user_growth_rate>=0?"positive":"negative",color:"blue"},{title:"Active Users (30d)",value:d.active_users.toLocaleString(),icon:oa,change:`${(d.active_users/d.total_users*100).toFixed(1)}% of total`,changeType:"neutral",color:"green"},{title:"Total Orders",value:d.total_orders.toLocaleString(),icon:Je,change:void 0,changeType:"neutral",color:"purple"},{title:"GMV",value:w,icon:Be,change:void 0,changeType:"neutral",color:"amber"},{title:"Platform Revenue",value:C,icon:Ve,change:void 0,changeType:"neutral",color:"emerald"}]:[],[d,w,C,_]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Analytics"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Comprehensive performance metrics and insights"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:S,disabled:m,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:[e.jsx(Ht,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),"Refresh"]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:e.jsxs("div",{className:"py-1",children:[e.jsx("button",{onClick:()=>g("csv"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Export as CSV"}),e.jsx("button",{onClick:()=>g("xlsx"),className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",children:"Export as Excel"})]})})]})]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ft,{className:"h-5 w-5 text-gray-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Date Range:"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["last_7_days","last_30_days","last_90_days","last_year","all_time"].map(A=>e.jsx("button",{onClick:()=>y(A),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${i===A?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:A.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase())},A)),e.jsx("button",{onClick:()=>y("custom"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-colors ${i==="custom"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Custom"})]})]}),i==="custom"&&e.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-end space-y-3 sm:space-y-0 sm:space-x-4 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:o.start,onChange:A=>c(M=>({...M,start:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:o.end,onChange:A=>c(M=>({...M,end:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("button",{onClick:j,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Apply"})]})]})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:oa},{id:"users",label:"User Analytics",icon:Tt},{id:"transactions",label:"Transactions",icon:Be},{id:"suppliers",label:"Suppliers",icon:Ea},{id:"products",label:"Products",icon:Se}].map(A=>{const M=A.icon;return e.jsxs("button",{onClick:()=>N(A.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${a===A.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(M,{className:"h-4 w-4"}),e.jsx("span",{children:A.label})]},A.id)})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a==="overview"&&e.jsxs(e.Fragment,{children:[u&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error loading analytics"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:u instanceof Error?u.message:"Failed to load platform metrics"})]})]})}),m?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5].map(A=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]},A))}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})]}):d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:T.map((A,M)=>{const P=A.icon,E={blue:"bg-blue-50 text-blue-600",green:"bg-green-50 text-green-600",purple:"bg-purple-50 text-purple-600",amber:"bg-amber-50 text-amber-600",emerald:"bg-emerald-50 text-emerald-600"}[A.color]||"bg-gray-50 text-gray-600";return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600",children:A.title}),e.jsx("div",{className:`p-3 rounded-lg ${E}`,children:e.jsx(P,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"flex items-baseline justify-between",children:e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:A.value})}),A.change&&e.jsx("div",{className:"mt-2 flex items-center",children:e.jsx("span",{className:`text-sm font-medium ${A.changeType==="positive"?"text-green-600":A.changeType==="negative"?"text-red-600":"text-gray-600"}`,children:A.change})})]},M)})}),d.order_volume_trend&&d.order_volume_trend.length>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Order Volume Trend"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Daily order count and value over time"})]})}),e.jsx(S2,{width:"100%",height:400,children:e.jsxs(zxe,{data:d.order_volume_trend,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorCount",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:$.primary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:$.primary,stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:$.secondary,stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:$.secondary,stopOpacity:0})]})]}),e.jsx(MA,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(Wp,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:A=>wm(new Date(A),"MMM dd")}),e.jsx(cu,{yAxisId:"left",stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"Order Count",angle:-90,position:"insideLeft",style:{fontSize:"12px"}}}),e.jsx(cu,{yAxisId:"right",orientation:"right",stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"Order Value ($)",angle:90,position:"insideRight",style:{fontSize:"12px"}}}),e.jsx(Vr,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px"},labelFormatter:A=>wm(new Date(A),"MMM dd, yyyy"),formatter:(A,M)=>M==="count"?[A,"Orders"]:[`$${A.toLocaleString()}`,"Value"]}),e.jsx(Vn,{wrapperStyle:{paddingTop:"20px"},formatter:A=>A==="count"?"Order Count":"Order Value"}),e.jsx(en,{yAxisId:"left",type:"monotone",dataKey:"count",stroke:$.primary,strokeWidth:2,fillOpacity:1,fill:"url(#colorCount)"}),e.jsx(en,{yAxisId:"right",type:"monotone",dataKey:"value",stroke:$.secondary,strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"User Distribution"}),(R=h==null?void 0:h.user_demographics)!=null&&R.by_type&&h.user_demographics.by_type.length>0?e.jsx(S2,{width:"100%",height:250,children:e.jsxs(qxe,{children:[e.jsx(cn,{data:h.user_demographics.by_type,dataKey:"count",nameKey:"type",cx:"50%",cy:"50%",outerRadius:80,label:A=>`${A.type}: ${A.count}`,children:h.user_demographics.by_type.map((A,M)=>e.jsx(vp,{fill:F[M%F.length]},`cell-${M}`))}),e.jsx(Vr,{}),e.jsx(Vn,{})]})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsx("p",{children:"No user distribution data available"})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Platform Health"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(oa,{className:"h-5 w-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"System Status"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Operational"})]})]}),e.jsx("span",{className:"px-3 py-1 bg-green-600 text-white text-xs font-semibold rounded-full",children:"99.9%"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Je,{className:"h-5 w-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Active Orders"}),e.jsx("p",{className:"text-xs text-gray-600",children:"In progress"})]})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:d.total_orders>0?Math.floor(d.total_orders*.15):0})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(Ve,{className:"h-5 w-5 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Conversion Rate"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Guest to customer"})]})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"8.5%"})]})]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[e.jsx(oa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No analytics data available"})]})]}),a==="users"&&e.jsx(e.Fragment,{children:f?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}):p?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-5 w-5 text-red-600 mr-3"}),e.jsx("p",{className:"text-red-800",children:"Failed to load user analytics"})]})}):h?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"User Retention Rates"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Day 1 Retention"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[h.user_retention_rates.day_1,"%"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Day 7 Retention"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[h.user_retention_rates.day_7,"%"]})]}),e.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Day 30 Retention"}),e.jsxs("p",{className:"text-3xl font-bold text-amber-600",children:[h.user_retention_rates.day_30,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"User Demographics"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.user_demographics.by_type.map((A,M)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:F[M%F.length]}}),e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:A.type})]}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:A.count.toLocaleString()})]},M))})]})]}):null}),a==="transactions"&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[e.jsx(Be,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transaction Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Detailed transaction analytics coming soon. This will include payment method distribution, refund rates, and average order value trends."})]}),a==="suppliers"&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[e.jsx(Ea,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Supplier Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Supplier performance analytics coming soon. This will include revenue rankings, fulfillment rates, and satisfaction metrics."})]}),a==="products"&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 text-center",children:[e.jsx(Se,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Product Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Product performance analytics coming soon. This will include popular products, category performance, and search trends."})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(We,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-1",children:"Admin Analytics Dashboard"}),e.jsx("p",{className:"text-sm text-blue-800",children:"All metrics update automatically based on your selected date range. Use the export button to download data for external analysis. Custom reports and advanced filtering features are available in the premium analytics module."})]})]})})})]})})},e0e=async t=>{const{data:s}=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/communications/announcements?include_analytics=true&status=active,scheduled,draft",{headers:{Authorization:`Bearer ${t}`}});return s},t0e=async(t,s)=>{const{data:r}=await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/communications/announcements",{title:s.subject,content:s.content,target_segments:s.target_segments,delivery_channels:s.delivery_channels,schedule_date:s.schedule_date},{headers:{Authorization:`Bearer ${t}`}});return r},s0e=async t=>{const{data:s}=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/users/segments",{headers:{Authorization:`Bearer ${t}`}});return s},r0e=async t=>{const{data:s}=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/notifications/templates?template_type=email,sms",{headers:{Authorization:`Bearer ${t}`}});return s},a0e=async(t,s,r)=>{const{data:a}=await H.put(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/notifications/templates/${s}`,r,{headers:{Authorization:`Bearer ${t}`}});return a},n0e=async(t,s,r)=>{const{data:a}=await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/communications/emergency-broadcast",{message:s,severity:r,channels:["email","sms","in_app"],target_all_users:!0},{headers:{Authorization:`Bearer ${t}`}});return a},i0e=()=>{var I,Q;const[t,s]=Ie(),r=Fe(),a=ae(Z=>Z.authentication_state.auth_token),[n,i]=k.useState(t.get("communication_type")||"announcements"),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,u]=k.useState(null),[x]=k.useState(null),[h,f]=k.useState({subject:"",content:"",target_segments:[],delivery_channels:["in_app"],schedule_date:null,is_draft:!1}),[p,N]=k.useState(""),[y,j]=k.useState("high"),[g,S]=k.useState(""),[w,C]=k.useState([]),[_,$]=k.useState("all"),{data:F,isLoading:T}=ie({queryKey:["admin-announcements",_],queryFn:()=>e0e(a),enabled:!!a&&n==="announcements",staleTime:6e4,refetchOnWindowFocus:!1}),{data:R,isLoading:A}=ie({queryKey:["admin-user-segments"],queryFn:()=>s0e(a),enabled:!!a,staleTime:3e5,refetchOnWindowFocus:!1}),{data:M,isLoading:P}=ie({queryKey:["admin-notification-templates"],queryFn:()=>r0e(a),enabled:!!a&&n==="templates",staleTime:6e4,refetchOnWindowFocus:!1}),E=ue({mutationFn:Z=>t0e(a,Z),onSuccess:()=>{r.invalidateQueries({queryKey:["admin-announcements"]}),o(!1),f({subject:"",content:"",target_segments:[],delivery_channels:["in_app"],schedule_date:null,is_draft:!1})}}),z=ue({mutationFn:({template_id:Z,updates:Y})=>a0e(a,Z,Y),onSuccess:()=>{r.invalidateQueries({queryKey:["admin-notification-templates"]}),u(null)}}),O=ue({mutationFn:({message:Z,severity:Y})=>n0e(a,Z,Y),onSuccess:()=>{N(""),j("high"),d(!1)}}),b=Z=>{i(Z),s({communication_type:Z})},L=()=>{E.mutate(h)},v=()=>{m&&z.mutate({template_id:m.template_id,updates:{template_content:g,template_variables:w}})},D=()=>{O.mutate({message:p,severity:y})},U=Z=>{f(Y=>({...Y,target_segments:Y.target_segments.includes(Z)?Y.target_segments.filter(K=>K!==Z):[...Y.target_segments,Z]}))},q=Z=>{f(Y=>({...Y,delivery_channels:Y.delivery_channels.includes(Z)?Y.delivery_channels.filter(K=>K!==Z):[...Y.delivery_channels,Z]}))},B=(F==null?void 0:F.filter(Z=>_==="all"?!0:Z.status===_))||[],W=h.target_segments.reduce((Z,Y)=>{var te;const K=(te=R==null?void 0:R.segments)==null?void 0:te.find(V=>V.segment_id===Y);return Z+((K==null?void 0:K.user_count)||0)},0);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Communication"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage announcements, templates, campaigns, and emergency broadcasts"})]}),n==="announcements"&&e.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200",children:[e.jsx($t,{className:"w-5 h-5 mr-2"}),"New Announcement"]})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-8",children:[e.jsx("button",{onClick:()=>b("announcements"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="announcements"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Fs,{className:"w-5 h-5"}),e.jsx("span",{children:"Announcements"})]})}),e.jsx("button",{onClick:()=>b("templates"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="templates"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{children:"Templates"})]})}),e.jsx("button",{onClick:()=>b("campaigns"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="campaigns"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ya,{className:"w-5 h-5"}),e.jsx("span",{children:"Campaigns"})]})}),e.jsx("button",{onClick:()=>b("segments"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="segments"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5"}),e.jsx("span",{children:"User Segments"})]})}),e.jsx("button",{onClick:()=>b("emergency"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${n==="emergency"?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(as,{className:"w-5 h-5"}),e.jsx("span",{children:"Emergency"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="announcements"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx($r,{className:"w-5 h-5 text-gray-400"}),e.jsx("div",{className:"flex space-x-2",children:["all","active","scheduled","draft"].map(Z=>e.jsx("button",{onClick:()=>$(Z),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_===Z?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:Z.charAt(0).toUpperCase()+Z.slice(1)},Z))})]})})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Channels"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):B.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[e.jsx(Fs,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No announcements found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Create your first announcement to get started"})]})}):B.map(Z=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:Z.title}),e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-md",children:Z.content})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[Z.status==="active"&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Active"]}),Z.status==="scheduled"&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(nt,{className:"w-3 h-3 mr-1"}),"Scheduled"]}),Z.status==="draft"&&e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Draft"})]}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[Z.target_segments.length," segment",Z.target_segments.length!==1?"s":""]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex space-x-1",children:Z.delivery_channels.map(Y=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-700",children:Y},Y))})}),e.jsx("td",{className:"px-6 py-4 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Lt,{className:"w-4 h-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-gray-900",children:Z.views_count||0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ve,{className:"w-4 h-4 text-gray-400 mr-1"}),e.jsxs("span",{className:"text-gray-900",children:[Z.delivery_rate||0,"%"]})]})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(Z.created_at).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx(aS,{className:"w-4 h-4"})}),e.jsx("button",{className:"text-red-600 hover:text-red-900",children:e.jsx(Xt,{className:"w-4 h-4"})})]})})]},Z.announcement_id))})]})})})]}),n==="templates"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white rounded-xl shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Templates"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:P?e.jsx("div",{className:"p-6 flex justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):M==null?void 0:M.map(Z=>e.jsxs("button",{onClick:()=>{u(Z),S(Z.template_content),C(Z.template_variables)},className:`w-full text-left p-4 hover:bg-gray-50 transition-colors ${(m==null?void 0:m.template_id)===Z.template_id?"bg-blue-50":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:Z.template_name}),Z.template_type==="email"?e.jsx(Kt,{className:"w-4 h-4 text-gray-400"}):e.jsx(hs,{className:"w-4 h-4 text-gray-400"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Used ",Z.usage_count," times"]})]},Z.template_id))})]}),e.jsx("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:m?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Edit Template"}),e.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(be,{className:"w-5 h-5"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name"}),e.jsx("input",{type:"text",value:m.template_name,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),e.jsx("textarea",{value:g,onChange:Z=>S(Z.target.value),rows:10,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter template content..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Variables"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map((Z,Y)=>e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-md bg-blue-100 text-blue-800 text-sm font-medium",children:`{{${Z}}}`},Y))})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>u(null),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:v,disabled:z.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:z.isPending?"Saving...":"Save Template"})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(We,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"Select a template to edit"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Choose a template from the list to view and edit its content"})]})})]}),n==="campaigns"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Campaign Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-lg p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Delivery Rate"}),e.jsx(Ve,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"98.5%"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"+2.3% from last month"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-lg p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Open Rate"}),e.jsx(Kt,{className:"w-5 h-5 text-green-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"42.8%"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"+5.1% from last month"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-lg p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Click Rate"}),e.jsx(nS,{className:"w-5 h-5 text-purple-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"12.4%"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"+1.8% from last month"})]})]})]})}),n==="segments"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"User Segments"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Available audience segments for targeted communications"})]}),e.jsx("div",{className:"p-6",children:A?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(I=R==null?void 0:R.segments)==null?void 0:I.map(Z=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:Z.name}),e.jsx(Tt,{className:"w-5 h-5 text-blue-600"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:Z.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:Z.user_count.toLocaleString()}),e.jsx("span",{className:"text-xs text-gray-500",children:"users"})]})]},Z.segment_id))})})]}),n==="emergency"&&e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-orange-100 rounded-xl border-2 border-red-300 p-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-red-600 rounded-full",children:e.jsx(as,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emergency Broadcast"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:"Send critical platform-wide notifications to all users"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Severity Level"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["low","medium","high","critical"].map(Z=>e.jsx("button",{onClick:()=>j(Z),className:`px-4 py-2 rounded-lg font-medium text-sm transition-all ${y===Z?Z==="critical"?"bg-red-600 text-white shadow-lg":Z==="high"?"bg-orange-600 text-white shadow-lg":Z==="medium"?"bg-yellow-600 text-white shadow-lg":"bg-blue-600 text-white shadow-lg":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:Z.charAt(0).toUpperCase()+Z.slice(1)},Z))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Emergency Message"}),e.jsx("textarea",{value:p,onChange:Z=>N(Z.target.value),rows:6,placeholder:"Enter emergency message to broadcast to all users...",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-red-500 focus:ring-4 focus:ring-red-100 transition-all"})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-300 p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(as,{className:"w-5 h-5 text-amber-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Warning"}),e.jsx("p",{className:"text-sm text-gray-700",children:"This will send an immediate notification via email, SMS, and in-app to all platform users. This action cannot be undone. Please ensure the message is accurate before sending."})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{N(""),j("high")},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Clear"}),e.jsx("button",{onClick:()=>d(!0),disabled:!p.trim()||O.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:O.isPending?"Sending...":"Send Emergency Broadcast"})]})]})]})})]})]}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between sticky top-0 bg-white",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create Announcement"}),e.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(be,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Announcement Title"}),e.jsx("input",{type:"text",value:h.subject,onChange:Z=>f(Y=>({...Y,subject:Z.target.value})),placeholder:"Enter announcement title...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message Content"}),e.jsx("textarea",{value:h.content,onChange:Z=>f(Y=>({...Y,content:Z.target.value})),rows:6,placeholder:"Enter announcement message...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Target Audience"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(Q=R==null?void 0:R.segments)==null?void 0:Q.map(Z=>e.jsxs("label",{className:"flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:h.target_segments.includes(Z.segment_id),onChange:()=>U(Z.segment_id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:Z.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Z.user_count.toLocaleString()," users"]})]})]},Z.segment_id))}),e.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["Total target audience: ",W.toLocaleString()," users"]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Delivery Channels"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:["in_app","email","sms"].map(Z=>e.jsxs("label",{className:"flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:h.delivery_channels.includes(Z),onChange:()=>q(Z),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:Z==="in_app"?"In-App":Z.toUpperCase()})]},Z))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Schedule Date (Optional)"}),e.jsx("input",{type:"datetime-local",value:h.schedule_date||"",onChange:Z=>f(Y=>({...Y,schedule_date:Z.target.value||null})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to send immediately"})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 bg-gray-50 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>o(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>{f(Z=>({...Z,is_draft:!0})),L()},disabled:E.isPending,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50",children:"Save as Draft"}),e.jsx("button",{onClick:()=>{f(Z=>({...Z,is_draft:!1})),L()},disabled:!h.subject.trim()||!h.content.trim()||h.target_segments.length===0||E.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium shadow-lg",children:E.isPending?"Publishing...":"Publish Announcement"})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:e.jsx(as,{className:"w-6 h-6 text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Confirm Emergency Broadcast"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[e.jsx("p",{className:"text-sm text-red-800 font-medium mb-2",children:"You are about to send:"}),e.jsxs("p",{className:"text-sm text-gray-700 italic",children:['"',p,'"']}),e.jsxs("p",{className:"text-xs text-red-700 mt-3",children:["Severity: ",e.jsx("span",{className:"font-bold uppercase",children:y})]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-6",children:"This will immediately notify all users via email, SMS, and in-app notifications. This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:D,disabled:O.isPending,className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 font-medium shadow-lg",children:O.isPending?"Sending...":"Confirm & Send Now"})]})]})})}),E.isSuccess&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-xl flex items-center space-x-2 animate-fade-in",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Announcement created successfully!"})]}),z.isSuccess&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-xl flex items-center space-x-2 animate-fade-in",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Template updated successfully!"})]}),O.isSuccess&&e.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white px-6 py-3 rounded-lg shadow-xl flex items-center space-x-2 animate-fade-in",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Emergency broadcast sent!"})]})]})},Ij="https://123create-construction-app-with-a.launchpulse.ai",l0e=async(t,s)=>{const r={user_type:"admin"};s&&(r.role_filter=s);const{data:a}=await H.get(`${Ij}/admin/users`,{params:r,headers:{Authorization:`Bearer ${t}`}}),n=a.users.map(l=>{var o,c;return{user_id:l.user_id,email:l.email,first_name:l.first_name,last_name:l.last_name,role:((o=l.admin)==null?void 0:o.role)||"support_admin",permissions:((c=l.admin)==null?void 0:c.permissions)||{},is_active:l.status==="active",last_login_date:l.last_login_date,created_at:l.created_at}}),i={};return n.forEach(l=>{i[l.role]=(i[l.role]||0)+1}),{admin_users:n,total_count:a.total||n.length,active_count:n.filter(l=>l.is_active).length,role_distribution:i}},o0e=async()=>[{role_name:"super_admin",display_name:"Super Administrator",permissions:["*"],is_custom:!1},{role_name:"support_admin",display_name:"Support Administrator",permissions:["users.view","users.edit","orders.view","disputes.manage","support.manage"],is_custom:!1},{role_name:"finance_admin",display_name:"Finance Administrator",permissions:["financials.view","financials.edit","payouts.manage","orders.view"],is_custom:!1},{role_name:"content_admin",display_name:"Content Administrator",permissions:["content.moderate","products.view","reviews.moderate","suppliers.view"],is_custom:!1}],c0e=async(t,s)=>[{log_id:"1",admin_id:"admin_001",admin_name:"John Admin",action_type:"user_update",action_description:"Updated user permissions",affected_entity_type:"user",affected_entity_id:"user_123",timestamp:new Date().toISOString(),ip_address:"192.168.1.1"}],d0e=async(t,s)=>{const r=Math.random().toString(36).slice(-12),a={email:s.email,password:r,user_type:"admin",first_name:s.first_name,last_name:s.last_name,status:s.is_active?"active":"inactive"},{data:n}=await H.post(`${Ij}/admin/users`,a,{headers:{Authorization:`Bearer ${t}`}});return n},j4=async(t,s,r)=>{const{data:a}=await H.patch(`${Ij}/admin/users/${s}`,r,{headers:{Authorization:`Bearer ${t}`}});return a},u0e=()=>{const t=Fe(),[s,r]=Ie(),a=ae(I=>I.authentication_state.auth_token),n=ae(I=>I.authentication_state.current_user),[i,l]=k.useState("team"),[o,c]=k.useState(!1),[d,m]=k.useState(!1),[u,x]=k.useState(!1),[h,f]=k.useState(""),[p,N]=k.useState(null),y=s.get("role_filter")||void 0,j=s.get("activity_date_range")||"last_7_days",[g,S]=k.useState({user_id:null,email:"",first_name:"",last_name:"",role:"support_admin",permissions:{},is_active:!0,requires_password_change:!0}),[w,C]=k.useState({}),{data:_,isLoading:$,error:F,refetch:T}=ie({queryKey:["admin-users",y],queryFn:()=>l0e(a,y),enabled:!!a&&i==="team",staleTime:6e4}),{data:R,isLoading:A}=ie({queryKey:["admin-roles"],queryFn:o0e,enabled:i==="roles",staleTime:3e5}),{data:M,isLoading:P}=ie({queryKey:["admin-activity-logs",j],queryFn:()=>c0e(a,{date_from:j==="last_7_days"?new Date(Date.now()-7*24*60*60*1e3).toISOString():void 0}),enabled:!!a&&i==="activity",staleTime:3e4}),E=ue({mutationFn:I=>d0e(a,I),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-users"]}),c(!1),q(),alert("Admin user created successfully. Temporary password sent to email.")},onError:I=>{var Q,Z;alert(((Z=(Q=I.response)==null?void 0:Q.data)==null?void 0:Z.message)||"Failed to create admin user")}}),z=ue({mutationFn:({userId:I,updates:Q})=>j4(a,I,Q),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-users"]}),m(!1),q()},onError:I=>{var Q,Z;alert(((Z=(Q=I.response)==null?void 0:Q.data)==null?void 0:Z.message)||"Failed to update permissions")}}),O=ue({mutationFn:I=>j4(a,I,{status:"inactive"}),onSuccess:()=>{t.invalidateQueries({queryKey:["admin-users"]}),x(!1),N(null)},onError:I=>{var Q,Z;alert(((Z=(Q=I.response)==null?void 0:Q.data)==null?void 0:Z.message)||"Failed to deactivate admin user")}}),b=()=>{const I={};if(g.email||(I.email="Email is required"),g.first_name||(I.first_name="First name is required"),g.last_name||(I.last_name="Last name is required"),g.role||(I.role="Role is required"),Object.keys(I).length>0){C(I);return}E.mutate(g)},L=I=>{S({user_id:I.user_id,email:I.email,first_name:I.first_name,last_name:I.last_name,role:I.role,permissions:I.permissions,is_active:I.is_active,requires_password_change:!1}),m(!0)},v=()=>{g.user_id&&z.mutate({userId:g.user_id,updates:{status:g.is_active?"active":"inactive"}})},D=I=>{if(I===(n==null?void 0:n.user_id)){alert("You cannot deactivate your own account");return}N(I),x(!0)},U=()=>{p&&O.mutate(p)},q=()=>{S({user_id:null,email:"",first_name:"",last_name:"",role:"support_admin",permissions:{},is_active:!0,requires_password_change:!0}),C({})},B=I=>{I?s.set("role_filter",I):s.delete("role_filter"),r(s)},W=k.useMemo(()=>_!=null&&_.admin_users?_.admin_users.filter(I=>{const Q=h.toLowerCase();return I.email.toLowerCase().includes(Q)||I.first_name.toLowerCase().includes(Q)||I.last_name.toLowerCase().includes(Q)}):[],[_,h]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Team Management"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Manage administrative users, roles, permissions, and monitor team activity"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>alert("Export feature would generate PDF report"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Export Report"]}),e.jsxs("button",{onClick:()=>{q(),c(!0)},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors",children:[e.jsx(P9,{className:"w-4 h-4 mr-2"}),"Add New Admin"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsxs("button",{onClick:()=>l("team"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${i==="team"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Bs,{className:"w-4 h-4 inline-block mr-2"}),"Team Members"]}),e.jsxs("button",{onClick:()=>l("roles"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${i==="roles"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(xs,{className:"w-4 h-4 inline-block mr-2"}),"Roles & Permissions"]}),e.jsxs("button",{onClick:()=>l("activity"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${i==="activity"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(oa,{className:"w-4 h-4 inline-block mr-2"}),"Activity Logs"]}),e.jsxs("button",{onClick:()=>l("security"),className:`py-4 px-6 text-sm font-medium border-b-2 transition-colors ${i==="security"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(Ps,{className:"w-4 h-4 inline-block mr-2"}),"Security Settings"]})]})})}),i==="team"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Admins"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(_==null?void 0:_.total_count)||0})]}),e.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:e.jsx(Bs,{className:"w-6 h-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Admins"}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:(_==null?void 0:_.active_count)||0})]}),e.jsx("div",{className:"bg-green-100 rounded-full p-3",children:e.jsx(fe,{className:"w-6 h-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Roles"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:(R==null?void 0:R.length)||4})]}),e.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:e.jsx(xs,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search admin users by name or email...",value:h,onChange:I=>f(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($r,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:y||"",onChange:I=>B(I.target.value||null),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"All Roles"}),e.jsx("option",{value:"super_admin",children:"Super Admin"}),e.jsx("option",{value:"support_admin",children:"Support Admin"}),e.jsx("option",{value:"finance_admin",children:"Finance Admin"}),e.jsx("option",{value:"content_admin",children:"Content Admin"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:$?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading admin users..."})]}):F?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(he,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600",children:"Failed to load admin users"})]}):W.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No admin users found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:W.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-blue-600 font-semibold text-sm",children:[I.first_name.charAt(0),I.last_name.charAt(0)]})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[I.first_name," ",I.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:I.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.role==="super_admin"?"bg-purple-100 text-purple-800":I.role==="support_admin"?"bg-blue-100 text-blue-800":I.role==="finance_admin"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.role.replace("_"," ").toUpperCase()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.is_active?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Active"]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.last_login_date?new Date(I.last_login_date).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>L(I),className:"text-blue-600 hover:text-blue-900 p-2 hover:bg-blue-50 rounded transition-colors",title:"Edit Permissions",children:e.jsx(xa,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>alert(`View activity for ${I.first_name}`),className:"text-gray-600 hover:text-gray-900 p-2 hover:bg-gray-50 rounded transition-colors",title:"View Activity",children:e.jsx(Lt,{className:"w-4 h-4"})}),I.user_id!==(n==null?void 0:n.user_id)&&e.jsx("button",{onClick:()=>D(I.user_id),className:"text-red-600 hover:text-red-900 p-2 hover:bg-red-50 rounded transition-colors",title:"Deactivate User",children:e.jsx(Xt,{className:"w-4 h-4"})})]})})]},I.user_id))})]})})})]}),i==="roles"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Role Definitions"}),A?e.jsx("div",{className:"py-12 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:R==null?void 0:R.map(I=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.display_name}),e.jsx(xs,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Permissions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:I.permissions.map(Q=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium bg-gray-100 text-gray-800",children:Q},Q))})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[(_==null?void 0:_.role_distribution[I.role_name])||0," admin(s) with this role"]})]},I.role_name))})]})}),i==="activity"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Administrative Activity Logs"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"}),e.jsx("option",{value:"last_90_days",children:"Last 90 Days"}),e.jsx("option",{value:"all_time",children:"All Time"})]})]}),P?e.jsx("div",{className:"py-12 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):M&&M.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timestamp"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(I=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(nt,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(I.timestamp).toLocaleString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.admin_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:I.action_type})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:I.action_description})]},I.log_id))})]})}):e.jsxs("div",{className:"py-12 text-center",children:[e.jsx(oa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No activity logs found"})]})]})}),i==="security"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Policies"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Password Policy"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Minimum Password Length"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Require minimum characters for passwords"})]}),e.jsx("input",{type:"number",min:"8",max:"32",defaultValue:"12",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password Expiration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Days before password must be changed"})]}),e.jsx("input",{type:"number",min:"30",max:"365",defaultValue:"90",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Require Special Characters"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enforce special character requirement"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Session Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Session Timeout"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Minutes of inactivity before auto-logout"})]}),e.jsx("input",{type:"number",min:"5",max:"120",defaultValue:"30",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Concurrent Session Limit"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Maximum simultaneous logins per admin"})]}),e.jsx("input",{type:"number",min:"1",max:"10",defaultValue:"3",className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Two-Factor Authentication"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enforce 2FA for All Admins"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for all administrative accounts"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Enforce 2FA for Super Admins"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Mandatory 2FA for super administrator role"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,disabled:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded opacity-50 cursor-not-allowed"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx("button",{onClick:()=>alert("Security settings would be saved"),className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Save Security Settings"})})]})]})})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Admin User"}),e.jsx("button",{onClick:()=>{c(!1),q()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(be,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{id:"email",type:"email",value:g.email,onChange:I=>{S(Q=>({...Q,email:I.target.value})),C(Q=>({...Q,email:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${w.email?"border-red-300":"border-gray-300"}`,placeholder:"admin@buildeasy.com"}),w.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.email})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{id:"first_name",type:"text",value:g.first_name,onChange:I=>{S(Q=>({...Q,first_name:I.target.value})),C(Q=>({...Q,first_name:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${w.first_name?"border-red-300":"border-gray-300"}`}),w.first_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{id:"last_name",type:"text",value:g.last_name,onChange:I=>{S(Q=>({...Q,last_name:I.target.value})),C(Q=>({...Q,last_name:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${w.last_name?"border-red-300":"border-gray-300"}`}),w.last_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.last_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Role *"}),e.jsxs("select",{id:"role",value:g.role,onChange:I=>{S(Q=>({...Q,role:I.target.value})),C(Q=>({...Q,role:""}))},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${w.role?"border-red-300":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Select a role"}),e.jsx("option",{value:"support_admin",children:"Support Administrator"}),e.jsx("option",{value:"finance_admin",children:"Finance Administrator"}),e.jsx("option",{value:"content_admin",children:"Content Administrator"}),e.jsx("option",{value:"super_admin",children:"Super Administrator"})]}),w.role&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:w.role}),g.role==="super_admin"&&e.jsx("div",{className:"mt-2 p-3 bg-amber-50 border border-amber-200 rounded-md",children:e.jsxs("div",{className:"flex",children:[e.jsx(he,{className:"w-5 h-5 text-amber-500 mr-2 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-amber-700",children:"Super Administrator role grants full platform access. Use with caution."})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:g.is_active,onChange:I=>S(Q=>({...Q,is_active:I.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Active (user can log in immediately)"})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Note:"})," A temporary password will be generated and sent to the admin's email. They will be required to change it on first login."]})})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{c(!1),q()},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:b,disabled:E.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:E.isPending?"Creating...":"Create Admin User"})]})]})}),d&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Admin Permissions"}),e.jsx("button",{onClick:()=>{m(!1),q()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(be,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"User:"})," ",g.first_name," ",g.last_name]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Role"}),e.jsxs("select",{value:g.role,onChange:I=>S(Q=>({...Q,role:I.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"support_admin",children:"Support Administrator"}),e.jsx("option",{value:"finance_admin",children:"Finance Administrator"}),e.jsx("option",{value:"content_admin",children:"Content Administrator"}),e.jsx("option",{value:"super_admin",children:"Super Administrator"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{id:"edit_is_active",type:"checkbox",checked:g.is_active,onChange:I=>S(Q=>({...Q,is_active:I.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"edit_is_active",className:"text-sm font-medium text-gray-700",children:"Account is active"})]})]}),e.jsxs("div",{className:"p-6 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{m(!1),q()},className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:v,disabled:z.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:z.isPending?"Saving...":"Save Changes"})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-red-100 mx-auto mb-4",children:e.jsx(he,{className:"w-6 h-6 text-red-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 text-center mb-2",children:"Deactivate Admin User"}),e.jsx("p",{className:"text-sm text-gray-600 text-center mb-6",children:"Are you sure you want to deactivate this admin user? They will lose access to the admin panel immediately."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{x(!1),N(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:U,disabled:O.isPending,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:O.isPending?"Deactivating...":"Deactivate User"})]})]})})})]})},m0e=async t=>{const s=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/system/health",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{uptime_percentage:s.data.uptime_percentage||99.9,response_time_avg:s.data.average_response_time_ms||150,error_rate:s.data.error_rate_percentage||.01,active_connections:s.data.active_websocket_connections||0,database_status:s.data.database_status||"operational",api_status:s.data.api_status||"operational",last_updated:s.data.last_checked_timestamp||new Date().toISOString()}},h0e=async(t,s,r)=>{var i;const a=new URLSearchParams;s.log_level&&a.append("level",s.log_level),s.component&&a.append("component",s.component),s.time_range&&a.append("time_range",s.time_range),a.append("limit","50"),a.append("offset",String((r-1)*50));const n=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/logs/application?${a.toString()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{logs:((i=n.data.logs)==null?void 0:i.map(l=>({log_id:l.log_id,timestamp:l.timestamp,level:l.severity_level||l.level,component:l.component_name||l.component,message:l.log_message||l.message,stack_trace:l.stack_trace,user_id:l.user_id,request_id:l.request_id})))||[],total_count:n.data.total_count||0,current_page:Math.floor((n.data.offset||0)/50)+1}},x0e=async(t,s)=>{var a;const r=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/logs/api-performance?time_range=${s}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{endpoints:((a=r.data.endpoint_metrics)==null?void 0:a.map(n=>({endpoint:n.endpoint_path||n.endpoint,method:n.http_method||n.method,avg_response_time:n.average_response_time_ms||0,request_count:n.total_requests||0,error_count:n.error_count||0,success_rate:(n.total_requests-n.error_count)/n.total_requests*100||100})))||[],api_health_score:r.data.overall_api_health_score||100}},p0e=async(t,s)=>{var a;const r=await H.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/logs/user-activity?time_range=${s}&limit=100&offset=0`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{activities:((a=r.data.activity_logs)==null?void 0:a.map(n=>({activity_id:n.activity_id,user_id:n.user_id,user_type:n.user_type,action_type:n.action_type,resource:n.affected_resource||n.resource,timestamp:n.timestamp,ip_address:n.ip_address,user_agent:n.user_agent})))||[],total_count:r.data.total_count||0}},g0e=async t=>{var r,a;const s=await H.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/logs/error-summary?period=24h",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});return{total_errors_24h:s.data.total_errors_last_24h||0,critical_errors:s.data.critical_error_count||0,error_trend:((r=s.data.hourly_error_counts)==null?void 0:r.map(n=>({hour:n.hour_timestamp,error_count:n.error_count})))||[],top_errors:((a=s.data.top_error_types)==null?void 0:a.map(n=>({error_type:n.error_type,count:n.occurrence_count,latest_occurrence:n.latest_timestamp})))||[]}},f0e=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/logs/export",{log_type:s.component,time_range:s.time_range,format:"csv"},{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},responseType:"blob"})).data,y0e=()=>{const t=ae(E=>E.authentication_state.auth_token),[s,r]=Ie(),[a,n]=k.useState("logs"),[i,l]=k.useState({log_level:s.get("log_level")||null,component:s.get("component")||null,time_range:s.get("time_range")||"last_24_hours",date_from:null,date_to:null}),[o,c]=k.useState(Number(s.get("page"))||1),[d,m]=k.useState(""),{data:u,isLoading:x}=ie({queryKey:["system-health"],queryFn:()=>m0e(t),enabled:!!t,refetchInterval:3e4,staleTime:25e3}),{data:h,isLoading:f,refetch:p}=ie({queryKey:["application-logs",i,o],queryFn:()=>h0e(t,i,o),enabled:!!t&&a==="logs",staleTime:6e4}),{data:N,isLoading:y,refetch:j}=ie({queryKey:["api-performance",i.time_range],queryFn:()=>x0e(t,i.time_range),enabled:!!t&&a==="api",staleTime:6e4}),{data:g,isLoading:S}=ie({queryKey:["user-activity",i.time_range],queryFn:()=>p0e(t,i.time_range),enabled:!!t&&a==="activity",staleTime:6e4}),{data:w,isLoading:C,refetch:_}=ie({queryKey:["error-summary"],queryFn:()=>g0e(t),enabled:!!t&&a==="errors",refetchInterval:6e4,staleTime:55e3}),$=ue({mutationFn:()=>f0e(t,i),onSuccess:E=>{const z=window.URL.createObjectURL(E),O=document.createElement("a");O.href=z,O.download=`logs-export-${new Date().toISOString()}.csv`,O.click(),window.URL.revokeObjectURL(z)}}),F=E=>{const z={...i,...E};l(z);const O=new URLSearchParams;z.log_level&&O.set("log_level",z.log_level),z.component&&O.set("component",z.component),z.time_range&&O.set("time_range",z.time_range),O.set("page","1"),r(O),c(1)},T=E=>{c(E);const z=new URLSearchParams(s);z.set("page",String(E)),r(z)},R=()=>{$.mutate()},A=E=>new Date(E).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),M=E=>{switch(E.toLowerCase()){case"error":case"critical":return"text-red-600 bg-red-50 border-red-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"info":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},P=E=>E==="operational"?"text-green-600":"text-red-600";return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Monitoring & Logs"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Monitor system health, analyze logs, and track performance metrics"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>{p(),j(),_()},className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs("button",{onClick:R,disabled:$.isPending,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),$.isPending?"Exporting...":"Export Logs"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(E=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},E))}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Uptime"}),e.jsx(tS,{className:"h-5 w-5 text-green-600"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[u==null?void 0:u.uptime_percentage.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Last 30 days"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Response Time"}),e.jsx(nt,{className:"h-5 w-5 text-blue-600"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[u==null?void 0:u.response_time_avg,"ms"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"API average"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Error Rate"}),e.jsx(he,{className:`h-5 w-5 ${((u==null?void 0:u.error_rate)||0)>1?"text-red-600":"text-green-600"}`})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:[u==null?void 0:u.error_rate.toFixed(3),"%"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Last 24 hours"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Connections"}),e.jsx(Tt,{className:"h-5 w-5 text-purple-600"})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:u==null?void 0:u.active_connections.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"WebSocket clients"})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(vh,{className:`h-6 w-6 mr-3 ${P((u==null?void 0:u.database_status)||"operational")}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Database Status"}),e.jsx("p",{className:`text-lg font-semibold capitalize ${P((u==null?void 0:u.database_status)||"operational")}`,children:(u==null?void 0:u.database_status)||"operational"})]})]}),(u==null?void 0:u.database_status)==="operational"?e.jsx(fe,{className:"h-8 w-8 text-green-500"}):e.jsx(rt,{className:"h-8 w-8 text-red-500"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(O9,{className:`h-6 w-6 mr-3 ${P((u==null?void 0:u.api_status)||"operational")}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"API Status"}),e.jsx("p",{className:`text-lg font-semibold capitalize ${P((u==null?void 0:u.api_status)||"operational")}`,children:(u==null?void 0:u.api_status)||"operational"})]})]}),(u==null?void 0:u.api_status)==="operational"?e.jsx(fe,{className:"h-8 w-8 text-green-500"}):e.jsx(rt,{className:"h-8 w-8 text-red-500"})]})})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex -mb-px",children:[e.jsx("button",{onClick:()=>n("logs"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors ${a==="logs"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(oa,{className:"h-5 w-5 mr-2"}),"Application Logs"]})}),e.jsx("button",{onClick:()=>n("api"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors ${a==="api"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Ve,{className:"h-5 w-5 mr-2"}),"API Performance"]})}),e.jsx("button",{onClick:()=>n("activity"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors ${a==="activity"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(Tt,{className:"h-5 w-5 mr-2"}),"User Activity"]})}),e.jsx("button",{onClick:()=>n("errors"),className:`flex-1 py-4 px-6 text-center border-b-2 font-medium text-sm transition-colors ${a==="errors"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(he,{className:"h-5 w-5 mr-2"}),"Error Summary",((w==null?void 0:w.critical_errors)||0)>0&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:w==null?void 0:w.critical_errors})]})})]})}),a==="logs"&&e.jsx("div",{className:"bg-gray-50 border-b border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Log Level"}),e.jsxs("select",{value:i.log_level||"all",onChange:E=>F({log_level:E.target.value==="all"?null:E.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Levels"}),e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Component"}),e.jsxs("select",{value:i.component||"all",onChange:E=>F({component:E.target.value==="all"?null:E.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"all",children:"All Components"}),e.jsx("option",{value:"api",children:"API"}),e.jsx("option",{value:"database",children:"Database"}),e.jsx("option",{value:"auth",children:"Authentication"}),e.jsx("option",{value:"payment",children:"Payment"}),e.jsx("option",{value:"email",children:"Email Service"}),e.jsx("option",{value:"websocket",children:"WebSocket"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Time Range"}),e.jsxs("select",{value:i.time_range,onChange:E=>F({time_range:E.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"last_hour",children:"Last Hour"}),e.jsx("option",{value:"last_24_hours",children:"Last 24 Hours"}),e.jsx("option",{value:"last_7_days",children:"Last 7 Days"}),e.jsx("option",{value:"last_30_days",children:"Last 30 Days"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Search Logs"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:d,onChange:E=>m(E.target.value),placeholder:"Search in logs...",className:"block w-full px-3 py-2 pl-10 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),e.jsx(ut,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]})]})}),e.jsxs("div",{className:"p-6",children:[a==="logs"&&e.jsx(e.Fragment,{children:f?e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(E=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]},E))}):h&&h.logs.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:h.logs.filter(E=>!d||E.message.toLowerCase().includes(d.toLowerCase())||E.component.toLowerCase().includes(d.toLowerCase())).map(E=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${M(E.level)}`,children:E.level.toUpperCase()}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:E.component}),e.jsx("span",{className:"text-xs text-gray-500",children:A(E.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-900 font-medium line-clamp-2",children:E.message}),E.stack_trace&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-xs text-blue-600 cursor-pointer hover:text-blue-700",children:"View Stack Trace"}),e.jsx("pre",{className:"mt-2 text-xs text-gray-600 bg-gray-50 p-3 rounded border border-gray-200 overflow-x-auto",children:E.stack_trace})]}),E.user_id&&e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["User ID: ",E.user_id]}),E.request_id&&e.jsxs("p",{className:"text-xs text-gray-500",children:["Request ID: ",E.request_id]})]})})},E.log_id))}),h.total_count>50&&e.jsxs("div",{className:"mt-6 flex items-center justify-between border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:(o-1)*50+1})," to"," ",e.jsx("span",{className:"font-medium",children:Math.min(o*50,h.total_count)})," of"," ",e.jsx("span",{className:"font-medium",children:h.total_count})," logs"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>T(o-1),disabled:o===1,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),e.jsx("button",{onClick:()=>T(o+1),disabled:o*50>=h.total_count,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(oa,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No logs found"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your filters or time range"})]})}),a==="api"&&e.jsx(e.Fragment,{children:y?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(E=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},E))}):N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Overall API Health Score"}),e.jsxs("p",{className:"text-4xl font-bold text-blue-900",children:[N.api_health_score.toFixed(1),"%"]})]}),e.jsx("div",{className:`text-6xl ${N.api_health_score>=95?"text-green-500":N.api_health_score>=85?"text-yellow-500":"text-red-500"}`,children:N.api_health_score>=95?"":N.api_health_score>=85?"":""})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Endpoint"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Method"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Response"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requests"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Errors"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Success Rate"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.endpoints.map((E,z)=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.endpoint}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${E.method==="GET"?"bg-blue-100 text-blue-800":E.method==="POST"?"bg-green-100 text-green-800":E.method==="PUT"?"bg-yellow-100 text-yellow-800":E.method==="DELETE"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:E.method})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("span",{className:`font-medium ${E.avg_response_time<200?"text-green-600":E.avg_response_time<500?"text-yellow-600":"text-red-600"}`,children:[E.avg_response_time,"ms"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.request_count.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsx("span",{className:E.error_count>0?"text-red-600 font-medium":"text-gray-500",children:E.error_count})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"relative pt-1",children:e.jsx("div",{className:"overflow-hidden h-2 text-xs flex rounded bg-gray-200",children:e.jsx("div",{style:{width:`${E.success_rate}%`},className:`shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center ${E.success_rate>=99?"bg-green-500":E.success_rate>=95?"bg-yellow-500":"bg-red-500"}`})})})}),e.jsxs("span",{className:"ml-3 text-sm font-medium text-gray-900",children:[E.success_rate.toFixed(1),"%"]})]})})]},z))})]})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No metrics available"})]})}),a==="activity"&&e.jsx(e.Fragment,{children:S?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(E=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]},E))}):g&&g.activities.length>0?e.jsx("div",{className:"space-y-3",children:g.activities.map(E=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 border border-purple-200",children:E.user_type}),e.jsx("span",{className:"text-xs text-gray-500",children:A(E.timestamp)})]}),e.jsxs("p",{className:"text-sm text-gray-900 font-medium",children:[E.action_type," - ",E.resource]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-500 space-x-4",children:[e.jsxs("span",{children:["User: ",E.user_id]}),E.ip_address&&e.jsxs("span",{children:["IP: ",E.ip_address]})]})]})})},E.activity_id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Tt,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No activity logs"})]})}),a==="errors"&&e.jsx(e.Fragment,{children:C?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[1,2].map(E=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},E))})}):w?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Errors (24h)"}),e.jsx(he,{className:"h-5 w-5 text-red-600"})]}),e.jsx("p",{className:"text-4xl font-bold text-gray-900",children:w.total_errors_24h.toLocaleString()})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Critical Errors"}),e.jsx(rt,{className:"h-5 w-5 text-red-600"})]}),e.jsx("p",{className:"text-4xl font-bold text-red-600",children:w.critical_errors})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Error Types"}),e.jsx("div",{className:"space-y-3",children:w.top_errors.map((E,z)=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:E.error_type}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last occurred: ",A(E.latest_occurrence)]})]}),e.jsx("div",{className:"ml-4 flex items-center space-x-4",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:E.count}),e.jsx("p",{className:"text-xs text-gray-500",children:"occurrences"})]})})]})},z))})]}),w.error_trend.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Error Trend (24h)"}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsx("div",{className:"flex items-end justify-between space-x-2 h-48",children:w.error_trend.map((E,z)=>e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end",children:[e.jsx("div",{className:"w-full bg-red-500 rounded-t transition-all hover:bg-red-600",style:{height:`${E.error_count/Math.max(...w.error_trend.map(O=>O.error_count))*100}%`,minHeight:E.error_count>0?"4px":"0"},title:`${E.error_count} errors`}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2 transform -rotate-45 origin-top-left whitespace-nowrap",children:[new Date(E.hour).getHours(),":00"]})]},z))})})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(he,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No error data available"})]})})]})]})})]})})},ni="https://123create-construction-app-with-a.launchpulse.ai/api",b0e=async t=>{const s=await H.get(`${ni}/admin/maintenance/status`,{headers:{Authorization:`Bearer ${t}`}});return{is_maintenance_active:s.data.maintenance_mode_active,maintenance_message:s.data.maintenance_message,scheduled_start:s.data.scheduled_start_time,scheduled_end:s.data.scheduled_end_time,affected_services:s.data.affected_services||[],last_activated_by:s.data.last_activated_by,last_activated_at:s.data.last_activated_timestamp}},v0e=async(t,s)=>{const r=await H.put(`${ni}/admin/maintenance/toggle`,s,{headers:{Authorization:`Bearer ${t}`}});return{is_maintenance_active:r.data.maintenance_mode_active,maintenance_message:r.data.maintenance_message,scheduled_start:null,scheduled_end:null,affected_services:r.data.affected_services||[],last_activated_by:r.data.activated_by,last_activated_at:r.data.activated_at}},j0e=async t=>(await H.get(`${ni}/admin/features/flags`,{headers:{Authorization:`Bearer ${t}`}})).data.feature_flags.map(r=>({flag_id:r.flag_id,flag_name:r.flag_name,description:r.description,is_enabled:r.is_enabled,rollout_percentage:r.rollout_percentage,target_user_types:r.target_user_types||[],updated_by:r.updated_by,updated_at:r.updated_at})),N0e=async(t,s,r)=>{await H.put(`${ni}/admin/features/flags/${s}`,r,{headers:{Authorization:`Bearer ${t}`}})},w0e=async t=>{const s=await H.get(`${ni}/admin/platform/version`,{headers:{Authorization:`Bearer ${t}`}});return{current_version:s.data.version_number,deployment_date:s.data.deployment_timestamp,build_number:s.data.build_id,commit_hash:s.data.git_commit_hash,environment:s.data.environment_name,rollback_available:s.data.rollback_available,previous_version:s.data.previous_version}},_0e=async t=>(await H.get(`${ni}/admin/maintenance/scheduled`,{headers:{Authorization:`Bearer ${t}`}})).data.scheduled_windows.map(r=>({maintenance_id:r.maintenance_id,title:r.title,description:r.description,scheduled_start:r.scheduled_start_time,scheduled_end:r.scheduled_end_time,maintenance_type:r.maintenance_type,affected_services:r.affected_services||[],status:r.status,created_by:r.created_by})),k0e=async(t,s)=>{await H.post(`${ni}/admin/maintenance/schedule`,s,{headers:{Authorization:`Bearer ${t}`}})},S0e=async(t,s)=>{await H.post(`${ni}/admin/maintenance/emergency`,s,{headers:{Authorization:`Bearer ${t}`}})},C0e=()=>{const t=ae(ye=>ye.authentication_state.auth_token),s=Fe(),[r,a]=k.useState("maintenance"),[n,i]=k.useState(!1),[l,o]=k.useState(!1),[c,d]=k.useState(!1),[m,u]=k.useState(""),[x,h]=k.useState([]),[f,p]=k.useState(""),[N,y]=k.useState(""),[j,g]=k.useState(""),[S,w]=k.useState(""),[C,_]=k.useState([]),[$,F]=k.useState(!0),[T,R]=k.useState(30),[A,M]=k.useState(""),[P,E]=k.useState(60),[z,O]=k.useState(""),[b,L]=k.useState(null),[v,D]=k.useState(0),[U,q]=k.useState([]),B=["api","web_app","mobile_app","search","payments","notifications","chat","analytics"],W=["customer","supplier","admin"],{data:I,isLoading:Q,error:Z}=ie({queryKey:["maintenance-status"],queryFn:()=>b0e(t),enabled:!!t,staleTime:3e4,refetchInterval:6e4}),{data:Y,isLoading:K}=ie({queryKey:["feature-flags"],queryFn:()=>j0e(t),enabled:!!t&&r==="features",staleTime:3e4}),{data:te,isLoading:V}=ie({queryKey:["version-info"],queryFn:()=>w0e(t),enabled:!!t&&r==="version",staleTime:3e5}),{data:se,isLoading:J}=ie({queryKey:["scheduled-maintenance"],queryFn:()=>_0e(t),enabled:!!t&&r==="scheduled",staleTime:6e4}),oe=ue({mutationFn:ye=>v0e(t,ye),onSuccess:()=>{s.invalidateQueries({queryKey:["maintenance-status"]}),d(!1),u(""),h([])}}),je=ue({mutationFn:ye=>S0e(t,ye),onSuccess:()=>{s.invalidateQueries({queryKey:["maintenance-status"]}),i(!1),M(""),E(60),O("")}}),ve=ue({mutationFn:ye=>k0e(t,ye),onSuccess:()=>{s.invalidateQueries({queryKey:["scheduled-maintenance"]}),o(!1),p(""),y(""),g(""),w(""),_([]),F(!0),R(30)}}),Te=ue({mutationFn:({flagId:ye,payload:ft})=>N0e(t,ye,ft),onSuccess:()=>{s.invalidateQueries({queryKey:["feature-flags"]}),L(null)}}),Ke=()=>{I!=null&&I.is_maintenance_active,d(!0)},ys=()=>{oe.mutate({maintenance_active:!(I!=null&&I.is_maintenance_active),maintenance_message:m||"Platform is currently under maintenance. We will be back soon.",affected_services:x.length>0?x:B})},re=()=>{!A||!z||je.mutate({reason:A,estimated_duration_minutes:P,maintenance_message:z})},xe=()=>{!f||!j||!S||ve.mutate({title:f,description:N,scheduled_start:j,scheduled_end:S,affected_services:C.length>0?C:B,notify_users:$,warning_duration_minutes:T})},Ue=ye=>{Te.mutate({flagId:ye.flag_id,payload:{is_enabled:!ye.is_enabled,rollout_percentage:ye.rollout_percentage,target_user_types:ye.target_user_types}})},Us=ye=>{var ft;Te.mutate({flagId:ye,payload:{is_enabled:((ft=Y==null?void 0:Y.find(ul=>ul.flag_id===ye))==null?void 0:ft.is_enabled)||!1,rollout_percentage:v,target_user_types:U}})},ii=(ye,ft,ul)=>{ft.includes(ye)?ul(ft.filter(Gp=>Gp!==ye)):ul([...ft,ye])},Kp=ye=>{U.includes(ye)?q(U.filter(ft=>ft!==ye)):q([...U,ye])};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Maintenance"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Control system maintenance, feature flags, and platform updates"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:I!=null&&I.is_maintenance_active?e.jsxs("div",{className:"flex items-center space-x-2 bg-red-100 text-red-800 px-4 py-2 rounded-lg",children:[e.jsx(as,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"Maintenance Mode Active"})]}):e.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg",children:[e.jsx(xs,{className:"h-5 w-5"}),e.jsx("span",{className:"font-semibold",children:"System Operational"})]})})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>a("maintenance"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="maintenance"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O0,{className:"h-5 w-5"}),e.jsx("span",{children:"Maintenance Control"})]})}),e.jsx("button",{onClick:()=>a("features"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="features"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ps,{className:"h-5 w-5"}),e.jsx("span",{children:"Feature Flags"})]})}),e.jsx("button",{onClick:()=>a("version"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="version"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A0,{className:"h-5 w-5"}),e.jsx("span",{children:"Version Info"})]})}),e.jsx("button",{onClick:()=>a("scheduled"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${r==="scheduled"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ft,{className:"h-5 w-5"}),e.jsx("span",{children:"Scheduled Maintenance"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r==="maintenance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Current Maintenance Status"})}),e.jsx("div",{className:"p-6",children:Q?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):Z?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-700",children:"Failed to load maintenance status"})}):e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-3",children:I!=null&&I.is_maintenance_active?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-3 w-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Maintenance Mode: ACTIVE"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-3 w-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Maintenance Mode: INACTIVE"})]})}),(I==null?void 0:I.maintenance_message)&&e.jsxs("p",{className:"mt-2 text-gray-600",children:[e.jsx("strong",{children:"Message:"})," ",I.maintenance_message]}),(I==null?void 0:I.affected_services)&&I.affected_services.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Affected Services:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:I.affected_services.map(ye=>e.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-800 text-xs font-medium rounded-full",children:ye},ye))})]}),(I==null?void 0:I.last_activated_at)&&e.jsxs("p",{className:"mt-3 text-sm text-gray-500",children:["Last updated: ",new Date(I.last_activated_at).toLocaleString(),I.last_activated_by&&` by ${I.last_activated_by}`]})]}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsxs("button",{onClick:Ke,disabled:oe.isPending,className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg flex items-center space-x-2 ${I!=null&&I.is_maintenance_active?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[e.jsx(O0,{className:"h-5 w-5"}),e.jsxs("span",{children:[I!=null&&I.is_maintenance_active?"Deactivate":"Activate"," Maintenance"]})]}),e.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium transition-all duration-200 shadow-lg flex items-center space-x-2",children:[e.jsx($l,{className:"h-5 w-5"}),e.jsx("span",{children:"Emergency Mode"})]})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-100 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ft,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Schedule Maintenance"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Plan maintenance windows with user notifications"}),e.jsx("button",{onClick:()=>o(!0),className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"Schedule Window"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-100 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Ps,{className:"h-6 w-6 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Feature Flags"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Control feature rollout and availability"}),e.jsx("button",{onClick:()=>a("features"),className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors",children:"Manage Flags"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow border border-gray-100 p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(A0,{className:"h-6 w-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Version Info"})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"View deployment details and rollback options"}),e.jsx("button",{onClick:()=>a("version"),className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors",children:"View Version"})]})]})]}),r==="features"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-purple-50 to-indigo-50 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Feature Flag Management"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Control feature availability and gradual rollout across user types"})]}),e.jsx("div",{className:"p-6",children:K?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-purple-600"})}):!Y||Y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ps,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No feature flags configured"})]}):e.jsx("div",{className:"space-y-4",children:Y.map(ye=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900",children:ye.flag_name}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ye.is_enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ye.is_enabled?"Enabled":"Disabled"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:ye.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Rollout:"}),e.jsxs("span",{className:"ml-2 font-medium text-gray-900",children:[ye.rollout_percentage,"%"]})]}),ye.target_user_types.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-gray-500",children:"Target:"}),e.jsx("div",{className:"flex space-x-1",children:ye.target_user_types.map(ft=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded",children:ft},ft))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Updated:"}),e.jsx("span",{className:"ml-2 text-gray-700",children:new Date(ye.updated_at).toLocaleString()})]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[e.jsx("button",{onClick:()=>Ue(ye),disabled:Te.isPending,className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${ye.is_enabled?"bg-red-100 hover:bg-red-200 text-red-700":"bg-green-100 hover:bg-green-200 text-green-700"} disabled:opacity-50`,children:ye.is_enabled?"Disable":"Enable"}),e.jsx("button",{onClick:()=>{L(ye.flag_id),D(ye.rollout_percentage),q(ye.target_user_types)},className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium text-sm transition-colors",children:"Configure"})]})]}),b===ye.flag_id&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Rollout Percentage: ",v,"%"]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:v,onChange:ft=>D(Number(ft.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"100%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target User Types"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:W.map(ft=>e.jsx("button",{type:"button",onClick:()=>Kp(ft),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${U.includes(ft)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ft},ft))})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>Us(ye.flag_id),disabled:Te.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:"Save Configuration"}),e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})]},ye.flag_id))})})]})}),r==="version"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-green-50 to-emerald-50 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Platform Version Information"})}),e.jsx("div",{className:"p-6",children:V?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-green-600"})}):te?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Current Version"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:te.current_version})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Environment"}),e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${te.environment==="production"?"bg-green-100 text-green-800":te.environment==="staging"?"bg-amber-100 text-amber-800":"bg-gray-100 text-gray-800"}`,children:te.environment})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Build Number"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:te.build_number})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Deployment Date"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:new Date(te.deployment_date).toLocaleString()})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Commit Hash"}),e.jsx("code",{className:"text-sm font-mono text-gray-900 bg-gray-50 px-2 py-1 rounded",children:te.commit_hash})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Rollback Available"}),e.jsx("div",{className:"flex items-center space-x-2",children:te.rollback_available?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-green-600 font-semibold",children:"Yes"}),te.previous_version&&e.jsxs("span",{className:"text-gray-600 text-sm",children:["(to ",te.previous_version,")"]})]}):e.jsx("span",{className:"text-gray-600 font-semibold",children:"No"})})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A0,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No version information available"})]})})]})}),r==="scheduled"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scheduled Maintenance Windows"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Plan and manage future maintenance periods"})]}),e.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"+ Schedule New"})]}),e.jsx("div",{className:"p-6",children:J?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):!se||se.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ft,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No scheduled maintenance windows"})]}):e.jsx("div",{className:"space-y-4",children:se.map(ye=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-1",children:ye.title}),e.jsx("p",{className:"text-sm text-gray-600",children:ye.description})]}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${ye.status==="scheduled"?"bg-blue-100 text-blue-800":ye.status==="completed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ye.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3 pt-3 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Start Time"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(ye.scheduled_start).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"End Time"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(ye.scheduled_end).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Type"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:ye.maintenance_type})]})]}),ye.affected_services.length>0&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Affected Services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ye.affected_services.map(ft=>e.jsx("span",{className:"px-2 py-1 bg-amber-100 text-amber-800 text-xs font-medium rounded",children:ft},ft))})]})]},ye.maintenance_id))})})]})})]}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:`p-2 rounded-lg ${I!=null&&I.is_maintenance_active?"bg-green-100":"bg-red-100"}`,children:e.jsx(O0,{className:`h-6 w-6 ${I!=null&&I.is_maintenance_active?"text-green-600":"text-red-600"}`})}),e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:[I!=null&&I.is_maintenance_active?"Deactivate":"Activate"," Maintenance Mode"]})]}),!(I!=null&&I.is_maintenance_active)&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Message"}),e.jsx("textarea",{value:m,onChange:ye=>u(ye.target.value),placeholder:"Platform is currently under maintenance...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Affected Services"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.map(ye=>e.jsx("button",{type:"button",onClick:()=>ii(ye,x,h),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x.includes(ye)?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ye},ye))}),x.length===0&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"All services will be affected"})]})]}),e.jsx("div",{className:`p-4 rounded-lg mb-6 ${I!=null&&I.is_maintenance_active?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:e.jsx("p",{className:`text-sm ${I!=null&&I.is_maintenance_active?"text-green-800":"text-red-800"}`,children:I!=null&&I.is_maintenance_active?"This will restore platform access to all users immediately.":"This will prevent users from accessing the platform. Use only when necessary."})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:ys,disabled:oe.isPending,className:`flex-1 px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg disabled:opacity-50 ${I!=null&&I.is_maintenance_active?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:oe.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Confirm ${I!=null&&I.is_maintenance_active?"Deactivation":"Activation"}`}),e.jsx("button",{onClick:()=>{d(!1),u(""),h([])},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx($l,{className:"h-6 w-6 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Emergency Maintenance"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"WARNING:"})," This will immediately activate maintenance mode with minimal notice to users. Use only for critical system issues."]})}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Reason *"}),e.jsx("input",{type:"text",value:A,onChange:ye=>M(ye.target.value),placeholder:"Critical database issue requiring immediate attention",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-red-500 focus:ring-4 focus:ring-red-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Duration (minutes)"}),e.jsx("input",{type:"number",value:P,onChange:ye=>E(Number(ye.target.value)),min:"5",max:"480",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-red-500 focus:ring-4 focus:ring-red-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"User Message *"}),e.jsx("textarea",{value:z,onChange:ye=>O(ye.target.value),placeholder:"We are performing emergency maintenance. Service will be restored shortly.",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-red-500 focus:ring-4 focus:ring-red-100 transition-all"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:re,disabled:je.isPending||!A||!z,className:"flex-1 px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:je.isPending?"Activating...":"Activate Emergency Mode"}),e.jsx("button",{onClick:()=>{i(!1),M(""),E(60),O("")},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 overflow-y-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full p-6 my-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ft,{className:"h-6 w-6 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Schedule Maintenance Window"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Title *"}),e.jsx("input",{type:"text",value:f,onChange:ye=>p(ye.target.value),placeholder:"Scheduled System Upgrade",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:N,onChange:ye=>y(ye.target.value),placeholder:"Database migration and performance improvements",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Time *"}),e.jsx("input",{type:"datetime-local",value:j,onChange:ye=>g(ye.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Time *"}),e.jsx("input",{type:"datetime-local",value:S,onChange:ye=>w(ye.target.value),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Affected Services"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.map(ye=>e.jsx("button",{type:"button",onClick:()=>ii(ye,C,_),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${C.includes(ye)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ye},ye))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"notify-users",checked:$,onChange:ye=>F(ye.target.checked),className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"notify-users",className:"text-sm font-medium text-gray-700",children:"Notify All Users"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Warning Duration (minutes)"}),e.jsx("input",{type:"number",value:T,onChange:ye=>R(Number(ye.target.value)),min:"5",max:"1440",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:I!=null&&I.is_maintenance_active?ys:xe,disabled:(I!=null&&I.is_maintenance_active?oe.isPending:ve.isPending)||!(I!=null&&I.is_maintenance_active)&&(!f||!j||!S),className:"flex-1 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:(I!=null&&I.is_maintenance_active?oe.isPending:ve.isPending)?"Processing...":I!=null&&I.is_maintenance_active?"Confirm Deactivation":"Schedule Maintenance"}),e.jsx("button",{onClick:()=>{d(!1),o(!1),u(""),h([]),p(""),y(""),g(""),w(""),_([])},className:"px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"})]})]})})]})})},dl="https://123create-construction-app-with-a.launchpulse.ai",P0e=async t=>{const s={};return t&&(s.Authorization=`Bearer ${t}`),(await H.get(`${dl}/help/categories`,{headers:s})).data.categories.map(a=>({category_id:a.category_id,category_name:a.category_name,category_slug:a.category_slug,description:a.description,icon_url:a.icon_url,article_count:a.article_count,subcategories:a.subcategories?a.subcategories.map(n=>({category_id:n.category_id,category_name:n.category_name,article_count:n.article_count})):[]}))},A0e=async(t,s)=>{const r={};s&&(r.Authorization=`Bearer ${s}`);const a=await H.get(`${dl}/help/articles/search`,{params:t,headers:r});return{articles:a.data.articles.map(n=>({article_id:n.article_id,title:n.title,content_preview:n.content.substring(0,200)+"...",category_name:n.category_name,author:n.author_name,last_updated:n.updated_at,view_count:n.view_count,helpful_votes:n.helpful_votes,reading_time_minutes:Math.ceil(n.content.length/200)})),total_count:a.data.total_count,search_query:a.data.query_used}},O0e=async(t,s)=>{const r={};s&&(r.Authorization=`Bearer ${s}`);const a=await H.get(`${dl}/help/articles/featured`,{params:{user_type:t},headers:r});return{popular_articles:a.data.popular_articles.map(n=>({article_id:n.article_id,title:n.title,category_name:n.category_name,view_count:n.view_count,helpful_votes:n.helpful_votes})),getting_started_articles:a.data.getting_started.map(n=>({article_id:n.article_id,title:n.title,description:n.description}))}},$0e=async(t,s)=>{const r={};s&&(r.Authorization=`Bearer ${s}`);const a=await H.get(`${dl}/help/articles/${t}`,{headers:r});return{article_id:a.data.article_id,title:a.data.title,content:a.data.content,category_name:a.data.category_name,author:a.data.author_name,last_updated:a.data.updated_at,reading_time_minutes:Math.ceil(a.data.content.length/200),helpful_votes:a.data.helpful_votes,was_this_helpful_voted:a.data.user_vote,related_articles:a.data.related_articles.map(n=>({article_id:n.article_id,title:n.title,category_name:n.category_name}))}},T0e=async(t,s)=>{if(!t||t.length<2)return[];const r={};return s&&(r.Authorization=`Bearer ${s}`),(await H.get(`${dl}/help/articles/suggestions`,{params:{q:t,limit:5},headers:r})).data.suggestions.map(n=>({article_id:n.article_id,title:n.title,category_name:n.category_name}))},E0e=async(t,s,r)=>{const a=await H.post(`${dl}/help/articles/${t}/helpful`,{was_helpful:s},{headers:{Authorization:`Bearer ${r}`}});return{helpful_votes:a.data.new_helpful_vote_count,was_this_helpful_voted:a.data.user_vote}},M0e=async(t,s)=>{const r={};s&&(r.Authorization=`Bearer ${s}`),await H.post(`${dl}/help/articles/${t}/view`,{},{headers:r})},F0e=(t,s)=>{const[r,a]=k.useState(t);return k.useEffect(()=>{const n=setTimeout(()=>{a(t)},s);return()=>{clearTimeout(n)}},[t,s]),r};function R0e(){const t=ae(W=>W.authentication_state.current_user),s=ae(W=>W.authentication_state.auth_token),r=ae(W=>W.authentication_state.authentication_status.is_authenticated),[a,n]=Ie(),[i,l]=k.useState(""),[o,c]=k.useState(null),[d,m]=k.useState(null),[u,x]=k.useState(!1),[h,f]=k.useState(!1),p=F0e(i,300);k.useEffect(()=>{const W=a.get("search_query"),I=a.get("category"),Q=a.get("article_id");W&&l(W),I&&c(I),Q&&m(Q)},[a]);const{data:N=[],isLoading:y,error:j}=ie({queryKey:["help-categories"],queryFn:()=>P0e(s),staleTime:10*60*1e3,retry:2}),{data:g,isLoading:S}=ie({queryKey:["help-featured-articles",(t==null?void 0:t.user_type)||"guest"],queryFn:()=>O0e((t==null?void 0:t.user_type)||"guest",s),staleTime:5*60*1e3,retry:2,enabled:!d&&!i}),{data:w,isLoading:C,error:_}=ie({queryKey:["help-articles-search",{q:i,category:o,user_type:t==null?void 0:t.user_type}],queryFn:()=>A0e({q:i||void 0,category_id:o||void 0,user_type:(t==null?void 0:t.user_type)||"guest",limit:20,offset:0},s),enabled:!!i||!!o,staleTime:2*60*1e3,retry:1}),{data:$,isLoading:F,error:T}=ie({queryKey:["help-article",d],queryFn:()=>$0e(d,s),enabled:!!d,staleTime:5*60*1e3,retry:2});k.useEffect(()=>{d&&$&&M0e(d,s).catch(console.error)},[d,$,s]);const{data:R=[],isLoading:A}=ie({queryKey:["help-suggestions",p],queryFn:()=>T0e(p,s),enabled:p.length>=2&&u&&!d,staleTime:30*1e3,retry:1}),M=ue({mutationFn:({articleId:W,wasHelpful:I})=>{if(!s)throw new Error("Authentication required to vote");return E0e(W,I,s)},onSuccess:W=>{}}),P=W=>{if(W.preventDefault(),!i.trim())return;const I=new URLSearchParams;I.set("search_query",i),o&&I.set("category",o),n(I),m(null),x(!1),f(!1)},E=W=>{c(W),m(null),l(""),f(!1);const I=new URLSearchParams;I.set("category",W),n(I)},z=W=>{m(W),l(""),f(!1);const I=new URLSearchParams;I.set("article_id",W),n(I)},O=W=>{z(W)},b=()=>{l(""),c(null),m(null),n({})},L=W=>{if(!r){alert("Please sign in to vote on articles");return}d&&M.mutate({articleId:d,wasHelpful:W})},v=()=>{l(""),x(!1),n({})},D=!d&&!i&&!o,U=!d&&(!!i||!!o),q=!!d,B=k.useMemo(()=>N.find(W=>W.category_id===o),[N,o]);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Help Center"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Find answers and get support"})]}),e.jsxs("form",{onSubmit:P,className:"relative max-w-2xl mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ut,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:i,onChange:W=>l(W.target.value),onFocus:()=>x(!0),onBlur:()=>setTimeout(()=>x(!1),200),placeholder:"Search for help articles...",className:"w-full pl-12 pr-12 py-4 text-lg border-2 border-gray-300 rounded-xl focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),i&&e.jsx("button",{type:"button",onClick:v,className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:e.jsx(be,{className:"h-5 w-5"})})]}),u&&R.length>0&&e.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 max-h-80 overflow-y-auto",children:R.map(W=>e.jsxs("button",{type:"button",onClick:()=>O(W.article_id),className:"w-full text-left px-4 py-3 hover:bg-blue-50 transition-colors border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:W.title}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:W.category_name})]},W.article_id))}),A&&u&&p.length>=2&&e.jsx("div",{className:"absolute z-50 w-full mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Searching..."})]})})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("aside",{className:`lg:w-80 ${q?"hidden lg:block":""}`,children:[e.jsxs("button",{onClick:()=>f(!h),className:"lg:hidden w-full mb-4 px-4 py-3 bg-white rounded-lg shadow-md border border-gray-200 flex items-center justify-between",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Categories"}),e.jsx(Kx,{className:"h-5 w-5 text-gray-600"})]}),e.jsxs("div",{className:`bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden ${h?"block":"hidden lg:block"}`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Browse by Category"})}),e.jsx("nav",{className:"p-4 space-y-2 max-h-[600px] overflow-y-auto",children:y?e.jsx(e.Fragment,{children:[1,2,3,4,5].map(W=>e.jsx("div",{className:"h-12 bg-gray-100 rounded-lg animate-pulse"},W))}):j?e.jsx("div",{className:"text-center py-8 text-red-600",children:e.jsx("p",{className:"text-sm",children:"Failed to load categories"})}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:b,className:`w-full text-left px-4 py-3 rounded-lg transition-all ${!o&&!d&&!i?"bg-blue-100 text-blue-900 font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{children:"All Articles"})})}),N.map(W=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>E(W.category_id),className:`w-full text-left px-4 py-3 rounded-lg transition-all ${o===W.category_id?"bg-blue-100 text-blue-900 font-semibold":"text-gray-700 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:W.category_name}),e.jsx("span",{className:"text-sm text-gray-500 bg-gray-200 px-2 py-1 rounded-full",children:W.article_count})]})}),W.subcategories&&W.subcategories.length>0&&o===W.category_id&&e.jsx("div",{className:"ml-4 mt-2 space-y-1",children:W.subcategories.map(I=>e.jsx("button",{onClick:()=>E(I.category_id),className:"w-full text-left px-3 py-2 rounded-md text-sm text-gray-600 hover:bg-gray-100 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:I.category_name}),e.jsx("span",{className:"text-xs text-gray-400",children:I.article_count})]})},I.category_id))})]},W.category_id))]})})]}),e.jsxs("div",{className:"mt-6 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg p-6 text-white",children:[e.jsx(Cs,{className:"h-8 w-8 mb-3"}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Still need help?"}),e.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Our support team is here to assist you"}),e.jsx("button",{className:"w-full bg-white text-blue-600 px-4 py-2 rounded-lg font-medium hover:bg-blue-50 transition-colors",children:"Contact Support"})]})]}),e.jsxs("main",{className:"flex-1",children:[D&&e.jsxs("div",{className:"space-y-12",children:[e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Popular Articles"}),S?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(W=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded w-3/4"})]},W))}):g!=null&&g.popular_articles&&g.popular_articles.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.popular_articles.map(W=>e.jsxs("button",{onClick:()=>z(W.article_id),className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all p-6 text-left border border-gray-100 hover:border-blue-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx(We,{className:"h-6 w-6 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:W.category_name})]}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-3 line-clamp-2",children:W.title}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ol,{className:"h-3 w-3 mr-1"}),W.helpful_votes," helpful"]}),e.jsxs("span",{children:[W.view_count," views"]})]})]},W.article_id))}):e.jsxs("div",{className:"text-center py-12 bg-white rounded-xl shadow-md",children:[e.jsx(We,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No featured articles available"})]})]}),(g==null?void 0:g.getting_started_articles)&&g.getting_started_articles.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Getting Started"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.getting_started_articles.map(W=>e.jsxs("button",{onClick:()=>z(W.article_id),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all p-6 text-left border border-gray-100 hover:border-blue-300 flex items-start space-x-4",children:[e.jsx(t9,{className:"h-6 w-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:W.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:W.description})]}),e.jsx(Qe,{className:"h-5 w-5 text-gray-400 flex-shrink-0"})]},W.article_id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Browse by Topic"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.slice(0,6).map(W=>e.jsxs("button",{onClick:()=>E(W.category_id),className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all p-6 text-left border border-gray-100 hover:border-blue-300",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:W.category_name}),W.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:W.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[W.article_count," ",W.article_count===1?"article":"articles"]}),e.jsx(Qe,{className:"h-5 w-5 text-gray-400"})]})]},W.category_id))})]})]}),U&&e.jsxs("div",{children:[e.jsxs("nav",{className:"mb-6 flex items-center space-x-2 text-sm",children:[e.jsx("button",{onClick:b,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Help Center"}),e.jsx(Qe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:B?B.category_name:"Search Results"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:i?`Results for "${i}"`:(B==null?void 0:B.category_name)||"Articles"}),w&&e.jsxs("p",{className:"text-gray-600",children:["Found ",w.total_count," ",w.total_count===1?"article":"articles"]})]}),C?e.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(W=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded mb-2 w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded w-2/3"})]},W))}):_?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[e.jsx("p",{className:"text-red-700 font-medium mb-2",children:"Failed to load search results"}),e.jsx("p",{className:"text-red-600 text-sm",children:"Please try again"})]}):w&&w.articles.length>0?e.jsx("div",{className:"space-y-4",children:w.articles.map(W=>e.jsxs("button",{onClick:()=>z(W.article_id),className:"w-full bg-white rounded-xl shadow-md hover:shadow-xl transition-all p-6 text-left border border-gray-100 hover:border-blue-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg flex-1 pr-4",children:W.title}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full flex-shrink-0",children:W.category_name})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:W.content_preview}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Bs,{className:"h-3 w-3 mr-1"}),W.author]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(nt,{className:"h-3 w-3 mr-1"}),W.reading_time_minutes," min read"]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ol,{className:"h-3 w-3 mr-1"}),W.helpful_votes]}),e.jsxs("span",{children:[W.view_count," views"]})]})]})]},W.article_id))}):e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[e.jsx(We,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No articles found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't find any articles matching your search."}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[e.jsx("p",{children:"Try:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Using different keywords"}),e.jsx("li",{children:"Checking your spelling"}),e.jsx("li",{children:"Browsing categories instead"})]})]}),e.jsx("button",{onClick:b,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Browse All Articles"})]})]}),q&&e.jsx("div",{className:"max-w-4xl",children:F?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 md:p-12 animate-pulse",children:[e.jsx("div",{className:"h-10 bg-gray-200 rounded mb-6 w-3/4"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded mb-3 w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded w-4/5"})]}):T?e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-8 text-center",children:[e.jsx("p",{className:"text-red-700 font-medium mb-2",children:"Article not found"}),e.jsx("p",{className:"text-red-600 text-sm mb-4",children:"The article you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:b,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Back to Help Center"})]}):$?e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"mb-6 flex items-center space-x-2 text-sm",children:[e.jsx("button",{onClick:b,className:"text-blue-600 hover:text-blue-800 font-medium",children:"Help Center"}),e.jsx(Qe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600",children:$.category_name}),e.jsx(Qe,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-900 font-medium truncate",children:$.title})]}),e.jsxs("article",{className:"bg-white rounded-xl shadow-lg p-8 md:p-12 border border-gray-100",children:[e.jsxs("header",{className:"mb-8 pb-6 border-b border-gray-200",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4 leading-tight",children:$.title}),e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Bs,{className:"h-4 w-4 mr-1"}),$.author]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(nt,{className:"h-4 w-4 mr-1"}),$.reading_time_minutes," min read"]})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Last updated: ",new Date($.last_updated).toLocaleDateString()]})]})]}),e.jsx("div",{className:"prose prose-lg max-w-none mb-12",children:e.jsx("div",{className:"text-gray-800 leading-relaxed",dangerouslySetInnerHTML:{__html:$.content}})}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Was this article helpful?"}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("button",{onClick:()=>L(!0),disabled:M.isPending||$.was_this_helpful_voted===!0,className:`px-6 py-3 rounded-lg font-medium transition-all ${$.was_this_helpful_voted===!0?"bg-green-100 text-green-700 border-2 border-green-500":"bg-white text-gray-700 border-2 border-gray-300 hover:border-green-500 hover:bg-green-50"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2`,children:[e.jsx(Ol,{className:"h-5 w-5"}),e.jsx("span",{children:"Yes"})]}),e.jsxs("button",{onClick:()=>L(!1),disabled:M.isPending||$.was_this_helpful_voted===!1,className:`px-6 py-3 rounded-lg font-medium transition-all ${$.was_this_helpful_voted===!1?"bg-red-100 text-red-700 border-2 border-red-500":"bg-white text-gray-700 border-2 border-gray-300 hover:border-red-500 hover:bg-red-50"} disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2`,children:[e.jsx(S9,{className:"h-5 w-5"}),e.jsx("span",{children:"No"})]})]}),$.was_this_helpful_voted!==null&&e.jsx("p",{className:"text-center text-sm text-gray-600 mt-3",children:"Thank you for your feedback!"}),!r&&e.jsx("p",{className:"text-center text-xs text-gray-500 mt-3",children:"Sign in to vote on articles"})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600 mb-8",children:[e.jsx(Ol,{className:"h-4 w-4 inline mr-1"}),$.helpful_votes," people found this helpful"]})]}),$.related_articles&&$.related_articles.length>0&&e.jsxs("section",{className:"mt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Related Articles"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$.related_articles.map(W=>e.jsxs("button",{onClick:()=>z(W.article_id),className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-all p-4 text-left border border-gray-100 hover:border-blue-300",children:[e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full inline-block mb-2",children:W.category_name}),e.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-2",children:W.title})]},W.article_id))})]}),e.jsxs("div",{className:"mt-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg p-8 text-white text-center",children:[e.jsx(Cs,{className:"h-12 w-12 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Still need help?"}),e.jsx("p",{className:"text-blue-100 mb-6",children:"Our support team is ready to assist you"}),e.jsx("button",{className:"px-8 py-3 bg-white text-blue-600 rounded-lg font-medium hover:bg-blue-50 transition-colors shadow-lg",children:"Contact Support"})]})]}):null})]})]})})]})})}const L0e=async()=>{const s=await fetch("https://123create-construction-app-with-a.launchpulse.ai/api/platform/public-stats");if(!s.ok)throw new Error("Failed to fetch platform statistics");const r=await s.json();return{total_suppliers:r.verified_supplier_count||0,total_products:r.active_product_count||0,orders_completed:r.total_completed_orders||0,customer_satisfaction:r.average_customer_rating||0,average_delivery_time:`${r.average_delivery_time_days||0} days`,cities_served:r.service_area_city_count||0}},D0e=async t=>{const r=await fetch(`https://123create-construction-app-with-a.launchpulse.ai/api/testimonials?user_type=${t}&featured_only=true&limit=6`);if(!r.ok)return{customer_testimonials:[],supplier_testimonials:[]};const a=await r.json();return{customer_testimonials:(a.testimonials||[]).filter(n=>n.user_type==="customer").map(n=>({testimonial_id:n.testimonial_id,customer_name:n.customer_name,customer_type:n.customer_account_type,quote:n.testimonial_text,rating:n.overall_rating,location:n.location,project_details:n.project_description})),supplier_testimonials:(a.testimonials||[]).filter(n=>n.user_type==="supplier").map(n=>({testimonial_id:n.testimonial_id,supplier_name:n.business_name,business_type:n.business_type,quote:n.testimonial_text,results:n.business_results,location:n.location}))}},I0e=()=>({buyer_steps:[{step_number:1,title:"Browse & Search",description:"Search thousands of construction materials from 100+ verified suppliers in one unified marketplace.",icon_url:"",features:["Real-time inventory from multiple suppliers","Advanced filtering by category, price, location","Compare products side-by-side","Save favorites to wishlist"],illustration_url:null},{step_number:2,title:"Compare & Select",description:"Compare prices, delivery times, and supplier ratings to make informed decisions.",icon_url:"",features:["Transparent pricing with no hidden fees","Supplier ratings and verified reviews","Delivery window selection","Bulk pricing options"],illustration_url:null},{step_number:3,title:"Checkout",description:"Secure checkout with multiple payment options and flexible delivery scheduling.",icon_url:"",features:["Multi-supplier cart management","Trade credit options available","Schedule preferred delivery windows","Secure payment processing"],illustration_url:null},{step_number:4,title:"Track & Receive",description:"Real-time order tracking with GPS delivery updates and proof of delivery.",icon_url:"",features:["Live GPS tracking when out for delivery","SMS and email notifications","Photo proof of delivery","Easy reordering from history"],illustration_url:null}],seller_steps:[{step_number:1,title:"Apply & Verify",description:"Submit your supplier application with business verification for trusted marketplace access.",icon_url:"",features:["Quick application process","Business verification for trust","Dedicated onboarding support","Multiple subscription tiers"],illustration_url:null},{step_number:2,title:"Setup Your Shop",description:"Create your digital storefront with product listings, pricing, and delivery zones.",icon_url:"",features:["Easy product catalog management","Bulk upload via CSV","Custom pricing and promotions","Delivery zone configuration"],illustration_url:null},{step_number:3,title:"Receive Orders",description:"Get instant notifications for new orders and manage fulfillment efficiently.",icon_url:"",features:["Real-time order notifications","Order management dashboard","Direct customer communication","Flexible delivery scheduling"],illustration_url:null},{step_number:4,title:"Grow Your Business",description:"Access analytics, manage finances, and expand your customer base.",icon_url:"",features:["Sales analytics and insights","Automated payouts","Customer reviews and ratings","Marketing promotion tools"],illustration_url:null}]}),B0e=()=>({buyer_benefits:[{benefit_id:"b1",title:"Real-Time Inventory",description:"See exact stock levels updated every minute",icon_url:"",details:["Live stock updates across all suppliers","No more calling around to check availability","Back-in-stock alerts for wishlist items","Reserve items by adding to cart"]},{benefit_id:"b2",title:"Transparent Pricing",description:"Compare prices instantly across multiple suppliers",icon_url:"",details:["See all costs upfront - no hidden fees","Bulk pricing options clearly displayed","Price drop alerts on saved items","Trade pricing for professional accounts"]},{benefit_id:"b3",title:"Reliable Delivery",description:"Schedule delivery windows that work for your project",icon_url:"",details:["Choose your preferred delivery time","GPS tracking when out for delivery","SMS alerts 5 minutes before arrival","Photo proof of delivery"]},{benefit_id:"b4",title:"Trusted Suppliers",description:"Buy from verified, rated suppliers with confidence",icon_url:"",details:["All suppliers verified and vetted","Read verified customer reviews","Supplier response time displayed","Secure payment processing"]}],seller_benefits:[{benefit_id:"s1",title:"Reach More Customers",description:"Get discovered by thousands of active buyers",icon_url:"",details:["Appear in searches across the platform","Target professional and retail customers","Featured product opportunities","Marketing promotion tools"]},{benefit_id:"s2",title:"Easy Order Management",description:"Streamline your order process with powerful tools",icon_url:"",details:["Instant order notifications","Centralized dashboard for all orders","Direct customer messaging","Automated inventory sync"]},{benefit_id:"s3",title:"Grow Sales",description:"Tools to increase revenue and expand your business",icon_url:"",details:["Analytics on best-selling products","Create custom promotions and deals","Volume discounting capabilities","Trade customer access"]},{benefit_id:"s4",title:"Fast Payments",description:"Automated payouts with transparent commission",icon_url:"",details:["Weekly, bi-weekly, or monthly payouts","Low 8.5% platform commission","Detailed financial reporting","Secure payment processing"]}]}),q0e=()=>{const[t]=Ie(),s=ae(w=>w.authentication_state.authentication_status.user_type),r=ae(w=>w.authentication_state.auth_token),a=t.get("user_type"),[n,i]=k.useState(a||(s==="customer"?"customer":s==="supplier"?"supplier":"guest")),l=t.get("process_step"),[o,c]=k.useState(l?parseInt(l):null),d=I0e(),m=B0e(),{data:u,isLoading:x}=ie({queryKey:["platform-statistics"],queryFn:L0e,staleTime:6e4,refetchOnWindowFocus:!1}),{data:h,isLoading:f}=ie({queryKey:["testimonials",n],queryFn:()=>D0e(n),staleTime:3e5,refetchOnWindowFocus:!1}),p=n==="supplier"?d.seller_steps:d.buyer_steps,N=n==="supplier"?m.seller_benefits:m.buyer_benefits,y=n==="supplier"?(h==null?void 0:h.supplier_testimonials)||[]:(h==null?void 0:h.customer_testimonials)||[],j=async(w,C)=>{if(r)try{await fetch("https://123create-construction-app-with-a.launchpulse.ai/api/analytics/page-engagement",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({page_type:"how_it_works",user_type:n,engagement_type:w,content_element:C})})}catch(_){console.error("Analytics tracking error:",_)}},g=w=>{i(w),c(null),j("user_type_switch",w)},S=w=>{c(w),j("step_click",`step_${w}`)};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 py-16 lg:py-24",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:"How BuildEasy Works"}),e.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:n==="supplier"?"Grow your construction supply business with our trusted marketplace platform":"Order construction materials from verified suppliers with transparent pricing and real-time tracking"}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-8",children:[e.jsxs("button",{onClick:()=>g("customer"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${n!=="supplier"?"bg-blue-600 text-white shadow-lg hover:shadow-xl hover:bg-blue-700":"bg-white text-gray-700 border-2 border-gray-200 hover:border-blue-300"}`,children:[e.jsx(Je,{className:"inline-block size-5 mr-2"}),"For Buyers"]}),e.jsxs("button",{onClick:()=>g("supplier"),className:`px-6 py-3 rounded-lg font-medium transition-all duration-200 ${n==="supplier"?"bg-blue-600 text-white shadow-lg hover:shadow-xl hover:bg-blue-700":"bg-white text-gray-700 border-2 border-gray-200 hover:border-blue-300"}`,children:[e.jsx(Ea,{className:"inline-block size-5 mr-2"}),"For Suppliers"]})]})]})})}),!x&&u&&e.jsx("section",{className:"bg-white py-12 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[u.total_suppliers,"+"]}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Verified Suppliers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[(u.total_products/1e3).toFixed(1),"K+"]}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Products Available"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[(u.orders_completed/1e3).toFixed(1),"K+"]}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Orders Completed"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[u.customer_satisfaction.toFixed(1),e.jsx(De,{className:"inline-block size-6 ml-1 text-yellow-400 fill-yellow-400"})]}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Customer Rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:u.average_delivery_time}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Avg. Delivery"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold text-blue-600 mb-2",children:[u.cities_served,"+"]}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Cities Served"})]})]})})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:n==="supplier"?"How to Start Selling":"How to Order Materials"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:n==="supplier"?"Four simple steps to reach more customers and grow your business":"Four simple steps from search to delivery"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:p.map(w=>{const C=w.step_number===1?ut:w.step_number===2?Se:w.step_number===3?Je:Zt,_=o===w.step_number;return e.jsxs("div",{onClick:()=>S(w.step_number),className:`bg-white rounded-xl p-6 lg:p-8 shadow-lg border transition-all duration-200 cursor-pointer ${_?"border-blue-500 shadow-xl transform scale-105":"border-gray-100 hover:shadow-xl hover:border-blue-200"}`,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(C,{className:"size-8 text-blue-600"})}),e.jsxs("div",{className:"text-sm font-semibold text-blue-600 mb-2",children:["Step ",w.step_number]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:w.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:w.description})]}),e.jsx("ul",{className:"space-y-2",children:w.features.map(($,F)=>e.jsxs("li",{className:"flex items-start text-sm text-gray-700",children:[e.jsx(ka,{className:"size-4 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:$})]},F))})]},w.step_number)})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-16",children:e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:n==="supplier"?"Why Suppliers Choose BuildEasy":"Why Customers Love BuildEasy"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12",children:N.map(w=>{const C=w.benefit_id==="b1"||w.benefit_id==="s1"?Ve:w.benefit_id==="b2"||w.benefit_id==="s2"?Be:w.benefit_id==="b3"||w.benefit_id==="s3"?i9:xs;return e.jsxs("div",{className:"flex gap-6 p-6 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200",onMouseEnter:()=>j("benefit_hover",w.benefit_id),children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(C,{className:"size-7 text-blue-600"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:w.title}),e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:w.description}),e.jsx("ul",{className:"space-y-2",children:w.details.map((_,$)=>e.jsxs("li",{className:"flex items-start text-sm text-gray-700",children:[e.jsx(fe,{className:"size-4 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:_})]},$))})]})]},w.benefit_id)})})]})}),!f&&y.length>0&&e.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:["What ",n==="supplier"?"Suppliers":"Customers"," Say"]}),e.jsx("p",{className:"text-lg text-gray-600",children:"Real experiences from our platform users"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:y.slice(0,6).map(w=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsx("div",{className:"flex items-center mb-4",children:n!=="supplier"&&"rating"in w&&e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((C,_)=>e.jsx(De,{className:`size-4 ${_<w.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},_))})}),e.jsxs("p",{className:"text-gray-700 mb-4 leading-relaxed italic",children:['"',w.quote,'"']}),e.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:n==="supplier"?w.supplier_name:w.customer_name}),n==="supplier"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:w.business_type}),e.jsx("p",{className:"text-sm text-blue-600 font-medium mt-1",children:w.results})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-gray-600",children:w.customer_type}),w.project_details&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:w.project_details})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1 flex items-center",children:[e.jsx(fs,{className:"size-3 mr-1"}),w.location]})]})]},w.testimonial_id))})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"See It In Action"}),e.jsxs("p",{className:"text-lg text-gray-600",children:["Watch how easy it is to ",n==="supplier"?"manage your shop":"order materials"]})]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl p-8 lg:p-12 border border-gray-300",children:e.jsx("div",{className:"aspect-video bg-white rounded-xl shadow-xl flex items-center justify-center border border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Se,{className:"size-10 text-blue-600"})}),e.jsx("p",{className:"text-gray-600 font-medium",children:n==="supplier"?"Interactive supplier dashboard demo":"Interactive ordering process demo"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Coming soon"})]})})})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Built on Trust & Reliability"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed",children:n==="supplier"?"We protect your business and ensure you get paid on time":"We verify every supplier and secure every transaction"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xs,{className:"size-8 text-green-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n==="supplier"?"Secure Payments":"Verified Suppliers"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:n==="supplier"?"Automated payouts with transparent commission structure":"All suppliers verified and background checked"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Tt,{className:"size-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n==="supplier"?"Customer Support":"Dedicated Support"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:n==="supplier"?"24/7 support for order and platform issues":"Live chat, phone, and email support available"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center shadow-lg border border-gray-100",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(nt,{className:"size-8 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n==="supplier"?"Quick Onboarding":"Fast Delivery"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:n==="supplier"?"Start selling within 2-3 business days after approval":"Same-day and next-day delivery options available"})]})]})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-blue-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-white mb-6",children:n==="supplier"?"Ready to Grow Your Business?":"Ready to Get Started?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:n==="supplier"?"Join hundreds of suppliers already thriving on BuildEasy":"Join thousands of customers ordering smarter with BuildEasy"}),e.jsx("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:n==="supplier"?e.jsxs(e.Fragment,{children:[e.jsxs(G,{to:"/register/supplier",onClick:()=>j("cta_click","register_supplier"),className:"inline-flex items-center justify-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:["Apply as Supplier",e.jsx(cr,{className:"ml-2 size-5"})]}),e.jsx(G,{to:"/contact",className:"inline-flex items-center justify-center px-8 py-4 bg-blue-700 text-white font-semibold rounded-lg hover:bg-blue-800 transition-all duration-200 border-2 border-blue-400",children:"Talk to Sales"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(G,{to:"/register/customer",onClick:()=>j("cta_click","register_customer"),className:"inline-flex items-center justify-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:["Sign Up Free",e.jsx(cr,{className:"ml-2 size-5"})]}),e.jsx(G,{to:"/products",className:"inline-flex items-center justify-center px-8 py-4 bg-blue-700 text-white font-semibold rounded-lg hover:bg-blue-800 transition-all duration-200 border-2 border-blue-400",children:"Browse Products"})]})}),e.jsx("p",{className:"text-blue-100 text-sm mt-6",children:"No credit card required  Free to join  Cancel anytime"})]})}),e.jsx("section",{className:"py-16 lg:py-24 bg-white border-t border-gray-200",children:e.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"})}),e.jsx("div",{className:"space-y-6",children:n==="supplier"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How much does it cost to join?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"BuildEasy charges an 8.5% commission on completed sales. No monthly fees, no setup costs. You only pay when you make a sale."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How long does verification take?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Most supplier applications are reviewed within 2-3 business days. We'll notify you via email once your application is approved."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"When do I get paid?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Choose weekly, bi-weekly, or monthly automatic payouts. Funds are deposited directly to your bank account after successful delivery confirmation."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Can I set my own prices and delivery areas?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Yes! You have full control over your pricing, promotions, delivery zones, and service areas. Set custom pricing for trade vs retail customers."})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Is there a minimum order amount?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"No platform minimum. Individual suppliers may have their own minimums which are clearly displayed before checkout."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"How accurate is the delivery tracking?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We provide real-time GPS tracking when your delivery is out for delivery. You'll receive SMS alerts when the driver is 5 minutes away."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What payment methods do you accept?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We accept all major credit cards, debit cards, and offer trade credit accounts for verified professional customers. All payments are processed securely."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"What if I have an issue with my order?"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Contact the supplier directly through our messaging system or report an issue through your order page. Our support team is also available 24/7 to help resolve any problems."})]})]})}),e.jsx("div",{className:"text-center mt-12",children:e.jsxs(G,{to:"/help",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium",children:["View All Help Articles",e.jsx(cr,{className:"ml-2 size-4"})]})})]})})]})},z0e=async()=>({support_email:"support@buildeasy.com",support_phone:"1-800-BUILD-EZ",business_hours:{monday_friday:"8:00 AM - 8:00 PM",weekend:"9:00 AM - 5:00 PM",timezone:"EST"},office_address:{street_address:"123 Construction Ave",city:"Austin",state:"TX",postal_code:"78701"},response_times:{email:"24 hours",phone:"Immediate",chat:"2 minutes"}}),U0e=async()=>[{category_id:"general",category_name:"General Inquiry",description:"General questions about BuildEasy",requires_order_id:!1,estimated_response_time:"24 hours"},{category_id:"delivery",category_name:"Delivery Question",description:"Questions about order delivery",requires_order_id:!0,estimated_response_time:"12 hours"},{category_id:"product_quality",category_name:"Product Quality",description:"Issues with product quality",requires_order_id:!0,estimated_response_time:"24 hours"},{category_id:"payment",category_name:"Payment Issue",description:"Payment or billing questions",requires_order_id:!0,estimated_response_time:"12 hours"},{category_id:"account",category_name:"Account Help",description:"Account settings and access",requires_order_id:!1,estimated_response_time:"24 hours"},{category_id:"technical",category_name:"Technical Support",description:"Website or app technical issues",requires_order_id:!1,estimated_response_time:"24 hours"},{category_id:"other",category_name:"Other",description:"Other inquiries",requires_order_id:!1,estimated_response_time:"48 hours"}],W0e=async()=>{const t=new Date().getHours(),s=t>=8&&t<20;return{is_available:s,queue_length:s?Math.floor(Math.random()*3):0,estimated_wait_time:s?"2 minutes":null}},V0e=async(t,s)=>{const r="https://123create-construction-app-with-a.launchpulse.ai",a={user_id:null,order_id:t.order_id,issue_category:t.inquiry_type,subject:t.subject,message:t.message,attachments:t.attachment_urls,priority:"normal"},n={"Content-Type":"application/json"};return s&&(n.Authorization=`Bearer ${s}`),(await H.post(`${r}/api/support/tickets`,a,{headers:n})).data},H0e=async(t,s)=>new Promise(r=>{setTimeout(()=>{r({attachment_url:`https://cdn.buildeasy.com/support/${Date.now()}_${t.name}`,file_name:t.name,file_size:t.size})},1e3)}),K0e=async(t,s)=>(await H.post("https://123create-construction-app-with-a.launchpulse.ai/api/chat/conversations",{conversation_type:"customer_support",related_entity_type:"contact_page",related_entity_id:t},{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}})).data,G0e=()=>{const[t]=Ie(),s=ae(T=>T.authentication_state.current_user),r=ae(T=>T.authentication_state.auth_token),a=ae(T=>T.authentication_state.authentication_status.is_authenticated),n=ae(T=>T.open_modal),[i,l]=k.useState({full_name:"",email:"",phone_number:null,inquiry_type:"general",subject:"",message:"",order_id:null,attachment_urls:[],privacy_consent:!1}),[o,c]=k.useState({full_name:null,email:null,subject:null,message:null,privacy_consent:null}),[d,m]=k.useState({ticket_id:null,submission_timestamp:null,estimated_response_time:null,next_steps:null}),[u,x]=k.useState(!1),{data:h}=ie({queryKey:["contactInformation"],queryFn:z0e,staleTime:30*60*1e3,retry:1}),{data:f=[]}=ie({queryKey:["inquiryCategories"],queryFn:U0e,staleTime:30*60*1e3,retry:1}),{data:p}=ie({queryKey:["chatAvailability"],queryFn:W0e,refetchInterval:6e4,retry:1}),N=ue({mutationFn:T=>V0e(T,r),onSuccess:T=>{m({ticket_id:T.ticket_id,submission_timestamp:T.created_date,estimated_response_time:"24 hours",next_steps:"Our team will review your message and respond via email within 24 hours."}),l({full_name:s?`${s.first_name||""} ${s.last_name||""}`.trim():"",email:(s==null?void 0:s.email)||"",phone_number:(s==null?void 0:s.phone_number)||null,inquiry_type:"general",subject:"",message:"",order_id:null,attachment_urls:[],privacy_consent:!1}),c({full_name:null,email:null,subject:null,message:null,privacy_consent:null}),window.scrollTo({top:0,behavior:"smooth"})},onError:T=>{var R,A;console.error("Contact form submission error:",T),alert(((A=(R=T.response)==null?void 0:R.data)==null?void 0:A.message)||"Failed to submit contact form. Please try again.")}});k.useEffect(()=>{const T=t.get("inquiry_type"),R=t.get("order_id");l(A=>({...A,full_name:s?`${s.first_name||""} ${s.last_name||""}`.trim():A.full_name,email:(s==null?void 0:s.email)||A.email,phone_number:(s==null?void 0:s.phone_number)||A.phone_number,inquiry_type:T||A.inquiry_type,order_id:R||A.order_id}))},[s,t]);const y=k.useCallback((T,R)=>{switch(T){case"full_name":return!R||R.trim().length===0?"Full name is required":R.trim().length<2?"Name must be at least 2 characters":null;case"email":return!R||R.trim().length===0?"Email is required":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(R)?null:"Please enter a valid email address";case"subject":return!R||R.trim().length===0?"Subject is required":R.trim().length<5?"Subject must be at least 5 characters":null;case"message":return!R||R.trim().length===0?"Message is required":R.trim().length<20?"Message must be at least 20 characters":null;case"privacy_consent":return R?null:"You must agree to the privacy policy";default:return null}},[]),j=T=>{const R=i[T],A=y(T,R);c(M=>({...M,[T]:A}))},g=(T,R)=>{l(A=>({...A,[T]:R})),o[T]&&c(A=>({...A,[T]:null}))},S=async T=>{const R=T.target.files;if(!(!R||R.length===0)){if(i.attachment_urls.length+R.length>5){alert("Maximum 5 attachments allowed");return}x(!0);try{const A=Array.from(R).map(async P=>{if(P.size>5242880)throw new Error(`File ${P.name} exceeds 5MB limit`);if(!["image/jpeg","image/png","image/webp","application/pdf"].includes(P.type))throw new Error(`File ${P.name} has invalid type. Only images and PDFs allowed.`);return(await H0e(P)).attachment_url}),M=await Promise.all(A);l(P=>({...P,attachment_urls:[...P.attachment_urls,...M]}))}catch(A){alert(A.message||"Failed to upload files")}finally{x(!1),T.target.value=""}}},w=T=>{l(R=>({...R,attachment_urls:R.attachment_urls.filter(A=>A!==T)}))},C=()=>{const T={full_name:y("full_name",i.full_name),email:y("email",i.email),subject:y("subject",i.subject),message:y("message",i.message),privacy_consent:y("privacy_consent",i.privacy_consent)};return c(T),!Object.values(T).some(R=>R!==null)},_=async T=>{T.preventDefault(),C()&&N.mutate(i)},$=async()=>{if(!a){alert("Please sign in to use live chat");return}if(!r){alert("Authentication token missing");return}try{await K0e(i.inquiry_type,r),n("chat_widget")}catch(T){console.error("Failed to initiate chat:",T),alert("Failed to start chat. Please try again.")}},F=f.find(T=>T.category_id===i.inquiry_type);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.ticket_id&&e.jsx("div",{className:"mb-8 bg-green-50 border-2 border-green-200 rounded-xl p-6 shadow-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(fe,{className:"h-6 w-6 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Message Sent Successfully!"}),e.jsxs("p",{className:"text-green-800 mb-3",children:["Thank you for contacting us. We've received your message and created support ticket"," ",e.jsxs("span",{className:"font-mono font-semibold",children:["#",d.ticket_id]}),"."]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-green-200",children:[e.jsxs("p",{className:"text-sm text-gray-700 mb-2",children:[e.jsx("strong",{children:"Expected Response Time:"})," ",d.estimated_response_time]}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Next Steps:"})," ",d.next_steps]})]}),a&&e.jsx("div",{className:"mt-4",children:e.jsx(G,{to:"/support",className:"inline-flex items-center text-sm font-medium text-green-700 hover:text-green-800",children:"View all support tickets "})})]})]})}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed",children:"Have questions? We're here to help. Choose your preferred method of contact below."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Kt,{className:"h-7 w-7 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Email Us"}),e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Send us a detailed message and we'll respond within ",(h==null?void 0:h.response_times.email)||"24 hours","."]}),e.jsx("a",{href:`mailto:${(h==null?void 0:h.support_email)||"support@buildeasy.com"}`,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:(h==null?void 0:h.support_email)||"support@buildeasy.com"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"w-14 h-14 bg-green-100 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Ra,{className:"h-7 w-7 text-green-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Call Us"}),e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Speak with our team directly. Available ",(h==null?void 0:h.business_hours.monday_friday)||"Mon-Fri 8AM-8PM","."]}),e.jsx("a",{href:`tel:${(h==null?void 0:h.support_phone)||"1-800-BUILD-EZ"}`,className:"text-green-600 hover:text-green-700 font-medium text-sm",children:(h==null?void 0:h.support_phone)||"1-800-BUILD-EZ"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 hover:shadow-xl transition-all duration-200",children:[e.jsx("div",{className:"w-14 h-14 bg-purple-100 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Cs,{className:"h-7 w-7 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Live Chat"}),e.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["Get instant help from our support team. Average response: ",(h==null?void 0:h.response_times.chat)||"2 minutes","."]}),p!=null&&p.is_available?e.jsx("button",{onClick:$,disabled:!a,className:"text-purple-600 hover:text-purple-700 font-medium text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:a?e.jsxs(e.Fragment,{children:["Start Chat  ",p.queue_length," in queue"]}):"Sign in to chat"}):e.jsx("span",{className:"text-gray-500 text-sm",children:"Currently offline"})]})]}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Send Us a Message"}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Fill out the form below and we'll get back to you soon"})]}),e.jsxs("form",{onSubmit:_,className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"inquiry_type",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Inquiry Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("select",{id:"inquiry_type",value:i.inquiry_type,onChange:T=>g("inquiry_type",T.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-gray-900",children:f.map(T=>e.jsx("option",{value:T.category_id,children:T.category_name},T.category_id))}),F&&e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[F.description,"  Response time: ",F.estimated_response_time]})]}),(F==null?void 0:F.requires_order_id)&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"order_id",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Order Number"}),e.jsx("input",{id:"order_id",type:"text",value:i.order_id||"",onChange:T=>g("order_id",T.target.value||null),placeholder:"e.g., ORD-2024-001",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-gray-900 placeholder-gray-400"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter your order number if your inquiry is related to a specific order"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"full_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"full_name",type:"text",required:!0,value:i.full_name,onChange:T=>g("full_name",T.target.value),onBlur:()=>j("full_name"),placeholder:"John Smith",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 text-gray-900 placeholder-gray-400 ${o.full_name?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),o.full_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.full_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"email",type:"email",required:!0,value:i.email,onChange:T=>g("email",T.target.value),onBlur:()=>j("email"),placeholder:"john.smith@example.com",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 text-gray-900 placeholder-gray-400 ${o.email?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),o.email&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.email]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"phone_number",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Phone Number ",e.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),e.jsx("input",{id:"phone_number",type:"tel",value:i.phone_number||"",onChange:T=>g("phone_number",T.target.value||null),placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 text-gray-900 placeholder-gray-400"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Subject ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"subject",type:"text",required:!0,value:i.subject,onChange:T=>g("subject",T.target.value),onBlur:()=>j("subject"),placeholder:"Brief description of your inquiry",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 text-gray-900 placeholder-gray-400 ${o.subject?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),o.subject&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.subject]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Message ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"message",required:!0,rows:6,value:i.message,onChange:T=>g("message",T.target.value),onBlur:()=>j("message"),placeholder:"Please provide as much detail as possible...",className:`w-full px-4 py-3 rounded-lg border-2 transition-all duration-200 text-gray-900 placeholder-gray-400 resize-none ${o.message?"border-red-300 focus:border-red-500 focus:ring-4 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}`}),e.jsx("div",{className:"flex items-center justify-between mt-2",children:o.message?e.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.message]}):e.jsxs("p",{className:"text-sm text-gray-500",children:[i.message.length," / 5000 characters"]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:["Attachments ",e.jsx("span",{className:"text-gray-400",children:"(Optional, max 5 files)"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",id:"file_upload",multiple:!0,accept:"image/jpeg,image/png,image/webp,application/pdf",onChange:S,disabled:u||i.attachment_urls.length>=5,className:"hidden"}),e.jsxs("label",{htmlFor:"file_upload",className:`flex items-center justify-center w-full px-4 py-3 border-2 border-dashed rounded-lg cursor-pointer transition-all duration-200 ${u||i.attachment_urls.length>=5?"bg-gray-50 border-gray-200 cursor-not-allowed":"bg-gray-50 border-gray-300 hover:bg-gray-100 hover:border-blue-400"}`,children:[e.jsx(dr,{className:"h-5 w-5 text-gray-400 mr-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:u?"Uploading...":"Click to upload files"})]})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Accepted formats: JPG, PNG, WebP, PDF  Max size: 5MB per file"}),i.attachment_urls.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:i.attachment_urls.map((T,R)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-4 py-2 border border-gray-200",children:[e.jsxs("span",{className:"text-sm text-gray-700 truncate flex-1",children:["Attachment ",R+1]}),e.jsx("button",{type:"button",onClick:()=>w(T),className:"ml-2 text-red-600 hover:text-red-700",children:e.jsx(be,{className:"h-4 w-4"})})]},T))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:i.privacy_consent,onChange:T=>g("privacy_consent",T.target.checked),className:`mt-1 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 ${o.privacy_consent?"border-red-300":""}`}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["I agree to the"," ",e.jsx(G,{to:"/privacy",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Privacy Policy"})," ","and consent to BuildEasy storing and processing my information."," ",e.jsx("span",{className:"text-red-500",children:"*"})]})]}),o.privacy_consent&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center ml-6",children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),o.privacy_consent]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:N.isPending||u,className:"w-full bg-blue-600 text-white px-6 py-4 rounded-lg font-semibold text-base hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:N.isPending?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):"Send Message"})})]})]})}),e.jsxs("div",{className:"max-w-3xl mx-auto mt-12 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(nt,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Business Hours"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Monday - Friday:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(h==null?void 0:h.business_hours.monday_friday)||"8:00 AM - 8:00 PM"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Weekend:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(h==null?void 0:h.business_hours.weekend)||"9:00 AM - 5:00 PM"})]}),e.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"Timezone:"}),e.jsx("span",{className:"font-medium text-gray-900",children:(h==null?void 0:h.business_hours.timezone)||"EST"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:e.jsx(fs,{className:"h-5 w-5 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Office Location"})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.jsx("p",{children:(h==null?void 0:h.office_address.street_address)||"123 Construction Ave"}),e.jsxs("p",{children:[(h==null?void 0:h.office_address.city)||"Austin",","," ",(h==null?void 0:h.office_address.state)||"TX"," ",(h==null?void 0:h.office_address.postal_code)||"78701"]})]})]})]}),e.jsxs("div",{className:"max-w-3xl mx-auto mt-12 bg-blue-50 border-2 border-blue-200 rounded-xl p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Before You Reach Out"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You might find answers to your questions faster in our help resources:"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs(G,{to:"/help",className:"flex items-center px-4 py-3 bg-white rounded-lg border border-blue-200 hover:border-blue-400 hover:shadow-md transition-all duration-200",children:[e.jsx("span",{className:"text-blue-600 font-medium text-sm",children:"Knowledge Base"}),e.jsx("span",{className:"ml-auto text-blue-600",children:""})]}),e.jsxs(G,{to:"/how-it-works",className:"flex items-center px-4 py-3 bg-white rounded-lg border border-blue-200 hover:border-blue-400 hover:shadow-md transition-all duration-200",children:[e.jsx("span",{className:"text-blue-600 font-medium text-sm",children:"How It Works"}),e.jsx("span",{className:"ml-auto text-blue-600",children:""})]})]})]})]})})})},Y0e={title:"About BuildEasy",sections:[{id:"overview",title:"Revolutionizing Construction Supply",content:"BuildEasy is transforming how construction professionals and DIY enthusiasts source materials. We connect buyers with verified suppliers across the nation, providing real-time inventory, transparent pricing, and reliable delivery trackingall in one seamless platform.",image_url:null},{id:"story",title:"Our Story",content:`Founded in 2024, BuildEasy emerged from a simple frustration: finding and purchasing construction materials shouldn't be this hard. Our founders, experienced contractors and tech entrepreneurs, witnessed firsthand the inefficiencies plaguing the construction supply industryscattered suppliers, unclear pricing, unreliable stock information, and delivery uncertainty.

We built BuildEasy to solve these challenges. By aggregating multiple suppliers into one unified marketplace, implementing real-time inventory synchronization, and providing transparent end-to-end tracking, we're making construction supply purchasing as simple as ordering anything else online.`,image_url:null},{id:"mission",title:"Our Mission",content:"To empower buildersfrom professional contractors to weekend DIYerswith instant access to verified construction materials at transparent prices, backed by reliable delivery and exceptional service. We believe every project deserves the right materials delivered on time, every time.",image_url:null},{id:"vision",title:"Our Vision",content:"To become the nation's most trusted construction supply marketplace, where finding, comparing, and purchasing materials is effortless, where suppliers thrive through increased reach and efficiency, and where every build starts with confidence.",image_url:null},{id:"values",title:"Our Values",content:`Transparency First: Clear pricing, real stock levels, honest timelines.

Reliability Always: Verified suppliers, guaranteed delivery windows, real-time tracking.

Simplicity Matters: Minimal clicks, intuitive experiences, no hidden fees.

Trust Through Action: Every promise kept, every issue resolved, every feedback heard.

Growth Together: Supporting suppliers to scale, helping customers build better, growing the industry.`,image_url:null}],last_updated:new Date().toISOString()},Q0e=[{member_id:"tm_001",name:"Sarah Johnson",role:"Co-Founder & CEO",bio:"Former general contractor with 15+ years in commercial construction. Sarah led teams building over $200M in projects before founding BuildEasy to solve the procurement challenges she experienced daily.",image_url:null,linkedin_url:null},{member_id:"tm_002",name:"Michael Chen",role:"Co-Founder & CTO",bio:"Tech entrepreneur with exits in logistics and marketplaces. Michael previously built real-time supply chain platforms at Amazon and brings deep expertise in inventory management systems and marketplace dynamics.",image_url:null,linkedin_url:null},{member_id:"tm_003",name:"Jennifer Martinez",role:"VP of Supplier Success",bio:"Former regional manager at a national building supply chain with 12+ years in supplier relations. Jennifer ensures our supplier partners have the tools and support to grow their business on BuildEasy.",image_url:null,linkedin_url:null},{member_id:"tm_004",name:"David Thompson",role:"VP of Product",bio:"Product leader with experience at construction tech startups. David focuses on building features that contractors actually need, not just what sounds good in a pitch deck.",image_url:null,linkedin_url:null}],X0e={founding_year:2024,team_size:24,suppliers_served:102,orders_processed:1247,customer_satisfaction:4.7},Z0e=[{year:"2024",quarter:"Q1",title:"Platform Launch",description:"BuildEasy officially launches with 50+ verified suppliers across Texas"},{year:"2024",quarter:"Q2",title:"100 Suppliers Milestone",description:"Reached 100+ verified suppliers serving major metro areas"},{year:"2024",quarter:"Q3",title:"1,000 Orders Delivered",description:"Processed and delivered over 1,000 construction supply orders with 98% on-time delivery"},{year:"2024",quarter:"Q4",title:"Trade Credit Launch",description:"Introduced trade credit program for professional contractors, unlocking $2M+ in purchasing power"}],J0e=()=>{const[t,s]=Ie(),r=t.get("section")||"overview",[a,n]=k.useState(r),[i]=k.useState(!1),[l]=k.useState(null),[o]=k.useState(Y0e),[c]=k.useState(Q0e),[d]=k.useState(X0e),m=ae(h=>h.authentication_state.authentication_status.is_authenticated);k.useEffect(()=>{r!==a&&(n(r),u(r))},[r]),k.useEffect(()=>{console.log("About page viewed at:",new Date().toISOString())},[]);const u=h=>{const f=document.getElementById(h);if(f){const y=f.getBoundingClientRect().top+window.scrollY-80;window.scrollTo({top:y,behavior:"smooth"})}},x=h=>{n(h),s({section:h}),u(h)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-blue-600 to-blue-800 text-white py-20 lg:py-32",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-10"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:["Building the Future of ",e.jsx("br",{className:"hidden sm:block"}),"Construction Supply"]}),e.jsx("p",{className:"text-xl md:text-2xl text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Connecting verified suppliers with builders nationwide through technology, transparency, and trust"}),e.jsxs("div",{className:"mt-12 grid grid-cols-2 md:grid-cols-4 gap-6 lg:gap-8 max-w-5xl mx-auto",children:[e.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 border border-white border-opacity-20",children:[e.jsx("div",{className:"text-3xl lg:text-4xl font-bold",children:d.founding_year}),e.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Founded"})]}),e.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 border border-white border-opacity-20",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold",children:[d.suppliers_served,"+"]}),e.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Verified Suppliers"})]}),e.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 border border-white border-opacity-20",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold",children:[d.orders_processed.toLocaleString(),"+"]}),e.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Orders Delivered"})]}),e.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-6 border border-white border-opacity-20",children:[e.jsxs("div",{className:"text-3xl lg:text-4xl font-bold",children:[d.customer_satisfaction,"/5.0"]}),e.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Satisfaction Rating"})]})]})]})})]}),e.jsx("div",{className:"sticky top-16 z-10 bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex overflow-x-auto py-4 space-x-8",children:[o.sections.map(h=>e.jsx("button",{onClick:()=>x(h.id),className:`whitespace-nowrap text-sm font-medium transition-colors pb-2 border-b-2 ${a===h.id?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900 hover:border-gray-300"}`,children:h.title},h.id)),e.jsx("button",{onClick:()=>x("team"),className:`whitespace-nowrap text-sm font-medium transition-colors pb-2 border-b-2 ${a==="team"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900 hover:border-gray-300"}`,children:"Our Team"}),e.jsx("button",{onClick:()=>x("milestones"),className:`whitespace-nowrap text-sm font-medium transition-colors pb-2 border-b-2 ${a==="milestones"?"text-blue-600 border-blue-600":"text-gray-600 border-transparent hover:text-gray-900 hover:border-gray-300"}`,children:"Milestones"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-24",children:[i&&e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}),l&&e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:l})})]})})}),!i&&!l&&e.jsxs("div",{className:"space-y-24",children:[e.jsx("section",{id:"overview",className:"scroll-mt-32",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-6",children:o.sections[0].title}),e.jsx("p",{className:"text-lg lg:text-xl text-gray-600 leading-relaxed",children:o.sections[0].content})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-600 rounded-lg mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Verified Suppliers"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Every supplier undergoes rigorous verification including business registration, tax ID, and background checks."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-100",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-600 rounded-lg mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Real-Time Inventory"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Live stock levels updated every 30 seconds. No more showing up to find items out of stock."})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-100",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-600 rounded-lg mb-4",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Transparent Pricing"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:"Compare prices across suppliers instantly. No hidden fees. What you see is what you pay."})]})]})]})}),e.jsx("section",{id:"story",className:"scroll-mt-32",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-6",children:o.sections[1].title}),e.jsx("div",{className:"prose prose-lg max-w-none text-gray-600 leading-relaxed",children:o.sections[1].content.split(`

`).map((h,f)=>e.jsx("p",{className:"mb-4",children:h},f))}),e.jsxs("div",{className:"mt-12 grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-red-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"The Problem"]}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:""}),e.jsx("span",{children:"Hours wasted calling suppliers for availability"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:""}),e.jsx("span",{children:"No price transparency or comparison"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:""}),e.jsx("span",{children:"Unreliable delivery windows causing delays"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-red-500 mr-2",children:""}),e.jsx("span",{children:"Limited supplier options in one location"})]})]})]}),e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-500 p-6 rounded-lg",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-green-500 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Our Solution"]}),e.jsxs("ul",{className:"space-y-2 text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsx("span",{children:"Real-time inventory across 100+ suppliers"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsx("span",{children:"Instant price comparison in one view"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsx("span",{children:"Guaranteed delivery windows with GPS tracking"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:""}),e.jsx("span",{children:"Nationwide supplier network at your fingertips"})]})]})]})]})]})}),e.jsx("section",{id:"mission",className:"scroll-mt-32",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-8 lg:p-10 border border-blue-100",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-600 rounded-xl mb-6",children:e.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-4",children:o.sections[2].title}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.sections[2].content})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-8 lg:p-10 border border-purple-100",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-600 rounded-xl mb-6",children:e.jsxs("svg",{className:"w-8 h-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),e.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-4",children:o.sections[3].title}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.sections[3].content})]})]})})}),e.jsx("section",{id:"values",className:"scroll-mt-32",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-6",children:o.sections[4].title})}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:o.sections[4].content.split(`

`).map((h,f)=>{const[p,...N]=h.split(": "),y=[e.jsxs("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})];return e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600",children:y[f%y.length]}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:p}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:N.join(": ")})]})]})},f)})})]})}),e.jsx("section",{id:"team",className:"scroll-mt-32 bg-gray-50 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-16 lg:py-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Meet Our Team"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Experienced professionals from construction, technology, and logistics working together to revolutionize the supply chain"})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map(h=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-2xl transition-all duration-200",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 h-64 flex items-center justify-center text-white",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-4xl font-bold",children:h.name.split(" ").map(f=>f[0]).join("")})})})}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:h.name}),e.jsx("p",{className:"text-blue-600 font-medium text-sm mb-4",children:h.role}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:h.bio}),h.linkedin_url&&e.jsx("div",{className:"mt-4",children:e.jsxs("a",{href:h.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 font-medium",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn"]})})]})]},h.member_id))}),e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("div",{className:"inline-block bg-white rounded-xl px-8 py-6 shadow-lg border border-gray-200",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Join Our Growing Team"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We're always looking for talented individuals passionate about transforming construction"}),e.jsxs(G,{to:"/contact",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors duration-200",children:["View Open Positions",e.jsx("svg",{className:"ml-2 w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})]})}),e.jsx("section",{id:"milestones",className:"scroll-mt-32",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Our Journey"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Key milestones in building the future of construction supply"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-blue-200 hidden md:block"}),e.jsx("div",{className:"space-y-8",children:Z0e.map((h,f)=>e.jsxs("div",{className:"relative pl-0 md:pl-20",children:[e.jsx("div",{className:"absolute left-6 top-2 w-5 h-5 rounded-full bg-blue-600 border-4 border-white shadow-lg hidden md:block"}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-200",children:[e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3 mb-2 md:mb-0",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-semibold px-3 py-1 rounded-full",children:h.year}),e.jsx("span",{className:"text-gray-500 text-sm font-medium",children:h.quarter})]})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:h.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:h.description})]})]},f))})]})]})}),e.jsx("section",{className:"scroll-mt-32 bg-gray-50 -mx-4 sm:-mx-6 lg:-mx-8 px-4 sm:px-6 lg:px-8 py-16 lg:py-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-4",children:"Trusted by Builders Nationwide"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Building credibility through verified partnerships and industry recognition"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Verified & Secure"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"PCI DSS Level 1 compliant with bank-grade security. All supplier credentials verified."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Fair Pricing"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Transparent commission structure. Suppliers keep more, buyers pay less."})]}),e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"24/7 Support"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Dedicated customer success team ready to help via chat, phone, or email."})]})]})]})}),e.jsx("section",{className:"scroll-mt-32",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl p-12 lg:p-16 text-center text-white shadow-2xl",children:[e.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6",children:"Ready to Simplify Your Supply Chain?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join thousands of builders who trust BuildEasy for their construction materials"}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:m?e.jsxs(e.Fragment,{children:[e.jsxs(G,{to:"/products",className:"w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-lg hover:bg-gray-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:["Start Shopping",e.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),e.jsx(G,{to:"/contact",className:"w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 bg-transparent text-white font-semibold rounded-lg border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200",children:"Contact Us"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(G,{to:"/register",className:"w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 bg-white text-blue-600 font-semibold rounded-lg hover:bg-gray-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:["Get Started Free",e.jsx("svg",{className:"ml-2 w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),e.jsx(G,{to:"/how-it-works",className:"w-full sm:w-auto inline-flex items-center justify-center px-8 py-4 bg-transparent text-white font-semibold rounded-lg border-2 border-white hover:bg-white hover:text-blue-600 transition-all duration-200",children:"Learn How It Works"})]})})]})})})]})]}),e.jsx("div",{className:"fixed bottom-8 right-8",children:e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),n("overview"),s({section:"overview"})},className:"bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all duration-200 hover:shadow-xl","aria-label":"Back to top",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})})]})})},ege={title:"Terms of Service",version:"1.0",effective_date:"2024-01-01",last_updated:"2024-01-01T00:00:00Z",sections:[{id:"introduction",title:"1. Introduction and Acceptance",content:`
        <p>Welcome to BuildEasy ("Platform", "Service", "we", "us", or "our"). BuildEasy is a construction supply marketplace platform that connects buyers (customers) with construction material suppliers across the United States.</p>
        
        <p>These Terms of Service ("Terms", "Agreement") constitute a legally binding agreement between you ("User", "you", or "your") and BuildEasy. By accessing or using our Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms.</p>
        
        <h3>Acceptance of Terms</h3>
        <p>By creating an account, browsing products, making purchases, or using any services on the BuildEasy Platform, you expressly agree to these Terms and our Privacy Policy. If you do not agree to these Terms, you must not access or use the Platform.</p>
        
        <h3>Modifications to Terms</h3>
        <p>We reserve the right to modify these Terms at any time. We will notify users of material changes via email and in-app notifications at least 30 days before the changes take effect. Your continued use of the Platform after changes become effective constitutes acceptance of the modified Terms.</p>
      `,subsections:[]},{id:"definitions",title:"2. Definitions",content:`
        <p>For the purposes of these Terms, the following definitions apply:</p>
        
        <ul>
          <li><strong>Buyer/Customer:</strong> An individual or business entity purchasing construction materials through the Platform.</li>
          <li><strong>Supplier:</strong> A verified business selling construction materials through the Platform.</li>
          <li><strong>Product:</strong> Construction materials, supplies, or equipment listed for sale on the Platform.</li>
          <li><strong>Order:</strong> A confirmed purchase transaction between a Customer and one or more Suppliers.</li>
          <li><strong>Trade Credit:</strong> A line of credit extended to qualified business customers for purchases on the Platform.</li>
          <li><strong>Surplus Marketplace:</strong> The peer-to-peer section of the Platform where users can buy and sell unused construction materials.</li>
          <li><strong>Delivery Window:</strong> The scheduled time range for delivery of purchased products.</li>
          <li><strong>GMV (Gross Merchandise Value):</strong> The total sales value of merchandise sold through the Platform.</li>
        </ul>
      `,subsections:[]},{id:"eligibility",title:"3. Eligibility and Account Registration",content:`
        <h3>3.1 Age and Capacity</h3>
        <p>You must be at least 18 years old and have the legal capacity to enter into contracts to use this Platform. By registering, you represent and warrant that you meet these requirements.</p>
        
        <h3>3.2 Account Types</h3>
        <p>BuildEasy offers two primary account types:</p>
        <ul>
          <li><strong>Customer Accounts:</strong> For individuals or businesses purchasing construction materials. Customer accounts may be classified as Retail (DIY/personal use) or Trade (professional contractors/businesses).</li>
          <li><strong>Supplier Accounts:</strong> For verified businesses selling construction materials. Supplier accounts require application, verification, and approval by BuildEasy administrators.</li>
        </ul>
        
        <h3>3.3 Account Registration</h3>
        <p>When creating an account, you agree to:</p>
        <ul>
          <li>Provide accurate, current, and complete information</li>
          <li>Maintain and promptly update your account information</li>
          <li>Maintain the security of your password and account credentials</li>
          <li>Accept responsibility for all activities that occur under your account</li>
          <li>Immediately notify BuildEasy of any unauthorized use of your account</li>
        </ul>
        
        <h3>3.4 Email Verification</h3>
        <p>All users must verify their email address within 7 days of registration. Unverified accounts may have limited access to Platform features.</p>
        
        <h3>3.5 Account Suspension and Termination</h3>
        <p>BuildEasy reserves the right to suspend or terminate accounts that violate these Terms, engage in fraudulent activity, or pose a risk to the Platform or other users.</p>
      `,subsections:[]},{id:"customer-obligations",title:"4. Customer Obligations and Conduct",content:`
        <h3>4.1 Purchasing Rules</h3>
        <p>As a Customer, you agree to:</p>
        <ul>
          <li>Provide accurate delivery addresses and contact information</li>
          <li>Be available during scheduled delivery windows or provide appropriate receiving arrangements</li>
          <li>Inspect delivered products promptly and report issues within 48 hours of delivery</li>
          <li>Pay for all orders placed using your account</li>
          <li>Not resell products purchased for personal use as commercial transactions</li>
        </ul>
        
        <h3>4.2 Trade Credit Terms</h3>
        <p>If approved for trade credit:</p>
        <ul>
          <li>You agree to the payment terms specified in your credit agreement (typically Net 30 days)</li>
          <li>Late payments may incur fees and interest as specified in your credit terms</li>
          <li>Failure to pay may result in credit suspension, account suspension, or legal action</li>
          <li>BuildEasy reserves the right to modify or revoke trade credit at any time</li>
        </ul>
        
        <h3>4.3 Prohibited Activities</h3>
        <p>Customers must not:</p>
        <ul>
          <li>Use the Platform for any illegal purposes</li>
          <li>Submit false or fraudulent orders</li>
          <li>Abuse return or refund policies</li>
          <li>Harass or abuse Suppliers or Platform staff</li>
          <li>Attempt to manipulate reviews or ratings</li>
          <li>Share account credentials with others</li>
          <li>Use automated bots or scrapers to access the Platform</li>
        </ul>
      `,subsections:[]},{id:"supplier-obligations",title:"5. Supplier Obligations and Conduct",content:`
        <h3>5.1 Supplier Verification</h3>
        <p>All Suppliers must complete our verification process, which includes:</p>
        <ul>
          <li>Business registration verification</li>
          <li>Tax ID verification</li>
          <li>Identity verification of business owners</li>
          <li>Address and location verification</li>
          <li>Background and compliance checks</li>
        </ul>
        
        <h3>5.2 Product Listing Requirements</h3>
        <p>Suppliers must:</p>
        <ul>
          <li>Provide accurate product descriptions, specifications, and pricing</li>
          <li>Include clear, high-quality product images</li>
          <li>Maintain real-time inventory accuracy (stock quantities must reflect actual availability)</li>
          <li>Update product information promptly when changes occur</li>
          <li>Only list products they are legally authorized to sell</li>
          <li>Clearly state product conditions, warranties, and return policies</li>
        </ul>
        
        <h3>5.3 Order Fulfillment Obligations</h3>
        <p>Suppliers agree to:</p>
        <ul>
          <li>Accept or decline orders within 24 hours of placement</li>
          <li>Fulfill accepted orders within the committed timeframe</li>
          <li>Deliver products within scheduled delivery windows</li>
          <li>Provide accurate tracking information when available</li>
          <li>Maintain a minimum 95% fulfillment rate</li>
          <li>Communicate proactively about delays or issues</li>
        </ul>
        
        <h3>5.4 Customer Service Requirements</h3>
        <p>Suppliers must:</p>
        <ul>
          <li>Respond to customer inquiries within 24 hours</li>
          <li>Handle returns and refunds according to stated policies and Platform standards</li>
          <li>Resolve customer issues professionally and promptly</li>
          <li>Maintain a minimum 4.0-star average rating</li>
        </ul>
        
        <h3>5.5 Prohibited Supplier Activities</h3>
        <p>Suppliers must not:</p>
        <ul>
          <li>List counterfeit, stolen, or illegal products</li>
          <li>Manipulate inventory levels to create false scarcity</li>
          <li>Engage in price manipulation or collusion with other suppliers</li>
          <li>Solicit customers to complete transactions outside the Platform</li>
          <li>Post fake reviews or incentivize positive reviews improperly</li>
          <li>Discriminate against customers based on protected characteristics</li>
        </ul>
        
        <h3>5.6 Commission and Payment Terms</h3>
        <p>Suppliers agree to pay BuildEasy a commission on all sales completed through the Platform. Commission rates are specified in individual supplier agreements and typically range from 5-12% depending on subscription tier. Payouts are processed according to the agreed payout frequency (weekly, bi-weekly, or monthly).</p>
      `,subsections:[]},{id:"transactions",title:"6. Transactions and Payments",content:`
        <h3>6.1 Payment Processing</h3>
        <p>All payments are processed securely through our integrated payment partners (Stripe and PayPal). BuildEasy does not directly store credit card information. By making a purchase, you authorize BuildEasy to charge your selected payment method for the total order amount, including products, delivery fees, and applicable taxes.</p>
        
        <h3>6.2 Pricing and Availability</h3>
        <p>Product prices are set by individual Suppliers and displayed in US Dollars (USD). Prices are subject to change without notice. BuildEasy makes reasonable efforts to ensure price accuracy, but errors may occur. If a product is listed at an incorrect price due to system error, BuildEasy or the Supplier reserves the right to cancel the order and refund the payment.</p>
        
        <h3>6.3 Taxes</h3>
        <p>Customers are responsible for all applicable taxes based on their delivery location. Tax amounts are calculated and displayed at checkout before order confirmation.</p>
        
        <h3>6.4 Order Confirmation</h3>
        <p>Orders are not final until you receive an order confirmation email. Order confirmations are sent to the email address associated with your account. You are responsible for ensuring your email address is current and accurate.</p>
        
        <h3>6.5 Payment Security</h3>
        <p>BuildEasy is PCI DSS Level 1 compliant. All payment transactions are encrypted and transmitted securely. We implement industry-standard security measures to protect your financial information.</p>
      `,subsections:[]},{id:"delivery",title:"7. Delivery and Fulfillment",content:`
        <h3>7.1 Delivery Windows</h3>
        <p>Delivery windows are scheduled during checkout and confirmed by Suppliers. Customers must select an available delivery window for each Supplier in multi-supplier orders. Delivery windows are estimates and may be subject to change due to weather, traffic, or unforeseen circumstances.</p>
        
        <h3>7.2 Delivery Fees</h3>
        <p>Delivery fees are calculated based on delivery distance, order size, and selected delivery method. Fees are displayed at checkout before order confirmation. Some Suppliers may offer free delivery for orders exceeding a minimum purchase amount.</p>
        
        <h3>7.3 Failed Deliveries</h3>
        <p>If delivery fails due to Customer unavailability, incorrect address, or refusal of delivery, the Customer may be charged redelivery fees. After two failed delivery attempts, the order may be cancelled, and restocking fees may apply.</p>
        
        <h3>7.4 Inspection and Acceptance</h3>
        <p>Customers must inspect delivered products upon receipt. Issues must be reported within 48 hours of delivery. Acceptance of delivery (signature or photographic proof) indicates apparent satisfactory condition subject to reasonable inspection period.</p>
      `,subsections:[]},{id:"returns-refunds",title:"8. Returns, Refunds, and Cancellations",content:`
        <h3>8.1 Cancellation Policy</h3>
        <p>Customers may cancel orders before they enter "preparing" status. Once a Supplier begins preparing an order, cancellation may not be possible, or restocking fees may apply. Cancellations are processed through the Platform, and refunds are issued to the original payment method within 5-7 business days.</p>
        
        <h3>8.2 Return Policy</h3>
        <p>Return policies vary by Supplier and product type. Standard return policy allows returns within 30 days of delivery for undamaged, unopened products in original packaging. Special-order or custom products may not be returnable. Customers are responsible for return shipping costs unless the product is defective or incorrect.</p>
        
        <h3>8.3 Refund Processing</h3>
        <p>Approved refunds are processed within 5-7 business days of return receipt and inspection. Refunds are issued to the original payment method. Trade credit refunds are credited back to the customer's credit balance.</p>
        
        <h3>8.4 Damaged or Defective Products</h3>
        <p>If products arrive damaged or defective, Customers must report the issue within 48 hours of delivery with photographic evidence. BuildEasy or the Supplier will provide a replacement or full refund at no additional cost to the Customer, including return shipping.</p>
      `,subsections:[]},{id:"intellectual-property",title:"9. Intellectual Property Rights",content:`
        <h3>9.1 Platform Ownership</h3>
        <p>The BuildEasy Platform, including its design, code, features, content, and trademarks, is owned by BuildEasy and protected by United States and international copyright, trademark, and other intellectual property laws. You may not copy, modify, distribute, or create derivative works from the Platform without express written permission.</p>
        
        <h3>9.2 User-Generated Content</h3>
        <p>By submitting content to the Platform (reviews, photos, messages, surplus listings), you grant BuildEasy a worldwide, non-exclusive, royalty-free, transferable license to use, reproduce, distribute, modify, and display such content in connection with operating and promoting the Platform.</p>
        
        <h3>9.3 Product Images and Descriptions</h3>
        <p>Suppliers represent that they have the right to use all product images and descriptions they upload. Suppliers are responsible for ensuring they do not infringe on third-party intellectual property rights.</p>
        
        <h3>9.4 Trademark Usage</h3>
        <p>The "BuildEasy" name, logo, and related marks are trademarks of BuildEasy. You may not use our trademarks without prior written consent, except as necessary to identify BuildEasy as the platform facilitating your transaction.</p>
      `,subsections:[]},{id:"privacy",title:"10. Privacy and Data Protection",content:`
        <p>Your privacy is important to us. Our collection, use, and protection of personal information is governed by our Privacy Policy, which is incorporated by reference into these Terms. By using the Platform, you consent to the practices described in the Privacy Policy.</p>
        
        <h3>Key Privacy Commitments:</h3>
        <ul>
          <li>We collect only information necessary to provide our services</li>
          <li>We use industry-standard encryption to protect your data</li>
          <li>We do not sell your personal information to third parties</li>
          <li>You may request access to or deletion of your personal data (subject to legal obligations)</li>
          <li>We comply with applicable data protection regulations including GDPR and CCPA</li>
        </ul>
        
        <p>For complete details on our data practices, please review our <a href="/privacy" class="text-blue-600 hover:text-blue-700 underline">Privacy Policy</a>.</p>
      `,subsections:[]},{id:"reviews",title:"11. Reviews, Ratings, and User Content",content:`
        <h3>11.1 Review Eligibility</h3>
        <p>Only verified purchasers may leave reviews for products and Suppliers. Reviews must be based on genuine personal experience with the product or service.</p>
        
        <h3>11.2 Review Guidelines</h3>
        <p>Reviews must:</p>
        <ul>
          <li>Be honest and based on actual experience</li>
          <li>Relate to the product or service being reviewed</li>
          <li>Not contain profanity, hate speech, or personal attacks</li>
          <li>Not include promotional content or competitor references</li>
          <li>Not violate any laws or third-party rights</li>
        </ul>
        
        <h3>11.3 Content Moderation</h3>
        <p>BuildEasy reserves the right to remove reviews or content that violates these guidelines. Repeated violations may result in account suspension. We do not pre-approve reviews but may moderate flagged content.</p>
        
        <h3>11.4 Supplier Responses</h3>
        <p>Suppliers may respond to reviews publicly. Responses must be professional and constructive. Suppliers may not offer incentives to customers in exchange for removing or modifying negative reviews.</p>
      `,subsections:[]},{id:"liability",title:"12. Limitation of Liability",content:`
        <h3>12.1 Platform as Marketplace</h3>
        <p>BuildEasy acts as a marketplace connecting Buyers and Suppliers. We are not a construction supplier, manufacturer, or distributor. We do not take title to products listed on the Platform. Transactions are directly between Customers and Suppliers.</p>
        
        <h3>12.2 Product Quality and Safety</h3>
        <p>Suppliers are solely responsible for the quality, safety, and legality of products they list and sell. BuildEasy does not inspect, test, or verify products (except through standard moderation processes). BuildEasy is not liable for defective, dangerous, or non-compliant products.</p>
        
        <h3>12.3 Disclaimer of Warranties</h3>
        <p>THE PLATFORM IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTIES OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.</p>
        
        <h3>12.4 Limitation of Damages</h3>
        <p>TO THE MAXIMUM EXTENT PERMITTED BY LAW, BUILDEASY'S TOTAL LIABILITY FOR ANY CLAIMS ARISING FROM YOUR USE OF THE PLATFORM SHALL NOT EXCEED THE GREATER OF (A) $500 OR (B) THE AMOUNT YOU PAID TO BUILDEASY IN THE 12 MONTHS PRECEDING THE CLAIM.</p>
        
        <h3>12.5 Indemnification</h3>
        <p>You agree to indemnify, defend, and hold harmless BuildEasy, its officers, directors, employees, and agents from any claims, damages, losses, liabilities, and expenses (including legal fees) arising from:</p>
        <ul>
          <li>Your use of the Platform</li>
          <li>Your violation of these Terms</li>
          <li>Your violation of any law or third-party rights</li>
          <li>Content you submit to the Platform</li>
          <li>Products you list (if Supplier) or disputes related to your orders (if Customer)</li>
        </ul>
      `,subsections:[]},{id:"disputes",title:"13. Dispute Resolution and Legal",content:`
        <h3>13.1 Platform Dispute Resolution</h3>
        <p>For issues between Customers and Suppliers, we encourage resolution through the Platform's issue reporting and dispute resolution system. BuildEasy administrators may mediate disputes when escalated.</p>
        
        <h3>13.2 Governing Law</h3>
        <p>These Terms shall be governed by and construed in accordance with the laws of the State of Delaware, United States, without regard to its conflict of law provisions.</p>
        
        <h3>13.3 Arbitration Agreement</h3>
        <p>Any dispute arising from these Terms or your use of the Platform shall be resolved through binding arbitration in accordance with the American Arbitration Association's Commercial Arbitration Rules. You waive your right to participate in class action lawsuits or class-wide arbitration.</p>
        
        <h3>13.4 Exceptions to Arbitration</h3>
        <p>Either party may seek injunctive relief in court for intellectual property infringement or unauthorized access to the Platform. Small claims court actions are also exempt from mandatory arbitration.</p>
        
        <h3>13.5 Venue</h3>
        <p>To the extent court proceedings are permitted under these Terms, the exclusive venue shall be state or federal courts located in Delaware.</p>
      `,subsections:[]},{id:"surplus-marketplace",title:"14. Surplus Marketplace Terms",content:`
        <h3>14.1 Surplus Marketplace Overview</h3>
        <p>The Surplus Marketplace allows registered users to list unused construction materials for peer-to-peer sale. These transactions are subject to additional terms beyond standard product purchases.</p>
        
        <h3>14.2 Listing Requirements</h3>
        <p>Surplus listings must:</p>
        <ul>
          <li>Accurately describe the item's condition</li>
          <li>Include clear photographs showing actual condition</li>
          <li>Specify pickup location or shipping availability</li>
          <li>Comply with all applicable laws regarding sale of goods</li>
          <li>Not include prohibited items (hazardous materials, stolen goods, etc.)</li>
        </ul>
        
        <h3>14.3 Payment Escrow</h3>
        <p>Payments for surplus items are held in escrow by BuildEasy until:</p>
        <ul>
          <li>Buyer confirms receipt and satisfactory condition (for pickup), OR</li>
          <li>Delivery confirmation is received (for shipped items), OR</li>
          <li>14 days have passed without dispute</li>
        </ul>
        
        <h3>14.4 Surplus Transaction Disputes</h3>
        <p>In case of disputes regarding surplus items, BuildEasy may refund the buyer and withhold payment from the seller. Repeated disputes may result in suspension from the Surplus Marketplace.</p>
      `,subsections:[]},{id:"termination",title:"15. Termination and Account Closure",content:`
        <h3>15.1 Voluntary Termination</h3>
        <p>You may terminate your account at any time through account settings. Upon termination:</p>
        <ul>
          <li>You must complete or cancel all pending orders</li>
          <li>Outstanding balances (trade credit, surplus escrow) must be settled</li>
          <li>Your personal data will be handled according to our Privacy Policy</li>
          <li>Order history will be retained for legal and accounting purposes</li>
        </ul>
        
        <h3>15.2 Termination by BuildEasy</h3>
        <p>BuildEasy may terminate or suspend your account immediately for:</p>
        <ul>
          <li>Violation of these Terms</li>
          <li>Fraudulent activity</li>
          <li>Non-payment (for trade credit accounts)</li>
          <li>Violation of laws or regulations</li>
          <li>Damage to Platform reputation or other users</li>
        </ul>
        
        <h3>15.3 Effect of Termination</h3>
        <p>Upon termination, your right to access and use the Platform immediately ceases. Provisions of these Terms that by their nature should survive termination shall survive, including intellectual property rights, liability limitations, and dispute resolution provisions.</p>
      `,subsections:[]},{id:"miscellaneous",title:"16. Miscellaneous Provisions",content:`
        <h3>16.1 Entire Agreement</h3>
        <p>These Terms, together with our Privacy Policy and any additional agreements entered into with BuildEasy, constitute the entire agreement between you and BuildEasy regarding use of the Platform.</p>
        
        <h3>16.2 Severability</h3>
        <p>If any provision of these Terms is found to be invalid or unenforceable, the remaining provisions shall remain in full force and effect.</p>
        
        <h3>16.3 Waiver</h3>
        <p>No waiver of any provision of these Terms shall be deemed a further or continuing waiver of such provision or any other provision.</p>
        
        <h3>16.4 Assignment</h3>
        <p>You may not assign or transfer these Terms or your account without BuildEasy's prior written consent. BuildEasy may assign these Terms without restriction.</p>
        
        <h3>16.5 Force Majeure</h3>
        <p>BuildEasy is not liable for failure to perform obligations due to circumstances beyond reasonable control, including natural disasters, acts of government, war, terrorism, internet failures, or other force majeure events.</p>
        
        <h3>16.6 Contact Information</h3>
        <p>For questions about these Terms or the Platform, contact us at:</p>
        <ul>
          <li>Email: legal@buildeasy.com</li>
          <li>Phone: 1-800-BUILD-EZ</li>
          <li>Mail: BuildEasy, Inc., Legal Department, [Address]</li>
        </ul>
      `,subsections:[]}]},tge=()=>{const[t,s]=Ie(),r=Xe(),a=ae($=>$.authentication_state.authentication_status.is_authenticated),n=ae($=>$.authentication_state.current_user),[i]=k.useState(ege),[l,o]=k.useState(t.get("section")||"introduction"),[c]=k.useState(t.get("version")||"current"),[d,m]=k.useState([]),[u,x]=k.useState({accepted:!1,acceptance_date:null,version_accepted:null}),[h]=k.useState(!1),[f]=k.useState(null),[p,N]=k.useState(!1),[y,j]=k.useState(!1),g=k.useRef({});k.useEffect(()=>{const $=i.sections.map(F=>({section_id:F.id,title:F.title,subsections:F.subsections.map(T=>({id:T.id,title:T.title}))}));if(m($),a&&n){const F=localStorage.getItem(`terms_acceptance_${n.user_id}`);if(F){const T=JSON.parse(F);x(T)}}},[i,a,n]),k.useEffect(()=>{const $=t.get("section");$&&$!==l&&o($)},[t]),k.useEffect(()=>{l&&g.current[l]&&setTimeout(()=>{var $;($=g.current[l])==null||$.scrollIntoView({behavior:"smooth",block:"start"})},100)},[l]);const S=$=>{var F;o($),s({section:$}),j(!1),g.current[$]&&((F=g.current[$])==null||F.scrollIntoView({behavior:"smooth",block:"start"}))},w=()=>{if(!a||!n){r("/login?redirect_url=/terms");return}const $={accepted:!0,acceptance_date:new Date().toISOString(),version_accepted:i.version};localStorage.setItem(`terms_acceptance_${n.user_id}`,JSON.stringify($)),x($),N(!0),setTimeout(()=>{N(!1)},5e3)},C=()=>{alert("PDF download will be available soon. This feature requires backend implementation.")},_=$=>{console.log(`Section viewed: ${$} at ${new Date().toISOString()}`)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(We,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.title})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{children:["Version ",i.version]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Effective Date: ",new Date(i.effective_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Last Updated: ",new Date(i.last_updated).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:[e.jsx(gs,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download PDF"})]}),e.jsx("button",{onClick:()=>j(!y),className:"lg:hidden px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),a&&u.accepted&&e.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsxs("p",{className:"text-sm text-green-800",children:["You accepted these terms on ",new Date(u.acceptance_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),u.version_accepted&&` (Version ${u.version_accepted})`]})]})}),p&&e.jsx("div",{className:"mt-4 bg-green-50 border border-green-200 rounded-lg p-4 animate-fade-in",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"w-5 h-5 text-green-600"}),e.jsx("p",{className:"text-sm text-green-800 font-medium",children:"Thank you for accepting our Terms of Service!"})]})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:`lg:w-80 ${y?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"sticky top-24 bg-white rounded-lg shadow-lg border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Table of Contents"}),e.jsx("nav",{className:"space-y-1",children:d.map($=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>S($.section_id),className:`w-full text-left px-3 py-2 rounded-md text-sm font-medium transition-colors ${l===$.section_id?"bg-blue-50 text-blue-700 border-l-4 border-blue-600":"text-gray-700 hover:bg-gray-50 border-l-4 border-transparent"}`,children:$.title}),$.subsections.length>0&&l===$.section_id&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:$.subsections.map(F=>e.jsx("button",{onClick:()=>S(F.id),className:"w-full text-left px-3 py-1 text-xs text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md",children:F.title},F.id))})]},$.section_id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Related Documents"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(G,{to:"/privacy",className:"block text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Privacy Policy "}),e.jsx(G,{to:"/help",className:"block text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Help Center "}),e.jsx(G,{to:"/contact",className:"block text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Contact Us "})]})]})]})}),e.jsxs("main",{className:"flex-1 bg-white rounded-lg shadow-lg border border-gray-200 p-8 lg:p-12",children:[f&&e.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"w-5 h-5 text-red-600"}),e.jsx("p",{className:"text-sm text-red-800",children:f})]})}),h&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}),!h&&!f&&e.jsxs("div",{className:"prose prose-lg prose-blue max-w-none",children:[i.sections.map($=>e.jsxs("section",{id:$.id,ref:F=>{g.current[$.id]=F},className:`mb-12 scroll-mt-24 ${l===$.id?"ring-2 ring-blue-200 ring-offset-4 rounded-lg p-4 -m-4":""}`,onMouseEnter:()=>_($.id),children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b-2 border-gray-200",children:$.title}),e.jsx("div",{className:"text-gray-700 leading-relaxed",dangerouslySetInnerHTML:{__html:$.content}}),$.subsections.map(F=>e.jsxs("div",{id:F.id,ref:T=>{g.current[F.id]=T},className:"mt-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-3",children:F.title}),e.jsx("div",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:F.content}})]},F.id))]},$.id)),e.jsxs("section",{className:"mt-12 pt-8 border-t-2 border-gray-300",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Acknowledgment"}),e.jsx("p",{className:"text-gray-700 mb-6",children:'BY CLICKING "I ACCEPT" BELOW OR BY CONTINUING TO USE THE BUILDEASY PLATFORM, YOU ACKNOWLEDGE THAT YOU HAVE READ, UNDERSTOOD, AND AGREE TO BE BOUND BY THESE TERMS OF SERVICE.'}),a&&!u.accepted&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-800 mb-4",children:"Please accept these Terms of Service to continue using BuildEasy."}),e.jsx("button",{onClick:w,className:"w-full sm:w-auto px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:"I Accept the Terms of Service"})]}),!a&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-gray-700 mb-4",children:"To accept these terms and use BuildEasy, please sign in or create an account."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx(G,{to:"/login?redirect_url=/terms",className:"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors text-center",children:"Sign In"}),e.jsx(G,{to:"/register?redirect_url=/terms",className:"px-6 py-3 bg-white border-2 border-blue-600 text-blue-600 font-semibold rounded-lg hover:bg-blue-50 transition-colors text-center",children:"Create Account"})]})]})]}),e.jsxs("section",{className:"mt-12 pt-8 border-t border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Questions About These Terms?"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions or concerns about these Terms of Service, please don't hesitate to contact us:"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-2",children:[e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Email:"})," ",e.jsx("a",{href:"mailto:legal@buildeasy.com",className:"text-blue-600 hover:text-blue-700 underline",children:"legal@buildeasy.com"})]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Phone:"})," ",e.jsx("a",{href:"tel:1-800-BUILD-EZ",className:"text-blue-600 hover:text-blue-700 underline",children:"1-800-BUILD-EZ"})]}),e.jsxs("p",{className:"text-gray-800",children:[e.jsx("strong",{children:"Support:"})," ",e.jsx(G,{to:"/support",className:"text-blue-600 hover:text-blue-700 underline",children:"Visit our Support Center"})]})]})]})]})]})]})}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-all hover:scale-110 hidden lg:block","aria-label":"Scroll to top",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})})},sge={title:"Privacy Policy",version:"1.0",effective_date:"2024-01-15",last_updated:"2024-01-15",gdpr_compliant:!0,ccpa_compliant:!0,sections:[{id:"overview",title:"Privacy Policy Overview",content:`Welcome to BuildEasy. This Privacy Policy explains how BuildEasy, Inc. ("BuildEasy," "we," "us," or "our") collects, uses, discloses, and protects your personal information when you use our construction supply marketplace platform, including our website, mobile applications, and related services (collectively, the "Services").

We are committed to protecting your privacy and ensuring you have a positive experience on our platform. This policy outlines our practices concerning the collection and use of your personal data and your rights in relation to that data.

By accessing or using our Services, you agree to the collection and use of information in accordance with this Privacy Policy. If you do not agree with our policies and practices, please do not use our Services.`},{id:"information-collection",title:"1. Information We Collect",content:"We collect several types of information from and about users of our Services, including:",subsections:[{id:"personal-information",title:"1.1 Personal Information",content:`Personal information that identifies you directly or indirectly, including:

 Account Information: Name, email address, phone number, password, profile photo
 Business Information (for suppliers): Business name, registration number, business type, tax identification
 Delivery Information: Shipping addresses, delivery contact details, location data
 Payment Information: Credit/debit card details (tokenized), billing addresses, trade credit information
 Identity Verification: Government-issued IDs, business licenses (for supplier verification)
 Communication Data: Messages between buyers and sellers, customer support interactions`},{id:"transactional-data",title:"1.2 Transactional Data",content:`Information about your interactions with our Services:

 Order History: Products purchased, quantities, prices, delivery details, order status
 Shopping Behavior: Products viewed, searches performed, items saved to wishlist, cart contents
 Review and Rating Data: Reviews posted, ratings given, helpfulness votes
 Supplier Performance Data: Order fulfillment metrics, response times, customer satisfaction scores
 Financial Transactions: Payment records, refunds, trade credit usage, supplier payouts`},{id:"technical-information",title:"1.3 Technical Information",content:`Automatically collected technical data:

 Device Information: IP address, browser type and version, operating system, device identifiers
 Usage Data: Pages visited, time spent on pages, click patterns, navigation paths
 Location Data: GPS coordinates for delivery tracking (with your consent), approximate location from IP address
 Cookies and Similar Technologies: Session cookies, preference cookies, analytics cookies (see Cookie Policy)
 Log Data: Server logs, error reports, performance metrics`},{id:"third-party-information",title:"1.4 Information from Third Parties",content:`We may receive information from external sources:

 Social Media Platforms: If you connect your social media accounts, we may receive basic profile information
 Payment Processors: Transaction confirmation, payment method validation
 Delivery Partners: Shipment tracking, delivery confirmation, GPS location during delivery
 Identity Verification Services: For supplier background checks and fraud prevention
 Analytics Providers: Aggregated usage statistics and demographic data`}]},{id:"information-use",title:"2. How We Use Your Information",content:"We use the information we collect for various purposes:",subsections:[{id:"service-provision",title:"2.1 To Provide and Improve Our Services",content:` Process and fulfill your orders, including payment processing and delivery coordination
 Create and manage your account, including authentication and security
 Enable communication between buyers and suppliers
 Provide customer support and respond to your inquiries
 Display real-time inventory availability and pricing information
 Facilitate product reviews and ratings to help users make informed decisions
 Personalize your experience based on your preferences and browsing history
 Develop new features and improve existing functionality`},{id:"business-operations",title:"2.2 For Business Operations",content:` Verify supplier identities and business credentials
 Calculate and process supplier payouts and commissions
 Monitor platform performance and prevent fraud
 Enforce our Terms of Service and other policies
 Resolve disputes between buyers and suppliers
 Maintain platform security and prevent unauthorized access
 Generate analytics and business intelligence reports`},{id:"marketing-communications",title:"2.3 Marketing and Communications",content:`With your consent, we may use your information to:

 Send you promotional emails about new products, special offers, and platform updates
 Provide personalized product recommendations based on your browsing and purchase history
 Notify you about price drops on products in your wishlist
 Send SMS notifications about order updates and delivery tracking
 Display targeted advertisements on our platform and third-party websites

You can opt out of marketing communications at any time through your account settings or by clicking "unsubscribe" in our emails.`},{id:"legal-compliance",title:"2.4 Legal Compliance and Protection",content:` Comply with applicable laws, regulations, and legal processes
 Respond to lawful requests from public authorities
 Protect our rights, privacy, safety, or property
 Enforce our legal terms and conditions
 Detect, prevent, and investigate fraud, security breaches, or illegal activities
 Resolve disputes and enforce our agreements`}]},{id:"information-sharing",title:"3. How We Share Your Information",content:"We may share your information in the following circumstances:",subsections:[{id:"suppliers-customers",title:"3.1 Between Buyers and Suppliers",content:`When you place an order:
 Your name, delivery address, and contact information are shared with the supplier to fulfill your order
 Suppliers can see your order history with them to provide better service
 Your review information (including name, unless posted anonymously) is visible to all users`},{id:"service-providers",title:"3.2 Service Providers and Partners",content:`We work with third-party service providers who perform services on our behalf:

 Payment Processors: Stripe, PayPal for secure payment processing (they receive payment card information directly, we only store tokenized references)
 Shipping and Logistics Partners: FedEx, UPS, local delivery services for order fulfillment and GPS tracking
 Cloud Hosting: AWS for secure data storage and content delivery
 Email and SMS Services: SendGrid, Twilio for transactional and marketing communications
 Analytics Providers: Google Analytics for website usage analysis
 Customer Support Tools: For live chat and ticket management
 Identity Verification Services: For supplier background checks

These providers are contractually obligated to protect your data and use it only for providing services to us.`},{id:"business-transfers",title:"3.3 Business Transfers",content:"If BuildEasy is involved in a merger, acquisition, asset sale, or bankruptcy, your information may be transferred as part of that transaction. We will notify you via email and/or prominent notice on our platform of any change in ownership or uses of your personal information."},{id:"legal-requirements",title:"3.4 Legal Requirements and Protection",content:"We may disclose your information if required to do so by law or in response to valid requests by public authorities (e.g., court orders, subpoenas, or government agencies). We may also disclose information to protect our rights, privacy, safety, or property, or that of our users and the public."},{id:"aggregated-data",title:"3.5 Aggregated or De-identified Data",content:"We may share aggregated or de-identified information that cannot reasonably be used to identify you. For example, we may share statistics about platform usage, sales trends, or market insights with suppliers to help them make informed business decisions."}]},{id:"user-rights",title:"4. Your Privacy Rights",content:"Depending on your location, you may have certain rights regarding your personal information:",subsections:[{id:"gdpr-rights",title:"4.1 GDPR Rights (European Economic Area)",content:`If you are located in the EEA, you have the following rights under GDPR:

 Right to Access: Request copies of your personal data
 Right to Rectification: Request correction of inaccurate or incomplete data
 Right to Erasure ("Right to be Forgotten"): Request deletion of your personal data
 Right to Restrict Processing: Request limitation of how we process your data
 Right to Data Portability: Receive your data in a machine-readable format
 Right to Object: Object to processing of your personal data for certain purposes
 Right to Withdraw Consent: Withdraw consent for data processing at any time
 Right to Lodge a Complaint: File a complaint with your local data protection authority

To exercise these rights, please contact us at privacy@buildeasy.com or use the data management tools in your account settings.`},{id:"ccpa-rights",title:"4.2 CCPA Rights (California Residents)",content:`If you are a California resident, you have rights under the California Consumer Privacy Act (CCPA):

 Right to Know: Request information about the categories and specific pieces of personal information we collect
 Right to Delete: Request deletion of your personal information (subject to certain exceptions)
 Right to Opt-Out: Opt-out of the sale of your personal information (Note: We do not sell personal information)
 Right to Non-Discrimination: Exercise your CCPA rights without discriminatory treatment

To submit a verifiable consumer request, please visit your account settings or email privacy@buildeasy.com.`},{id:"other-rights",title:"4.3 Other Jurisdictions",content:"Users in other jurisdictions may have additional rights under local privacy laws. Please contact us to learn about your specific rights and how to exercise them."}]},{id:"data-retention",title:"5. Data Retention",content:`We retain your personal information for as long as necessary to provide our Services and fulfill the purposes outlined in this Privacy Policy, unless a longer retention period is required or permitted by law.

Retention Periods:

 Account Information: Retained while your account is active and for 7 years after account closure for legal and tax purposes
 Transaction Records: Retained for 7 years to comply with financial record-keeping requirements
 Communication Records: Retained for 3 years for customer support and dispute resolution purposes
 Marketing Data: Retained until you withdraw consent or request deletion
 Technical Logs: Retained for 90 days for security and system maintenance
 Anonymized Analytics Data: May be retained indefinitely as it cannot identify you

After the retention period expires, we will delete or anonymize your personal information in accordance with applicable laws.`},{id:"data-security",title:"6. Data Security",content:"We implement appropriate technical and organizational measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction.",subsections:[{id:"security-measures",title:"6.1 Security Measures",content:`Our security practices include:

 Encryption: All data transmitted between your device and our servers is encrypted using TLS 1.3 or higher
 Data at Rest: Personal data stored in our databases is encrypted using AES-256 encryption
 Access Controls: Role-based access controls limit employee access to personal data on a need-to-know basis
 Authentication: Multi-factor authentication (MFA) for admin accounts and optional for user accounts
 Payment Security: PCI DSS Level 1 compliant payment processing; we never store complete credit card numbers
 Regular Security Audits: Third-party penetration testing and security assessments conducted annually
 Monitoring: 24/7 security monitoring and incident response procedures
 Employee Training: Regular security awareness training for all employees with access to personal data`},{id:"data-breaches",title:"6.2 Data Breach Notification",content:`In the event of a data breach that is likely to result in a risk to your rights and freedoms, we will notify you within 72 hours of becoming aware of the breach, as required by GDPR. Notification will be sent via email to your registered email address and may include:

 Description of the breach and affected data
 Potential consequences of the breach
 Measures taken to address the breach
 Recommended actions you should take`}]},{id:"cookies-tracking",title:"7. Cookies and Tracking Technologies",content:"We use cookies and similar tracking technologies to enhance your experience on our platform.",subsections:[{id:"cookie-types",title:"7.1 Types of Cookies We Use",content:` Essential Cookies: Necessary for the platform to function (authentication, shopping cart, security)
 Performance Cookies: Help us understand how users interact with our platform (Google Analytics)
 Functionality Cookies: Remember your preferences and settings
 Advertising Cookies: Used to deliver relevant advertisements based on your interests

You can control cookie preferences through your browser settings. Note that disabling essential cookies may prevent you from using certain features of our Services.`},{id:"tracking-technologies",title:"7.2 Other Tracking Technologies",content:` Web Beacons: Small graphic images in emails to track open rates and engagement
 Pixel Tags: Monitor user behavior and conversions for advertising purposes
 Local Storage: Store user preferences and session data locally in your browser
 Device Fingerprinting: Identify devices for security and fraud prevention purposes`}]},{id:"childrens-privacy",title:"8. Children's Privacy",content:"Our Services are not intended for children under the age of 18. We do not knowingly collect personal information from children under 18. If you are a parent or guardian and believe your child has provided us with personal information, please contact us at privacy@buildeasy.com, and we will delete such information from our systems."},{id:"international-transfers",title:"9. International Data Transfers",content:`BuildEasy operates in the United States, and your information may be transferred to, stored, and processed in the United States or other countries where our service providers operate.

For users in the European Economic Area (EEA), United Kingdom, or Switzerland, we ensure appropriate safeguards are in place for international transfers:

 Standard Contractual Clauses (SCCs): We use European Commission-approved SCCs with our service providers
 Privacy Shield (where applicable): We comply with applicable Privacy Shield frameworks
 Adequacy Decisions: We rely on European Commission adequacy decisions where available

By using our Services, you consent to the transfer of your information to countries outside your country of residence, which may have different data protection laws.`},{id:"third-party-services",title:"10. Third-Party Services and Links",content:`Our Services may contain links to third-party websites, plugins, or applications. This Privacy Policy does not apply to these external services. We are not responsible for the privacy practices of third parties.

Third-party services we integrate with include:
 Payment Processors: Stripe, PayPal
 Mapping Services: Google Maps for address validation and delivery tracking
 Social Media Platforms: For social login and sharing features
 Analytics Providers: Google Analytics, Hotjar for usage analytics

We encourage you to read the privacy policies of any third-party services you interact with through our platform.`},{id:"changes-policy",title:"11. Changes to This Privacy Policy",content:`We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors. When we make material changes, we will:

 Update the "Last Updated" date at the top of this policy
 Notify you via email (if you have an account)
 Display a prominent notice on our platform
 For significant changes, request your renewed consent where required by law

We encourage you to review this Privacy Policy periodically. Your continued use of our Services after changes are posted constitutes your acceptance of the updated Privacy Policy.`},{id:"contact-information",title:"12. Contact Us",content:`If you have questions, concerns, or requests regarding this Privacy Policy or our data practices, please contact us:

BuildEasy, Inc.
Privacy Team
Email: privacy@buildeasy.com
Phone: 1-800-BUILD-EZ (1-800-284-5339)
Mailing Address:
123 Construction Plaza, Suite 500
Austin, TX 78701
United States

Data Protection Officer (DPO):
Email: dpo@buildeasy.com

For EEA users, you may also contact our EU Representative:
BuildEasy EU Representative
Email: eu-privacy@buildeasy.com

We will respond to all requests within 30 days, or sooner as required by applicable law.`},{id:"california-notice",title:"13. California Privacy Notice",content:`This section provides additional information for California residents as required by the California Consumer Privacy Act (CCPA).

Categories of Personal Information Collected (Last 12 Months):
 Identifiers (name, email, phone, address)
 Commercial information (order history, preferences)
 Internet activity (browsing history, search queries)
 Geolocation data (delivery addresses, GPS tracking)
 Professional information (trade credentials for business accounts)

Sources of Information:
 Directly from you (account registration, orders, communications)
 Automatically through your use of our Services (cookies, logs)
 From third parties (payment processors, delivery partners)

Business Purposes for Collection:
 Providing marketplace services and customer support
 Processing transactions and managing orders
 Personalizing user experience
 Security and fraud prevention
 Legal compliance

We Do NOT Sell Personal Information:
BuildEasy does not sell personal information to third parties for monetary or other valuable consideration. We may share information with service providers and partners as described in this Privacy Policy, but such sharing does not constitute a "sale" under CCPA.`}]},rge=()=>{const[t,s]=Ie(),r=t.get("section")||"overview",[a]=k.useState(sge),[n,i]=k.useState(r),[l,o]=k.useState(null),[c,d]=k.useState(!1),[m,u]=k.useState({analytics_consent:!1,marketing_consent:!1,personalization_consent:!1,data_sharing_consent:!1,last_updated:null}),[x,h]=k.useState({export_requested:!1,export_status:null,deletion_requested:!1,deletion_status:null}),f={gdpr:a.gdpr_compliant,ccpa:a.ccpa_compliant},p=a.sections.map($=>{var F;return{section_id:$.id,title:$.title,subsections:((F=$.subsections)==null?void 0:F.map(T=>({id:T.id,title:T.title})))||[]}}),N=ae($=>$.authentication_state.authentication_status.is_authenticated),y=k.useRef({});k.useEffect(()=>{i(r),y.current[r]&&setTimeout(()=>{var $;($=y.current[r])==null||$.scrollIntoView({behavior:"smooth",block:"start"})},100)},[r]),k.useEffect(()=>{const $=()=>{d(window.scrollY>400);const F=window.scrollY+100;for(const T of a.sections){const R=y.current[T.id];if(R){const{offsetTop:A,offsetHeight:M}=R;if(F>=A&&F<A+M){i(T.id);break}}}};return window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)},[a.sections]);const j=$=>{s({section:$}),i($);const F=y.current[$];F&&F.scrollIntoView({behavior:"smooth",block:"start"})},g=()=>{window.scrollTo({top:0,behavior:"smooth"})},S=async($,F)=>{if(!N)return;const T={...m,[$]:F,last_updated:new Date().toISOString()};u(T);try{console.log("Privacy preferences updated (API endpoint not available):",T)}catch(R){console.error("Failed to update privacy preferences:",R),o("Failed to update privacy preferences. Please try again.")}},w=async()=>{if(N){h($=>({...$,export_requested:!0,export_status:"processing"}));try{console.log("Data export requested (API endpoint not available)"),setTimeout(()=>{h($=>({...$,export_status:"completed"})),alert("Data export request received. You will receive a download link via email within 48 hours.")},1e3)}catch($){console.error("Failed to request data export:",$),h(F=>({...F,export_status:"failed"})),o("Failed to request data export. Please try again or contact support.")}}},C=async()=>{if(!(!N||!window.confirm("Are you sure you want to delete your account? This action cannot be undone. All your data, including order history and reviews, will be permanently deleted."))){h(F=>({...F,deletion_requested:!0,deletion_status:"pending_verification"}));try{console.log("Account deletion requested (API endpoint not available)"),alert("Account deletion request received. You will receive a verification email to confirm this request within 24 hours.")}catch(F){console.error("Failed to request account deletion:",F),h(T=>({...T,deletion_status:"failed"})),o("Failed to request account deletion. Please contact support at privacy@buildeasy.com.")}}},_=()=>{alert("PDF download feature is coming soon. For now, you can print this page using your browser's print function (Ctrl+P or Cmd+P).")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(xs,{className:"h-16 w-16 text-blue-600"})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:a.title}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Version ",a.version]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Effective Date:"})," ",new Date(a.effective_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Updated:"})," ",new Date(a.last_updated).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mt-6",children:[f.gdpr&&e.jsxs("div",{className:"flex items-center bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-full text-sm font-medium",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"GDPR Compliant"]}),f.ccpa&&e.jsxs("div",{className:"flex items-center bg-green-50 border border-green-200 text-green-700 px-4 py-2 rounded-full text-sm font-medium",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"CCPA Compliant"]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:_,className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-all duration-200 shadow-sm",children:[e.jsx(gs,{className:"h-5 w-5 mr-2"}),"Download as PDF"]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("aside",{className:"hidden lg:block lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24 bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),e.jsx("nav",{className:"space-y-1",children:p.map($=>e.jsxs("div",{children:[e.jsx("button",{onClick:()=>j($.section_id),className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${n===$.section_id?"bg-blue-50 text-blue-700 border-l-4 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 border-l-4 border-transparent"}`,children:$.title}),$.subsections.length>0&&n===$.section_id&&e.jsx("div",{className:"ml-4 mt-1 space-y-1",children:$.subsections.map(F=>e.jsx("button",{onClick:()=>j(F.id),className:"w-full text-left px-3 py-1 text-xs text-gray-500 hover:text-blue-600",children:F.title},F.id))})]},$.section_id))})]})}),e.jsxs("div",{className:"lg:col-span-3 space-y-12",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8 lg:p-12",children:e.jsx("div",{className:"prose prose-lg max-w-none",children:a.sections.map($=>e.jsxs("section",{id:$.id,ref:F=>{y.current[$.id]=F},className:"mb-16 scroll-mt-24",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 pb-3 border-b-2 border-gray-200",children:$.title}),e.jsx("div",{className:"text-base leading-relaxed text-gray-700 whitespace-pre-line mb-6",children:$.content}),$.subsections&&$.subsections.length>0&&e.jsx("div",{className:"space-y-8 ml-0 lg:ml-6",children:$.subsections.map(F=>e.jsxs("div",{id:F.id,ref:T=>{y.current[F.id]=T},className:"scroll-mt-24",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-4",children:F.title}),e.jsx("div",{className:"text-base leading-relaxed text-gray-600 whitespace-pre-line",children:F.content})]},F.id))})]},$.id))})}),N&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Your Privacy Preferences"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Control how we use your data. Changes are saved automatically."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Analytics and Performance"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Allow us to collect anonymized usage data to improve our platform performance and user experience."})]}),e.jsx("button",{onClick:()=>S("analytics_consent",!m.analytics_consent),className:`ml-6 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${m.analytics_consent?"bg-blue-600":"bg-gray-200"}`,role:"switch","aria-checked":m.analytics_consent,children:e.jsx("span",{className:`inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200 ${m.analytics_consent?"translate-x-5":"translate-x-0"}`})})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Marketing Communications"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Receive personalized offers, promotions, and product recommendations via email."})]}),e.jsx("button",{onClick:()=>S("marketing_consent",!m.marketing_consent),className:`ml-6 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${m.marketing_consent?"bg-blue-600":"bg-gray-200"}`,role:"switch","aria-checked":m.marketing_consent,children:e.jsx("span",{className:`inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200 ${m.marketing_consent?"translate-x-5":"translate-x-0"}`})})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Personalization"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Use your browsing history and preferences to personalize product recommendations."})]}),e.jsx("button",{onClick:()=>S("personalization_consent",!m.personalization_consent),className:`ml-6 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${m.personalization_consent?"bg-blue-600":"bg-gray-200"}`,role:"switch","aria-checked":m.personalization_consent,children:e.jsx("span",{className:`inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200 ${m.personalization_consent?"translate-x-5":"translate-x-0"}`})})]}),e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Anonymized Data Sharing"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Allow sharing of anonymized data with suppliers for market analytics (no personal information shared)."})]}),e.jsx("button",{onClick:()=>S("data_sharing_consent",!m.data_sharing_consent),className:`ml-6 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${m.data_sharing_consent?"bg-blue-600":"bg-gray-200"}`,role:"switch","aria-checked":m.data_sharing_consent,children:e.jsx("span",{className:`inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200 ${m.data_sharing_consent?"translate-x-5":"translate-x-0"}`})})]})]}),m.last_updated&&e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(m.last_updated).toLocaleString()]})})]}),N&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6 mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Your Data Rights"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Exercise your GDPR and CCPA rights to access, export, or delete your personal data."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Download Your Data"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Request a copy of all personal data we have about you. You'll receive a download link via email within 48 hours."}),x.export_requested&&e.jsx("div",{className:"mb-4",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${x.export_status==="completed"?"bg-green-100 text-green-800":x.export_status==="processing"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"}`,children:["Status: ",x.export_status||"Unknown"]})})]}),e.jsx("button",{onClick:w,disabled:x.export_requested&&x.export_status==="processing",className:"ml-4 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:x.export_requested&&x.export_status==="processing"?"Processing...":"Request Data Export"})]})}),e.jsx("div",{className:"border border-red-200 bg-red-50 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-lg font-medium text-red-900 mb-2 flex items-center",children:[e.jsx(he,{className:"h-5 w-5 mr-2"}),"Delete Your Account"]}),e.jsxs("p",{className:"text-sm text-red-700 mb-2",children:[e.jsx("strong",{children:"Warning:"})," This action cannot be undone. All your data, including order history, reviews, and saved items, will be permanently deleted."]}),e.jsx("p",{className:"text-sm text-red-600",children:"Outstanding orders must be completed or cancelled before account deletion."}),x.deletion_requested&&e.jsx("div",{className:"mt-4",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:["Status: ",x.deletion_status||"Pending verification"]})})]}),e.jsx("button",{onClick:C,disabled:x.deletion_requested,className:"ml-4 px-6 py-3 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:x.deletion_requested?"Request Sent":"Delete Account"})]})})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200 p-8",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(Kt,{className:"h-6 w-6 text-blue-600 mt-1 mr-4"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Questions About Privacy?"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Our Privacy Team is here to help. If you have questions about this policy or how we handle your data, please don't hesitate to reach out."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("a",{href:"mailto:privacy@buildeasy.com",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all duration-200",children:[e.jsx(Kt,{className:"h-5 w-5 mr-2"}),"Email Privacy Team"]}),e.jsxs(G,{to:"/contact",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 transition-all duration-200",children:["Contact Support",e.jsx(Qe,{className:"h-5 w-5 ml-2"})]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Related Legal Documents"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs(G,{to:"/terms",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200",children:[e.jsx(We,{className:"h-5 w-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Terms of Service"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Platform usage terms"})]})]}),e.jsxs(G,{to:"/help",className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all duration-200",children:[e.jsx(We,{className:"h-5 w-5 text-blue-600 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Cookie Policy"}),e.jsx("div",{className:"text-sm text-gray-600",children:"How we use cookies"})]})]})]})]})]})]})}),c&&e.jsx("button",{onClick:g,className:"fixed bottom-8 right-8 p-4 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all duration-200 hover:scale-110 focus:outline-none focus:ring-4 focus:ring-blue-100 z-50","aria-label":"Back to top",children:e.jsx(JM,{className:"h-6 w-6"})}),l&&e.jsx("div",{className:"fixed top-20 right-4 max-w-md bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg shadow-lg z-50",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(he,{className:"h-5 w-5 mr-3 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:l})}),e.jsx("button",{onClick:()=>o(null),className:"ml-4 text-red-700 hover:text-red-900",children:""})]})})]})})},age=new l7({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1,refetchOnWindowFocus:!1}}}),aO=()=>e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading..."})]})}),Oe=({children:t,requiredRole:s})=>{const r=ae(i=>i.authentication_state.authentication_status.is_authenticated),a=ae(i=>i.authentication_state.authentication_status.is_loading),n=ae(i=>i.authentication_state.authentication_status.user_type);return a?e.jsx(aO,{}):r?s&&n!==s?n==="customer"?e.jsx(fl,{to:"/dashboard",replace:!0}):n==="supplier"?e.jsx(fl,{to:"/supplier/dashboard",replace:!0}):n==="admin"?e.jsx(fl,{to:"/admin",replace:!0}):e.jsx(fl,{to:"/",replace:!0}):e.jsx(e.Fragment,{children:t}):e.jsx(fl,{to:"/login",replace:!0})},nge=()=>ae(s=>s.authentication_state.authentication_status.is_authenticated)?e.jsx(SF,{}):e.jsx(yF,{}),ige=()=>ae(s=>s.authentication_state.authentication_status.is_authenticated)?e.jsx(LF,{}):e.jsx(OF,{}),js=({children:t,showFooter:s=!0})=>e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx(E9,{}),e.jsx("main",{className:"flex-1 pt-16",children:t}),s&&e.jsx(Av,{})]}),_t=({children:t,showFooter:s=!0,showMiniCart:r=!0,showChat:a=!0})=>e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx(eF,{}),e.jsx("main",{className:"flex-1 pt-16",children:t}),s&&e.jsx(Av,{}),r&&e.jsx(lF,{}),a&&e.jsx(oS,{})]}),ls=({children:t,showFooter:s=!0,showChat:r=!0})=>e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[e.jsx(nF,{}),e.jsx("main",{className:"flex-1 pt-16",children:t}),s&&e.jsx(Av,{}),r&&e.jsx(oS,{})]}),Os=({children:t})=>e.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-100",children:[e.jsx(iF,{}),e.jsx("main",{className:"flex-1 pt-16",children:t})]}),lge=()=>{const t=ae(r=>r.authentication_state.authentication_status.is_loading),s=ae(r=>r.initialize_auth);return k.useEffect(()=>{s()},[s]),t?e.jsx(aO,{}):e.jsx(FE,{children:e.jsx(o7,{client:age,children:e.jsxs(CE,{children:[e.jsx(we,{path:"/",element:e.jsx(js,{children:e.jsx(uF,{})})}),e.jsx(we,{path:"/products",element:e.jsx(js,{children:e.jsx(xF,{})})}),e.jsx(we,{path:"/product/:product_id",element:e.jsx(js,{children:e.jsx(nge,{})})}),e.jsx(we,{path:"/supplier/:supplier_id",element:e.jsx(js,{children:e.jsx(ige,{})})}),e.jsx(we,{path:"/register",element:e.jsx(js,{showFooter:!1,children:e.jsx(DF,{})})}),e.jsx(we,{path:"/register/customer",element:e.jsx(js,{showFooter:!1,children:e.jsx(UF,{})})}),e.jsx(we,{path:"/register/supplier",element:e.jsx(js,{showFooter:!1,children:e.jsx(HF,{})})}),e.jsx(we,{path:"/login",element:e.jsx(js,{showFooter:!1,children:e.jsx(KF,{})})}),e.jsx(we,{path:"/forgot-password",element:e.jsx(js,{showFooter:!1,children:e.jsx(GF,{})})}),e.jsx(we,{path:"/reset-password",element:e.jsx(js,{showFooter:!1,children:e.jsx(JF,{})})}),e.jsx(we,{path:"/help",element:e.jsx(js,{children:e.jsx(R0e,{})})}),e.jsx(we,{path:"/how-it-works",element:e.jsx(js,{children:e.jsx(q0e,{})})}),e.jsx(we,{path:"/contact",element:e.jsx(js,{children:e.jsx(G0e,{})})}),e.jsx(we,{path:"/about",element:e.jsx(js,{children:e.jsx(J0e,{})})}),e.jsx(we,{path:"/terms",element:e.jsx(js,{children:e.jsx(tge,{})})}),e.jsx(we,{path:"/privacy",element:e.jsx(js,{children:e.jsx(rge,{})})}),e.jsx(we,{path:"/dashboard",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(iR,{})})})}),e.jsx(we,{path:"/onboarding",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{showFooter:!1,showMiniCart:!1,showChat:!1,children:e.jsx(eR,{})})})}),e.jsx(we,{path:"/compare",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(cR,{})})})}),e.jsx(we,{path:"/cart",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{showMiniCart:!1,children:e.jsx(hR,{})})})}),e.jsx(we,{path:"/wishlist",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(fR,{})})})}),e.jsx(we,{path:"/projects",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(wR,{})})})}),e.jsx(we,{path:"/projects/:project_id",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(CR,{})})})}),e.jsx(we,{path:"/checkout",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{showFooter:!1,showMiniCart:!1,showChat:!1,children:e.jsx(MR,{})})})}),e.jsx(we,{path:"/order-confirmation",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{showFooter:!1,showMiniCart:!1,children:e.jsx(qR,{})})})}),e.jsx(we,{path:"/orders",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(UR,{})})})}),e.jsx(we,{path:"/orders/:order_id",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(YR,{})})})}),e.jsx(we,{path:"/notifications",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(rL,{})})})}),e.jsx(we,{path:"/account",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(pL,{})})})}),e.jsx(we,{path:"/account/reviews",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(gL,{})})})}),e.jsx(we,{path:"/report-issue",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(jL,{})})})}),e.jsx(we,{path:"/issues/:issue_id",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(AL,{})})})}),e.jsx(we,{path:"/support",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(TL,{})})})}),e.jsx(we,{path:"/surplus",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(RL,{})})})}),e.jsx(we,{path:"/surplus/:listing_id",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(LL,{})})})}),e.jsx(we,{path:"/surplus/create",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(BL,{})})})}),e.jsx(we,{path:"/surplus/my-listings",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(HL,{})})})}),e.jsx(we,{path:"/trade-credit/apply",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{showFooter:!1,children:e.jsx(QL,{})})})}),e.jsx(we,{path:"/trade-credit",element:e.jsx(Oe,{requiredRole:"customer",children:e.jsx(_t,{children:e.jsx(sD,{})})})}),e.jsx(we,{path:"/supplier/dashboard",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(uD,{})})})}),e.jsx(we,{path:"/supplier/onboarding",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{showFooter:!1,showChat:!1,children:e.jsx(iD,{})})})}),e.jsx(we,{path:"/supplier/products",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(xD,{})})})}),e.jsx(we,{path:"/supplier/products/add",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{showFooter:!1,children:e.jsx(fD,{})})})}),e.jsx(we,{path:"/supplier/products/:product_id/edit",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{showFooter:!1,children:e.jsx(ND,{})})})}),e.jsx(we,{path:"/supplier/products/bulk-upload",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{showFooter:!1,children:e.jsx(wD,{})})})}),e.jsx(we,{path:"/supplier/inventory",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(CD,{})})})}),e.jsx(we,{path:"/supplier/orders",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(ED,{})})})}),e.jsx(we,{path:"/supplier/orders/:order_id",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(MD,{})})})}),e.jsx(we,{path:"/supplier/delivery",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(BD,{})})})}),e.jsx(we,{path:"/supplier/pricing",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(VD,{})})})}),e.jsx(we,{path:"/supplier/messages",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(YD,{})})})}),e.jsx(we,{path:"/supplier/reviews",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(ZD,{})})})}),e.jsx(we,{path:"/supplier/analytics",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(nI,{})})})}),e.jsx(we,{path:"/supplier/financials",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(dI,{})})})}),e.jsx(we,{path:"/supplier/settings",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(gI,{})})})}),e.jsx(we,{path:"/supplier/education",element:e.jsx(Oe,{requiredRole:"supplier",children:e.jsx(ls,{children:e.jsx(kI,{})})})}),e.jsx(we,{path:"/admin",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(TI,{})})})}),e.jsx(we,{path:"/admin/customers",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(m_,{})})})}),e.jsx(we,{path:"/admin/suppliers",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(m_,{})})})}),e.jsx(we,{path:"/admin/supplier-applications",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(qI,{})})})}),e.jsx(we,{path:"/admin/products",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(zI,{})})})}),e.jsx(we,{path:"/admin/orders",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(KI,{})})})}),e.jsx(we,{path:"/admin/disputes",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(ZI,{})})})}),e.jsx(we,{path:"/admin/reviews",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(rB,{})})})}),e.jsx(we,{path:"/admin/financials",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(cB,{})})})}),e.jsx(we,{path:"/admin/settings",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(mB,{})})})}),e.jsx(we,{path:"/admin/analytics",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(Jpe,{})})})}),e.jsx(we,{path:"/admin/communication",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(i0e,{})})})}),e.jsx(we,{path:"/admin/team",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(u0e,{})})})}),e.jsx(we,{path:"/admin/system-logs",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(y0e,{})})})}),e.jsx(we,{path:"/admin/maintenance",element:e.jsx(Oe,{requiredRole:"admin",children:e.jsx(Os,{children:e.jsx(C0e,{})})})}),e.jsx(we,{path:"*",element:e.jsx(fl,{to:"/",replace:!0})})]})})})},oge=()=>e.jsx(e.Fragment,{children:e.jsx(lge,{})});V5(document.getElementById("root")).render(e.jsx(oge,{}));
