import{a as le,u as ie,b as _,j as e}from"./state-vendor-__gb9IU9.js";import{u as ne,r as m,L as g}from"./react-vendor-QYi6USC3.js";import{u as M,a as j}from"./index-DxqMT8zM.js";import{a5 as q,h as z,c as oe,P as O,v as ce,w as de,x as U,ad as W,X as B,y as me,I as ue}from"./ui-vendor-CuJPReAW.js";const xe=o=>{const l={};return o.forEach(t=>{l[t.supplier_id]||(l[t.supplier_id]={supplier_info:{supplier_id:t.supplier_id,business_name:t.business_name||"Unknown Supplier",logo_url:null},items:[],supplier_subtotal:0}),l[t.supplier_id].items.push(t),l[t.supplier_id].supplier_subtotal+=t.quantity*t.price_per_unit}),l},he=(o,l)=>{const t=Object.values(o).reduce((f,x)=>f+x.supplier_subtotal,0),w=Object.values(o).reduce((f,x)=>f+x.items.reduce((F,h)=>F+h.quantity,0),0),u=Object.keys(o).length,d=u*50,y=t*.08,i=(l==null?void 0:l.discount_applied)||0,C=t+d+y-i;return{items_subtotal:t,total_delivery_fees:d,estimated_tax:y,promo_discount:i,grand_total:C,total_item_count:w,total_supplier_count:u}},pe=o=>{const l=[];return o.forEach(t=>{t.stock_quantity!==void 0&&t.stock_quantity<t.quantity&&l.push({cart_item_id:t.cart_item_id,warning_type:t.stock_quantity===0?"out_of_stock":"stock_reduced",message:t.stock_quantity===0?`${t.product_name} is now out of stock`:`Only ${t.stock_quantity} units available (you have ${t.quantity} in cart)`})}),l},Ne=()=>{const o=ne(),l=le(),t=M(s=>s.authentication_state.auth_token),w=M(s=>{var r;return(r=s.authentication_state.current_user)==null?void 0:r.user_id}),u=M(s=>s.fetch_cart),[d,y]=m.useState(""),[i,C]=m.useState(null),[f,x]=m.useState(null),[F,h]=m.useState(!1),[k,S]=m.useState(""),[T,P]=m.useState(""),[V,L]=m.useState(new Set),p="https://123create-construction-app-with-a.launchpulse.ai/api",{data:c,isLoading:G,error:H,refetch:X}=ie({queryKey:["cart",w],queryFn:async()=>{if(!t)throw new Error("Not authenticated");return(await j.get(`${p}/cart`,{headers:{Authorization:`Bearer ${t}`}})).data},enabled:!!t&&!!w,staleTime:6e4,refetchOnWindowFocus:!1,retry:1,select:s=>{const r=xe(s.items||[]),a=pe(s.items||[]);return{cart:s.cart,items:s.items||[],items_by_supplier:r,subtotal:Number(s.subtotal||0),total_items:Number(s.total_items||0),warnings:a}}}),E=(c==null?void 0:c.items_by_supplier)||{},I=(c==null?void 0:c.warnings)||[],n=he(E,i),Y=_({mutationFn:async({cart_item_id:s,quantity:r})=>(await j.patch(`${p}/cart/items/${s}`,{quantity:r},{headers:{Authorization:`Bearer ${t}`}})).data,onMutate:async s=>{x(s.cart_item_id)},onSuccess:()=>{l.invalidateQueries({queryKey:["cart"]}),l.invalidateQueries({queryKey:["cart-summary"]}),u()},onError:s=>{console.error("Failed to update quantity:",s)},onSettled:()=>{x(null)}}),J=_({mutationFn:async s=>{await j.delete(`${p}/cart/items/${s}`,{headers:{Authorization:`Bearer ${t}`}})},onMutate:async s=>{L(r=>new Set(r).add(s))},onSuccess:()=>{l.invalidateQueries({queryKey:["cart"]}),l.invalidateQueries({queryKey:["cart-summary"]}),u()},onError:(s,r)=>{L(a=>{const v=new Set(a);return v.delete(r),v}),console.error("Failed to remove item:",s)}}),Q=_({mutationFn:async()=>{await j.delete(`${p}/cart`,{headers:{Authorization:`Bearer ${t}`}})},onSuccess:()=>{l.invalidateQueries({queryKey:["cart"]}),l.invalidateQueries({queryKey:["cart-summary"]}),u()}}),b=_({mutationFn:async s=>(await j.post(`${p}/promotions/validate`,{promo_code:s.toUpperCase(),cart_total:n.items_subtotal},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:s=>{s.valid&&s.promotion&&(C({promotion_id:s.promotion.promotion_id,promo_code:s.promotion.promo_code,discount_type:s.promotion.discount_type,discount_value:Number(s.promotion.discount_value||0),discount_applied:Number(s.discount_amount||0)}),y(""))},onError:s=>{console.error("Promo validation failed:",s)}}),N=_({mutationFn:async({project_name:s,description:r})=>(await j.post(`${p}/cart/save`,{project_name:s,description:r},{headers:{Authorization:`Bearer ${t}`}})).data,onSuccess:()=>{h(!1),S(""),P("")}}),R=(s,r)=>{r<1||Y.mutate({cart_item_id:s,quantity:r})},Z=s=>{J.mutate(s)},ee=s=>{s.preventDefault(),d.trim()&&b.mutate(d.trim())},K=()=>{C(null)},se=()=>{window.confirm("Are you sure you want to clear your cart?")&&Q.mutate()},te=s=>{s.preventDefault(),k.trim()&&N.mutate({project_name:k.trim(),description:T.trim()})},ae=()=>{o("/checkout")};return G?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(q,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your cart..."})]})})}):H?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx(z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Cart"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your shopping cart. Please try again."}),e.jsx("button",{onClick:()=>X(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):!c||c.total_items===0||Object.keys(E).length===0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4",children:e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(oe,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Start adding products to build your order"}),e.jsxs(g,{to:"/products",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Browse Products"]})]})})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"Shopping Cart"}),e.jsx(g,{to:"/products",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Continue Shopping"})]}),e.jsxs("p",{className:"text-gray-600 text-lg",children:[n.total_item_count," ",n.total_item_count===1?"item":"items"," from ",n.total_supplier_count," ",n.total_supplier_count===1?"supplier":"suppliers"]})]}),e.jsxs("div",{className:"lg:grid lg:grid-cols-12 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[I.length>0&&e.jsx("div",{className:"bg-amber-50 border-l-4 border-amber-500 p-4 rounded-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx(z,{className:"w-5 h-5 text-amber-600 mr-3 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-semibold text-amber-800 mb-2",children:"Cart Items Need Attention"}),e.jsx("ul",{className:"text-sm text-amber-700 space-y-1",children:I.map((s,r)=>e.jsxs("li",{children:["â€¢ ",s.message]},r))})]})]})}),Object.entries(E).map(([s,r])=>e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm",children:e.jsx(O,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r.supplier_info.business_name}),e.jsx(g,{to:`/supplier/${s}`,className:"text-sm text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Visit Shop"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Subtotal"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",r.supplier_subtotal.toFixed(2)]})]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:r.items.map(a=>{const v=V.has(a.cart_item_id),$=f===a.cart_item_id,re=I.some(A=>A.cart_item_id===a.cart_item_id);return e.jsx("div",{className:`p-6 transition-all duration-300 ${v?"opacity-50":"opacity-100"}`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsx(g,{to:`/product/${a.product_id}`,className:"flex-shrink-0",children:e.jsx("div",{className:"w-full sm:w-32 h-32 bg-gray-100 rounded-lg overflow-hidden hover:ring-2 hover:ring-blue-500 transition-all duration-200",children:a.primary_image_url?e.jsx("img",{src:a.primary_image_url,alt:a.product_name||"Product",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(O,{className:"w-12 h-12 text-gray-400"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(g,{to:`/product/${a.product_id}`,className:"text-lg font-semibold text-gray-900 hover:text-blue-600 transition-colors line-clamp-2",children:a.product_name||"Product"}),a.sku&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SKU: ",a.sku]}),re?e.jsx("div",{className:"mt-2",children:e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Limited Stock"]})}):e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"In Stock"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Price per unit"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:["$",Number(a.price_per_unit||0).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Quantity:"}),e.jsxs("div",{className:"flex items-center border-2 border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>R(a.cart_item_id,a.quantity-1),disabled:a.quantity<=1||$,className:"w-10 h-10 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Decrease quantity",children:e.jsx(ce,{className:"w-4 h-4 text-gray-700"})}),e.jsx("input",{type:"number",min:"1",value:a.quantity,onChange:A=>{const D=parseInt(A.target.value);D>0&&R(a.cart_item_id,D)},disabled:$,className:"w-16 h-10 text-center font-semibold text-gray-900 border-none focus:ring-0 disabled:bg-gray-50","aria-label":"Product quantity"}),e.jsx("button",{onClick:()=>R(a.cart_item_id,a.quantity+1),disabled:$,className:"w-10 h-10 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Increase quantity",children:e.jsx(de,{className:"w-4 h-4 text-gray-700"})})]}),$&&e.jsx(q,{className:"w-4 h-4 animate-spin text-blue-600"})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(a.quantity*Number(a.price_per_unit||0)).toFixed(2)]})]}),e.jsx("button",{onClick:()=>Z(a.cart_item_id),disabled:v,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50","aria-label":"Remove item",children:e.jsx(U,{className:"w-5 h-5"})})]})]})]})]})},a.cart_item_id)})}),e.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Estimated Delivery: ",e.jsx("span",{className:"font-semibold text-gray-900",children:"2-3 business days"})]})})]},s)),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("button",{onClick:()=>h(!0),className:"flex items-center px-6 py-3 bg-white border-2 border-gray-200 text-gray-900 rounded-lg font-medium hover:bg-gray-50 transition-all duration-200",children:[e.jsx(W,{className:"w-5 h-5 mr-2"}),"Save as Project"]}),e.jsxs("button",{onClick:se,disabled:Q.isPending,className:"flex items-center px-6 py-3 bg-white border-2 border-red-200 text-red-600 rounded-lg font-medium hover:bg-red-50 transition-all duration-200 disabled:opacity-50",children:[e.jsx(U,{className:"w-5 h-5 mr-2"}),"Clear Cart"]})]})]}),e.jsx("div",{className:"lg:col-span-4 mt-8 lg:mt-0",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 sticky top-24",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Summary"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Items Subtotal"}),e.jsxs("span",{className:"font-semibold",children:["$",n.items_subtotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Estimated Delivery"}),e.jsxs("span",{className:"font-semibold",children:["$",n.total_delivery_fees.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Estimated Tax"}),e.jsxs("span",{className:"font-semibold",children:["$",n.estimated_tax.toFixed(2)]})]}),i&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:"Promo Discount"}),e.jsx("button",{onClick:K,className:"ml-2 p-1 hover:bg-gray-100 rounded transition-colors","aria-label":"Remove promo code",children:e.jsx(B,{className:"w-4 h-4"})})]}),e.jsxs("span",{className:"font-semibold",children:["-$",n.promo_discount.toFixed(2)]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:e.jsxs("div",{className:"flex justify-between text-gray-900",children:[e.jsx("span",{className:"text-xl font-bold",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["$",n.grand_total.toFixed(2)]})]})})]}),!i&&e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("form",{onSubmit:ee,className:"space-y-2",children:[e.jsx("label",{htmlFor:"promo_code",className:"block text-sm font-medium text-gray-700",children:"Have a promo code?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"promo_code",type:"text",value:d,onChange:s=>y(s.target.value.toUpperCase()),placeholder:"ENTER CODE",disabled:b.isPending,className:"flex-1 px-4 py-2 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all disabled:bg-gray-50"}),e.jsx("button",{type:"submit",disabled:!d.trim()||b.isPending,className:"px-6 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b.isPending?e.jsx(q,{className:"w-5 h-5 animate-spin"}):"Apply"})]}),b.isError&&e.jsx("p",{className:"text-sm text-red-600",children:"Invalid or expired promo code"}),b.isSuccess&&!i&&e.jsx("p",{className:"text-sm text-red-600",children:"Promo code not valid for this cart"})]})}),i&&e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(me,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-800",children:i.promo_code}),e.jsx("p",{className:"text-xs text-green-700",children:i.discount_type==="percentage"?`${i.discount_value}% off`:`$${i.discount_value} off`})]})]}),e.jsx("button",{onClick:K,className:"text-green-600 hover:text-green-700","aria-label":"Remove promo code",children:e.jsx(B,{className:"w-5 h-5"})})]})})}),e.jsxs("button",{onClick:ae,className:"w-full py-4 bg-blue-600 text-white rounded-lg font-semibold text-lg hover:bg-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center",children:["Proceed to Checkout",e.jsx(ue,{className:"w-5 h-5 ml-2"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Secure Checkout"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Money-Back Guarantee"]})]})})]})]})})]})]})}),F&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Save Cart as Project"}),e.jsx("button",{onClick:()=>{h(!1),S(""),P("")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal",children:e.jsx(B,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Name *"}),e.jsx("input",{id:"project_name",type:"text",value:k,onChange:s=>S(s.target.value),placeholder:"e.g., Deck Build, Kitchen Reno",required:!0,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"project_description",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),e.jsx("textarea",{id:"project_description",value:T,onChange:s=>P(s.target.value),placeholder:"Add project details...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all resize-none"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),S(""),P("")},className:"flex-1 px-6 py-3 bg-gray-100 text-gray-900 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!k.trim()||N.isPending,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:N.isPending?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-5 h-5 animate-spin mr-2"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(W,{className:"w-5 h-5 mr-2"}),"Save Project"]})})]}),N.isSuccess&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg text-sm",children:["Project saved successfully! ",e.jsx(g,{to:"/projects",className:"font-semibold underline",children:"View Projects"})]}),N.isError&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg text-sm",children:"Failed to save project. Please try again."})]})]})})]})};export{Ne as default};
