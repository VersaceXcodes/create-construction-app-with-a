import{a as ae,u as re,b as ie,j as e}from"./state-vendor-__gb9IU9.js";import{e as ne,u as le,r as n}from"./react-vendor-QYi6USC3.js";import{u as oe,a as U}from"./index-DxqMT8zM.js";import{h as R,i as ce,D as de,U as me,c as ue,al as ge,B as xe,aX as q,a5 as c,ad as h,Y as he}from"./ui-vendor-CuJPReAW.js";const be=async(m,b)=>{const u={};return(await U.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{headers:{Authorization:`Bearer ${m}`},params:u})).data},pe=async(m,b,u,p)=>(await U.put("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{setting_key:b,setting_value:u,setting_category:p},{headers:{Authorization:`Bearer ${m}`}})).data,G=async(m,b,u)=>(await U.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/integrations/test",{integration_type:b,config:u},{headers:{Authorization:`Bearer ${m}`}})).data,ve=()=>{var D,M;const[m,b]=ne(),u=le(),p=ae(),o=m.get("section")||"general",y=oe(s=>s.authentication_state.auth_token),[f,_]=n.useState({platform_name:"BuildEasy",logo_url:"",support_email:"",operating_regions:[],default_currency:"USD",default_language:"en"}),[$,E]=n.useState({default_commission_rate:5,tier_based_rates:{},subscription_pricing:{},transaction_fees:{},payment_processing_rates:{}}),[l,g]=n.useState({registration_approval_required:!1,email_verification_required:!0,password_policy:{min_length:8,require_uppercase:!0,require_lowercase:!0,require_numbers:!0,require_special_chars:!0},session_timeout_minutes:1440,two_factor_required:!1}),[x,j]=n.useState({minimum_order_value:0,maximum_order_value:1e5,order_cancellation_window_hours:24,automatic_refund_enabled:!0,delivery_sla_hours:72}),[N,S]=n.useState({available_payment_methods:[],payment_gateway_config:{},escrow_hold_period_days:3,auto_capture_enabled:!0,refund_policy:{}}),[A,O]=n.useState({email_provider_config:{},sms_provider_config:{},notification_templates:[],default_notification_preferences:{},rate_limits:{}}),[B,L]=n.useState({logistics_integrations:[],payment_gateways:[],mapping_service_config:{},analytics_integrations:[]}),[w,C]=n.useState({has_changes:!1,changed_sections:[]}),[z,v]=n.useState(!1),[Q,T]=n.useState(""),[P,k]=n.useState(null),{data:d,isLoading:V,error:F}=re({queryKey:["platform-settings",o],queryFn:()=>be(y),enabled:!!y,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),i=ie({mutationFn:({key:s,value:t,category:a})=>pe(y,s,t,a),onSuccess:()=>{p.invalidateQueries({queryKey:["platform-settings"]}),C({has_changes:!1,changed_sections:[]}),T("Settings updated successfully"),v(!0),setTimeout(()=>v(!1),3e3)},onError:s=>{console.error("Failed to update settings:",s)}});n.useEffect(()=>{if(!d)return;const s={general_settings:d.filter(t=>t.setting_category==="general").reduce((t,a)=>({...t,[a.setting_key]:a.setting_value}),{}),commission_fee_settings:d.filter(t=>t.setting_category==="commission").reduce((t,a)=>({...t,[a.setting_key]:a.setting_value}),{}),user_settings:d.filter(t=>t.setting_category==="user_policy").reduce((t,a)=>({...t,[a.setting_key]:a.setting_value}),{}),order_settings:d.filter(t=>t.setting_category==="order_policy").reduce((t,a)=>({...t,[a.setting_key]:a.setting_value}),{}),payment_settings:d.filter(t=>t.setting_category==="payment").reduce((t,a)=>({...t,[a.setting_key]:a.setting_value}),{}),notification_settings:d.filter(t=>t.setting_category==="notifications").reduce((t,a)=>({...t,[a.setting_key]:a.setting_value}),{}),integration_settings:d.filter(t=>t.setting_category==="integrations").reduce((t,a)=>({...t,[a.setting_key]:a.setting_value}),{})};Object.keys(s.general_settings).length>0&&_(t=>({...t,...s.general_settings})),Object.keys(s.commission_fee_settings).length>0&&E(t=>({...t,...s.commission_fee_settings})),Object.keys(s.user_settings).length>0&&g(t=>({...t,...s.user_settings})),Object.keys(s.order_settings).length>0&&j(t=>({...t,...s.order_settings})),Object.keys(s.payment_settings).length>0&&S(t=>({...t,...s.payment_settings})),Object.keys(s.notification_settings).length>0&&O(t=>({...t,...s.notification_settings})),Object.keys(s.integration_settings).length>0&&L(t=>({...t,...s.integration_settings}))},[d]);const K=s=>{if(w.has_changes){if(!window.confirm("You have unsaved changes. Discard them?"))return;C({has_changes:!1,changed_sections:[]})}b({section:s})},r=s=>{C(t=>({has_changes:!0,changed_sections:t.changed_sections.includes(s)?t.changed_sections:[...t.changed_sections,s]}))},H=async()=>{const s=Object.entries(f).map(([t,a])=>i.mutateAsync({key:t,value:a,category:"general"}));await Promise.all(s)},W=async()=>{const s=Object.entries($).map(([t,a])=>i.mutateAsync({key:t,value:a,category:"commission"}));await Promise.all(s)},Y=async()=>{const s=Object.entries(l).map(([t,a])=>i.mutateAsync({key:t,value:a,category:"user_policy"}));await Promise.all(s)},X=async()=>{const s=Object.entries(x).map(([t,a])=>i.mutateAsync({key:t,value:a,category:"order_policy"}));await Promise.all(s)},Z=async()=>{const s=Object.entries(N).map(([t,a])=>i.mutateAsync({key:t,value:a,category:"payment"}));await Promise.all(s)},J=async()=>{const s=Object.entries(A).map(([t,a])=>i.mutateAsync({key:t,value:a,category:"notifications"}));await Promise.all(s)},ee=async()=>{const s=Object.entries(B).map(([t,a])=>i.mutateAsync({key:t,value:a,category:"integrations"}));await Promise.all(s)},se=()=>{p.invalidateQueries({queryKey:["platform-settings"]}),C({has_changes:!1,changed_sections:[]})};if(!y)return u("/login"),null;const te=[{id:"general",label:"General",icon:ce},{id:"commission",label:"Commission & Fees",icon:de},{id:"user_policy",label:"User Policies",icon:me},{id:"order_policy",label:"Order Policies",icon:ue},{id:"payment",label:"Payment Settings",icon:ge},{id:"notifications",label:"Notifications",icon:xe},{id:"integrations",label:"Integrations",icon:q}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Settings"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Configure system-wide settings and integrations"})]}),w.has_changes&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center px-3 py-2 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(R,{className:"h-4 w-4 text-amber-600 mr-2"}),e.jsxs("span",{className:"text-sm text-amber-700 font-medium",children:[w.changed_sections.length," unsaved change",w.changed_sections.length>1?"s":""]})]}),e.jsx("button",{onClick:se,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Discard"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsx("nav",{className:"space-y-1",children:te.map(s=>{const t=s.icon,a=o===s.id,I=w.changed_sections.includes(s.id);return e.jsxs("button",{onClick:()=>K(s.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all ${a?"bg-blue-50 text-blue-700 border-2 border-blue-200":"text-gray-700 hover:bg-gray-100 border-2 border-transparent"}`,children:[e.jsx(t,{className:`h-5 w-5 mr-3 ${a?"text-blue-600":"text-gray-400"}`}),e.jsx("span",{className:"flex-1 text-left",children:s.label}),I&&e.jsx("div",{className:"h-2 w-2 bg-amber-500 rounded-full"})]},s.id)})})}),e.jsx("div",{className:"flex-1",children:V?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx(c,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]}):F?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-8",children:[e.jsxs("div",{className:"flex items-center text-red-700 mb-2",children:[e.jsx(R,{className:"h-5 w-5 mr-2"}),e.jsx("h3",{className:"font-semibold",children:"Error Loading Settings"})]}),e.jsx("p",{className:"text-sm text-red-600",children:(F==null?void 0:F.message)||"Failed to load platform settings"})]}):e.jsxs(e.Fragment,{children:[o==="general"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"General Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Platform branding and basic configuration"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Platform Name"}),e.jsx("input",{type:"text",value:f.platform_name,onChange:s=>{_(t=>({...t,platform_name:s.target.value})),r("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"BuildEasy"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),e.jsx("input",{type:"url",value:f.logo_url,onChange:s=>{_(t=>({...t,logo_url:s.target.value})),r("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://cdn.example.com/logo.png"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Support Email"}),e.jsx("input",{type:"email",value:f.support_email,onChange:s=>{_(t=>({...t,support_email:s.target.value})),r("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"support@buildeasy.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Currency"}),e.jsxs("select",{value:f.default_currency,onChange:s=>{_(t=>({...t,default_currency:s.target.value})),r("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"USD",children:"USD - US Dollar"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"GBP",children:"GBP - British Pound"}),e.jsx("option",{value:"CAD",children:"CAD - Canadian Dollar"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Language"}),e.jsxs("select",{value:f.default_language,onChange:s=>{_(t=>({...t,default_language:s.target.value})),r("general")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Spanish"}),e.jsx("option",{value:"fr",children:"French"})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:H,disabled:i.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Save General Settings"]})})})]})]}),o==="commission"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Commission & Fees"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure platform revenue and supplier fees"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Commission Rate (%)"}),e.jsx("input",{type:"number",step:"0.1",min:"0",max:"100",value:$.default_commission_rate,onChange:s=>{E(t=>({...t,default_commission_rate:parseFloat(s.target.value)||0})),r("commission")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"5.0"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Platform commission on each transaction"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Tier-Based Rates"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Advanced commission tiers based on supplier performance (configure in future release)"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Subscription Pricing"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Supplier subscription plan pricing (configure in future release)"})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:W,disabled:i.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Save Commission Settings"]})})})]})]}),o==="user_policy"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Policies"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Registration and account management rules"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Email Verification Required"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Users must verify email before full access"})]}),e.jsx("button",{onClick:()=>{g(s=>({...s,email_verification_required:!s.email_verification_required})),r("user_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.email_verification_required?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.email_verification_required?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Registration Approval Required"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Admin must approve new accounts"})]}),e.jsx("button",{onClick:()=>{g(s=>({...s,registration_approval_required:!s.registration_approval_required})),r("user_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.registration_approval_required?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.registration_approval_required?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication Required"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Require 2FA for all user accounts"})]}),e.jsx("button",{onClick:()=>{g(s=>({...s,two_factor_required:!s.two_factor_required})),r("user_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${l.two_factor_required?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l.two_factor_required?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",min:"5",max:"10080",value:l.session_timeout_minutes,onChange:s=>{g(t=>({...t,session_timeout_minutes:parseInt(s.target.value)||1440})),r("user_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"1440"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"1440 minutes = 24 hours"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Password Policy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Minimum length: ",l.password_policy.min_length," characters"]}),e.jsx("input",{type:"number",min:"6",max:"128",value:l.password_policy.min_length,onChange:s=>{g(t=>({...t,password_policy:{...t.password_policy,min_length:parseInt(s.target.value)||8}})),r("user_policy")},className:"w-20 px-2 py-1 border border-gray-300 rounded text-sm"})]}),["require_uppercase","require_lowercase","require_numbers","require_special_chars"].map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:s.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}),e.jsx("input",{type:"checkbox",checked:l.password_policy[s],onChange:t=>{g(a=>({...a,password_policy:{...a.password_policy,[s]:t.target.checked}})),r("user_policy")},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})]},s))]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:Y,disabled:i.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Save User Policy Settings"]})})})]})]}),o==="order_policy"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Order Policies"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Order processing and fulfillment rules"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Value ($)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:x.minimum_order_value,onChange:s=>{j(t=>({...t,minimum_order_value:parseFloat(s.target.value)||0})),r("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Order Value ($)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:x.maximum_order_value,onChange:s=>{j(t=>({...t,maximum_order_value:parseFloat(s.target.value)||1e5})),r("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"100000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order Cancellation Window (hours)"}),e.jsx("input",{type:"number",min:"0",max:"168",value:x.order_cancellation_window_hours,onChange:s=>{j(t=>({...t,order_cancellation_window_hours:parseInt(s.target.value)||24})),r("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"24"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Time window for customers to cancel orders"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery SLA (hours)"}),e.jsx("input",{type:"number",min:"1",max:"720",value:x.delivery_sla_hours,onChange:s=>{j(t=>({...t,delivery_sla_hours:parseInt(s.target.value)||72})),r("order_policy")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"72"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Expected delivery timeframe"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Automatic Refund Processing"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Process refunds automatically for eligible cancellations"})]}),e.jsx("button",{onClick:()=>{j(s=>({...s,automatic_refund_enabled:!s.automatic_refund_enabled})),r("order_policy")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${x.automatic_refund_enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${x.automatic_refund_enabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:X,disabled:i.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Save Order Policy Settings"]})})})]})]}),o==="payment"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Payment gateway and processing configuration"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Payment Methods"}),e.jsx("div",{className:"space-y-2",children:["credit_card","debit_card","trade_credit","paypal","apple_pay","google_pay"].map(s=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:s,checked:N.available_payment_methods.includes(s),onChange:t=>{S(a=>({...a,available_payment_methods:t.target.checked?[...a.available_payment_methods,s]:a.available_payment_methods.filter(I=>I!==s)})),r("payment")},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:s,className:"ml-3 text-sm text-gray-700",children:s.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Escrow Hold Period (days)"}),e.jsx("input",{type:"number",min:"0",max:"30",value:N.escrow_hold_period_days,onChange:s=>{S(t=>({...t,escrow_hold_period_days:parseInt(s.target.value)||3})),r("payment")},className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"3"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Hold payment before releasing to supplier"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Auto-Capture Payments"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Automatically capture payment on order placement"})]}),e.jsx("button",{onClick:()=>{S(s=>({...s,auto_capture_enabled:!s.auto_capture_enabled})),r("payment")},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${N.auto_capture_enabled?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${N.auto_capture_enabled?"translate-x-6":"translate-x-1"}`})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:Z,disabled:i.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Save Payment Settings"]})})})]})]}),o==="notifications"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Email, SMS, and push notification configuration"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Email Provider Configuration"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Configure SendGrid, Mailgun, or custom SMTP settings (advanced configuration)"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"SMS Provider Configuration"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Configure Twilio or custom SMS gateway (advanced configuration)"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Rate Limits"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Prevent notification spam by setting rate limits"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"Email (per hour)"}),e.jsx("input",{type:"number",min:"1",value:((D=A.rate_limits)==null?void 0:D.email_per_hour)||10,onChange:s=>{O(t=>({...t,rate_limits:{...t.rate_limits,email_per_hour:parseInt(s.target.value)||10}})),r("notifications")},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"SMS (per hour)"}),e.jsx("input",{type:"number",min:"1",value:((M=A.rate_limits)==null?void 0:M.sms_per_hour)||5,onChange:s=>{O(t=>({...t,rate_limits:{...t.rate_limits,sms_per_hour:parseInt(s.target.value)||5}})),r("notifications")},className:"w-24 px-2 py-1 border border-gray-300 rounded text-sm"})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:J,disabled:i.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})})})]})]}),o==="integrations"&&e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Third-Party Integrations"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure external service integrations"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Stripe Payment Gateway"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Payment processing integration"})]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Active"})]}),e.jsx("button",{onClick:async()=>{k("stripe");try{await G(y,"stripe",{}),T("Stripe integration test successful"),v(!0),setTimeout(()=>v(!1),3e3)}catch(s){console.error("Integration test failed:",s)}finally{k(null)}},disabled:P==="stripe",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-all flex items-center",children:P==="stripe"?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Test Connection"]})})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Google Maps API"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Location and geocoding services"})]}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Active"})]}),e.jsx("button",{onClick:async()=>{k("google_maps");try{await G(y,"google_maps",{}),T("Google Maps integration test successful"),v(!0),setTimeout(()=>v(!1),3e3)}catch(s){console.error("Integration test failed:",s)}finally{k(null)}},disabled:P==="google_maps",className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-all flex items-center",children:P==="google_maps"?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Test Connection"]})})]}),e.jsxs("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"SendGrid Email Service"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Transactional email delivery"})]}),e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:"Inactive"})]}),e.jsxs("button",{disabled:!0,className:"px-4 py-2 bg-gray-300 text-gray-500 text-sm font-medium rounded-lg cursor-not-allowed flex items-center",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Configure to Test"]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsx("button",{onClick:ee,disabled:i.isPending,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center",children:i.isPending?e.jsxs(e.Fragment,{children:[e.jsx(c,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Save Integration Settings"]})})})]})]})]})})]})}),z&&e.jsx("div",{className:"fixed bottom-4 right-4 z-50 animate-slide-up",children:e.jsxs("div",{className:"bg-green-600 text-white px-6 py-4 rounded-lg shadow-xl flex items-center space-x-3",children:[e.jsx(he,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:Q})]})})]})})};export{ve as default};
