import{j as e}from"./state-vendor-__gb9IU9.js";import{r as l,L as o}from"./react-vendor-QYi6USC3.js";import{a as w}from"./index-CrNOa18y.js";import{a6 as N,p as v,f as k}from"./ui-vendor-CuJPReAW.js";const L=()=>{const[t,m]=l.useState(""),[i,u]=l.useState(!1),[a,s]=l.useState(null),[x,d]=l.useState(null),[h,g]=l.useState(!1),b=r=>r?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?(s(null),!0):(s("Please enter a valid email address"),!1):(s("Email address is required"),!1),f=async r=>{var c,p;if(r.preventDefault(),s(null),d(null),!!b(t)){u(!0);try{const n=await w.post("https://123create-construction-app-with-a.launchpulse.ai/api/auth/forgot-password",{email:t.toLowerCase().trim()},{headers:{"Content-Type":"application/json"}});g(!0),d(n.data.message||"Password reset email sent successfully"),m("")}catch(n){(p=(c=n.response)==null?void 0:c.data)!=null&&p.message?s(n.response.data.message):n.message==="Network Error"?s("Connection error. Please check your internet connection."):s("Failed to send reset email. Please try again.")}finally{u(!1)}}},y=r=>{m(r.target.value),a&&s(null)},j=()=>{t&&b(t)};return l.useEffect(()=>{const r=document.getElementById("email-input");r&&r.focus()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsx("div",{className:"mb-6",children:e.jsxs(o,{to:"/login",className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-700 transition-colors duration-200",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back to Login"]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"px-8 py-10",children:h?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto h-20 w-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:e.jsx(k,{className:"h-12 w-12 text-green-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Check Your Email"}),e.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4",children:"We've sent a password reset link to your email address."})]}),x&&e.jsx("div",{className:"mb-6 bg-green-50 border-2 border-green-200 text-green-700 px-4 py-3 rounded-lg",role:"alert","aria-live":"polite",children:e.jsx("p",{className:"text-sm font-medium",children:x})}),e.jsxs("div",{className:"space-y-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"What's next?"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-2 list-decimal list-inside",children:[e.jsx("li",{children:"Check your email inbox for the reset link"}),e.jsx("li",{children:"Click the link in the email (valid for 1 hour)"}),e.jsx("li",{children:"Create your new password"}),e.jsx("li",{children:"Sign in with your new password"})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{className:"font-semibold",children:"Didn't receive the email?"}),e.jsx("br",{}),"Check your spam or junk folder. If you still don't see it, you can try requesting another reset link."]})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(o,{to:"/login",className:`
                        w-full inline-flex items-center justify-center
                        px-6 py-3 rounded-lg font-medium text-white
                        bg-blue-600 hover:bg-blue-700
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        shadow-lg hover:shadow-xl
                      `,children:"Back to Login"}),e.jsx("button",{type:"button",onClick:()=>{g(!1),d(null),s(null)},className:`
                        w-full px-6 py-3 rounded-lg font-medium
                        bg-gray-100 hover:bg-gray-200 text-gray-900
                        border border-gray-300
                        focus:outline-none focus:ring-4 focus:ring-gray-100
                        transition-all duration-200
                      `,children:"Send Another Reset Link"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(v,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Forgot Password?"}),e.jsx("p",{className:"text-base text-gray-600 leading-relaxed",children:"No worries! Enter your email address and we'll send you a secure link to reset your password."})]}),a&&e.jsx("div",{className:"mb-6 bg-red-50 border-2 border-red-200 text-red-700 px-4 py-3 rounded-lg",role:"alert","aria-live":"polite",children:e.jsx("p",{className:"text-sm font-medium",children:a})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{id:"email-input",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:y,onBlur:j,placeholder:"Enter your email address",disabled:i,className:`
                          w-full px-4 py-3 rounded-lg border-2 
                          focus:outline-none focus:ring-4 focus:ring-blue-100
                          transition-all duration-200
                          ${a?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"}
                          ${i?"bg-gray-50 cursor-not-allowed":"bg-white"}
                        `,"aria-invalid":a?"true":"false","aria-describedby":a?"email-error":void 0})]}),e.jsx("button",{type:"submit",disabled:i||!t,className:`
                        w-full px-6 py-3 rounded-lg font-medium text-white
                        bg-blue-600 hover:bg-blue-700
                        focus:outline-none focus:ring-4 focus:ring-blue-100
                        transition-all duration-200
                        disabled:opacity-50 disabled:cursor-not-allowed
                        shadow-lg hover:shadow-xl
                      `,children:i?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Reset Link..."]}):"Send Reset Link"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-700 leading-relaxed",children:[e.jsx("strong",{className:"font-semibold",children:"Security Note:"})," For your protection, the reset link will expire in 1 hour. If you don't receive an email, please check your spam folder."]})})]})}),!h&&e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-100",children:e.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Remember your password?"," ",e.jsx(o,{to:"/login",className:"font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:"Sign in instead"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(o,{to:"/support",className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Need help? Contact Support"})})]})})})};export{L as default};
