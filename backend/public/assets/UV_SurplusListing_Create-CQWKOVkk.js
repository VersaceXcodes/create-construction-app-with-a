import{u as Q,b as W,j as e}from"./state-vendor-__gb9IU9.js";import{u as J,r as g,L as H,R as K}from"./react-vendor-QYi6USC3.js";import{u as q,a as M}from"./index-XlgXzfNq.js";import{W as P,h as c,Y as d,P as X,aw as Y,at as Z,X as ee,D as se,q as A,J as T,K as te}from"./ui-vendor-CuJPReAW.js";const ie=async p=>(await M.get("https://123create-construction-app-with-a.launchpulse.ai/api/categories",{params:{is_active:!0},headers:p?{Authorization:`Bearer ${p}`}:void 0})).data,re=async(p,f)=>(await M.post("https://123create-construction-app-with-a.launchpulse.ai/api/surplus",p,{headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"}})).data,ce=()=>{var L;const p=J(),f=q(s=>{var i;return(i=s.authentication_state.customer_profile)==null?void 0:i.customer_id}),v=q(s=>s.authentication_state.auth_token),[a,j]=g.useState(1),[E,_]=g.useState(!1),[w,C]=g.useState([]),[o,F]=g.useState([]),[t,S]=g.useState({product_name:"",category_id:"",description:"",condition:"used",photos:[],asking_price:0,original_price:0,price_type:"fixed",quantity:1,pickup_location:"",pickup_instructions:"",shipping_available:!1,shipping_rate:0,reason_for_selling:""}),[r,x]=g.useState({}),{data:$=[],isLoading:R}=Q({queryKey:["categories","active"],queryFn:()=>ie(v),staleTime:10*60*1e3}),k=W({mutationFn:s=>re(s,v||""),onSuccess:s=>{p("/surplus/my-listings",{state:{message:"Listing created successfully!",listingId:s.listing_id}})},onError:s=>{var n,m;const i=((m=(n=s.response)==null?void 0:n.data)==null?void 0:m.message)||"Failed to create listing. Please try again.";x({submit:i}),window.scrollTo({top:0,behavior:"smooth"})}}),U=s=>{const i=Array.from(s.target.files||[]);if(w.length+i.length>10){x({photos:"Maximum 10 photos allowed"});return}const n=i.filter(h=>{const b=["image/jpeg","image/png","image/jpg"].includes(h.type),V=h.size<=5*1024*1024;return b?V?!0:(x({photos:"Each photo must be less than 5MB"}),!1):(x({photos:"Only JPG and PNG files are allowed"}),!1)}),m=[...w,...n],u=[...o];n.forEach(h=>{const b=new FileReader;b.onloadend=()=>{u.push(b.result),F([...u])},b.readAsDataURL(h)}),C(m),x(h=>({...h,photos:""}))},I=s=>{const i=w.filter((m,u)=>u!==s),n=o.filter((m,u)=>u!==s);C(i),F(n),S(m=>({...m,photos:n}))},l=(s,i)=>{S(n=>({...n,[s]:i})),r[s]&&x(n=>({...n,[s]:""}))},y=s=>{const i={};return s===1&&(t.product_name.trim()||(i.product_name="Product name is required"),t.category_id||(i.category_id="Please select a category"),t.description.trim()?t.description.length<100?i.description="Description must be at least 100 characters":t.description.length>5e3&&(i.description="Description must not exceed 5000 characters"):i.description="Description is required"),s===2&&o.length===0&&(i.photos="Please upload at least one photo"),s===3&&((!t.asking_price||t.asking_price<=0)&&(i.asking_price="Please enter a valid asking price"),t.original_price&&t.original_price<t.asking_price&&(i.original_price="Original price should be higher than asking price")),s===4&&((!t.quantity||t.quantity<1)&&(i.quantity="Quantity must be at least 1"),!t.pickup_location.trim()&&!t.shipping_available&&(i.pickup_location="Please provide pickup location or enable shipping"),t.shipping_available&&(!t.shipping_rate||t.shipping_rate<=0)&&(i.shipping_rate="Please enter a valid shipping rate")),x(i),Object.keys(i).length===0},O=()=>{y(a)&&(j(s=>Math.min(s+1,4)),window.scrollTo({top:0,behavior:"smooth"}))},D=()=>{j(s=>Math.max(s-1,1)),window.scrollTo({top:0,behavior:"smooth"})},z=async()=>{if(!y(4))return;for(let i=1;i<=4;i++)if(!y(i)){j(i);return}const s={seller_id:f||"",product_name:t.product_name,category_id:t.category_id,description:t.description,condition:t.condition,photos:o,asking_price:t.asking_price,original_price:t.original_price||null,price_type:t.price_type,quantity:t.quantity,pickup_location:t.pickup_location||null,pickup_instructions:t.pickup_instructions||null,shipping_available:t.shipping_available,shipping_rate:t.shipping_available?t.shipping_rate:null,reason_for_selling:t.reason_for_selling||null};k.mutate(s)},B=()=>{y(a)&&(_(!0),window.scrollTo({top:0,behavior:"smooth"}))},N=s=>{_(!1),j(s)},G=s=>({1:"Item Information",2:"Upload Photos",3:"Set Pricing",4:"Availability & Shipping"})[s]||"";return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs(H,{to:"/surplus/my-listings",className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-medium mb-4 transition-colors",children:[e.jsx(P,{className:"w-5 h-5"}),"Back to My Listings"]}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Create Surplus Listing"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"List your unused construction materials and reach buyers in your area"})]}),r.submit&&e.jsxs("div",{className:"mb-6 bg-red-50 border-2 border-red-200 rounded-xl p-4 flex items-start space-x-3",children:[e.jsx(c,{className:"w-6 h-6 text-red-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Error Creating Listing"}),e.jsx("p",{className:"text-red-700 text-sm",children:r.submit})]})]}),E?e.jsx(e.Fragment,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-8 py-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Preview Your Listing"}),e.jsx("p",{className:"text-blue-100",children:"Review your listing before publishing"})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Item Information"}),e.jsx("button",{type:"button",onClick:()=>N(1),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Product Name"}),e.jsx("p",{className:"text-gray-900 font-semibold text-lg",children:t.product_name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Category"}),e.jsx("p",{className:"text-gray-900",children:((L=$.find(s=>s.category_id===t.category_id))==null?void 0:L.category_name)||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Condition"}),e.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-semibold ${t.condition==="new"?"bg-green-100 text-green-800":t.condition==="like_new"?"bg-blue-100 text-blue-800":t.condition==="used"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.condition.replace("_"," ").replace(/\b\w/g,s=>s.toUpperCase())})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:t.description})]}),t.reason_for_selling&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Reason for Selling"}),e.jsx("p",{className:"text-gray-900",children:t.reason_for_selling})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Photos (",o.length,")"]}),e.jsx("button",{type:"button",onClick:()=>N(2),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:o.map((s,i)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s,alt:`Item photo ${i+1}`,className:"w-full h-40 object-cover rounded-lg border-2 border-gray-200"}),i===0&&e.jsx("div",{className:"absolute top-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-md font-semibold",children:"Primary"})]},i))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Pricing"}),e.jsx("button",{type:"button",onClick:()=>N(3),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Asking Price"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["$",t.asking_price.toFixed(2)]})]}),t.original_price>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Original Price"}),e.jsxs("p",{className:"text-gray-500 line-through text-lg",children:["$",t.original_price.toFixed(2)]}),e.jsxs("p",{className:"text-green-700 font-semibold",children:["Save $",(t.original_price-t.asking_price).toFixed(2),"(",Math.round((1-t.asking_price/t.original_price)*100),"% off)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Price Type"}),e.jsx("p",{className:"text-gray-900 capitalize",children:t.price_type})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Availability"}),e.jsx("button",{type:"button",onClick:()=>N(4),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:"Edit"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Quantity Available"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:[t.quantity," unit(s)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Pickup"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-gray-900",children:[e.jsx(A,{className:"w-4 h-4 inline mr-1 text-gray-600"}),t.pickup_location]}),t.pickup_instructions&&e.jsx("p",{className:"text-gray-600 text-sm pl-5",children:t.pickup_instructions})]})]}),t.shipping_available&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:"Shipping"}),e.jsxs("p",{className:"text-gray-900",children:[e.jsx(T,{className:"w-4 h-4 inline mr-1 text-gray-600"}),"Available - $",t.shipping_rate.toFixed(2)," flat rate"]})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{type:"button",onClick:()=>_(!1),className:"inline-flex items-center px-6 py-3 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[e.jsx(P,{className:"w-5 h-5 mr-2"}),"Back to Edit"]}),e.jsx("button",{type:"button",onClick:z,disabled:k.isPending,className:"inline-flex items-center px-8 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:k.isPending?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Publishing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(d,{className:"w-5 h-5 mr-2"}),"Publish Listing"]})})]})})]})})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:[1,2,3,4].map((s,i)=>e.jsxs(K.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all duration-200 ${s<a?"bg-green-600 text-white":s===a?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-200 text-gray-600"}`,children:s<a?e.jsx(d,{className:"w-5 h-5"}):s}),e.jsx("p",{className:`text-xs mt-2 font-medium text-center ${s===a?"text-blue-600":"text-gray-600"}`,children:G(s)})]}),i<3&&e.jsx("div",{className:`h-1 flex-1 mx-2 rounded transition-all duration-200 ${s<a?"bg-green-600":"bg-gray-200"}`})]},s))})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden","data-current-step":a,children:[e.jsxs("div",{className:"p-8",children:[a===1&&e.jsxs("div",{className:"space-y-6","data-testid":"step-1-item-info",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(X,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Item Information"}),e.jsx("p",{className:"text-gray-600",children:"Tell us about the item you're selling"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"product_name",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Product Name ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"product_name",value:t.product_name,onChange:s=>l("product_name",s.target.value),placeholder:"e.g., 2x4x8 SPF Lumber (50 pieces)",className:`w-full px-4 py-3 rounded-lg border-2 ${r.product_name?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`}),r.product_name&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.product_name]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"category_id",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Category ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("select",{id:"category_id",value:t.category_id,onChange:s=>l("category_id",s.target.value),className:`w-full px-4 py-3 rounded-lg border-2 ${r.category_id?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`,disabled:R,children:[e.jsx("option",{value:"",children:"Select a category"}),$.map(s=>e.jsx("option",{value:s.category_id,children:s.category_name},s.category_id))]}),r.category_id&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.category_id]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Condition ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{value:"new",label:"New",desc:"Unopened, unused"},{value:"like_new",label:"Like New",desc:"Opened, barely used"},{value:"used",label:"Used",desc:"Lightly used"},{value:"refurbished",label:"Refurbished",desc:"Restored to working"}].map(s=>e.jsxs("button",{type:"button",onClick:()=>l("condition",s.value),className:`p-4 rounded-lg border-2 text-left transition-all duration-200 ${t.condition===s.value?"border-blue-600 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:s.label}),e.jsx("p",{className:"text-xs text-gray-600",children:s.desc})]},s.value))})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Description ",e.jsx("span",{className:"text-red-600",children:"*"}),e.jsxs("span",{className:"text-gray-500 font-normal ml-2",children:["(",t.description.length,"/5000 characters, min 100)"]})]}),e.jsx("textarea",{id:"description",value:t.description,onChange:s=>l("description",s.target.value),rows:6,placeholder:"Describe the item in detail. Include size, brand, quantity, condition details, and any defects...",className:`w-full px-4 py-3 rounded-lg border-2 ${r.description?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200 resize-none`}),r.description&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.description]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reason_for_selling",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Reason for Selling (Optional)"}),e.jsxs("select",{id:"reason_for_selling",value:t.reason_for_selling,onChange:s=>l("reason_for_selling",s.target.value),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"Project completed with leftovers",children:"Project completed with leftovers"}),e.jsx("option",{value:"Wrong item ordered",children:"Wrong item ordered"}),e.jsx("option",{value:"Changed plans",children:"Changed plans"}),e.jsx("option",{value:"Upgrading to different material",children:"Upgrading to different material"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),a===2&&e.jsxs("div",{className:"space-y-6","data-testid":"step-2-photos",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Y,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Upload Photos"}),e.jsx("p",{className:"text-gray-600",children:"Add photos to showcase your item's condition"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Photos ",e.jsx("span",{className:"text-red-600",children:"*"}),e.jsxs("span",{className:"text-gray-500 font-normal ml-2",children:["(",o.length,"/10 photos)"]})]}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{type:"file",id:"photo-upload",multiple:!0,accept:"image/jpeg,image/png,image/jpg",onChange:U,className:"hidden",disabled:o.length>=10}),e.jsxs("label",{htmlFor:"photo-upload",className:`cursor-pointer ${o.length>=10?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx(Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 font-medium mb-1",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-sm text-gray-500",children:"JPG, PNG up to 5MB each (max 10 photos)"})]})]}),r.photos&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.photos]})]}),o.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map((s,i)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`Preview ${i+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-gray-200"}),e.jsx("button",{type:"button",onClick:()=>I(i),className:"absolute top-2 right-2 bg-red-600 text-white p-1.5 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700",children:e.jsx(ee,{className:"w-4 h-4"})}),i===0&&e.jsx("div",{className:"absolute bottom-2 left-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-md font-semibold",children:"Primary"})]},i))}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Tip:"})," Take clear, well-lit photos from multiple angles. Show any defects or wear clearly. The first photo will be your primary listing image."]})})]}),a===3&&e.jsxs("div",{className:"space-y-6","data-testid":"step-3-pricing",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(se,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Set Pricing"}),e.jsx("p",{className:"text-gray-600",children:"Determine how you want to price your item"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"asking_price",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Asking Price ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),e.jsx("input",{type:"number",id:"asking_price","data-testid":"asking-price-input",name:"asking_price",value:t.asking_price||"",onChange:s=>l("asking_price",parseFloat(s.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${r.asking_price?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`})]}),r.asking_price&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.asking_price]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"original_price",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Original Price (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),e.jsx("input",{type:"number",id:"original_price","data-testid":"original-price-input",name:"original_price",value:t.original_price||"",onChange:s=>l("original_price",parseFloat(s.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${r.original_price?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Show buyers how much you originally paid (helps justify pricing)"}),r.original_price&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.original_price]}),t.original_price>0&&t.asking_price>0&&e.jsxs("p",{className:"mt-2 text-sm text-green-700 font-medium",children:["Savings: $",(t.original_price-t.asking_price).toFixed(2),"(",Math.round((1-t.asking_price/t.original_price)*100),"% off)"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-3",children:["Price Type ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("div",{className:"space-y-3",children:[{value:"fixed",label:"Fixed Price",desc:"Buyers pay the asking price"},{value:"negotiable",label:"Negotiable",desc:"Open to offers from buyers"},{value:"auction",label:"Auction",desc:"Buyers bid on the item"}].map(s=>e.jsx("button",{type:"button",onClick:()=>l("price_type",s.value),className:`w-full p-4 rounded-lg border-2 text-left transition-all duration-200 ${t.price_type===s.value?"border-blue-600 bg-blue-50 ring-4 ring-blue-100":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.label}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.desc})]}),t.price_type===s.value&&e.jsx(d,{className:"w-6 h-6 text-blue-600"})]})},s.value))})]})]}),a===4&&e.jsxs("div",{className:"space-y-6","data-testid":"step-4-availability",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(A,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Availability & Shipping"}),e.jsx("p",{className:"text-gray-600",children:"How buyers can get this item"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"quantity",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Quantity Available ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"number",id:"quantity",value:t.quantity,onChange:s=>l("quantity",parseInt(s.target.value)||1),min:"1",className:`w-full px-4 py-3 rounded-lg border-2 ${r.quantity?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`}),r.quantity&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.quantity]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"pickup_location",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Pickup Location ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsx("input",{type:"text",id:"pickup_location",value:t.pickup_location,onChange:s=>l("pickup_location",s.target.value),placeholder:"e.g., Austin, TX 78701 or specific address",className:`w-full px-4 py-3 rounded-lg border-2 ${r.pickup_location?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`}),r.pickup_location&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.pickup_location]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"pickup_instructions",className:"block text-sm font-semibold text-gray-900 mb-2",children:"Pickup Instructions (Optional)"}),e.jsx("textarea",{id:"pickup_instructions",value:t.pickup_instructions,onChange:s=>l("pickup_instructions",s.target.value),rows:3,placeholder:"e.g., Call before pickup, available weekends only, gate code: 1234",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all duration-200 resize-none"})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("input",{type:"checkbox",id:"shipping_available",checked:t.shipping_available,onChange:s=>l("shipping_available",s.target.checked),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{htmlFor:"shipping_available",className:"block text-sm font-semibold text-gray-900 mb-1 cursor-pointer",children:[e.jsx(T,{className:"w-5 h-5 inline mr-2 text-blue-600"}),"I can ship this item"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Offer shipping to reach more buyers beyond your local area"})]})]}),t.shipping_available&&e.jsxs("div",{className:"mt-4 pl-8",children:[e.jsxs("label",{htmlFor:"shipping_rate",className:"block text-sm font-semibold text-gray-900 mb-2",children:["Flat Shipping Rate ",e.jsx("span",{className:"text-red-600",children:"*"})]}),e.jsxs("div",{className:"relative max-w-xs",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-medium",children:"$"}),e.jsx("input",{type:"number",id:"shipping_rate",value:t.shipping_rate||"",onChange:s=>l("shipping_rate",parseFloat(s.target.value)||0),min:"0",step:"0.01",placeholder:"0.00",className:`w-full pl-8 pr-4 py-3 rounded-lg border-2 ${r.shipping_rate?"border-red-300 focus:border-red-500 focus:ring-red-100":"border-gray-200 focus:border-blue-500 focus:ring-blue-100"} focus:ring-4 transition-all duration-200`})]}),r.shipping_rate&&e.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"w-4 h-4 mr-1"}),r.shipping_rate]})]})]})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:a>1&&e.jsxs("button",{type:"button",onClick:D,"data-testid":"previous-step-button",className:"inline-flex items-center px-6 py-3 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[e.jsx(P,{className:"w-5 h-5 mr-2"}),"Previous"]})}),e.jsx("div",{className:"flex items-center space-x-3",children:a<4?e.jsxs("button",{type:"button",onClick:O,"data-testid":"next-step-button",className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 shadow-lg hover:shadow-xl transition-all duration-200",children:["Next",e.jsx(te,{className:"w-5 h-5 ml-2"})]}):e.jsxs("button",{type:"button",onClick:B,"data-testid":"preview-listing-button",className:"inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 shadow-lg hover:shadow-xl transition-all duration-200",children:[e.jsx(d,{className:"w-5 h-5 mr-2"}),"Preview Listing"]})})]})})]})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Tips for a Great Listing"}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Take clear, well-lit photos from multiple angles"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Be honest about condition and show any defects clearly"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Price competitively - check similar listings for reference"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Provide detailed measurements and specifications"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(d,{className:"w-4 h-4 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Respond quickly to buyer inquiries to sell faster"})]})]})]})]})})})};export{ce as default};
