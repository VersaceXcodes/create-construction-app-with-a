import{a as se,u as R,b as F,j as e}from"./state-vendor-__gb9IU9.js";import{e as ae,r as d,L as te}from"./react-vendor-QYi6USC3.js";import{u as re,a as I}from"./index-4570EpHZ.js";import{h as A,i as le,Y as ne,as as ie,U,B as ce,aJ as oe,al as $,ad as N,w as de,x as me,X as ue,D as xe,p as g,o as v,aK as T,N as he}from"./ui-vendor-CuJPReAW.js";const pe=async l=>(await I.get("https://urls-washer-articles-luke.trycloudflare.com/api/suppliers/me",{headers:{Authorization:`Bearer ${l}`}})).data,ge=async(l,b)=>(await I.patch("https://urls-washer-articles-luke.trycloudflare.com/api/suppliers/me",l,{headers:{Authorization:`Bearer ${b}`}})).data,be=async()=>[],fe=async l=>(console.log("Adding team member:",l),{success:!0,member_id:`member_${Date.now()}`}),ye=async l=>(console.log("Removing team member:",l),{success:!0}),we=()=>{var E;const l=re(s=>s.authentication_state.auth_token),[b,B]=ae(),x=b.get("section")||"profile",K=s=>{B({section:s})},[t,o]=d.useState({}),[z,f]=d.useState(!1),[h,_]=d.useState({email:"",role:"staff"}),[n,i]=d.useState({new_orders:{email:!0,sms:!0,push:!0},low_stock_alerts:{email:!0,sms:!1,push:!0},customer_messages:{email:!0,sms:!1,push:!0},payment_updates:{email:!0,sms:!1},marketing_emails:!1}),[u,y]=d.useState({inventory_sync_enabled:!1,inventory_api_key:null,last_sync_timestamp:null,webhooks_enabled:!1,webhook_url:null}),[w,k]=d.useState({}),[S,C]=d.useState(!1),[q,c]=d.useState(null),[L,j]=d.useState(null),M=se(),{data:r,isLoading:Q,error:W}=R({queryKey:["supplier-profile"],queryFn:()=>pe(l),enabled:!!l,staleTime:6e4,refetchOnWindowFocus:!1}),{data:D=[],isLoading:O}=R({queryKey:["team-members"],queryFn:()=>be(),enabled:!!l&&x==="team",staleTime:6e4}),p=F({mutationFn:s=>ge(s,l),onSuccess:()=>{M.invalidateQueries({queryKey:["supplier-profile"]}),c("Profile updated successfully!"),setTimeout(()=>c(null),3e3)},onError:s=>{var a,m;j(((m=(a=s.response)==null?void 0:a.data)==null?void 0:m.message)||"Failed to update profile"),setTimeout(()=>j(null),5e3)}}),P=F({mutationFn:s=>fe(s),onSuccess:()=>{M.invalidateQueries({queryKey:["team-members"]}),f(!1),_({email:"",role:"staff"}),c("Team member invited successfully!"),setTimeout(()=>c(null),3e3)},onError:s=>{var a,m;j(((m=(a=s.response)==null?void 0:a.data)==null?void 0:m.message)||"Failed to add team member"),setTimeout(()=>j(null),5e3)}}),V=F({mutationFn:s=>ye(s),onSuccess:()=>{M.invalidateQueries({queryKey:["team-members"]}),c("Team member removed successfully!"),setTimeout(()=>c(null),3e3)}});d.useEffect(()=>{r&&o({business_name:r.business_name,business_description:r.business_description,logo_url:r.logo_url,cover_photo_url:r.cover_photo_url,operating_hours:r.operating_hours,service_areas:r.service_areas,return_policy:r.return_policy,shipping_policy:r.shipping_policy,minimum_order_value:r.minimum_order_value})},[r]);const G=s=>{s.preventDefault(),p.mutate(t)},H=s=>{s.preventDefault(),p.mutate({}),c("Notification preferences updated!"),setTimeout(()=>c(null),3e3)},J=s=>{s.preventDefault(),P.mutate({email:h.email,role:h.role,permissions:{manage_products:h.role!=="staff",manage_orders:!0,manage_inventory:!0,view_analytics:h.role!=="staff",manage_team:!1}})},X=s=>{confirm("Are you sure you want to remove this team member?")&&V.mutate(s)},Y=s=>{s.preventDefault(),c("Bank account information updated!"),C(!1),setTimeout(()=>c(null),3e3)},Z=s=>{s.preventDefault(),c("Integration settings updated!"),setTimeout(()=>c(null),3e3)},ee=[{id:"profile",label:"Business Profile",icon:ie},{id:"team",label:"Team Management",icon:U},{id:"notifications",label:"Notifications",icon:ce},{id:"integrations",label:"Integrations",icon:oe},{id:"billing",label:"Billing & Payouts",icon:$}];return Q?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading settings..."})]})})}):W?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-red-700",children:[e.jsx(A,{className:"h-6 w-6"}),e.jsx("p",{className:"font-medium",children:"Failed to load settings"})]}),e.jsx("p",{className:"text-red-600 text-sm mt-2",children:"Please try refreshing the page"})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-3",children:[e.jsx(le,{className:"h-8 w-8 text-blue-600"}),e.jsx("span",{children:"Settings"})]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your business configuration and preferences"})]}),e.jsx(te,{to:"/supplier/dashboard",className:"text-blue-600 hover:text-blue-700 font-medium flex items-center space-x-2 transition-colors",children:e.jsx("span",{children:"← Back to Dashboard"})})]})}),q&&e.jsxs("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4 flex items-center space-x-3",children:[e.jsx(ne,{className:"h-5 w-5 text-green-600"}),e.jsx("p",{className:"text-green-700 font-medium",children:q})]}),L&&e.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center space-x-3",children:[e.jsx(A,{className:"h-5 w-5 text-red-600"}),e.jsx("p",{className:"text-red-700 font-medium",children:L})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:ee.map(s=>{const a=s.icon,m=x===s.id;return e.jsxs("button",{onClick:()=>K(s.id),className:`
                        py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 transition-colors
                        ${m?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                      `,children:[e.jsx(a,{className:"h-5 w-5"}),e.jsx("span",{children:s.label})]},s.id)})})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[x==="profile"&&e.jsxs("form",{onSubmit:G,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Business Profile"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"business_name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),e.jsx("input",{type:"text",id:"business_name",value:t.business_name||"",onChange:s=>o(a=>({...a,business_name:s.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"business_description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Description"}),e.jsx("textarea",{id:"business_description",value:t.business_description||"",onChange:s=>o(a=>({...a,business_description:s.target.value})),rows:4,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Tell customers about your business..."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"logo_url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo URL"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"url",id:"logo_url",value:t.logo_url||"",onChange:s=>o(a=>({...a,logo_url:s.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://..."}),t.logo_url&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:t.logo_url,alt:"Logo preview",className:"h-20 w-20 object-cover rounded-lg border-2 border-gray-200"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cover_photo_url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Photo URL"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"url",id:"cover_photo_url",value:t.cover_photo_url||"",onChange:s=>o(a=>({...a,cover_photo_url:s.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://..."}),t.cover_photo_url&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:t.cover_photo_url,alt:"Cover preview",className:"h-20 w-full object-cover rounded-lg border-2 border-gray-200"})})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"service_areas",className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Areas (comma-separated postal codes or cities)"}),e.jsx("input",{type:"text",id:"service_areas",value:((E=t.service_areas)==null?void 0:E.join(", "))||"",onChange:s=>o(a=>({...a,service_areas:s.target.value.split(",").map(m=>m.trim()).filter(Boolean)})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"78701, 78702, Austin, Round Rock"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"return_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Policy"}),e.jsx("textarea",{id:"return_policy",value:t.return_policy||"",onChange:s=>o(a=>({...a,return_policy:s.target.value})),rows:3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Describe your return policy..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"shipping_policy",className:"block text-sm font-medium text-gray-700 mb-2",children:"Shipping Policy"}),e.jsx("textarea",{id:"shipping_policy",value:t.shipping_policy||"",onChange:s=>o(a=>({...a,shipping_policy:s.target.value})),rows:3,className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Describe your shipping policy..."})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"minimum_order_value",className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Order Value ($)"}),e.jsx("input",{type:"number",id:"minimum_order_value",value:t.minimum_order_value||"",onChange:s=>o(a=>({...a,minimum_order_value:s.target.value?Number(s.target.value):null})),step:"0.01",min:"0",className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"0.00"})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsx("button",{type:"submit",disabled:p.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:p.isPending?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Changes"})]})})})]}),x==="team"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Team Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage team members and their permissions"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5"}),e.jsx("span",{children:"Add Team Member"})]})]}),O?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading team members..."})]}):D.length===0?e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(U,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No team members yet"}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Invite team members to help manage your business"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Member"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Active"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:s.full_name.split(" ").map(a=>a[0]).join("").toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:s.full_name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`
                                px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                                ${s.role==="admin"?"bg-purple-100 text-purple-800":""}
                                ${s.role==="manager"?"bg-blue-100 text-blue-800":""}
                                ${s.role==="staff"?"bg-gray-100 text-gray-800":""}
                              `,children:s.role.charAt(0).toUpperCase()+s.role.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`
                                px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                                ${s.status==="active"?"bg-green-100 text-green-800":""}
                                ${s.status==="pending"?"bg-yellow-100 text-yellow-800":""}
                                ${s.status==="inactive"?"bg-gray-100 text-gray-800":""}
                              `,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.last_active?new Date(s.last_active).toLocaleDateString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx("button",{type:"button",onClick:()=>X(s.member_id),className:"text-red-600 hover:text-red-700 transition-colors",children:e.jsx(me,{className:"h-5 w-5"})})})]},s.member_id))})]})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Team Member"}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ue,{className:"h-6 w-6"})})]}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"team_email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",id:"team_email",value:h.email,onChange:s=>_(a=>({...a,email:s.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"team_role",className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),e.jsxs("select",{id:"team_role",value:h.role,onChange:s=>_(a=>({...a,role:s.target.value})),className:"w-full px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"staff",children:"Staff - Basic access"}),e.jsx("option",{value:"manager",children:"Manager - Full access except team"}),e.jsx("option",{value:"admin",children:"Admin - Full access"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:P.isPending,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?"Adding...":"Add Member"})]})]})]})})]}),x==="notifications"&&e.jsxs("form",{onSubmit:H,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Choose how you want to be notified about important events"}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(xe,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"New Orders"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.new_orders.email,onChange:s=>i(a=>({...a,new_orders:{...a.new_orders,email:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.new_orders.sms,onChange:s=>i(a=>({...a,new_orders:{...a.new_orders,sms:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.new_orders.push,onChange:s=>i(a=>({...a,new_orders:{...a.new_orders,push:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push"})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(A,{className:"h-5 w-5 text-amber-600"}),e.jsx("span",{children:"Low Stock Alerts"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.low_stock_alerts.email,onChange:s=>i(a=>({...a,low_stock_alerts:{...a.low_stock_alerts,email:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.low_stock_alerts.sms,onChange:s=>i(a=>({...a,low_stock_alerts:{...a.low_stock_alerts,sms:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.low_stock_alerts.push,onChange:s=>i(a=>({...a,low_stock_alerts:{...a.low_stock_alerts,push:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push"})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(g,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{children:"Customer Messages"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.customer_messages.email,onChange:s=>i(a=>({...a,customer_messages:{...a.customer_messages,email:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.customer_messages.sms,onChange:s=>i(a=>({...a,customer_messages:{...a.customer_messages,sms:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.customer_messages.push,onChange:s=>i(a=>({...a,customer_messages:{...a.customer_messages,push:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Push"})]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx($,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Payment Updates"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.payment_updates.email,onChange:s=>i(a=>({...a,payment_updates:{...a.payment_updates,email:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Email"})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.payment_updates.sms,onChange:s=>i(a=>({...a,payment_updates:{...a.payment_updates,sms:s.target.checked}})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SMS"})]})]})]})]}),e.jsx("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:n.marketing_emails,onChange:s=>i(a=>({...a,marketing_emails:s.target.checked})),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Marketing Emails"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Receive tips, updates, and promotional content"})]})]})})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all flex items-center space-x-2",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Preferences"})]})})]}),x==="integrations"&&e.jsxs("form",{onSubmit:Z,className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"API Integrations"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Connect external systems to automate inventory management"}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Inventory Synchronization"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Automatically sync stock levels from your system"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.inventory_sync_enabled,onChange:s=>y(a=>({...a,inventory_sync_enabled:s.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.inventory_sync_enabled&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"password",value:u.inventory_api_key||"",onChange:s=>y(a=>({...a,inventory_api_key:s.target.value})),className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"Enter your API key"}),e.jsx("button",{type:"button",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Generate"})]})]}),u.last_sync_timestamp&&e.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-2",children:[e.jsx(he,{className:"h-4 w-4"}),e.jsxs("span",{children:["Last synced: ",new Date(u.last_sync_timestamp).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Webhooks"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive real-time notifications about events"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.webhooks_enabled,onChange:s=>y(a=>({...a,webhooks_enabled:s.target.checked})),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-100 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.webhooks_enabled&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL"}),e.jsx("input",{type:"url",value:u.webhook_url||"",onChange:s=>y(a=>({...a,webhook_url:s.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",placeholder:"https://your-server.com/webhook"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all flex items-center space-x-2",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:"Save Integration Settings"})]})})]}),x==="billing"&&r&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Billing & Payouts"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your subscription and payout settings"}),e.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Current Subscription"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Plan"}),e.jsx("p",{className:"text-lg font-bold text-gray-900 capitalize",children:r.subscription_plan})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Billing Cycle"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:"Monthly"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Commission Rate"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[r.commission_rate,"%"]})]})]})]}),e.jsxs("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payout Settings"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"payout_frequency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Payout Frequency"}),e.jsxs("select",{id:"payout_frequency",value:t.payout_frequency||r.payout_frequency,onChange:s=>o(a=>({...a,payout_frequency:s.target.value})),className:"w-full md:w-64 px-4 py-3 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"bi-weekly",children:"Bi-weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Bank Account"}),e.jsx("button",{type:"button",onClick:()=>C(!S),className:"text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:S?"Cancel":"Update Account"})]}),S?e.jsxs("form",{onSubmit:Y,className:"space-y-4 bg-white rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Holder Name"}),e.jsx("input",{type:"text",value:w.account_holder_name||"",onChange:s=>k(a=>({...a,account_holder_name:s.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),e.jsx("input",{type:"text",value:w.bank_name||"",onChange:s=>k(a=>({...a,bank_name:s.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Type"}),e.jsxs("select",{value:w.account_type||"checking",onChange:s=>k(a=>({...a,account_type:s.target.value})),className:"w-full px-4 py-2 rounded-lg border-2 border-gray-200 focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"checking",children:"Checking"}),e.jsx("option",{value:"savings",children:"Savings"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>C(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Update Account"})]})]}):e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Account ending in •••• 1234"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Bank: Sample Bank"})]})]}),t.payout_frequency!==r.payout_frequency&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsxs("button",{type:"button",onClick:()=>p.mutate({payout_frequency:t.payout_frequency}),disabled:p.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:"Update Payout Frequency"})]})})]})]})})]})]})})})};export{we as default};
