import{a as ne,u as U,b as q,j as e}from"./state-vendor-__gb9IU9.js";import{r as u}from"./react-vendor-QYi6USC3.js";import{u as K,a as S}from"./index-XlgXzfNq.js";import{X as k,q as de,J as R,i as W,d as Q,w as oe,aC as ce,ah as me,x as xe,$ as ue,Y as pe}from"./ui-vendor-CuJPReAW.js";const he=async o=>{const{data:n}=await S.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/delivery/settings",{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return n},ye=async(o,n)=>{await S.put("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/delivery/zones",{delivery_zones:n},{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})},ge=async o=>{const n=new Date().toISOString().split("T")[0],p=new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],{data:x}=await S.get("https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/deliveries",{params:{status:"scheduled,preparing,out_for_delivery",date_from:n,date_to:p},headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});return x},be=async(o,n,p)=>{await S.patch(`https://123create-construction-app-with-a.launchpulse.ai/api/deliveries/${n}`,p,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})},ve=async(o,n,p)=>{await S.put(`https://123create-construction-app-with-a.launchpulse.ai/api/suppliers/me/delivery/carriers/${n}`,p,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}})},we=()=>{var B;const o=ne(),n=K(s=>s.authentication_state.auth_token),p=K(s=>{var t;return(t=s.authentication_state.supplier_profile)==null?void 0:t.supplier_id}),[x,D]=u.useState("zones"),[V,b]=u.useState(!1),[f,j]=u.useState(null),[H,A]=u.useState(!1),[F,z]=u.useState(null),[Y,Z]=u.useState(!1),[v,$]=u.useState(null),[a,y]=u.useState({zone_name:"",postal_codes:"",radius_miles:25,delivery_fee:50,estimated_days:2,is_active:!0}),[h,N]=u.useState({api_key:"",api_secret:"",account_number:"",service_level:"standard"}),[d,g]=u.useState({driver_name:"",driver_phone:"",delivery_window_start:"",delivery_window_end:"",delivery_proof_photo_url:"",delivery_notes:""}),[i,c]=u.useState({}),{data:r,isLoading:J,error:X}=U({queryKey:["delivery-configuration",p],queryFn:()=>he(n),enabled:!!n&&!!p,staleTime:5*60*1e3,select:s=>({delivery_zones:s.delivery_zones||[],logistics_settings:s.delivery_methods||{standard_delivery:{enabled:!1,base_fee:0,estimated_days:0},express_delivery:{enabled:!1,base_fee:0,estimated_days:0},same_day_delivery:{enabled:!1,base_fee:0,cutoff_time:""},pickup_available:!1,freight_delivery:{enabled:!1,minimum_weight:0}},carrier_integrations:s.carrier_integrations||[]})}),{data:m,isLoading:G}=U({queryKey:["active-deliveries",p],queryFn:()=>ge(n),enabled:!!n&&!!p&&x==="deliveries",refetchInterval:3e4,select:s=>({active_deliveries:s.deliveries||[],delivery_calendar:s.calendar_view||[]})}),_=q({mutationFn:s=>ye(n,s),onSuccess:()=>{o.invalidateQueries({queryKey:["delivery-configuration"]}),b(!1),j(null),w()}}),P=q({mutationFn:({deliveryId:s,updates:t})=>be(n,s,t),onSuccess:()=>{o.invalidateQueries({queryKey:["active-deliveries"]})}}),E=q({mutationFn:({carrier:s,config:t})=>ve(n,s,t),onSuccess:()=>{o.invalidateQueries({queryKey:["delivery-configuration"]}),A(!1),z(null),M()}}),w=()=>{y({zone_name:"",postal_codes:"",radius_miles:25,delivery_fee:50,estimated_days:2,is_active:!0}),c({})},M=()=>{N({api_key:"",api_secret:"",account_number:"",service_level:"standard"}),c({})},I=()=>{g({driver_name:"",driver_phone:"",delivery_window_start:"",delivery_window_end:"",delivery_proof_photo_url:"",delivery_notes:""}),c({})},ee=()=>{const s={};if(a.zone_name.trim()||(s.zone_name="Zone name is required"),a.postal_codes.trim()||(s.postal_codes="At least one postal code is required"),a.delivery_fee<0&&(s.delivery_fee="Delivery fee must be positive"),Object.keys(s).length>0){c(s);return}const t={zone_id:`zone_${Date.now()}`,zone_name:a.zone_name,postal_codes:a.postal_codes.split(",").map(C=>C.trim()),radius_miles:a.radius_miles,delivery_fee:a.delivery_fee,estimated_days:a.estimated_days,is_active:a.is_active},l=[...(r==null?void 0:r.delivery_zones)||[],t];_.mutate(l)},se=()=>{if(!f)return;const s={};if(a.zone_name.trim()||(s.zone_name="Zone name is required"),a.postal_codes.trim()||(s.postal_codes="At least one postal code is required"),Object.keys(s).length>0){c(s);return}const t=(r==null?void 0:r.delivery_zones.map(l=>l.zone_id===f.zone_id?{...l,zone_name:a.zone_name,postal_codes:a.postal_codes.split(",").map(C=>C.trim()),radius_miles:a.radius_miles,delivery_fee:a.delivery_fee,estimated_days:a.estimated_days,is_active:a.is_active}:l))||[];_.mutate(t)},te=s=>{if(!confirm("Are you sure you want to delete this delivery zone?"))return;const t=(r==null?void 0:r.delivery_zones.filter(l=>l.zone_id!==s))||[];_.mutate(t)},re=s=>{const t=(r==null?void 0:r.delivery_zones.map(l=>l.zone_id===s?{...l,is_active:!l.is_active}:l))||[];_.mutate(t)},ae=s=>{j(s),y({zone_name:s.zone_name,postal_codes:s.postal_codes.join(", "),radius_miles:s.radius_miles,delivery_fee:s.delivery_fee,estimated_days:s.estimated_days,is_active:s.is_active}),b(!0)},T=(s,t)=>{if(t==="delivered"){const l=m==null?void 0:m.active_deliveries.find(C=>C.delivery_id===s);l&&($(l),g({driver_name:"",driver_phone:"",delivery_window_start:l.delivery_window_start,delivery_window_end:l.delivery_window_end,delivery_proof_photo_url:"",delivery_notes:""}),Z(!0));return}P.mutate({deliveryId:s,updates:{delivery_status:t}})},le=()=>{if(!v)return;const s={};if(d.driver_name.trim()||(s.driver_name="Driver name is required"),d.driver_phone.trim()||(s.driver_phone="Driver phone is required"),Object.keys(s).length>0){c(s);return}P.mutate({deliveryId:v.delivery_id,updates:{delivery_status:"delivered",driver_name:d.driver_name,driver_phone:d.driver_phone,delivery_window_start:d.delivery_window_start,delivery_window_end:d.delivery_window_end,delivery_proof_photo_url:d.delivery_proof_photo_url||null,delivery_notes:d.delivery_notes||null}},{onSuccess:()=>{Z(!1),$(null),I()}})},ie=()=>{if(!F)return;const s={};if(h.api_key.trim()||(s.api_key="API Key is required"),Object.keys(s).length>0){c(s);return}E.mutate({carrier:F,config:{api_credentials:{api_key:h.api_key,api_secret:h.api_secret,account_number:h.account_number},service_settings:{service_level:h.service_level}}})},O=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),L=s=>new Date(s).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return J?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading delivery management..."})]})})}):X?e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(k,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Failed to Load Delivery Settings"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We couldn't load your delivery configuration. Please try again."}),e.jsx("button",{onClick:()=>o.invalidateQueries({queryKey:["delivery-configuration"]}),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Retry"})]})})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Delivery Management"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure delivery zones, manage logistics, and track deliveries"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("div",{className:"bg-blue-50 px-4 py-2 rounded-lg border border-blue-200",children:e.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:[((B=r==null?void 0:r.delivery_zones)==null?void 0:B.filter(s=>s.is_active).length)||0," Active Zones"]})})})]})})}),e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-8","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>D("zones"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x==="zones"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5"}),e.jsx("span",{children:"Delivery Zones"})]})}),e.jsx("button",{onClick:()=>D("deliveries"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x==="deliveries"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{className:"w-5 h-5"}),e.jsx("span",{children:"Active Deliveries"}),m&&m.active_deliveries.length>0&&e.jsx("span",{className:"ml-2 bg-blue-600 text-white text-xs font-bold px-2 py-0.5 rounded-full",children:m.active_deliveries.length})]})}),e.jsx("button",{onClick:()=>D("carriers"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x==="carriers"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(W,{className:"w-5 h-5"}),e.jsx("span",{children:"Carrier Integration"})]})}),e.jsx("button",{onClick:()=>D("performance"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${x==="performance"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Q,{className:"w-5 h-5"}),e.jsx("span",{children:"Performance"})]})})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[x==="zones"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Delivery Coverage Zones"}),e.jsxs("button",{onClick:()=>{j(null),w(),b(!0)},className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-md hover:shadow-lg",children:[e.jsx(oe,{className:"w-5 h-5"}),e.jsx("span",{children:"Add New Zone"})]})]}),(r==null?void 0:r.delivery_zones.length)===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-12 text-center",children:[e.jsx(ce,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Delivery Zones Configured"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set up your delivery coverage areas to start accepting orders"}),e.jsx("button",{onClick:()=>{w(),b(!0)},className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Create First Zone"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r==null?void 0:r.delivery_zones.map(s=>e.jsxs("div",{className:`bg-white rounded-xl shadow-md border p-6 transition-all ${s.is_active?"border-green-200":"border-gray-200 opacity-60"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.zone_name}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${s.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.is_active?"Active":"Inactive"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[s.postal_codes.length," postal code",s.postal_codes.length!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>ae(s),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit zone",children:e.jsx(me,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>te(s.zone_id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete zone",children:e.jsx(xe,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Delivery Fee:"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["$",s.delivery_fee.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Radius:"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.radius_miles," miles"]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 border-t border-gray-100",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Est. Delivery:"}),e.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[s.estimated_days," day",s.estimated_days!==1?"s":""]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Postal Codes:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.postal_codes.slice(0,5).map((t,l)=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs rounded",children:t},l)),s.postal_codes.length>5&&e.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-500 text-xs rounded",children:["+",s.postal_codes.length-5," more"]})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsx("button",{onClick:()=>re(s.zone_id),className:`w-full px-4 py-2 rounded-lg font-medium text-sm transition-colors ${s.is_active?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-600 text-white hover:bg-green-700"}`,children:s.is_active?"Deactivate Zone":"Activate Zone"})})]},s.zone_id))})]}),x==="deliveries"&&e.jsx("div",{className:"space-y-6",children:G?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-4 border-blue-600"})}):(m==null?void 0:m.active_deliveries.length)===0?e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-12 text-center",children:[e.jsx(ue,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Active Deliveries"}),e.jsx("p",{className:"text-gray-600",children:"You don't have any scheduled or in-progress deliveries"})]}):e.jsx("div",{className:"space-y-4",children:m==null?void 0:m.active_deliveries.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",s.order_number]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.delivery_status==="delivered"?"bg-green-100 text-green-800":s.delivery_status==="out_for_delivery"?"bg-blue-100 text-blue-800":s.delivery_status==="preparing"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:s.delivery_status.replace(/_/g," ").toUpperCase()})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",e.jsx("span",{className:"font-medium",children:s.customer_name})]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s.items_count," item",s.items_count!==1?"s":""]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Delivery Window"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:O(s.delivery_window_start)}),e.jsxs("p",{className:"text-sm text-gray-600",children:[L(s.delivery_window_start)," - ",L(s.delivery_window_end)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Delivery Address"}),e.jsx("p",{className:"text-sm text-gray-700",children:s.delivery_address})]})]}),s.delivery_status!=="delivered"&&e.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t border-gray-100",children:[s.delivery_status==="scheduled"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>T(s.delivery_id,"preparing"),className:"flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg font-medium hover:bg-yellow-700 transition-colors text-sm",children:"Mark as Preparing"}),e.jsx("button",{onClick:()=>T(s.delivery_id,"cancelled"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors text-sm",children:"Cancel"})]}),s.delivery_status==="preparing"&&e.jsx("button",{onClick:()=>T(s.delivery_id,"out_for_delivery"),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm",children:"Mark as Out for Delivery"}),s.delivery_status==="out_for_delivery"&&e.jsx("button",{onClick:()=>T(s.delivery_id,"delivered"),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors text-sm",children:"Mark as Delivered"})]})]},s.delivery_id))})}),x==="carriers"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r==null?void 0:r.carrier_integrations.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.carrier_name}),e.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-xs font-medium ${s.integration_status==="active"?"bg-green-100 text-green-800":s.integration_status==="error"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s.integration_status})]})}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"API Status:"}),e.jsx("span",{className:`font-medium ${s.api_key_status==="valid"?"text-green-600":s.api_key_status==="invalid"?"text-red-600":"text-gray-600"}`,children:s.api_key_status})]}),s.last_sync&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Last Sync:"}),e.jsx("span",{className:"text-gray-900",children:O(s.last_sync)})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Supported Services:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.supported_services.map((t,l)=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-700 text-xs rounded",children:t},l))})]})]}),e.jsx("button",{onClick:()=>{z(s.carrier_name),M(),A(!0)},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors text-sm",children:s.integration_status==="active"?"Reconfigure":"Set Up Integration"})]},s.carrier_name)),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border-2 border-dashed border-blue-300 p-6 flex flex-col items-center justify-center text-center",children:[e.jsx(W,{className:"w-12 h-12 text-blue-600 mb-3"}),e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Need Another Carrier?"}),e.jsx("p",{className:"text-xs text-gray-600 mb-4",children:"Contact support to add custom carriers"}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors text-sm",children:"Contact Support"})]})]})}),x==="performance"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"On-Time Rate"}),e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(pe,{className:"w-6 h-6 text-green-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"98.5%"}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"↑ 2.3% from last month"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Delivery Time"}),e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(R,{className:"w-6 h-6 text-blue-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"2.1 days"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"↓ 0.3 days faster"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Customer Satisfaction"}),e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(Q,{className:"w-6 h-6 text-yellow-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"4.8/5.0"}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Based on 156 reviews"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Delivery Issues"}),e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(k,{className:"w-6 h-6 text-red-600"})})]}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"3"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This month"})]})]})})]}),V&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f?"Edit Delivery Zone":"Add New Delivery Zone"}),e.jsx("button",{onClick:()=>{b(!1),j(null),w()},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"zone_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Zone Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"zone_name",value:a.zone_name,onChange:s=>{y(t=>({...t,zone_name:s.target.value})),c(t=>({...t,zone_name:""}))},placeholder:"e.g., Austin Metro Area",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${i.zone_name?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),i.zone_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.zone_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"postal_codes",className:"block text-sm font-medium text-gray-700 mb-2",children:["Postal Codes ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"postal_codes",value:a.postal_codes,onChange:s=>{y(t=>({...t,postal_codes:s.target.value})),c(t=>({...t,postal_codes:""}))},placeholder:"Enter postal codes separated by commas (e.g., 78701, 78702, 78703)",rows:3,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${i.postal_codes?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),i.postal_codes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.postal_codes}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Separate multiple postal codes with commas"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"radius_miles",className:"block text-sm font-medium text-gray-700 mb-2",children:"Radius (miles)"}),e.jsx("input",{type:"number",id:"radius_miles",value:a.radius_miles,onChange:s=>y(t=>({...t,radius_miles:Number(s.target.value)})),min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_fee",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Fee ($)"}),e.jsx("input",{type:"number",id:"delivery_fee",value:a.delivery_fee,onChange:s=>{y(t=>({...t,delivery_fee:Number(s.target.value)})),c(t=>({...t,delivery_fee:""}))},min:"0",step:"0.01",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${i.delivery_fee?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),i.delivery_fee&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.delivery_fee})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"estimated_days",className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Delivery Days"}),e.jsx("input",{type:"number",id:"estimated_days",value:a.estimated_days,onChange:s=>y(t=>({...t,estimated_days:Number(s.target.value)})),min:"0",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active,onChange:s=>y(t=>({...t,is_active:s.target.checked})),className:"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"is_active",className:"text-sm font-medium text-gray-700",children:"Activate zone immediately"})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{b(!1),j(null),w()},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:f?se:ee,disabled:_.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:_.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):f?"Update Zone":"Add Zone"})]})]})}),H&&F&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Configure ",F]}),e.jsx("button",{onClick:()=>{A(!1),z(null),M()},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"api_key",className:"block text-sm font-medium text-gray-700 mb-2",children:["API Key ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"api_key",value:h.api_key,onChange:s=>{N(t=>({...t,api_key:s.target.value})),c(t=>({...t,api_key:""}))},placeholder:"Enter carrier API key",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${i.api_key?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),i.api_key&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.api_key})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"api_secret",className:"block text-sm font-medium text-gray-700 mb-2",children:"API Secret"}),e.jsx("input",{type:"password",id:"api_secret",value:h.api_secret,onChange:s=>N(t=>({...t,api_secret:s.target.value})),placeholder:"Enter carrier API secret",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"account_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),e.jsx("input",{type:"text",id:"account_number",value:h.account_number,onChange:s=>N(t=>({...t,account_number:s.target.value})),placeholder:"Enter carrier account number",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"service_level",className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Service Level"}),e.jsxs("select",{id:"service_level",value:h.service_level,onChange:s=>N(t=>({...t,service_level:s.target.value})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all",children:[e.jsx("option",{value:"standard",children:"Standard Delivery"}),e.jsx("option",{value:"express",children:"Express Delivery"}),e.jsx("option",{value:"same_day",children:"Same Day Delivery"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 border-t border-gray-200 rounded-b-xl",children:[e.jsx("button",{onClick:()=>{A(!1),z(null),M()},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:ie,disabled:E.isPending,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:E.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):"Save Configuration"})]})]})}),Y&&v&&e.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Complete Delivery - Order #",v.order_number]}),e.jsx("button",{onClick:()=>{Z(!1),$(null),I()},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(k,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Customer:"})," ",v.customer_name]}),e.jsxs("p",{className:"text-sm text-blue-800 mt-1",children:[e.jsx("strong",{children:"Address:"})," ",v.delivery_address]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"driver_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Driver Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",id:"driver_name",value:d.driver_name,onChange:s=>{g(t=>({...t,driver_name:s.target.value})),c(t=>({...t,driver_name:""}))},placeholder:"Enter driver name",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${i.driver_name?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),i.driver_name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.driver_name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"driver_phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Driver Phone ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",id:"driver_phone",value:d.driver_phone,onChange:s=>{g(t=>({...t,driver_phone:s.target.value})),c(t=>({...t,driver_phone:""}))},placeholder:"+1-555-0123",className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-4 focus:ring-blue-100 transition-all ${i.driver_phone?"border-red-300":"border-gray-200 focus:border-blue-500"}`}),i.driver_phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.driver_phone})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_window_start",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Window Start"}),e.jsx("input",{type:"datetime-local",id:"delivery_window_start",value:d.delivery_window_start?new Date(d.delivery_window_start).toISOString().slice(0,16):"",onChange:s=>g(t=>({...t,delivery_window_start:new Date(s.target.value).toISOString()})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_window_end",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Window End"}),e.jsx("input",{type:"datetime-local",id:"delivery_window_end",value:d.delivery_window_end?new Date(d.delivery_window_end).toISOString().slice(0,16):"",onChange:s=>g(t=>({...t,delivery_window_end:new Date(s.target.value).toISOString()})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_proof_photo_url",className:"block text-sm font-medium text-gray-700 mb-2",children:"Proof of Delivery Photo URL"}),e.jsx("input",{type:"url",id:"delivery_proof_photo_url",value:d.delivery_proof_photo_url,onChange:s=>g(t=>({...t,delivery_proof_photo_url:s.target.value})),placeholder:"https://example.com/proof.jpg",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Upload a photo showing proof of delivery"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"delivery_notes",className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Notes"}),e.jsx("textarea",{id:"delivery_notes",value:d.delivery_notes,onChange:s=>g(t=>({...t,delivery_notes:s.target.value})),placeholder:"Add any additional delivery notes...",rows:3,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-100 transition-all"})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 px-6 py-4 flex items-center justify-end space-x-3 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{Z(!1),$(null),I()},className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:le,disabled:P.isPending,className:"px-6 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-all shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:P.isPending?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Completing..."]}):"Complete Delivery"})]})]})})]})})};export{we as default};
