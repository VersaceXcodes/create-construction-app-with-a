import{a as ae,u as R,b as H,j as e}from"./state-vendor-__gb9IU9.js";import{e as re,r as g,L as ie}from"./react-vendor-QYi6USC3.js";import{u as ne,a as j}from"./index-CWUh35PH.js";import{$ as le,T as w,i as de,D as F,al as W,F as b,h as X,N as ce,aW as Y,a7 as oe,a0 as me,an as xe,a4 as he}from"./ui-vendor-CuJPReAW.js";const pe=async(c,x,n,m)=>{const a=new URLSearchParams;x&&a.append("date_from",x),n&&a.append("date_to",n),a.append("period",m);const r=(await j.get(`https://123create-construction-app-with-a.launchpulse.ai/api/admin/analytics/dashboard?${a.toString()}`,{headers:{Authorization:`Bearer ${c}`}})).data,i=(r.gmv||0)*.085,_=0,h=(r.total_revenue||0)*.029+.3,y=(r.total_revenue||0)-h;return{total_revenue:r.total_revenue||0,commission_revenue:i,subscription_revenue:_,payment_processing_fees:h,net_revenue:y,revenue_trend:[]}},ue=async c=>{const n=(await j.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/payouts?status=scheduled,processing,failed&limit=100",{headers:{Authorization:`Bearer ${c}`}})).data,m=n.filter(r=>r.status==="scheduled"),a=n.filter(r=>r.status==="processing"),l=n.filter(r=>r.status==="failed");return{scheduled_payouts:m,pending_payouts:a,failed_payouts:l,payout_summary:{total_scheduled_amount:m.reduce((r,i)=>r+i.amount,0),total_pending_amount:a.reduce((r,i)=>r+i.amount,0)}}},ge=async c=>{var r;const n=(await j.get("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings?setting_category=commission",{headers:{Authorization:`Bearer ${c}`}})).data||[],m=n.find(i=>i.setting_key==="default_commission_rate"),a=n.find(i=>i.setting_key==="tier_commission_rates"),l=n.find(i=>i.setting_key==="custom_supplier_rates");return{default_commission_rate:((r=m==null?void 0:m.setting_value)==null?void 0:r.rate)||8.5,tier_rates:(a==null?void 0:a.setting_value)||{},custom_supplier_rates:(l==null?void 0:l.setting_value)||[],commission_exemptions:[]}},ye=async(c,x)=>{await j.post("https://123create-construction-app-with-a.launchpulse.ai/api/admin/payouts/process-batch",{payout_ids:x},{headers:{Authorization:`Bearer ${c}`}})},be=async(c,x,n)=>{await j.put("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{setting_key:"default_commission_rate",setting_value:{rate:x},setting_category:"commission"},{headers:{Authorization:`Bearer ${c}`}}),Object.keys(n).length>0&&await j.put("https://123create-construction-app-with-a.launchpulse.ai/api/admin/settings",{setting_key:"tier_commission_rates",setting_value:n,setting_category:"commission"},{headers:{Authorization:`Bearer ${c}`}})};function we(){var $,q,M,E,L,Q,U,B,O,z,G,K,V,I;const[c,x]=re(),n=c.get("period")||"current_month",m=c.get("report_type")||"revenue_overview",a=ne(s=>s.authentication_state.auth_token),[l,r]=g.useState(m==="commission_summary"?"commission":m==="payout_report"?"payouts":m==="transaction_ledger"?"transactions":"revenue"),[i,_]=g.useState({start_date:null,end_date:null,preset:n}),[h,y]=g.useState([]),[D,k]=g.useState(!1),[f,P]=g.useState(8.5),T=ae(),v=g.useMemo(()=>{const s=new Date,t=new Date;switch(i.preset){case"today":t.setHours(0,0,0,0);break;case"week":t.setDate(s.getDate()-7);break;case"current_month":t.setDate(1);break;case"quarter":{const N=Math.floor(s.getMonth()/3);t.setMonth(N*3),t.setDate(1);break}case"year":t.setMonth(0),t.setDate(1);break;case"custom":return{start:i.start_date,end:i.end_date};default:t.setDate(1)}return{start:t.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}},[i.preset,i.start_date,i.end_date]),p=R({queryKey:["admin-revenue-metrics",v.start,v.end,n],queryFn:()=>pe(a,v.start,v.end,n),enabled:!!a&&l==="revenue",staleTime:5*60*1e3}),d=R({queryKey:["admin-payouts"],queryFn:()=>ue(a),enabled:!!a&&l==="payouts",staleTime:2*60*1e3}),u=R({queryKey:["admin-commission-settings"],queryFn:()=>ge(a),enabled:!!a&&l==="commission",staleTime:10*60*1e3}),C=H({mutationFn:s=>ye(a,s),onSuccess:()=>{T.invalidateQueries({queryKey:["admin-payouts"]}),y([])}}),S=H({mutationFn:({defaultRate:s,tierRates:t})=>be(a,s,t),onSuccess:()=>{T.invalidateQueries({queryKey:["admin-commission-settings"]}),k(!1)}}),J=s=>{_(N=>({...N,preset:s}));const t=new URLSearchParams(c);t.set("period",s),x(t)},Z=s=>{r(s);const t=new URLSearchParams(c);s==="commission"?t.set("report_type","commission_summary"):s==="payouts"?t.set("report_type","payout_report"):s==="transactions"?t.set("report_type","transaction_ledger"):t.set("report_type","revenue_overview"),x(t)},ee=s=>{y(t=>t.includes(s)?t.filter(N=>N!==s):[...t,s])},se=()=>{h.length!==0&&confirm(`Process ${h.length} payout(s)?`)&&C.mutate(h)},te=()=>{S.mutate({defaultRate:f,tierRates:{}})};g.useEffect(()=>{u.data&&P(u.data.default_commission_rate)},[u.data]);const o=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s),A=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Platform Financials"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Revenue tracking, commission management, and payout processing"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(le,{className:"h-5 w-5 text-gray-400"}),e.jsxs("select",{value:i.preset,onChange:s=>J(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"current_month",children:"This Month"}),e.jsx("option",{value:"quarter",children:"This Quarter"}),e.jsx("option",{value:"year",children:"This Year"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]})]}),e.jsx("div",{className:"mt-6 border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:[{id:"revenue",label:"Revenue Overview",icon:w},{id:"commission",label:"Commission Settings",icon:de},{id:"payouts",label:"Payouts",icon:F},{id:"transactions",label:"Transactions",icon:W},{id:"reports",label:"Reports",icon:b}].map(s=>{const t=s.icon;return e.jsxs("button",{onClick:()=>Z(s.id),className:`
                        flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors
                        ${l===s.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                      `,"aria-current":l===s.id?"page":void 0,children:[e.jsx(t,{className:"h-5 w-5"}),e.jsx("span",{children:s.label})]},s.id)})})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l==="revenue"&&e.jsxs("div",{className:"space-y-6",children:[p.isLoading?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-3/4"})]},s))}):p.error?e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"h-5 w-5 text-red-600"}),e.jsx("p",{className:"text-sm text-red-700",children:"Failed to load revenue metrics"})]})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:o((($=p.data)==null?void 0:$.total_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(F,{className:"h-8 w-8 text-blue-600"})})]}),e.jsxs("div",{className:"mt-4 flex items-center text-sm text-green-600",children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:"Platform gross revenue"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Commission Revenue"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:o(((q=p.data)==null?void 0:q.commission_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(w,{className:"h-8 w-8 text-green-600"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:e.jsx("span",{children:"Platform earnings"})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Processing Fees"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:o(((M=p.data)==null?void 0:M.payment_processing_fees)||0)})]}),e.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:e.jsx(W,{className:"h-8 w-8 text-amber-600"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:e.jsx("span",{children:"Payment gateway fees"})})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Net Revenue"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:o(((E=p.data)==null?void 0:E.net_revenue)||0)})]}),e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(w,{className:"h-8 w-8 text-purple-600"})})]}),e.jsx("div",{className:"mt-4 flex items-center text-sm text-gray-600",children:e.jsx("span",{children:"After processing fees"})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Revenue Breakdown"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gross Marketplace Volume (GMV)"})]}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:o(((L=p.data)==null?void 0:L.total_revenue)||0)})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Platform Commission (8.5%)"})]}),e.jsxs("span",{className:"text-sm font-bold text-green-600",children:["+",o(((Q=p.data)==null?void 0:Q.commission_revenue)||0)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Payment Processing Fees (~2.9%)"})]}),e.jsxs("span",{className:"text-sm font-bold text-red-600",children:["-",o(((U=p.data)==null?void 0:U.payment_processing_fees)||0)]})]}),e.jsxs("div",{className:"flex items-center justify-between py-3 pt-4",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Net Platform Revenue"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:o(((B=p.data)==null?void 0:B.net_revenue)||0)})]})]})]})]}),l==="commission"&&e.jsx("div",{className:"space-y-6",children:u.isLoading?e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]}):e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Commission Rate Configuration"}),D?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>{var s;k(!1),P(((s=u.data)==null?void 0:s.default_commission_rate)||8.5)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:te,disabled:S.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors",children:S.isPending?"Saving...":"Save Changes"})]}):e.jsx("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Edit Rates"})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Commission Rate"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:f,onChange:s=>P(parseFloat(s.target.value)),disabled:!D,className:"w-32 px-4 py-2 border border-gray-300 rounded-lg text-lg font-semibold text-gray-900 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-50 disabled:cursor-not-allowed"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700",children:"%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Applied to all supplier transactions unless custom rate set"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Calculation Example"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Order Total:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"$1,000.00"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600",children:["Commission (",f,"%):"]}),e.jsxs("span",{className:"font-medium text-green-600",children:["$",(1e3*f/100).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-300",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Supplier Receives:"}),e.jsxs("span",{className:"font-bold text-gray-900",children:["$",(1e3-1e3*f/100).toFixed(2)]})]})]})]}),((O=u.data)==null?void 0:O.custom_supplier_rates)&&u.data.custom_supplier_rates.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Custom Supplier Rates"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Supplier"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Custom Rate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Effective Date"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.data.custom_supplier_rates.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:s.business_name}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[s.rate,"%"]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:"Immediate"})]},s.supplier_id))})]})})]})]})]})}),l==="payouts"&&e.jsx("div",{className:"space-y-6",children:d.isLoading?e.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6"}),e.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>e.jsx("div",{className:"h-16 bg-gray-200 rounded"},s))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Scheduled Payouts"}),e.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900",children:((z=d.data)==null?void 0:z.scheduled_payouts.length)||0})]}),e.jsx(ce,{className:"h-8 w-8 text-blue-600"})]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[o(((G=d.data)==null?void 0:G.payout_summary.total_scheduled_amount)||0)," total"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Processing"}),e.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900",children:((K=d.data)==null?void 0:K.pending_payouts.length)||0})]}),e.jsx(Y,{className:"h-8 w-8 text-amber-600 animate-spin"})]}),e.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:[o(((V=d.data)==null?void 0:V.payout_summary.total_pending_amount)||0)," total"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),e.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900",children:((I=d.data)==null?void 0:I.failed_payouts.length)||0})]}),e.jsx(oe,{className:"h-8 w-8 text-red-600"})]}),e.jsx("p",{className:"mt-2 text-sm text-red-600",children:"Requires attention"})]})]}),d.data&&d.data.scheduled_payouts.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scheduled Payouts"}),h.length>0&&e.jsx("button",{onClick:se,disabled:C.isPending,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50 transition-colors",children:C.isPending?"Processing...":`Process ${h.length} Payout(s)`})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:h.length===d.data.scheduled_payouts.length,onChange:s=>{s.target.checked?y(d.data.scheduled_payouts.map(t=>t.payout_id)):y([])},className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.data.scheduled_payouts.map(s=>{var t;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:h.includes(s.payout_id),onChange:()=>ee(s.payout_id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.supplier_name||s.supplier_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(s.amount)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:["-",o(s.platform_commission)]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-green-600",children:o(s.net_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A(s.scheduled_date)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[((t=s.included_orders)==null?void 0:t.length)||0," orders"]})]},s.payout_id)})})]})})]}),d.data&&d.data.pending_payouts.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Processing Payouts"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Net Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transaction Ref"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.data.pending_payouts.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.supplier_name||s.supplier_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(s.net_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[e.jsx(Y,{className:"h-3 w-3 mr-1 animate-spin"}),"Processing"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 font-mono",children:s.transaction_reference||"Pending..."})]},s.payout_id))})]})})]}),d.data&&d.data.failed_payouts.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-red-200",children:[e.jsx("div",{className:"p-6 border-b border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"h-5 w-5 text-red-600"}),e.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Failed Payouts - Requires Attention"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Failure Reason"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.data.failed_payouts.map(s=>e.jsxs("tr",{className:"bg-red-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.supplier_name||s.supplier_id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o(s.net_amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:A(s.scheduled_date)}),e.jsx("td",{className:"px-6 py-4 text-sm text-red-700",children:s.failure_reason||"Unknown error"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium",children:"Retry"})})]},s.payout_id))})]})})]})]})}),l==="transactions"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Transaction Ledger"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{children:"Filter"})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(xe,{className:"h-4 w-4"}),e.jsx("span",{children:"Export CSV"})]})]})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(b,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Transaction History"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Detailed transaction ledger will be available in the next release"}),e.jsxs(ie,{to:"/admin/orders",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"View All Orders"]})]})})]})}),l==="reports"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Financial Reports"})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Revenue Report"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Comprehensive revenue breakdown with commission details"})]}),e.jsx(b,{className:"h-6 w-6 text-blue-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Payout Report"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Supplier payout history and reconciliation"})]}),e.jsx(F,{className:"h-6 w-6 text-green-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Tax Summary"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Sales tax collected and payment processing fees"})]}),e.jsx(b,{className:"h-6 w-6 text-purple-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:border-blue-300 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-2",children:"Audit Trail"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Complete financial transaction audit log"})]}),e.jsx(b,{className:"h-6 w-6 text-gray-600"})]}),e.jsx("button",{className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Generate Report"})]})]}),e.jsxs("div",{className:"mt-8 border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-base font-semibold text-gray-900 mb-4",children:"Recent Reports"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No reports generated yet"})]})]})]})]})})]})]})})}export{we as default};
